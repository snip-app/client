(this["webpackJsonpsnip-client"]=this["webpackJsonpsnip-client"]||[]).push([[0],[,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.useReducerWithEffectsSynced=t.useReducerWithEffects=t.parseOffOrOn=t.useToggle=t.useFactory=t.useScrollIntoViewForSelection=t.makeDefaultSelectionKeyHandlerChain=t.useSelection=t.useAutoFocus=t.useEditableLabel=t.makeEditableLabelInputFieldBindings=t.makeEditableLabelLabelBindings=t.treeView=t.findIndex=t.makeDefaultTreeViewKeyHandlerChain=t.makeTreeViewWrapperBindings=t.makeInputFieldBindings=t.useInputField=t.isExactPath=t.isSubPath=t.compileTree=t.buildTransitionMap=t.useStateMachine=t.useScrollIntoView=t.useRefsCallback=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.pipe=t.adapt=t.preventDefault=t.buildKeyboardEventHandlerChainItem=t.buildHandler=t.normalizeCounter=t.KEY_CODES=void 0;var o=n(95);Object.defineProperty(t,"KEY_CODES",{enumerable:!0,get:function(){return o.KEY_CODES}}),Object.defineProperty(t,"normalizeCounter",{enumerable:!0,get:function(){return o.normalizeCounter}}),Object.defineProperty(t,"buildHandler",{enumerable:!0,get:function(){return o.buildHandler}}),Object.defineProperty(t,"buildKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.buildKeyboardEventHandlerChainItem}}),Object.defineProperty(t,"preventDefault",{enumerable:!0,get:function(){return o.preventDefault}}),Object.defineProperty(t,"adapt",{enumerable:!0,get:function(){return o.adapt}}),Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return o.pipe}}),Object.defineProperty(t,"adaptHandlerChainItem",{enumerable:!0,get:function(){return o.adaptHandlerChainItem}}),Object.defineProperty(t,"adaptKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.adaptKeyboardEventHandlerChainItem}});var a=n(482);Object.defineProperty(t,"useRefsCallback",{enumerable:!0,get:function(){return a.useRefsCallback}});var s=n(344);Object.defineProperty(t,"useScrollIntoView",{enumerable:!0,get:function(){return s.useScrollIntoView}});var c=n(483);Object.defineProperty(t,"useStateMachine",{enumerable:!0,get:function(){return c.useStateMachine}}),Object.defineProperty(t,"buildTransitionMap",{enumerable:!0,get:function(){return c.buildTransitionMap}});var u=n(295);Object.defineProperty(t,"compileTree",{enumerable:!0,get:function(){return u.compileTree}}),Object.defineProperty(t,"isSubPath",{enumerable:!0,get:function(){return u.isSubPath}}),Object.defineProperty(t,"isExactPath",{enumerable:!0,get:function(){return u.isExactPath}});var d=n(484);Object.defineProperty(t,"useInputField",{enumerable:!0,get:function(){return d.useInputField}}),Object.defineProperty(t,"makeInputFieldBindings",{enumerable:!0,get:function(){return d.makeInputFieldBindings}});var l=n(346),p=n(347),f=n(348),m=n(348);Object.defineProperty(t,"makeTreeViewWrapperBindings",{enumerable:!0,get:function(){return m.makeTreeViewWrapperBindings}}),Object.defineProperty(t,"makeDefaultTreeViewKeyHandlerChain",{enumerable:!0,get:function(){return m.makeDefaultTreeViewKeyHandlerChain}}),Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return m.findIndex}});var v=n(485);t.treeView={useTreeView:f.useTreeView,makeTreeViewEntryBindings:v.makeTreeViewEntryBindings,makeExpandedIconBindings:v.makeExpandedIconBindings,compileEntries:l.compileEntries,updateCollapsedPaths:l.updateCollapsedPaths,makeLeftNavigationHandler:p.makeLeftNavigationHandler,makeRightNavigationHandler:p.makeRightNavigationHandler,makeVerticalNavigationHandler:p.makeVerticalNavigationHandler,makeTreeViewWrapperBindings:f.makeTreeViewWrapperBindings,makeDefaultTreeViewKeyHandlerChain:f.makeDefaultTreeViewKeyHandlerChain};var g=n(349);Object.defineProperty(t,"makeEditableLabelLabelBindings",{enumerable:!0,get:function(){return g.makeEditableLabelLabelBindings}}),Object.defineProperty(t,"makeEditableLabelInputFieldBindings",{enumerable:!0,get:function(){return g.makeEditableLabelInputFieldBindings}});var b=n(349);Object.defineProperty(t,"useEditableLabel",{enumerable:!0,get:function(){return b.useEditableLabel}});var h=n(486);Object.defineProperty(t,"useAutoFocus",{enumerable:!0,get:function(){return h.useAutoFocus}}),i(n(351),t);var j=n(487);Object.defineProperty(t,"useSelection",{enumerable:!0,get:function(){return j.useSelection}});var y=n(492);Object.defineProperty(t,"makeDefaultSelectionKeyHandlerChain",{enumerable:!0,get:function(){return y.makeDefaultSelectionKeyHandlerChain}});var O=n(493);Object.defineProperty(t,"useScrollIntoViewForSelection",{enumerable:!0,get:function(){return O.useScrollIntoViewForSelection}});var x=n(79);Object.defineProperty(t,"useFactory",{enumerable:!0,get:function(){return x.useFactory}});var S=n(350);Object.defineProperty(t,"useToggle",{enumerable:!0,get:function(){return S.useToggle}}),Object.defineProperty(t,"parseOffOrOn",{enumerable:!0,get:function(){return S.parseOffOrOn}});var w=n(153);Object.defineProperty(t,"useReducerWithEffects",{enumerable:!0,get:function(){return w.useReducerWithEffects}});var I=n(353);Object.defineProperty(t,"useReducerWithEffectsSynced",{enumerable:!0,get:function(){return I.useReducerWithEffectsSynced}}),i(n(296),t),i(n(494),t),i(n(297),t),i(n(495),t),i(n(496),t),i(n(352),t),i(n(497),t),i(n(96),t),i(n(354),t),i(n(169),t),i(n(498),t),i(n(522),t),i(n(523),t),i(n(154),t),i(n(155),t),i(n(364),t),i(n(170),t),i(n(365),t),i(n(366),t),i(n(300),t),i(n(524),t),i(n(525),t),i(n(526),t),i(n(367),t),i(n(527),t),i(n(528),t),i(n(529),t),i(n(530),t),i(n(531),t),i(n(370),t),i(n(532),t),i(n(533),t),i(n(368),t),i(n(369),t),i(n(534),t)},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(466),t),i(n(467),t),i(n(468),t),i(n(470),t),i(n(338),t),i(n(471),t),i(n(339),t),i(n(294),t),i(n(472),t),i(n(473),t),i(n(474),t),i(n(475),t),i(n(340),t),i(n(476),t),i(n(477),t)},,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.makeAdapterFactory=t.stopPropagation=t.preventDefault=t.useRequestFocus=t.TreeView=t.SwitchedEditableLabel=t.SidePanel=t.Selection=t.ScrollShadows=t.ResizableSidePanel=t.Modal=t.Blurable=t.AutoFocusingInputField=t.Autocomplete=void 0,n(478);var o=n(479);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return o.Autocomplete}});var a=n(372);Object.defineProperty(t,"AutoFocusingInputField",{enumerable:!0,get:function(){return a.AutoFocusingInputField}});var s=n(373);Object.defineProperty(t,"Blurable",{enumerable:!0,get:function(){return s.Blurable}});var c=n(541);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return c.Modal}});var u=n(543);Object.defineProperty(t,"ResizableSidePanel",{enumerable:!0,get:function(){return u.ResizableSidePanel}});var d=n(375);Object.defineProperty(t,"ScrollShadows",{enumerable:!0,get:function(){return d.ScrollShadows}});var l=n(548);Object.defineProperty(t,"Selection",{enumerable:!0,get:function(){return l.Selection}});var p=n(374);Object.defineProperty(t,"SidePanel",{enumerable:!0,get:function(){return p.SidePanel}});var f=n(377);Object.defineProperty(t,"SwitchedEditableLabel",{enumerable:!0,get:function(){return f.SwitchedEditableLabel}});var m=n(551);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return m.TreeView}});var v=n(371);Object.defineProperty(t,"useRequestFocus",{enumerable:!0,get:function(){return v.useRequestFocus}});var g=n(301);Object.defineProperty(t,"preventDefault",{enumerable:!0,get:function(){return g.preventDefault}}),Object.defineProperty(t,"stopPropagation",{enumerable:!0,get:function(){return g.stopPropagation}}),Object.defineProperty(t,"makeAdapterFactory",{enumerable:!0,get:function(){return g.makeAdapterFactory}}),Object.defineProperty(t,"makeEventListenerManager",{enumerable:!0,get:function(){return g.makeEventListenerManager}}),i(n(553),t),i(n(555),t),i(n(556),t),i(n(557),t),i(n(564),t),i(n(566),t),i(n(568),t),i(n(569),t),i(n(570),t),i(n(572),t),i(n(380),t),i(n(576),t),i(n(381),t),i(n(578),t),i(n(615),t),i(n(113),t),i(n(629),t),i(n(112),t),i(n(376),t),i(n(632),t),i(n(634),t)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.useLoginState=t.useRemindersFromList=t.noopOriginConfig=t.errorRenderers=t.OriginReadynessContext=t.originConfigs=t.hasAnyItems=t.resolveToOldestId=t.resolveToNewestId=t.useAppState=t.bootstrapSnippet=void 0;var o=n(120),a=n(391),s=n(306),c=n(392),u=n(122);Object.defineProperty(t,"bootstrapSnippet",{enumerable:!0,get:function(){return u.bootstrapSnippet}});var d=n(639);Object.defineProperty(t,"useAppState",{enumerable:!0,get:function(){return d.useAppState}});var l=n(869);Object.defineProperty(t,"resolveToNewestId",{enumerable:!0,get:function(){return l.resolveToNewestId}});var p=n(870);Object.defineProperty(t,"resolveToOldestId",{enumerable:!0,get:function(){return p.resolveToOldestId}});var f=n(56);Object.defineProperty(t,"hasAnyItems",{enumerable:!0,get:function(){return f.hasAnyItems}});var m=n(259);Object.defineProperty(t,"originConfigs",{enumerable:!0,get:function(){return m.originConfigs}}),Object.defineProperty(t,"OriginReadynessContext",{enumerable:!0,get:function(){return m.OriginReadynessContext}}),i(n(872),t),t.errorRenderers=[o.fileStorageErrorRenderer,a.cloudOriginErrorRenderer,c.fileOriginErrorRenderer,s.originErrorRenderer];var v=n(329);Object.defineProperty(t,"noopOriginConfig",{enumerable:!0,get:function(){return v.noopOriginConfig}});var g=n(431);Object.defineProperty(t,"useRemindersFromList",{enumerable:!0,get:function(){return g.useRemindersFromList}}),i(n(328),t),i(n(873),t),i(n(884),t);var b=n(448);Object.defineProperty(t,"useLoginState",{enumerable:!0,get:function(){return b.useLoginState}}),i(n(333),t),i(n(335),t),i(n(885),t),i(n(886),t),i(n(887),t),i(n(888),t)},,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.snippetReferenceMarkPluginKey=t.hyperlinkPluginKey=t.renderSnippet=t.Toolbar=t.SnippetEditor=t.LANGUAGE=t.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15=t.changeFileName=t.getConfigsForInputs=t.getConfigsForButtons=t.getPluginByLanguage=t.produceFileMeta=void 0;var o=n(643);Object.defineProperty(t,"produceFileMeta",{enumerable:!0,get:function(){return o.produceFileMeta}});var a=n(123);Object.defineProperty(t,"getPluginByLanguage",{enumerable:!0,get:function(){return a.getPluginByLanguage}}),Object.defineProperty(t,"getConfigsForButtons",{enumerable:!0,get:function(){return a.getConfigsForButtons}}),Object.defineProperty(t,"getConfigsForInputs",{enumerable:!0,get:function(){return a.getConfigsForInputs}});var s=n(779);Object.defineProperty(t,"changeFileName",{enumerable:!0,get:function(){return s.changeFileName}});var c=n(393);Object.defineProperty(t,"LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15",{enumerable:!0,get:function(){return c.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15}}),Object.defineProperty(t,"LANGUAGE",{enumerable:!0,get:function(){return c.LANGUAGE}});var u=n(780);Object.defineProperty(t,"SnippetEditor",{enumerable:!0,get:function(){return u.SnippetEditor}}),i(n(785),t);var d=n(313);Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return d.Toolbar}});var l=n(786);Object.defineProperty(t,"renderSnippet",{enumerable:!0,get:function(){return l.renderSnippet}}),i(n(399),t),i(n(787),t),i(n(253),t);var p=n(97);Object.defineProperty(t,"hyperlinkPluginKey",{enumerable:!0,get:function(){return p.hyperlinkPluginKey}}),i(n(316),t),i(n(316),t),i(n(314),t),i(n(252),t),i(n(317),t),i(n(788),t);var f=n(254);Object.defineProperty(t,"snippetReferenceMarkPluginKey",{enumerable:!0,get:function(){return f.snippetReferenceMarkPluginKey}})},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(583),t),i(n(584),t),i(n(586),t),i(n(156),t),i(n(589),t),i(n(590),t),i(n(384),t),i(n(591),t),i(n(386),t),i(n(157),t),i(n(592),t),i(n(593),t),i(n(594),t)},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDocument=void 0;var r=n(642),i=n(789),o=n(125),a=n(56);t.normalizeDocument=function(e,t){return(0,a.isTag)(t)?(0,i.normalizeTag)(e,t):(0,o.isSnippet)(t)?(0,r.normalizeSnippet)(e,t):{type:"valid"}}},,,,function(e,t,n){"use strict";var r=n(55).default,i=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=t.getTagsAsStringArray=t.rewriteItems=t.hasAnyItems=t.addItem=t.dropItem=t.updateDisplayMode=t.addTag=t.deleteByPath=t.renamePaths=t.maybeAddNewPath=t.turnTagIntoPath=t.turnPathIntoTag=t.initTag=void 0;var o=n(58),a=n(3),s=n(5),c=n(122),u=n(57),d=n(98),l=n(160),p=n(52);function f(e){return{path:e,archived:!1,displayMode:{type:"list",items:[]},iconName:"hash"}}function m(e,t){return(0,o.getAll)(t.store).filter(k).find((function(t){return!t.document.archived&&(0,a.isExactPath)(t.document.path,e)}))}function v(e){return e.join(" / ")}function g(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.generateLocalId,o=m(t,e),a=!1;if(o)r=o.id;else{var s=i();r=s,a=!0,e=(0,u.save)(e,s,f(t),p.normalizeDocument,{config:{permanent:{origin:n,documentType:"tag",version:0,obsolete:{state:!1}}}})}return{store:e,id:r,isNew:a}}function b(e){return e.items.map((function(e){return(0,s.isDashboardGroupDefinition)(e)?b(e):[e]})).flat()}function h(e,t){if(e.type===t.type)return t;if("list"===e.type&&"dashboard"===t.type)return{type:"dashboard",rootDefinition:{axis:"X",items:[{axis:"Y",items:e.items.slice(0,Math.ceil(e.items.length/2)).map((function(e){return{item:e}}))},{axis:"Y",items:e.items.slice(Math.ceil(e.items.length/2),e.items.length).map((function(e){return{item:e}}))}]}};if("dashboard"===e.type&&"list"===t.type)return{type:"list",items:b(e.rootDefinition).map((function(e){return e.item}))};throw"unexpected state"}function j(e,t){return Object.assign(Object.assign({},e),{items:e.items.map((function(e){return(0,s.isDashboardGroupDefinition)(e)?j(e,t):e})).filter((function(e){return!!(0,s.isDashboardGroupDefinition)(e)||e.item!==t}))})}function y(e,t){switch(e.type){case"list":return Object.assign(Object.assign({},e),{items:e.items.filter((function(e){return t!==e}))});case"dashboard":return Object.assign(Object.assign({},e),{rootDefinition:j(e.rootDefinition,t)})}}function O(e,t,n){if(0===n.length)return Object.assign(Object.assign({},e),{items:[].concat(i(e.items),[{item:t}])});var o=r(n),a=o[0],c=o.slice(1);return Object.assign(Object.assign({},e),{items:e.items.map((function(e,n){return n===a&&(0,s.isDashboardGroupDefinition)(e)?O(e,t,c):e}))})}function x(e,t,n){var r,o=null===(r=n.find((function(e){return"dashboard-group-target"===e.type})))||void 0===r?void 0:r.targetGroupPath;return o?O(e,t,o):function(e,t){return Object.assign(Object.assign({},e),{items:e.items.map((function(e,n){if(0!==n)return e;if(!(0,s.isDashboardGroupDefinition)(e))throw"unexpected state";return Object.assign(Object.assign({},e),{items:[{item:t}].concat(i(e.items))})}))})}(e,t)}function S(e,t,n){switch(e.type){case"list":return Object.assign(Object.assign({},e),{items:[].concat(i(e.items.filter((function(e){return t!==e}))),[t])});case"dashboard":return b(e.rootDefinition).map((function(e){return e.item})).includes(t)?e:Object.assign(Object.assign({},e),{rootDefinition:x(e.rootDefinition,t,n)})}}function w(e,t){return e.items.some((function(e){return(0,s.isDashboardGroupDefinition)(e)?w(e,t):t.includes(e.item)}))}function I(e,t){var n=e.items.reduce((function(e,n){var r=e.needsSync,o=e.remappedItems;if((0,s.isDashboardGroupDefinition)(n)){var a=I(n,t);return{needsSync:a.needsSync||r,remappedItems:[].concat(i(o),[a.dashboardGroupDefinition])}}var c=(0,l.resolveToNewestId)(t,n.item);return c!==n.item?{needsSync:!0,remappedItems:[].concat(i(o),[Object.assign(Object.assign({},n),{item:c})])}:{needsSync:r,remappedItems:[].concat(i(o),[n])}}),{needsSync:!1,remappedItems:new Array}),r=n.needsSync,o=n.remappedItems;return{needsSync:r,dashboardGroupDefinition:Object.assign(Object.assign({},e),{items:o})}}function E(e,t){switch(e.type){case"list":var n=e.items.reduce((function(e,n){var r=e.needsSync,o=e.remappedItems,a=(0,l.resolveToNewestId)(t,n);return a!==n?{needsSync:!0,remappedItems:[].concat(i(o),[a])}:{needsSync:r,remappedItems:[].concat(i(o),[n])}}),{needsSync:!1,remappedItems:new Array}),r=n.needsSync,o=n.remappedItems;return{needsSync:r,displayMode:Object.assign(Object.assign({},e),{items:o})};case"dashboard":var a=I(e.rootDefinition,t),s=a.needsSync,c=a.dashboardGroupDefinition;return{needsSync:s,displayMode:Object.assign(Object.assign({},e),{rootDefinition:c})}}}function k(e){return"tag"===e.permanent.documentType}t.initTag=f,t.turnPathIntoTag=v,t.turnTagIntoPath=function(e){return e.split("/").map((function(e){return e.trim()}))},t.maybeAddNewPath=g,t.renamePaths=function(e,t,n){if(""===t.trim())return e;var r=n.filter((function(e,t){return t!==n.length-1})).concat([t]),i=(0,o.getAll)(e.store).filter(k);return i.find((function(e){return(0,a.isExactPath)(e.document.path,r)}))?e:i.reduce((function(e,r){var i=!0!==r.document.archived&&r.document.path;if(i&&(0,a.isSubPath)(n,i)){var o=i.map((function(e){return e}));return o[n.length-1]=t,(0,u.save)(e,r.id,Object.assign(Object.assign({},r.document),{path:o}),p.normalizeDocument)}return e}),e)},t.deleteByPath=function(e,t){var n=(0,o.getAll)(e.store).filter(k).find((function(e){return(0,a.isExactPath)(t,e.document.path)}));return n?(0,u.save)(e,n.id,Object.assign(Object.assign({},n.document),{archived:!0}),p.normalizeDocument):e},t.addTag=function(e,t,n){var r=function(e){return e.reduce((function(e,t){return[].concat(i(e),[0===e.length?[t]:[].concat(i(e[e.length-1]),[t])])}),new Array)}(t);return r.reduce((function(e,t){return g(e,t,n).store}),e)},t.updateDisplayMode=function(e,t,n){var r=(0,d.get)(e,t);if(!r)return e;var i=Object.assign(Object.assign({},r.document),{displayMode:h(r.document.displayMode,n)});return(0,u.save)(e,t,i,p.normalizeDocument)},t.dropItem=function(e,t){return Object.assign(Object.assign({},e),{displayMode:y(e.displayMode,t)})},t.addItem=function(e,t,n){return Object.assign(Object.assign({},e),{displayMode:S(e.displayMode,t,n)})},t.hasAnyItems=function(e,t){switch(e.displayMode.type){case"list":return e.displayMode.items.some((function(e){return t.includes(e)}));case"dashboard":return w(e.displayMode.rootDefinition,t)}},t.rewriteItems=function(e){return(0,o.getAll)(e.store).filter(k).reduce((function(t,n){var r=E(n.document.displayMode,e),i=r.needsSync,o=r.displayMode,a=Object.assign(Object.assign({},n.document),{displayMode:o});return i?(0,u.save)(t,n.id,a,p.normalizeDocument):t}),e)},t.getTagsAsStringArray=function(e){return e.filter((function(e){return!e.tag.archived})).map((function(e){return v(e.tag.path)}))},t.isTag=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var r=n(159),i=n(160);t.save=function(e,t,n,o,a){var s=(0,i.resolveToNewestId)(e,t),c=void 0===(null===a||void 0===a?void 0:a.dirty)||a.dirty,u=(0,r.save)(e.store,s,n,c,o,Object.assign(Object.assign({},a||{}),{updatedAt:(null===a||void 0===a?void 0:a.updatedAt)?a.updatedAt:new Date}));return u===e.store?e:Object.assign(Object.assign({},e),{store:u})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.getAllIndexed=t.getAll=t.get=t.save=void 0,t.save=function(e,t,n){return e.filter((function(e){return e.id!==t})).concat({id:t,item:n})},t.get=function(e,t){var n=e.find((function(e){return e.id===t}));return(null===n||void 0===n?void 0:n.item)||null},t.getAll=function(e){return e.map((function(e){return e.item}))},t.getAllIndexed=function(e){return e},t.del=function(e,t){return e.filter((function(e){return e.id!==t}))}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUpArrowKeyMap=t.buildEscapeKeyMap=t.buildListItemKeyMap=t.makeUniversalLiftAndSinkCommand=t.getListItemTypes=t.getTextFromDoc=t.initDoc=t.docJsonFromString=t.createProseMirrorDocJson=t.docToJson=t.completeSchema=void 0;var r=n(77),i=n(77),o=n(15),a=n(15),s=n(311),c=n(64),u=n(681),d=n(396),l=n(683),p=n(684),f=n(247),m=n(686),v=n(312),g=n(687),b=s.schema.spec.nodes;b=(0,f.appendCustomParagraphNode)(b),b=(b=(0,i.addListNodes)(b,"paragraph block*","block")).append(Object.assign(Object.assign({},d.todoListNodes),{resizableImage:u.resizableImage})),b=(0,l.appendReminderNode)(b);var h=s.schema.spec.marks;function j(e){return e.toJSON()}function y(e){return{content:e.split("\n").map(O),type:"doc"}}function O(e){var t={content:[{text:e,type:"text"}],type:"paragraph"};return""===e&&delete t.content,t}function x(e,t){return o.Node.fromJSON(e,t)}function S(e,t){var n,r={};return e.forEach((function(e){return e&&(r[e.name]=t(e))})),n=r,function(e,t){for(var r=e.selection.$from,i=r.depth;i>0;i--)if(n[r.node(i).type.name])return n[r.node(i).type.name](e,t);return!1}}function w(e){return[e.nodes.list_item,e.nodes.todo_item].filter((function(e){return void 0!==e}))}function I(e){return{universalLift:S(e,r.liftListItem),universalSink:S(e,r.sinkListItem)}}h=(0,m.appendCustomFormattingMarks)(h),h=(0,p.customizeLinkMark)(h),h=(0,v.appendCustomMarks)(h),h=(0,g.appendSnippetReferenceMark)(h),t.completeSchema=new a.Schema({nodes:b,marks:h}),t.docToJson=j,t.createProseMirrorDocJson=y,t.docJsonFromString=function(e,t){return j(function(e,t){return x(e,y(t))}(e,t))},t.initDoc=x,t.getTextFromDoc=function(e){return e.textBetween(0,e.content.size,"\n\n")},t.getListItemTypes=w,t.makeUniversalLiftAndSinkCommand=I,t.buildListItemKeyMap=function(e){var t=I(w(e)),n=t.universalLift,r=t.universalSink;return(0,c.keymap)({Tab:r,"Shift-Tab":n})},t.buildEscapeKeyMap=function(e){return(0,c.keymap)({Escape:e})},t.buildUpArrowKeyMap=function(e){return(0,c.keymap)({ArrowUp:e})}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dex=void 0,t.dex={pos:{X:function(e){return e.x},Y:function(e){return e.y}},size:{X:function(e){return e.width},Y:function(e){return e.height}}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFactory=void 0;var r=n(1);t.useFactory=function(e,t,n){return(0,r.useMemo)((function(){return e(t,n)}),t)}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderNodes=void 0;var r=n(0),i=n(1),o=n(742),a=n(255),s=n(416);t.renderNodes=function(e,t){if(0===e.length)return(0,r.jsx)("br",{className:"ProseMirror-trailingBreak"},void 0);var n=function(e,t){var n,r;return(null===(n=t.trimOptions)||void 0===n?void 0:n.byDecorations)?e.filter((function(e){return!e.parent||!function(e){return"bullet_list"===e.type.name||"ordered_list"===e.type.name||"todo_list"===e.type.name}(e.parent.node)||t.decorations.some((function(t){return(0,o.decorationTouchesNode)(t,e)}))})):(null===(r=t.trimOptions)||void 0===r?void 0:r.byLength)?e.filter((function(e,t){return!e.parent||!function(e){return"bullet_list"===e.type.name||"ordered_list"===e.type.name||"todo_list"===e.type.name}(e.parent.node)||t<10})):e}(e,t);return n.map((function(e,n){return(0,r.jsx)(i.Fragment,{children:e.node.isText?(0,s.renderTextNode)(e,t):(0,a.renderNode)(e,t)},n)}))}},function(e,t,n){"use strict";var r=n(24).default;function i(e){return e&&e.isKnownError}Object.defineProperty(t,"__esModule",{value:!0}),t.errorWithDetails=t.isKnownError=void 0,t.isKnownError=i,t.errorWithDetails=function(e,t){var n=i(e)?e:{isKnownError:!0,stack:e?[{originalError:e}]:[]};return Object.assign(Object.assign({},n),{stack:[].concat(r(n.stack),[t])})}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doUnless=t.pipe=t.adapt=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.buildKeyboardEventHandlerChainItem=t.preventDefault=t.buildHandler=t.normalizeCounter=t.KEY_CODES=t.noop=void 0;function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";return e.map((function(e){return e.test(t)?Object.assign(Object.assign({},e),{run:function(t){return"pre"===r&&n(t),e.run(t),"post"===r&&n(t)}}):e}))}t.noop=function(){},t.KEY_CODES={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,F:70,K:75,N:78},t.normalizeCounter=function(e,t){return 0===t?0:(e%t+t)%t},t.buildHandler=function(e){return function(t){var n=e.find((function(e){return e.test(t)}));return!!n&&(n.run(t),t)}},t.preventDefault=function(e){return e.preventDefault(),e},t.buildKeyboardEventHandlerChainItem=function(e,t){return{test:function(t){return t.keyCode===e},run:t}},t.adaptHandlerChainItem=r,t.adaptKeyboardEventHandlerChainItem=function(e,t,n,i){return r(e,{keyCode:t},n,i)},t.adapt=function(e,t){return function(n,r,i){var o=e(n,r,i);return t(o,n,r,i)}},t.pipe=function(e,t,n,r,i,o,a,s,c,u){return[t,n,r,i,o,a,s,c,u].filter((function(e){return e})).reduce((function(e,t){return t(e)}),e)},t.doUnless=function(e,t){return e?function(e){return e}:t}},function(e,t,n){"use strict";var r=n(20).default,i=n(24).default;function o(e,t){return e.map((function(e,n){return e-t[n]/2}))}function a(e){var t=function(e){return e.reduce((function(e,t){var n=e[e.length-1]||0;return[].concat(i(e),[n+t])}),new Array)}(e);return{entryEndPositions:t,entryMiddlePositions:o(t,e)}}function s(e,t,n){return e-(t-n)}function c(e,t,n,r){var i=a(t);return Object.assign(Object.assign({originalIndex:e,targetIndex:e,initialHandlePosition:n,currentHandlePosition:n,entrySizes:t},i),{originalEndPosition:i.entryEndPositions[e],handleOffsetRelativeToEndPosition:s(i.entryEndPositions[e],n,r),crossedItemIndex:null,offset:r})}function u(e,t){if(e<t)return t-1;if(t<e)return t+1;throw"unexpected state"}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareListDragStateForAnimation=t.moveEntryInList=t.getListDragOffset=t.onListDrag=t.onStartListDrag=t.calculateHandleOffsetRelativeToEndPosition=t.calculatePositions=void 0,t.calculatePositions=a,t.calculateHandleOffsetRelativeToEndPosition=s,t.onStartListDrag=c;function d(e,t){if(null===e.crossedItemIndex)return null;var n=e.entryEndPositions[e.crossedItemIndex]-e.entrySizes[e.crossedItemIndex]-2,r=e.entryEndPositions[e.crossedItemIndex]+2;return n<=t&&t<=r?e.crossedItemIndex:null}function l(e,t){var n=e-t.initialHandlePosition+t.originalEndPosition,r=n-t.entrySizes[t.targetIndex],i=t.entryMiddlePositions.reduce((function(e,i,o){return o<t.targetIndex?r<i&&-1===e?o:e:t.targetIndex<o&&i<n?o:e}),-1);i=-1===i?t.targetIndex:i;var o=Object.assign(Object.assign({},t),{currentHandlePosition:e,targetIndex:i});o=function(e,t){return e.targetIndex===t.targetIndex?t:Object.assign(Object.assign({},t),{crossedItemIndex:u(e.targetIndex,t.targetIndex)})}(t,o),o=function(e,t){if(e.targetIndex===t.targetIndex)return t;var n=p(e.entrySizes,e.targetIndex,t.targetIndex);return Object.assign(Object.assign(Object.assign({},t),{entrySizes:n}),a(n))}(t,o);var s=n-o.handleOffsetRelativeToEndPosition;return o=Object.assign(Object.assign({},o),{crossedItemIndex:d(o,s)})}function p(e,t,n){var r=e.map((function(e){return e})),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}t.onListDrag=l,t.getListDragOffset=function(e,t){return t.originalIndex===e?t.currentHandlePosition-t.initialHandlePosition:t.originalIndex<t.targetIndex&&t.originalIndex<e&&e<=t.targetIndex?-t.entrySizes[t.targetIndex]:t.originalIndex>t.targetIndex&&t.originalIndex>e&&e>=t.targetIndex?t.entrySizes[t.targetIndex]:0},t.moveEntryInList=p,t.prepareListDragStateForAnimation=function(e,t,n){var i=c(n,e=p(e,t,n),0,0),o=t<n?[i.entryEndPositions[n]-i.entrySizes[n],i.entryEndPositions[t]-i.entrySizes[t]]:[i.entryEndPositions[n],i.entryEndPositions[t]],a=r(o,2),s=a[0],u=a[1];return i.initialHandlePosition=s,l(u,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeHyperlinkPlugin=t.hyperlinkPluginKey=void 0;var r=n(18),i=n(314),o=n(401),a=n(402);function s(e){return null!==e.text.match(/^(http:\/\/.+|https:\/\/.+|www\..+)/)}t.hyperlinkPluginKey=new r.PluginKey("hyperlinkPlugin"),t.makeHyperlinkPlugin=function(e,n){return(0,a.makeMarkInteractionPlugin)(t.hyperlinkPluginKey,n.marks.link,s,(function(t,r,a){if(!t.some((function(t){return void 0!==t.getMeta(e)}))&&t.some((function(e){return e.docChanged}))){var s=(0,i.findMarkAtCursor)(a,n.marks.link);if(s){var c=(0,o.getCurrentMark)(a,n.marks.link),u=s.attrs;if(u.nolabel){var d=Object.assign(Object.assign({},u),{href:c.text});return a.tr.addMark(c.from,c.to,a.schema.marks.link.create(d))}}}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var r=n(58),i=n(160);t.get=function(e,t){return(0,r.get)(e.store,(0,i.resolveToNewestId)(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeEmptyStore=t.DELETEABLE=void 0,t.DELETEABLE="<deleteable>",t.makeEmptyStore=function(){return{store:new Array,oldToNew:{},newToOld:{}}}},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;var r=n(0),i=n(536);n(539),t.Icon=function(e){return(0,r.jsx)("span",Object.assign({className:"Icon-wrapper Icon-wrapper-".concat(e.iconName)},{children:(0,r.jsx)(i.Bootstrap,Object.assign({},e),void 0)}),void 0)}},function(e,t,n){"use strict";var r=n(20).default,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useEditedReminder=t.useEditedReminderContext=t.EditedReminderContext=void 0;var s=a(n(1)),c=n(1),u=n(1),d=n(3),l=n(603),p=n(604),f=n(605),m=n(606),v=n(607),g=n(608),b=n(609),h=n(610),j=n(611),y=n(612),O=n(613);function x(e,t){switch(t.type){case"setReminder":return(0,d.pipe)(e,(0,v.setReminder)(t.reminder));case"setExpression":return(0,d.pipe)(e,(0,m.setExpression)(t.value));case"updateWeeklyWeekdaysRepeat":return(0,d.pipe)(e,(0,O.updateWeeklyWeekdaysRepeat)(t.weekday),(0,f.resetReminder)());case"updateMonthlyDateRepeat":return(0,d.pipe)(e,(0,b.updateMonthlyDateRepeat)(t.date),(0,f.resetReminder)());case"updateMonthlyNthWeekdayRepeat":return(0,d.pipe)(e,(0,h.updateMonthlyNthWeekdayRepeat)(t.weekday,t.n),(0,f.resetReminder)());case"updateReminderDate":return(0,d.pipe)(e,(0,j.updateReminderDate)(t.date),(0,f.resetReminder)());case"updateTime":return(0,d.pipe)(e,(0,y.updateTime)({hours:t.hours,minutes:t.minutes}),(0,f.resetReminder)());case"updateFrequency":return(0,d.pipe)(e,(0,g.updateFrequency)(t.timeUnit,t.frequency),(0,f.resetReminder)());case"activateFrequency":return(0,d.pipe)(e,(0,g.updateFrequency)(t.timeUnit,void 0),(0,f.resetReminder)());case"deactivateRepeat":return(0,d.pipe)(e,(0,p.deactivateRepeat)(),(0,f.resetReminder)())}}var S=(0,d.pipe)({reminder:{id:0,createdAt:0,date:0,expression:"",text:""},expression:"",sequences:[]},(0,m.setExpression)("tomorrow at nine"));t.EditedReminderContext=s.default.createContext([S,function(){}]),t.useEditedReminderContext=function(){return(0,s.useContext)(t.EditedReminderContext)},t.useEditedReminder=function(){var e=(0,u.useReducer)(x,S),t=r(e,2),n=t[0],i=t[1];return(0,c.useEffect)((function(){var e=0<n.sequences.length?n.sequences[0]:null;if(e&&e.end-e.start===n.expression.trim().length){var t=(0,l.createReminder)(e,n.expression,"");i({type:"setReminder",reminder:t})}}),[n.sequences]),[n,i]}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.menuItems=t.candidateSnippetReferenceMarkMenuFormId=t.candidateHyperlinkMenuFormId=t.reminderMenuFormId=void 0;var i=n(0),o=n(36),a=n(67),s=n(691),c=n(692),u=n(693),d=n(694),l=n(695),p=n(398),f=n(249),m=n(250),v=n(69);n(699);var g=n(97),b=n(702),h=n(704),j=n(706),y=n(707),O=n(708),x=n(254),S={stickyBlue:"ToolbarIcon-color-blue",stickyRed:"ToolbarIcon-color-red",stickyYellow:"ToolbarIcon-color-yellow",boxBlue:"ToolbarIcon-color-blue",boxRed:"ToolbarIcon-color-red",boxYellow:"ToolbarIcon-color-yellow",colorBlue:"ToolbarIcon-color-blue",colorRed:"ToolbarIcon-color-red",colorYellow:"ToolbarIcon-color-yellow",backgroundColorBlue:"ToolbarIcon-color-blue",backgroundColorRed:"ToolbarIcon-color-red",backgroundColorYellow:"ToolbarIcon-color-yellow"},w=function(e,t){return function(n,o,a,s){return(0,i.jsx)(m.ToolbarItem,{children:(0,i.jsx)(f.ToolbarIcon,{iconName:e,classNameOuter:[a.isEnabled?a.isActive?"ToolbarIcon-active":"":"ToolbarIcon-disabled"].concat(r(t||[])).join(" "),onClick:function(){return s.emit({type:"menuItemRun",id:n})},onMouseDown:function(e){return e.preventDefault()}},void 0)},n)}};t.reminderMenuFormId="reminder-menu-form",t.candidateHyperlinkMenuFormId="candidate-hyperlink-menu-form",t.candidateSnippetReferenceMarkMenuFormId="candidate-snippet-reference-mark-menu-form",t.menuItems=[{id:t.reminderMenuFormId,render:function(e,t,n,r){return(0,i.jsx)(h.SetReminderMenuForm,{id:e,toolbarEventBus:r},void 0)},buildSpec:function(e){return(0,s.buildCommandItem)(p.insertReminderCommand,e)}},{id:t.candidateHyperlinkMenuFormId,render:function(e,t,n,r,o){return(0,i.jsx)(b.CandidateHyperlinkMenuForm,{menuItemState:n,toolbarEventBus:r,requestEditorFocusEventBus:o},void 0)},buildSpec:function(e){return(0,s.buildCommandItem)((0,O.hasMarkInteractionPluginActions)(g.hyperlinkPluginKey),e,void 0,(function(e){return g.hyperlinkPluginKey.getState(e)}))}},{id:t.candidateSnippetReferenceMarkMenuFormId,render:function(){return null},buildSpec:function(e){return(0,s.buildCommandItem)((function(){return!0}),e,(0,O.hasMarkInteractionPluginActions)(x.snippetReferenceMarkPluginKey),(function(e){return x.snippetReferenceMarkPluginKey.getState(e)}))}},{id:"bold",render:w("bold",[]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks.strong,e)}},{id:"italic",render:w("italic",[]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks.em,e)}},{id:"lineThrough",render:w("line-through",[]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks.lineThrough,e)}},{id:"underline",render:w("underline",[]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks.underline,e)}},{id:"code",render:w("code",[]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks.code,e)}},{id:"codeBlock",render:w("code-block",[]),buildSpec:function(e,t){return(0,d.buildToggleBlockTypeItem)(t.nodes.code_block,t,e)}},{id:"wrapBulletList",render:w("bullet-list",[]),buildSpec:function(e,t){return(0,l.buildWrapInListItem)(t.nodes.bullet_list,e)}},{id:"wrapOrderedList",render:w("number-list",[]),buildSpec:function(e,t){return(0,l.buildWrapInListItem)(t.nodes.ordered_list,e)}},{id:"wrapTodoList",render:w("todo-list",[]),buildSpec:function(e,t){return(0,l.buildWrapInListItem)(t.nodes.todo_list,e,{"data-type":"todo_list"})}},{id:"liftItem",render:w("lift-item",[]),buildSpec:function(e,t){var n=(0,v.getListItemTypes)(t),r=(0,v.makeUniversalLiftAndSinkCommand)(n).universalLift;return(0,s.buildCommandItem)(r,e)}},{id:"sinkItem",render:w("sink-item",[]),buildSpec:function(e,t){var n=(0,v.getListItemTypes)(t),r=(0,v.makeUniversalLiftAndSinkCommand)(n).universalSink;return(0,s.buildCommandItem)(r,e)}},{id:"joinUp",render:w("join-up",[]),buildSpec:function(e){return(0,s.buildCommandItem)(o.joinUp,e)}},{id:"undo",render:w("undo",[]),buildSpec:function(e){return(0,s.buildCommandItem)(a.undo,e)}},{id:"redo",render:w("redo",[]),buildSpec:function(e){return(0,s.buildCommandItem)(a.redo,e)}}].concat(r([1,2,3].map((function(e){return{id:"heading".concat(e),render:w("heading-".concat(e),["ToolbarIcon-heading-".concat(e)]),buildSpec:function(t,n){return(0,d.buildToggleBlockTypeItem)(n.nodes.heading,n,t,{level:e})}}}))),r(y.customMarkSpecs.map((function(e){var t={id:e,render:w(y.customMarkIconNames[e],[S[e]]),buildSpec:function(e,t){return(0,c.buildMarkItem)(t.marks[e],e)}};return t}))),r(j.customParagraphSpecs.map((function(e){var t=e.id,n=e.attributes,r={id:t,render:w(j.customParagraphIconNames[t],[S[t]]),buildSpec:function(e,t){return(0,u.buildToggleAttributesItem)(n,t.nodes.paragraph,e)}};return r}))))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dre=void 0,t.dre={start:{X:function(e){return{left:e}},Y:function(e){return{top:e}}},size:{X:function(e){return{width:e}},Y:function(e){return{height:e}}},pos:{X:function(e){return{x:e}},Y:function(e){return{y:e}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileStorageErrorRenderer=t.extractFileStorageErrorTitleAndDescription=t.isFileStorageError=t.compileFileNotAccessibleErrorDetails=t.compileNotParsableErrorDetails=t.compileFileStorageNotSupportedErrorDetails=t.compileDirectoryNotAccessibleErrorDetails=void 0;var r=n(0),i=n(1),o=n(121),a=n(305);function s(e){return!!e&&"file-storage"===e.layer}function c(e){if(!s(e))return null;switch(e.type){case"directory-not-accessible":return{title:"Unable to access directory",description:e.directory?'Directory "'.concat(e.directory,'" is not accessible. This might be a permission problem.'):(0,r.jsxs)(i.Fragment,{children:["No directory specified. \xa0",(0,r.jsx)(a.GoToOriginSettingsButton,{origin:"file"},void 0)]},void 0)};case"not-supported":return{title:"File System not supported",description:"File System access is available on the Desktop Client only."};case"not-parsable":return{title:"Parsing file failed",description:"Unable to parse file ".concat(e.filename,".")};case"file-not-accessible":return{title:"Unable to access file",description:"Error during '".concat(e.operation,"' operation. This might be a permission problem.")}}}t.compileDirectoryNotAccessibleErrorDetails=function(e){return{layer:"file-storage",type:"directory-not-accessible",directory:e}},t.compileFileStorageNotSupportedErrorDetails=function(){return{layer:"file-storage",type:"not-supported"}},t.compileNotParsableErrorDetails=function(e){return{layer:"file-storage",type:"not-parsable",filename:e}},t.compileFileNotAccessibleErrorDetails=function(e,t){return{layer:"file-storage",type:"file-not-accessible",operation:e,filename:t}},t.isFileStorageError=s,t.extractFileStorageErrorTitleAndDescription=c;t.fileStorageErrorRenderer=function(e,t){var n=c(e);return n?(0,r.jsx)(o.SimpleErrorView,{title:n.title,description:n.description},void 0):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleErrorView=void 0;var r=n(0);n(638);t.SimpleErrorView=function(e){return(0,r.jsxs)("div",Object.assign({className:"SimpleErrorView-outer"},{children:[(0,r.jsx)("strong",{children:e.title},void 0),(0,r.jsx)("div",{children:e.description},void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootstrapSnippet=t.generateLocalId=t.LOCAL_ID_PREFIX=void 0;var r=n(5);t.LOCAL_ID_PREFIX="LOCAL-";var i=r.isMocked?0:(new Date).getTime();t.generateLocalId=function(){return"".concat(t.LOCAL_ID_PREFIX).concat(i++)};t.bootstrapSnippet=function(e,t,n){return{name:e,content:t,language:n,archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootstrapContent=t.bootstrapContentFromInput=t.getConfigsForButtons=t.getConfigsForInputs=t.getPluginByLanguage=t.getPluginByExtension=t.plugins=void 0;var r=n(393),i=n(680),o=n(759),a=n(775);function s(e){return t.plugins.find((function(t){return t.testLanguage(e)}))}t.plugins=[r.CodeMirrorPlugin,i.RichTextPlugin,o.TodoListPlugin,a.PostItPlugin],t.getPluginByExtension=function(e){return t.plugins.find((function(t){return null!==t.testExtension(e)}))},t.getPluginByLanguage=s,t.getConfigsForInputs=function(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaInput})).map((function(e){return[e.language,e.createSnippetConfig.viaInput]}))},t.getConfigsForButtons=function(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaButton})).map((function(e){return[e.language,e.iconName,e.createSnippetConfig.viaButton]}))},t.bootstrapContentFromInput=function(e,t){var n,r=s(e);if(!r)throw"no plugin found for language ".concat(e);return null===(n=r.createSnippetConfig.viaInput)||void 0===n?void 0:n.bootstrap(t)},t.bootstrapContent=function(e){var t,n=s(e);if(!n)throw"no plugin found for language ".concat(e);return null===(t=n.createSnippetConfig.viaButton)||void 0===t?void 0:t.bootstrap()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0;var r=n(15),i=n(417),o=n(311),a={doc:{content:"paragraph*"},paragraph:{content:"inline*",attrs:{index:{default:1},status:{default:"open"}},group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return{src:e.getAttribute("index")}}}],toDOM:function(e){return["p",e.attrs,0]}},text:o.nodes.text,hard_break:o.nodes.hard_break};t.schema=new r.Schema({nodes:a,marks:(0,i.customizeLinkMark)(o.schema.spec.marks)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileSnippetList=t.updateSnippetMetaDataStore=t.initSnippetMetaDataStore=t.isSnippet=t.createSnippet=t.initSnippet=void 0;var r=n(58),i=n(98),o=n(57),a=n(790),s=n(421),c=n(52);function u(e){return"snippet"===e.permanent.documentType}t.initSnippet=function(e,t,n){return{archived:!1,content:e,language:t,name:n}},t.createSnippet=function(e,t,n,r){return(0,o.save)(e,t,n,c.normalizeDocument,{config:{permanent:{origin:r,documentType:"snippet",version:0,obsolete:{state:!1}}}})},t.isSnippet=u,t.initSnippetMetaDataStore=function(e,t){return(0,r.getAll)(e.store).filter(u).reduce((function(n,i){return(0,r.save)(n,i.id,(0,a.produceSnippetMetaData)(i,e,t))}),new Array)},t.updateSnippetMetaDataStore=function(e,t,n,o){var s=(0,i.get)(e,n);if(!s)return t;var c=(0,a.produceSnippetMetaData)(s,e,o);return(0,r.save)(t,s.id,c)},t.compileSnippetList=function(e,t,n){return(0,r.getAll)(e.store).filter(u).filter(n).filter((function(e){return!1===e.permanent.obsolete.state})).sort(s.sortByUpdatedAt).map((function(e){return{snippet:e.document,metaData:(0,r.get)(t,e.id)||(n=e,{id:"<metadata not found>",normalizedLanguage:"<metadata not found>",title:"<metadata not found>",trimmedBody:"<metadata not found>",reminders:[],resolvedTags:[],dirty:!1,origin:n.permanent.origin,updatedAt:new Date,syncErrors:[]})};var n}))}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeSnipCloudHttp=void 0;var o=n(846),a=n(260),s=n(5);function c(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return n=t.sent,t.abrupt("return",new Promise((function(e,t){n.ok?e(n.json()):t(n)})));case 4:case"end":return t.stop()}}),t)})))}t.makeSnipCloudHttp=function(e){var t="".concat((0,o.getSnipCloudBaseUrl)()).concat(e),n=(0,a.getToken)(),r={headers:new Headers(Object.assign(Object.assign({"Content-Type":"application/json"},n?{Authorization:n}:{}),{"snip-client-version":s.version}))};return{get:function(e){return c(fetch("".concat(t).concat(e),Object.assign({},r)))},post:function(e,n){return c(fetch("".concat(t).concat(e),Object.assign(Object.assign({},r),{method:"POST",body:JSON.stringify(n)})))},patch:function(e,n){return c(fetch("".concat(t).concat(e),Object.assign(Object.assign({},r),{method:"PATCH",body:JSON.stringify(n)})))},del:function(e){return c(fetch("".concat(t).concat(e),Object.assign(Object.assign({},r),{method:"DELETE"})))}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(24).default,i=n(55).default,o=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useReducerWithEffects=void 0;var a=n(1),s=n(79);function c(e,t){var n=o(e,1)[0];i(t);return function(e,t){var i=function(e,t,n){return"clean up effects"===n?[t.state,null]:e(t.state,n)}(n,e,t),a=o(i,2),s=a[0],c=a[1];return{state:s,effects:null===c?[]:c.length>0?[].concat(r(e.effects),r(c)):e.effects}}}t.useReducerWithEffects=function(e,t,n){var r=(0,s.useFactory)(c,[e],[]),i=(0,a.useReducer)(r,(0,a.useMemo)((function(){return{state:n,effects:[]}}),[])),u=o(i,2),d=u[0],l=u[1];return(0,a.useEffect)((function(){d.effects.length>0&&(d.effects.forEach((function(e){return t(d.state,e,l).then((function(e){e&&e.forEach(l)})).catch((function(e){throw console.log("error in useReducerWithEffects"),e}))})),l("clean up effects"))}),[d.effects]),[d.state,l]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGroup=void 0,t.isGroup=function(e){return void 0!==e.axis}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDraggedItem=void 0,t.isDraggedItem=function(e,t,n){return e.source.index===t&&e.source.listDragState.originalIndex===n}},function(e,t,n){"use strict";var r=n(55).default,i=n(20).default,o=n(24).default;function a(e,t){return 1===t?e:"".concat(e,"s")}function s(e,t){return"in ".concat(t," ").concat(a(e,t))}function c(e,t){return"".concat(t," ").concat(a(e,t)," ago")}Object.defineProperty(t,"__esModule",{value:!0}),t.compileExpressionFromRepeatDescription=t.getOrdinalDigits=t.compileTimeExpressionFromDate=t.compileDateExpressionFromDate=t.approximate=t.numberPostfixes=t.wordToNumber=t.ordinals=t.timeUnits=t.weekdays=t.months=t.amPm=t.noonMidnight=t.timeOfDay=void 0,t.timeOfDay=["morning","afternoon","evening"],t.noonMidnight=["noon","midnight"],t.amPm=["AM","PM"],t.months=["january","february","march","april","may","june","july","august","september","october","november","december"],t.weekdays=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],t.timeUnits=[["seconds","second"],["second","second"],["minutes","minute"],["minute","minute"],["hours","hour"],["hour","hour"],["days","day"],["day","day"],["weeks","week"],["week","week"],["months","month"],["month","month"],["years","year"],["year","year"]],t.ordinals=["first","second","third","fourth"],t.wordToNumber={a:1,an:1,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},t.numberPostfixes=["st","nd","rd","th","\\."];var u=[{timeUnit:"second",renderFuture:function(){return"Shortly"},renderPast:function(){return"Now"}}].concat(o([["minute","minute"],["hour","hour"],["day","day"],["week","week"],["month","month"],["year","year"]].map((function(e){var t=i(e,2),n=t[0],r=t[1];return{timeUnit:n,renderFuture:s.bind(null,r),renderPast:c.bind(null,r)}}))));function d(e){return"0".concat(e).slice(-2)}function l(e,t){return 1===e?t:"".concat(e," ").concat(t,"s")}function p(e){return 1===e?"1st":2===e?"2nd":3===e?"3rd":"".concat(e,"th")}t.approximate=function(e,t){var n=u.find((function(e){return e.timeUnit===t}));return e<=0?n.renderPast(-e):n.renderFuture(e)},t.compileDateExpressionFromDate=function(e){var n=new Date(e),r=t.months[n.getUTCMonth()],i="".concat(n.getUTCDate(),". ").concat(r);return"on ".concat(i)},t.compileTimeExpressionFromDate=function(e){var t=new Date(e),n=d(t.getUTCHours()),r=d(t.getUTCMinutes()),i=d(t.getUTCSeconds()),o="".concat(n,":").concat(r).concat("00"===i?"":":".concat(i));return"at ".concat(o)},t.getOrdinalDigits=p,t.compileExpressionFromRepeatDescription=function(e){switch(e.timeUnit){case"second":return"every ".concat(l(e.frequency,"second"));case"minute":return"every ".concat(l(e.frequency,"minute"));case"hour":return"every ".concat(l(e.frequency,"hour"));case"day":return"every ".concat(l(e.frequency,"day"));case"week":if(e.target){if(0===e.target.weekdays.length)return"every ...";var n=e.target.weekdays.concat().sort().reverse(),i=r(n),o=i[0],a=i.slice(1);return 0===a.length?"every ".concat(t.weekdays[o]):1===a.length?"every ".concat(n.concat().reverse().map((function(e){return t.weekdays[e]})).join(" and ")):"every ".concat(a.concat().reverse().map((function(e){return t.weekdays[e]})).join(", ")," and ").concat(t.weekdays[o])}return"every ".concat(l(e.frequency,"week"));case"month":if(!e.target)return"every ".concat(l(e.frequency,"month"));switch(e.target.type){case"nth-weekday":var s=p(e.target.n),c=t.weekdays[e.target.weekday];return"every ".concat(s," ").concat(c," of the month");case"date":return"every ".concat(p(e.target.date)," day of the month")}case"year":if(e.target){var u=e.target.date,d=t.months[e.target.month];return"every ".concat(u,". ").concat(d)}return"every ".concat(l(e.frequency,"year"))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeUnitToMilliseconds=void 0,t.timeUnitToMilliseconds={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHighlightPluginTransaction=t.highlight=t.findOccurences=t.HighlightPlugin=void 0;var r=n(18),i=n(92);n(723);var o={highlights:[]};t.HighlightPlugin=new r.Plugin({state:{init:function(e,t){return o},apply:function(e,t){var n=e.getMeta(this);return n&&n.highlights&&(t=Object.assign(Object.assign({},t),{highlights:n.highlights})),t}},props:{decorations:function(e){var t=this.getState(e);if(t.highlights.length>0)return i.DecorationSet.create(e.doc,t.highlights.map((function(e){return i.Decoration.inline(e.occurence.range.start,e.occurence.range.end,{class:e.class})})))}}}),t.findOccurences=function(e,t){t=t.filter((function(e){return e})).map((function(e){return e.toUpperCase()}));var n=[];if(t.length>0){var r=new RegExp(t.join("|"),"g");e.state.doc.descendants((function(t,i){if(t.isText)for(var o,a=0;(o=r.exec(t.text.toUpperCase()))&&a++<1e3;){var s=i+o.index,c=i+o.index+o[0].length;n.push({range:{start:s,end:c},coordinates:e.coordsAtPos(s)})}}))}return n},t.highlight=function(e,n){var r=e.state.tr,i={highlights:n};r.setMeta(t.HighlightPlugin,i),e.dispatch(r)},t.isHighlightPluginTransaction=function(e){return void 0!==e.getMeta(t.HighlightPlugin)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveSynced=t.saveDirty=t.save=void 0;var r=n(5),i=n(58),o=0,a=new Date;function s(e,t,n,s,c,u){var d,l=(0,i.get)(e,t)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i=n.updatedAt;if(!r)throw"trying to init DocumentWrapper without config";return{id:e,document:t,permanent:r.permanent,internalVersion:0,dirty:!1,updatedAt:i||new Date}}(t,n,u),p=c(e,l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),{document:n}),function(e){if(!e)return{};if(r.isMocked){var t=new Date(a);return t.setSeconds(o),o+=1,{updatedAt:t}}return{updatedAt:e}}(null===u||void 0===u?void 0:u.updatedAt)),(null===(d=null===u||void 0===u?void 0:u.config)||void 0===d?void 0:d.permanent)?{permanent:u.config.permanent}:{}),{internalVersion:l.internalVersion+1,dirty:s}));switch(p.type){case"invalid":return e;case"valid":return(0,i.save)(e,t,l);case"updated":return(0,i.save)(e,t,p.item)}}t.save=s,t.saveDirty=function(e,t,n,r,i){return s(e,t,n,!0,r,i)},t.saveSynced=function(e,t,n,r,i){return s(e,t,n,!1,r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToNewestId=void 0,t.resolveToNewestId=function e(t,n){var r=t.oldToNew[n];return r?e(t,r):n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllDirties=void 0;var r=n(58);t.getAllDirties=function(e,t){return(0,r.getAll)(e).filter((function(e){return e.dirty&&t(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileTagList=void 0;var r=n(58),i=n(56);t.compileTagList=function(){return function(e){return Object.assign(Object.assign({},e),{derivedState:Object.assign(Object.assign({},e.derivedState),{tagList:(0,r.getAll)(e.store.store).filter(i.isTag).map((function(e){return{metaData:{id:e.id,origin:e.permanent.origin,updatedAt:e.updatedAt,text:(0,i.turnPathIntoTag)(e.document.path)},tag:e.document}}))})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBlockNextSync=void 0;t.setBlockNextSync=function(e){return function(t){return Object.assign(Object.assign({},t),{blockNextSync:e})}}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStateChangesToNull=t.useStateStaysDefined=t.useStateChangesToDefined=t.useStateChangeEffect=void 0;var r=n(352),i=n(1);function o(e,t){var n=(0,r.usePrevious)(e);(0,i.useEffect)((function(){if(void 0!==n)if(t instanceof Array)t.forEach((function(t){var r=t.test,i=t.run;return r(n,e)&&i(n,e)}));else{var r=t.extract||function(e){return e};switch(t.trigger){case"change":return void t.run(n,e);case"on":return void(!r(n)&&r(e)&&t.run(n,e));case"off":return void(r(n)&&!r(e)&&t.run(n,e))}}}),[e])}t.useStateChangeEffect=o,t.useStateChangesToDefined=function(e,t){o(e,(0,i.useMemo)((function(){return{trigger:"on",extract:function(e){return e},run:function(e,n){if(!n)throw"unexpected state";t(n)}}}),[t]))},t.useStateStaysDefined=function(e,t){(0,i.useEffect)((function(){e&&t(e)}),[e])},t.useStateChangesToNull=function(e,t){o(e,(0,i.useMemo)((function(){return{trigger:"off",extract:function(e){return e},run:function(e){if(!e)throw"unexpected state";t(e)}}}),[t]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useObservable=void 0;var r=n(1);t.useObservable=function(e,t){return(0,r.useEffect)((function(){var n=t.subscribe(e);return function(){return n.unsubscribe()}}),[t,e])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultListEntry=void 0;var i=n(0),o=n(1),a=n(123);n(677);var s=n(9);t.DefaultListEntry=function(e){var t=e.snippetListEntry.metaData.title||(0,i.jsx)("span",Object.assign({className:"DefaultListEntry-untitledEntry"},{children:"untitled"}),void 0),n=(0,a.getPluginByLanguage)(e.snippetListEntry.snippet.language),c=(0,o.useState)(!1),u=r(c,2),d=u[0],l=u[1];return(0,i.jsxs)("div",Object.assign({className:"DefaultListEntry-entryInner ".concat(null===n||void 0===n?void 0:n.snippetListClass(e.snippetListEntry.snippet)),onTouchMove:function(){return l(!0)},onTouchEnd:function(t){t.preventDefault(),d||e.setSelectedSnippetId(e.snippetListEntry.metaData.id),l(!1)},onMouseDown:function(){return e.setSelectedSnippetId(e.snippetListEntry.metaData.id)}},{children:[(0,i.jsx)("span",Object.assign({className:"DefaultListEntry-entryInnerIconWrapper"},{children:n&&(0,i.jsx)(s.Icon,{iconName:n.iconName},void 0)}),void 0),(0,i.jsxs)("div",Object.assign({className:"DefaultListEntry-entryBodyWrapper",onContextMenu:function(t){return e.onContextMenu(e.snippetListEntry,{x:t.clientX,y:t.clientY})},onDoubleClick:function(t){return e.onContextMenu(e.snippetListEntry,{x:t.clientX,y:t.clientY})}},{children:[(0,i.jsx)("div",Object.assign({className:"DefaultListEntry-entryTitleWrapper"},{children:(0,i.jsx)("div",Object.assign({className:"DefaultListEntry-entryTitle"},{children:t}),void 0)}),void 0),(0,i.jsx)("div",Object.assign({className:"DefaultListEntry-entryContent"},{children:""===e.snippetListEntry.metaData.trimmedBody?(0,i.jsx)("span",Object.assign({className:"DefaultListEntry-noContent"},{children:"no content"}),void 0):e.children}),void 0)]}),void 0)]}),void 0)}},function(e,t,n){"use strict";var r=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.appendCustomParagraphNode=t.extractClasses=t.ATTRIBUTE_DEFINITIONS=t.CLASS_PREFIX=void 0,n(685),t.CLASS_PREFIX="CustomParagraph-",t.ATTRIBUTE_DEFINITIONS={TYPE:{name:"type",knownValues:["sticky","quote","box"]},TEXT_ALIGNMENT:{name:"textAlignment",knownValues:["center","right"]},ITEM_ALIGNMENT:{name:"itemAlignment",knownValues:["center"]},BACKGROUND_COLOR:{name:"backgroundColor",knownValues:["blue","red","yellow"]}};var i=Object.values(t.ATTRIBUTE_DEFINITIONS),o=i.map((function(e){var n=e.name;return e.knownValues.map((function(e){return{class:"".concat(t.CLASS_PREFIX).concat(n,"-").concat(e),value:e,name:n}}))})).flat().reduce((function(e,t){var n=t.class,i=t.value,o=t.name;return Object.assign(Object.assign({},e),r({},n,{value:i,name:o}))}),{});function a(e){return i.reduce((function(n,r){var i=r.name,o=r.knownValues;return e.attrs[i]&&o.includes(e.attrs[i])?n.concat("".concat(t.CLASS_PREFIX).concat(i,"-").concat(e.attrs[i])):n}),new Array)}t.extractClasses=a,t.appendCustomParagraphNode=function(e){var t={content:"inline*",group:"block",attrs:i.reduce((function(e,t){var n=t.name;return Object.assign(Object.assign({},e),r({},n,{default:void 0}))}),{}),parseDOM:[{tag:"p",getAttrs:function(e){var t=new Array;return e.classList.forEach((function(e){return t.push(e)})),t.map((function(e){return o[e]})).filter((function(e){return e})).reduce((function(e,t){var n=t.value,i=t.name;return Object.assign(Object.assign({},e),r({},i,n))}),{})}}],toDOM:function(e){var t=a(e);return["p",t.length>0?{class:t.join(" ")}:{},0]}};return e.update("paragraph",t)}},function(e,t,n){"use strict";function r(e){return void 0!==e}Object.defineProperty(t,"__esModule",{value:!0}),t.pick=void 0,t.pick=function(e,t){return e.map((function(e){return t.find((function(t){return t.id===e}))})).filter(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarIcon=void 0;var r=n(0),i=n(9);n(697),t.ToolbarIcon=function(e){return(0,r.jsx)("span",Object.assign({className:["ToolbarIcon",e.classNameOuter].join(" "),onClick:e.onClick,onMouseDown:e.onMouseDown},{children:(0,r.jsx)(i.Icon,{iconName:e.iconName},void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarItem=void 0;var r=n(0);n(698),t.ToolbarItem=function(e){return(0,r.jsx)("span",Object.assign({className:["ToolbarItem",e.className].join(" ")},{children:e.children}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFocusStatePlugin=t.focusStatePluginKey=void 0;var r=n(18),i=n(18),o=n(404);t.focusStatePluginKey=new i.PluginKey("focusStatePlugin"),t.makeFocusStatePlugin=function(){return new r.Plugin({key:t.focusStatePluginKey,state:{init:function(){return{hasFocus:!1}},apply:function(e,n){var r=e.getMeta(t.focusStatePluginKey);if(!r)return n;switch(r.type){case"focus":return{hasFocus:!0};case"blur":return{hasFocus:!1}}}},props:{handleDOMEvents:{blur:function(e){(0,o.sendFocusStateAction)(e.state,e.dispatch,"blur")},focus:function(e){(0,o.sendFocusStateAction)(e.state,e.dispatch,"focus")}}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startMarkInteraction=void 0,t.startMarkInteraction=function(e,t,n){t(e.tr.setMeta(n,{type:"startInteraction"}))}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.insertOnDemand=t.updateDecoratedCandidate=t.insertNewCandidate=void 0;var i=n(18),o=n(97);function a(e,t){return r(e.steps,1)[0].getMap().map(t)}function s(e,t,n,r,i){var o=void 0===i?r:i,s=a(t=t.replaceWith(n.from,n.to,[e.schema.text(o)]),n.to),c={href:r,nolabel:void 0===i};return t=t.addMark(n.from,s,e.schema.marks.link.create(c))}t.insertNewCandidate=function(e,t,n){var r=o.hyperlinkPluginKey.getState(e);if("new-candidate"===r.type){var i=r.range,a=e.doc.textBetween(i.from,i.to),c=e.tr;t(c=s(e,c,i,a,n))}},t.updateDecoratedCandidate=function(e,t,n){var r=o.hyperlinkPluginKey.getState(e);if("marked-candidate"===r.type){var c=r.range,u=r.attrs,d=e.tr;if(u.nolabel)d=function(e,t){var n=e.selection.$cursor.pos,r=a(t,n),o=t.doc.resolve(n>=r?r-1:n);return t.setSelection(new i.TextSelection(o))}(e,d=s(e,d,c,n)),t(d);else{var l=Object.assign(Object.assign({},u),{href:n});t(d=d.addMark(c.from,c.to,e.schema.marks.link.create(l)))}}},t.insertOnDemand=function(e,t,n){if("on-demand-highlight"===o.hyperlinkPluginKey.getState(e).type&&e.selection){var r=e.tr,a={from:e.selection.from,to:e.selection.to},c=e.doc.textBetween(a.from,a.to);0!==c.length&&t(r=(r=s(e,r,a,n,c)).setSelection(new i.TextSelection(r.doc.resolve(a.to))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSnippetReferenceMarkPlugin=t.snippetReferenceMarkPluginKey=void 0;var r=n(18),i=n(402);function o(){return!1}t.snippetReferenceMarkPluginKey=new r.PluginKey("snippetReferenceMark"),t.makeSnippetReferenceMarkPlugin=function(e){return(0,i.makeMarkInteractionPlugin)(t.snippetReferenceMarkPluginKey,e.marks.snippetReference,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderNode=void 0;var r=n(741),i=n(745),o=n(746),a=n(747),s=n(748),c=n(749),u=n(750),d=n(751),l=n(752),p=n(416),f=n(753),m=n(754);t.renderNode=function(e,t){if(e.node.isText)return(0,p.renderTextNode)(e,t);switch(e.node.type.name){case"doc":return(0,o.renderDoc)(e,t);case"paragraph":return(0,d.renderParagraph)(e,t);case"heading":return(0,s.renderHeading)(e,t);case"reminder":return(0,l.renderReminder)(e,t);case"code_block":return(0,i.renderCodeBlock)(e,t);case"hard_break":return(0,a.renderHardBreak)(e,t);case"bullet_list":return(0,r.renderBulletList)(e,t);case"ordered_list":return(0,u.renderOrderedList)(e,t);case"todo_list":return(0,m.renderTodoList)(e,t);case"list_item":return(0,c.renderListItem)(e,t);case"todo_item":return(0,f.renderTodoItem)(e,t);default:return console.log("unhandled node type",e.node.type.name),null}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recompile=void 0;var r=n(3),i=n(325),o=n(162),a=n(428);t.recompile=function(){return function(e){return(0,r.pipe)(e,(0,a.initSnippetMetaDataStore)(),(0,i.compileSnippetList)(),(0,o.compileTagList)())}}},function(e,t,n){"use strict";var r=n(24).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OriginReadynessContext=t.originConfigs=void 0;var o=i(n(1)),a=(n(439),n(332)),s=n(451),c=n(857),u=n(5),d=n(329);t.originConfigs=[d.noopOriginConfig].concat(r(u.isElectron?[s.fileOriginConfig]:[]),r(u.isMocked?[c.mockOriginConfig,a.cloudOriginConfig]:[a.cloudOriginConfig]),r([])),t.OriginReadynessContext=o.default.createContext({ready:"pending"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteToken=t.getToken=t.setToken=void 0;var r=n(333).isLocalhost?"snip-api-token-dev":"snip-api-token";t.setToken=function(e){localStorage.setItem(r,e)},t.getToken=function(){return localStorage.getItem(r)||""},t.deleteToken=function(){localStorage.removeItem(r)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScreenshotMode=t.isMocked=t.isMac=t.isElectron=t.isNativeApp=t.isMobile=t.mode=void 0;var r=["initial","empty","samples","quickAccess","error","delay","screenshots"];t.mode=function(){var e;if("undefined"===typeof document)return{type:"headless"};if(void 0!==window.ReactNativeWebView)return{type:"browser",mobile:!0,mode:{type:"real",os:{type:"native"}}};var t=new URLSearchParams(document.location.search);if(void 0!==(window&&window.process&&window.process.versions&&window.process.versions.electron)){var n=window&&window.process&&window.process.platform;return{type:"electron",os:"darwin"===n?"mac":"win32"===n?"windows":"other"}}if("true"===t.get("mockWindows"))return{type:"browser",mobile:!1,mode:{type:"mock",dataSet:null,screenshotMode:!1,os:{type:"windows"}}};var i=function(){var e=new URLSearchParams(document.location.search).get("mock");if(null===e)return null;if(r.includes(e))return e;throw"invalid data set name"}(),o=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(hover: hover)").matches,a="true"===t.get("forceMobile")||!o,s="true"===t.get("screenshotMode");return null!==i?{type:"browser",mobile:a,mode:{type:"mock",dataSet:i,screenshotMode:s,os:{type:"generic"}}}:{type:"browser",mobile:a,mode:{type:"real",os:{type:"generic"}}}}(),t.isMobile="browser"===t.mode.type&&t.mode.mobile,t.isNativeApp="browser"===t.mode.type&&"real"===t.mode.mode.type&&"native"===t.mode.mode.os.type,t.isElectron="electron"===t.mode.type,t.isMac="electron"===t.mode.type&&"mac"===t.mode.os,t.isMocked="browser"===t.mode.type&&"mock"===t.mode.mode.type,t.isScreenshotMode="browser"===t.mode.type&&"mock"===t.mode.mode.type&&!1!==t.mode.mode.screenshotMode},function(e,t,n){"use strict";function r(e,t,n,i){if(n===t.path.length)return e;var o=t.path[n],a=e.content.find((function(e){return e.name===o})),s=t.path.length-1!==n;return a?s||(a=Object.assign(Object.assign({},a),{data:Object.assign(Object.assign({},t.data),{derived:!1})})):(a={name:o,content:new Array,root:!1,data:Object.assign(Object.assign({},s?i:t.data),{derived:s})},e=Object.assign(Object.assign({},e),{content:e.content.concat([a]).sort((function(e,t){return e.name.localeCompare(t.name)}))})),Object.assign(Object.assign({},e),{content:e.content.map((function(e){return e.name===o?r(e,t,n+1,i):e}))})}function i(e,t,n){return n===e.length||e[n]===t[n]&&i(e,t,n+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.isExactPath=t.isSubPath=t.compileTree=void 0,t.compileTree=function(e,t,n){return e.sort((function(e,t){return e.path.join("/").localeCompare(t.path.join("/"))})).reduce((function(e,t){return r(e,t,0,n)}),{name:"root",root:!0,content:[],data:Object.assign(Object.assign({},t),{derived:!0})})},t.isSubPath=function(e,t){return!(e.length>t.length)&&i(e,t,0)},t.isExactPath=function(e,t){return e.length===t.length&&i(e,t,0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDimensions=void 0;var i=n(1);t.useDimensions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{doPostEvaluation:!1},n=(0,i.useState)(null),o=r(n,2),a=o[0],s=o[1],c=new ResizeObserver((function(e){var t=r(e,1)[0].target.getBoundingClientRect();s(t)}));return(0,i.useEffect)((function(){var n=null===e||void 0===e?void 0:e.current;if(n){c.observe(n);var r=n.getBoundingClientRect();s(r);var i=t.doPostEvaluation&&setTimeout((function(){var e=n.getBoundingClientRect();s(e)}),500);return function(){c.unobserve(n),i&&clearTimeout(i)}}}),[null===e||void 0===e?void 0:e.current]),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.setTimeout,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.clearTimeout,i=void 0,o=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return new Promise((function(o,s){i&&(r(i.timeout),i.reject("Debounced function called before expiration time of ".concat(t,"ms")));var c=function(){o({result:e.apply(null,a)}),i&&(i.done=!0)},u=n((function(){return c()}),t);i={timeout:u,reject:s,execute:c,done:!1}}))},a=function(){i&&(r(i.timeout),i.reject("Debounced function call got cancelled"))},s=function(){i&&!i.done&&(r(i.timeout),i.execute())};return[o,a,s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSubGroup=void 0,t.isSubGroup=function(e,t,n){return e.groups.find((function(e){return e.identifier===n})).parents.includes(t)}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemSizesForLimitedGroup=void 0;var i=n(74);function o(e){return e.items.filter((function(e){return void 0!==e.size}))}t.calculateItemSizesForLimitedGroup=function(e,t){var n=e.groups[t];if("X"!==n.axis)throw"unexpected state: group is vertical.";var a=function(e,t,n){return i.dex.size[t](e.groupDimensions[n].innerDimensions)}(e,"X",t);if(e.target||e.source.index!==t){if(e.target&&e.source.index===t){var s=e.source.listDragState.originalIndex,c=o(n).filter((function(e){return e!==n.items[s]})),u=(a-c.reduce((function(e,t){return e+t.size}),0))/(n.items.length-1-c.length);return n.items.map((function(e){return void 0!==e.size?e.size:u}))}if(e.target&&e.target.index===t){var d=o(n),l=(a-d.reduce((function(e,t){return e+t.size}),0))/(n.items.length-d.length+1);return[].concat(r(n.items.map((function(e){return void 0!==e.size?e.size:l}))),[l])}var p=o(n),f=(a-p.reduce((function(e,t){return e+t.size}),0))/(n.items.length-p.length);return n.items.map((function(e){return void 0!==e.size?e.size:f}))}var m=e.source.listDragState.originalIndex,v=i.dex.size.X(e.groupDimensions[t].entryDimensions[m]),g=o(n).filter((function(e){return e!==n.items[m]})),b=(a-(g.reduce((function(e,t){return e+t.size}),0)+v))/(n.items.length-(g.length+1));return n.items.map((function(e,t){return t===m?v:void 0!==e.size?e.size:b}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventBusSubscription=void 0;var r=n(170);t.useEventBusSubscription=function(e,t){(0,r.useObservable)(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.makeAdapterFactory=t.preventDefault=t.stopPropagation=void 0,t.stopPropagation=function(e){e.stopPropagation()},t.preventDefault=function(e){e.preventDefault()},t.makeAdapterFactory=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){return t.forEach((function(e){return e(n)})),e(n)}}},t.makeEventListenerManager=function(e){var t=new Map;return[function(n,r,i){var o=e(r);t.set(r,o),document.addEventListener(n,o,i)},function(e,n){var r=t.get(n);document.removeEventListener(e,r)}]}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0,t.expand=function(e,t){return e.map((function(e){return t.map((function(t){return[].concat(r(e),r(t))}))})).flat()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCache=t.SECOND_IN_MILLISECONDS=t.MINUTE_IN_MILLISECONDS=t.HOUR_IN_MILLISECONDS=t.DAY_IN_MILLISECONDS=void 0,t.DAY_IN_MILLISECONDS=864e5,t.HOUR_IN_MILLISECONDS=36e5,t.MINUTE_IN_MILLISECONDS=6e4,t.SECOND_IN_MILLISECONDS=1e3,t.makeCache=function(e,t){var n={cache:{}},r=function(e){return"idx".concat(e)};return{rootDate:e,getCacheEntry:function(i){var o=n.cache[r(i)]||t(i,e);return n.cache[r(i)]=o,o}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlusMinusButtons=void 0;var r=n(0),i=n(112);n(618),t.PlusMinusButtons=function(e){return(0,r.jsxs)("div",Object.assign({className:"PlusMinusButtons"},{children:[(0,r.jsx)("div",Object.assign({className:"PlusMinusButtons-button",onMouseDown:function(){return e.onIncrement(-1)}},{children:(0,r.jsx)(i.Icon,{iconName:"minus"},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"PlusMinusButtons-label"},{children:e.children}),void 0),(0,r.jsx)("div",Object.assign({className:"PlusMinusButtons-button",onMouseDown:function(){return e.onIncrement(1)}},{children:(0,r.jsx)(i.Icon,{iconName:"plus"},void 0)}),void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoToOriginSettingsButton=void 0;var r=n(0),i=n(5);t.GoToOriginSettingsButton=function(e){var t=(0,i.useObject)("eventBuses").errorRendererEventBus;return(0,r.jsx)("button",Object.assign({className:"CommonUI-button CommonUI-button-without-border",onClick:function(){return t.emit({type:"request-settings-page",args:{page:"origin",origin:e.origin}})}},{children:e.label||"Configure"}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.originErrorRenderer=t.compileNoOriginConfiguredErrorDetails=t.compileOriginNotConfiguredErrorDetails=void 0;var r=n(0),i=n(121),o=n(305);t.compileOriginNotConfiguredErrorDetails=function(e){return{layer:"origin",type:"not-configured",origin:e}},t.compileNoOriginConfiguredErrorDetails=function(){return{layer:"origin",type:"none-configured"}};t.originErrorRenderer=function(e,t){if(!function(e){return!!e&&"origin"===e.layer}(e))return null;switch(e.type){case"not-configured":return(0,r.jsx)(i.SimpleErrorView,{title:"Origin not configured",description:(0,r.jsxs)("span",{children:["Origin ",(0,r.jsx)("em",{children:e.origin},void 0)," appears not to be configured. \xa0",(0,r.jsx)(o.GoToOriginSettingsButton,{origin:e.origin},void 0)]},void 0)},void 0);case"none-configured":return(0,r.jsx)(i.SimpleErrorView,{title:"No origin configured",description:(0,r.jsxs)("span",{children:["Please configure at least one origin. \xa0",(0,r.jsx)(o.GoToOriginSettingsButton,{origin:"cloud"},void 0)]},void 0)},void 0)}}},function(e,t,n){"use strict";var r=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageSupport=t.extensionToLanguage=t.supportedLanguages=void 0;var i=n(985),o=n(986),a=n(646),s=n(292),c=n(291),u=n(166),d=n(987),l=n(988),p=n(989),f=n(990),m=n(991),v=n(992),g=n(647),b=n(648),h=n(649),j=n(650),y=n(651),O=n(652),x=n(653),S=n(654),w=n(993),I=n(655),E=n(656),k=n(657),M=n(658),D=n(659),_=n(660),P=n(661),C=n(662),T=n(663),N=n(664),R=n(665),A=n(666),L=n(667);t.supportedLanguages=[{name:"markdown",extensions:["md"],displayName:"Markdown"},{name:"php",extensions:["php"],displayName:"PHP"},{name:"sql",extensions:["sql"],displayName:"SQL"},{name:"css",extensions:["css"],displayName:"CSS"},{name:"javascript",extensions:["js"],displayName:"Javascript"},{name:"typescript",extensions:["ts"],displayName:"Typescript"},{name:"html",extensions:["html"],displayName:"HTML"},{name:"xml",extensions:["xml"],displayName:"XML"},{name:"python",extensions:["py"],displayName:"Python"},{name:"rust",extensions:["rs"],displayName:"Rust"},{name:"cpp",extensions:["cpp"],displayName:"C++"},{name:"java",extensions:["java"],displayName:"Java"},{name:"json",extensions:["json"],displayName:"Json"},{name:"clike",extensions:["clike"],displayName:"C"},{name:"clojure",extensions:["clj"],displayName:"Clojure"},{name:"cmake",extensions:["make","cmake"],displayName:"Make"},{name:"cobol",extensions:["cbl"],displayName:"COBOL"},{name:"coffeescript",extensions:["coffee"],displayName:"Coffeescript"},{name:"lisp",extensions:["lisp"],displayName:"Lisp"},{name:"diff",extensions:["diff"],displayName:"Diff"},{name:"dockerfile",extensions:["Dockerfile"],displayName:"Dockerfile"},{name:"elm",extensions:["elm"],displayName:"Elm"},{name:"erlang",extensions:["erl"],displayName:"Erlang"},{name:"fortran",extensions:["f90"],displayName:"Fortran"},{name:"go",extensions:["go"],displayName:"Go"},{name:"groovy",extensions:["groovy"],displayName:"Groovy"},{name:"haskell",extensions:["hs"],displayName:"Haskell"},{name:"http",extensions:["http"],displayName:"HTTP"},{name:"nginx",extensions:["nginx"],displayName:"Nginx"},{name:"pascal",extensions:["pascal"],displayName:"Pascal"},{name:"perl",extensions:["perl"],displayName:"Perl"},{name:"powershell",extensions:["ps1"],displayName:"PowerShell"},{name:"ruby",extensions:["rb"],displayName:"Ruby"},{name:"shell",extensions:["sh"],displayName:"Shell"}],t.extensionToLanguage=t.supportedLanguages.reduce((function(e,t){return Object.assign(Object.assign({},e),t.extensions.reduce((function(e,n){return Object.assign(Object.assign({},e),r({},n,t.name))}),{}))}),{}),t.getLanguageSupport=function(e){switch(e){case"markdown":return(0,i.markdown)();case"php":return(0,o.php)();case"sql":return(0,a.sql)();case"css":return(0,s.css)();case"javascript":return(0,c.javascript)();case"typescript":return(0,c.javascript)({typescript:!0});case"html":return(0,u.html)();case"xml":return(0,d.xml)();case"python":return(0,l.python)();case"rust":return(0,p.rust)();case"cpp":return(0,f.cpp)();case"java":return(0,m.java)();case"json":return(0,v.json)();case"clike":return g.StreamLanguage.define((0,b.clike)({}));case"clojure":return g.StreamLanguage.define(h.clojure);case"cmake":return g.StreamLanguage.define(j.cmake);case"cobol":return g.StreamLanguage.define(y.cobol);case"coffeescript":return g.StreamLanguage.define(O.coffeeScript);case"lisp":return g.StreamLanguage.define(x.commonLisp);case"diff":return g.StreamLanguage.define(S.diff);case"dockerfile":return g.StreamLanguage.define(w.dockerFile);case"elm":return g.StreamLanguage.define(I.elm);case"erlang":return g.StreamLanguage.define(E.erlang);case"fortran":return g.StreamLanguage.define(k.fortran);case"go":return g.StreamLanguage.define(M.go);case"groovy":return g.StreamLanguage.define(D.groovy);case"haskell":return g.StreamLanguage.define(_.haskell);case"http":return g.StreamLanguage.define(P.http);case"nginx":return g.StreamLanguage.define(C.nginx);case"pascal":return g.StreamLanguage.define(T.pascal);case"perl":return g.StreamLanguage.define(N.perl);case"powershell":return g.StreamLanguage.define(R.powerShell);case"ruby":return g.StreamLanguage.define(A.ruby);case"shell":return g.StreamLanguage.define(L.shell);default:return}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.findOccurences=t.highlightRanges=t.searchHighlights=t.highlightMark=void 0;var i=n(19),o=n(8),a=n(994),s=o.StateEffect.define();function c(e){return e.is(s)}var u=i.EditorView.baseTheme({".cm-snip-highlight":{color:"var(--search-highlight-color-1)",backgroundColor:"var(--search-highlight-background-color-1)"},".cm-snip-active-highlight":{color:"var(--search-highlight-color-1)",backgroundColor:"var(--search-highlight-background-color-2)"}});t.highlightMark=i.Decoration.mark({class:"cm-snip-highlight"});var d=i.Decoration.mark({class:"cm-snip-active-highlight"}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Decoration.none;return o.StateField.define({create:function(){return e},update:function(e,n){var r=n.effects.find(c);if(!r)return e;if(0===r.value.ranges.length)return i.Decoration.none;var o=r.value.currentlyHighlightedOccurenceIndex,a=r.value.ranges,s=o%r.value.ranges.length;return i.Decoration.set(a.map((function(e,n){return 0<=o&&n===s?d.range(e.from,e.to):t.highlightMark.range(e.from,e.to)})))},provide:function(e){return i.EditorView.decorations.from(e)}})};function p(e,t){return e.next(),e.done?t:p(e,[].concat(r(t),[e.value]))}t.searchHighlights=function(e){return[u,l(e)]},t.highlightRanges=function(e,t,n){var r=s.of({currentlyHighlightedOccurenceIndex:n,ranges:t});return e.dispatch({effects:[r]}),!0},t.findOccurences=function(e,t){return p(new a.SearchCursor(e.state.doc,t),[]).map((function(t){return{range:{start:t.from,end:t.to},coordinates:(n=e.coordsAtPos(t.from),n||{top:0,bottom:0,left:0})};var n}))}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusRequest=void 0;var i=n(3);function o(e){var t=r(e,3),n=t[0],i=t[1],o=t[2];return function(e){var t=function(){return setTimeout((function(){return o()}))};switch(e.type){case"any":return void t();case"lastActive":return void((null===i||void 0===i?void 0:i.id)===n&&t());case"specific":return void(e.id===n&&t())}}}t.useFocusRequest=function(e,t,n,r){var a=(0,i.useStateFromEventBus)(e);(0,i.useEventBusSubscription)(t,(0,i.useFactory)(o,[n,a,r],[]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchInText=void 0;t.searchInText=function(e,t,n){for(var r=0,i=null,o=[];(i=e.exec(t))&&r++<1e3;)o.push({from:n+i.index,to:n+i.index+i[0].length,text:t});return o}},,function(e,t,n){"use strict";var r=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.appendCustomMarks=t.nameToTagMapping=t.KNOWN_FONT_SIZES=t.KNOWN_COLORS=void 0;var i=n(5);function o(e,t){return"".concat(e).concat((0,i.capitalize)(t))}t.KNOWN_COLORS=["blue","red","yellow"],t.KNOWN_FONT_SIZES=["small","big"];var a=[{prefix:"color",tagPrefix:"color",knownValues:t.KNOWN_COLORS},{prefix:"backgroundColor",tagPrefix:"background-color",knownValues:t.KNOWN_COLORS},{prefix:"fontSize",tagPrefix:"font-size",knownValues:t.KNOWN_FONT_SIZES}].map((function(e){var t=e.prefix,n=e.tagPrefix,r=e.knownValues;return{prefix:t,tagPrefix:n,knownValues:r,excludes:r.map((function(e){return o(t,e)})).join(" ")}})),s=a.reduce((function(e,t){var n=t.prefix,i=t.tagPrefix,a=t.knownValues,s=t.excludes;return Object.assign(Object.assign({},e),a.reduce((function(e,t){return Object.assign(Object.assign({},e),r({},o(n,t),function(e,t){return{excludes:t,parseDOM:[{tag:e}],toDOM:function(t){return[e,0]}}}(function(e,t){return"".concat(e,"-").concat(t)}(i,t),s)))}),{}))}),{});t.nameToTagMapping=a.reduce((function(e,t){return Object.assign(Object.assign({},e),t.knownValues.reduce((function(e,n){return Object.assign(Object.assign({},e),r({},"".concat(t.prefix).concat((0,i.capitalize)(n)),"".concat(t.tagPrefix,"-").concat(n)))}),{}))}),{}),t.appendCustomMarks=function(e){return e.append(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var r=n(0);n(689),t.Toolbar=function(e){return(0,r.jsx)("div",Object.assign({className:["Toolbar",e.classNameOuter].join(" ")},{children:(0,r.jsx)("div",Object.assign({className:["Toolbar-inner",e.classNameInner].join(" ")},{children:e.children}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMarkAtCursor=void 0,t.findMarkAtCursor=function(e,t){var n,r;if(e.selection.$cursor){var i=function(e){return e.type===t};return e.selection.$cursor.marks().find(i)||(null===(n=e.selection.$cursor.nodeBefore)||void 0===n?void 0:n.marks.find(i))||(null===(r=e.selection.$cursor.nodeAfter)||void 0===r?void 0:r.marks.find(i))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClipboardIndicatorAnimationSteps=void 0;var r=n(3),i=[{terminal:!0,config:{duration:0,data:{active:!1}}},{config:{duration:1500,data:{active:!0}}}];t.useClipboardIndicatorAnimationSteps=function(){return(0,r.useAnimationSteps)(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMark=void 0,t.removeMark=function(e,t,n,r){var i=r.getState(e);if("inactive"!==i.type&&"new-candidate"!==i.type&&"on-demand-highlight"!==i.type){var o=e.tr;t(o=o.removeMark(i.range.from,i.range.to,n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endMarkInteraction=void 0,t.endMarkInteraction=function(e,t,n){t(e.tr.setMeta(n,{type:"endInteraction"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.produceFileMetaData=t.getBodyFromTextContent=void 0;var r=n(69);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.split("\n").filter((function(e,n){return(!t||0!==n)&&" "!==e})).join(" ")}function o(e,t,n){var r=e.textContent.trim();if(""!==r)return r;var i=1/0;return n.descendants((function(e,o,a){if(a===n)return!0;var s=a.textContent.trim(),c=Math.abs(t-o);""!==s&&c<i&&(r=s,i=c)})),r}function a(e){var t=[];return e.descendants((function(n,r,i){return"reminder"===n.type.name&&function(e,t,n,r,i){var a=e.attrs;i.push({id:a.createdAt,createdAt:a.createdAt,date:a.date,expression:a.expression,text:o(n,t,r),repeatDescription:a.repeatDescription})}(n,r,i,e,t),!0})),{reminders:t,snippetReferences:[]}}t.getBodyFromTextContent=i,t.produceFileMetaData=function(e,t,n,o){var s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t=t.trim();var u=(0,r.getTextFromDoc)(n),d=""!==t.trim(),l=null===(s=u.match(/^(.*)$/m))||void 0===s?void 0:s[1],p=d?t:l||"",f=i(u,c||!d).substring(0,150).trim(),m=a(n),v=m.reminders;return{id:e,normalizedLanguage:o,title:p,trimmedBody:f,reminders:v}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=void 0;var r=n(72);function i(e,t,n){return new r.InputRule(e,(function(e,r,i,o){var a=n instanceof Function?n(r):n,s=e.tr;if(r[1]){var c=i+r[0].indexOf(r[1]),u=c+r[1].length;u<o&&s.delete(u,o),c>i&&s.delete(i,c),o=i+r[1].length}return s.addMark(i,o,t.create(a)).removeStoredMark(t).insertText(" ")}))}t.buildCustomInputRules=function(e){return(0,r.inputRules)({rules:[(0,r.wrappingInputRule)(/^\s*([+])\s$/,e.nodes.todo_list),i(/\*\*(\S(?:|.*?\S))\*\*\s$/,e.marks.strong),i(/\*(\S(?:|.*?\S))\*\s$/,e.marks.em),i(/`(\S(?:|.*?\S))`\s$/,e.marks.code)]})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyTemplates=void 0;var i=r(n(104));t.applyTemplates=function(e){var t={},n=document.createElement("div");return e.forEach((function(e){i.default.render(e.node,n,(function(){t[e.targetName]=n.cloneNode(!0),i.default.unmountComponentAtNode(n),n.remove()}))})),t}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeWithContext=void 0,t.getNodeWithContext=function e(t,n,i,o,a){var s=function(e){var t=new Array;return e.content.forEach((function(e){return t.push(e)})),t}(t),c=s.reduce((function(e,t){return{items:[].concat(r(e.items),[{node:t,from:e.currentStartPosition}]),currentStartPosition:e.currentStartPosition+t.nodeSize+1}}),{items:new Array,currentStartPosition:i}),u={node:t,parent:n,from:i,to:i+t.nodeSize,level:o,children:[],index:a},d=c.items.map((function(t,n){return e(t.node,u,t.from,o+1,n)}));return u.children=d,u}},,function(e,t,n){"use strict";var r=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDiff=void 0,t.calculateDiff=function(e,t,n,i){var o=function e(t){var o=t.listA,a=t.listB,s=t.unchanged,c=t.missingInA,u=t.missingInB,d=t.changed,l=t.previousA,p=t.previousB;if(0===o.length)return{listA:[],listB:[],unchanged:s,missingInA:c.concat(a),missingInB:u,changed:d,previousA:l,previousB:p};if(0===a.length)return{listA:[],listB:[],unchanged:s,missingInA:c,missingInB:u.concat(o),changed:d,previousA:l,previousB:p};var f=r(o),m=f[0],v=f.slice(1),g=r(a),b=g[0],h=g.slice(1);if(l&&n(m,l)<0)throw"listA appears to be unsorted!";if(p&&n(b,p)<0)throw"listB appears to be unsorted!";var j=n(m,b);return 0===j?i(m,b)?e({listA:v,listB:h,unchanged:s.concat(b),missingInA:c,missingInB:u,changed:d,previousA:m,previousB:b}):e({listA:v,listB:h,unchanged:s,missingInA:c,missingInB:u,changed:d.concat({a:m,b:b}),previousA:m,previousB:b}):e(j>0?{listA:o,listB:h,unchanged:s,missingInA:c.concat(b),missingInB:u,changed:d,previousA:m,previousB:b}:{listA:v,listB:a,unchanged:s,missingInA:c,missingInB:u.concat(m),changed:d,previousA:m,previousB:b})}({listA:e,listB:t,unchanged:[],missingInA:[],missingInB:[],changed:[],previousA:null,previousB:null}),a=o.unchanged,s=o.missingInB;return{unchanged:a,missingInA:o.missingInA,missingInB:s,changed:o.changed}}},function(e,t,n){"use strict";var r=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.updateSettings=t.reducer=t.defaultSettings=t.defaultOrigin=void 0;var i=n(5),o=n(3),a=o.treeView.updateCollapsedPaths;function s(e,n){var i,s;switch(n.type){case"initialize":return n.settings||t.defaultSettings;case"selectTagPath":return Object.assign(Object.assign({},e),{selectedTagPath:n.path,showOnlyDeleted:!1});case"setCollapsedTagPath":return Object.assign(Object.assign({},e),{collapsedPaths:a(e.collapsedPaths,n.path,n.collapsed)});case"selectArchive":return Object.assign(Object.assign({},e),{selectedTagPath:[],showOnlyDeleted:!0});case"toggleSidebar":return Object.assign(Object.assign({},e),{sidebarToggles:Object.assign(Object.assign({},e.sidebarToggles),r({},n.sidebar,null!==(i=n.value)&&void 0!==i?i:(0,o.normalizeCounter)(e.sidebarToggles[n.sidebar]+1,2)))});case"setSidebarWidth":return Object.assign(Object.assign({},e),{sidebarWidths:Object.assign(Object.assign({},e.sidebarWidths),r({},n.sidebar,n.value))});case"setThemeName":return Object.assign(Object.assign({},e),{themeName:n.value});case"toggleScrollbarStyling":return Object.assign(Object.assign({},e),{scrollbarStylingToggle:null!==(s=n.value)&&void 0!==s?s:(0,o.normalizeCounter)(e.scrollbarStylingToggle+1,2)});case"setOriginSettings":return Object.assign(Object.assign({},e),{originSettings:e.originSettings.filter((function(e){return e.origin!==n.origin})).concat({origin:n.origin,settings:Object.assign(Object.assign({},(e.originSettings.find((function(e){return e.origin===n.origin}))||{}).settings||{}),n.settings)})});case"setDefaultOrigin":return Object.assign(Object.assign({},e),{defaultOrigin:n.origin});case"toggleShrinkInFullScreen":return Object.assign(Object.assign({},e),{shrinkInFullScreen:!e.shrinkInFullScreen})}}t.defaultOrigin=i.isMocked?"mock":i.isElectron?"noop":"cloud",t.defaultSettings={selectedTagPath:[],showOnlyDeleted:!1,sidebarWidths:{tags:200,snippetList:200},sidebarToggles:{tags:1,snippetList:1},collapsedPaths:[],themeName:"silver",scrollbarStylingToggle:i.isMac?0:1,originSettings:[],defaultOrigin:t.defaultOrigin,shrinkInFullScreen:!0},t.reducer=s;t.updateSettings=function(e){return function(t){var n=t;return n=Object.assign(Object.assign({},n),{settings:s(t.settings,e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileSnippetList=void 0;var r=n(125);t.compileSnippetList=function(){return function(e){return Object.assign(Object.assign({},e),{derivedState:Object.assign(Object.assign({},e.derivedState),{snippetList:(0,r.compileSnippetList)(e.store,e.derivedState.snippetMetaDataStore,(function(){return!0}))})})}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=void 0;var i=n(159);t.mergeStores=function(e,t,n,o){return t.reduce((function(e,t){var a=e.mergedStore,s=e.changedIds,c=a.find((function(e){return e.id===t.id}));if(void 0===c||n(c.item,t.item)){var u=(0,i.save)(a,t.id,t.item.document,t.item.dirty,o,{updatedAt:t.item.updatedAt,config:{permanent:t.item.permanent}});return u===a?{mergedStore:a,changedIds:s}:{mergedStore:u,changedIds:[].concat(r(s),[t.id])}}return{mergedStore:a,changedIds:s}}),{mergedStore:e,changedIds:new Array})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withEffects=void 0;t.withEffects=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return[e,t]}}},function(e,t,n){"use strict";var r=n(20).default,i=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useScheduledReminders=t.getScheduledRemindersInCurrentRange=t.getEarliestPossibleReminderDate=t.getScheduledReminders=t.TIME_RANGE=t.ONE_HOUR_IN_MILLISECONDS=void 0;var o=n(1),a=n(47),s=n(5),c=n(3),u=n(323);t.ONE_HOUR_IN_MILLISECONDS=36e5;var d=24*t.ONE_HOUR_IN_MILLISECONDS*7;function l(e,t,n){return n.reduce((function(n,r){return r.repeatDescription?[].concat(i(n),i((0,a.compileRepeatDatesBetween)(Math.max(r.createdAt,e),t,r.date,r.repeatDescription).map((function(e){return{reminder:r,date:e}})))):r.date<e||t<r.date||r.date<r.createdAt?n:[].concat(i(n),[{reminder:r,date:r.date}])}),[])}function p(e){return e-t.TIME_RANGE}function f(e){var n=Date.now();return l(p(n),n+t.TIME_RANGE,e)}t.TIME_RANGE=d,t.getScheduledReminders=l,t.getEarliestPossibleReminderDate=p,t.getScheduledRemindersInCurrentRange=f;var m=function(e,t){return(0,s.makeScheduledReminderId)(e).localeCompare((0,s.makeScheduledReminderId)(t))};function v(e,t){var n=(0,u.calculateDiff)(e,t,m,(function(){return!0}));return{newScheduledReminders:n.missingInA,removedScheduledReminders:n.missingInB}}function g(e,t){switch(t.type){case"updateAll":var n=f(t.reminders).sort(m),r=v(e.scheduledReminders,n);return 0===r.newScheduledReminders.length&&0===r.removedScheduledReminders.length?[e,[]]:[{reminders:t.reminders,scheduledReminders:n},[Object.assign({type:"onUpdate"},r)]];case"refresh":var i=f(e.reminders).sort(m),o=v(e.scheduledReminders,i);return 0===o.newScheduledReminders.length&&0===o.removedScheduledReminders.length?[e,[]]:[Object.assign(Object.assign({},e),{scheduledReminders:i}),[Object.assign({type:"onUpdate"},o)]]}}function b(e){var t=r(e,1)[0];return function(e,n){return t.emit(n),Promise.resolve()}}t.useScheduledReminders=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.debounce,i=(0,c.useFactory)(b,[t],[]),a=(0,c.useReducerWithEffects)(g,i,{reminders:[],scheduledReminders:[]}),s=r(a,2),u=s[0],d=s[1],l=(0,o.useCallback)((function(){return d({type:"refresh"})}),[]);return(0,c.useDebouncedEffect)((function(){d({type:"updateAll",reminders:e})}),1e3,[e],n),[u.scheduledReminders,l]}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.noopOriginConfig=void 0;var o=n(91),a=n(306);t.noopOriginConfig={origin:"noop",backendFactory:function(){return function(){var e=(0,o.errorWithDetails)(null,(0,a.compileNoOriginConfiguredErrorDetails)());return{update:function(){return new Promise((function(t,n){return n(e)}))},fetchAll:function(){return new Promise((function(e){return e({results:[],errors:[]})}))}}}()},defaultConfig:{displayName:"None",enabled:!0},iconName:"origin",renderSettingsPage:function(){return null},checkReadyness:function(){return i(void 0,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{ready:!1,reason:"Not ready."});case 1:case"end":return e.stop()}}),e)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldCreate=void 0;var r=n(122);t.shouldCreate=function(e){return e.id.startsWith(r.LOCAL_ID_PREFIX)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDelete=void 0,t.shouldDelete=function(e){return!0===e.permanent.obsolete.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginConfig=void 0;var r=n(0),i=n(842),o=n(844),a=n(126),s=n(449),c=n(450);t.cloudOriginConfig={origin:"cloud",backendFactory:function(){return(0,i.makeCloudBackend)((0,a.makeSnipCloudHttp)("/documents"))},defaultConfig:c.defaultConfig,iconName:"snip-cloud-origin",renderSettingsPage:function(){return(0,r.jsx)(o.CloudOriginSettingsPage,{},void 0)},checkReadyness:s.checkReadyness}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalhost=void 0,t.isLocalhost="localhost"===document.location.hostname},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FormContextProvider=t.useFormContext=void 0;var a=n(0),s=o(n(1)),c=s.default.createContext({state:void 0,setState:void 0});t.useFormContext=function(){return(0,s.useContext)(c)},t.FormContextProvider=function(e){return(0,a.jsx)(c.Provider,Object.assign({value:e},{children:e.children}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useElectronEvent=void 0;var r=n(1),i=n(5);t.useElectronEvent=function(e,t){(0,r.useEffect)((function(){var n=(0,i.getElectron)().ipcRenderer,r=function(e,n){t(n)};return n.on(e,r),function(){return n.removeListener(e,r)}}),[t])}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElectron=void 0,t.getElectron=function(){return window.require("electron")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postClientWebViewMessage=void 0;t.postClientWebViewMessage=function(e){return window.ReactNativeWebView.postMessage(JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDistinctElectronSend=t.makeElectronSend=void 0;var r=n(338),i=n(294);function o(e){if(!i.isElectron)return function(){};var t=(0,r.getElectron)().ipcRenderer;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.send.apply(t,[e].concat(r))}}t.makeElectronSend=o,t.makeDistinctElectronSend=function(e){var t=o(e),n=[];return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.some((function(e,t){return n[t]!==e}));o&&t.apply(void 0,r),n=r}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollIntoView=void 0;var r=n(1);t.useScrollIntoView=function(e){return(0,r.useEffect)((function(){if(e.condition){var t=function(){var t,n;return null===(n=null===(t=e.refs.current)||void 0===t?void 0:t[e.index])||void 0===n?void 0:n.scrollIntoView(Object.assign(Object.assign({},e.animate?{behavior:"smooth"}:{}),{block:"nearest"}))};e.useTimeout?setTimeout(t,0):t()}}),[e.dependency])}},,function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.compileEntries=t.updateCollapsedPaths=void 0;var i=n(295);function o(e,t,n,a,s,c,u){return e.content.reduce((function(e,t){var s=r(e,2),d=s[0],l=s[1],p=n.concat([t.name]),f=function(e,t){return e.some((function(e){return(0,i.isExactPath)(t,e)}))}(u,p);return o(t,d=d.concat([{name:t.name,depth:a,hasChildren:t.content.length>0,index:l,isInsideCollapsed:c,isCollapsed:f,path:p,data:t.data}]),p,a+1,l+1,c||f,u)}),[t,s])}t.updateCollapsedPaths=function(e,t,n){return n?e.concat([t]):e.filter((function(e){return!(0,i.isExactPath)(t,e)}))},t.compileEntries=function(e,t){return o(e,[],[],0,0,!1,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCollapseToggler=t.makeRightNavigationHandler=t.makeLeftNavigationHandler=t.makeVerticalNavigationHandler=t.findNextSelectable=t.findNextCollapsible=void 0;var r=n(95);function i(e,t,n,i){for(var o=0,a=t;o<n.length&&(o++,!i(a=(0,r.normalizeCounter)(t+o*e,n.length))););return a}function o(e,t,n){return n[i(e,t,n,(function(e){return!0===n[e].hasChildren&&!n[e].isInsideCollapsed}))]}function a(e,t,n){return n[i(e,t,n,(function(e){return!1===n[e].isInsideCollapsed}))]}t.findNextCollapsible=o,t.findNextSelectable=a,t.makeVerticalNavigationHandler=function(e,t,n,r){return function(i){return i.preventDefault(),t(a(e,n,r)),i}},t.makeLeftNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&!a.isCollapsed?t(n,!0):e(o(-1,n,r)),i}},t.makeRightNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&a.isCollapsed?t(n,!1):e(o(1,n,r)),i}},t.makeCollapseToggler=function(e,t,n){return function(r){r.preventDefault();var i=n[t];return i.hasChildren&&e(t,!i.isCollapsed),r}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewWrapperBindings=t.makeDefaultTreeViewKeyHandlerChain=t.useTreeView=t.findIndex=void 0;var i=n(1),o=n(295),a=n(95),s=n(346),c=n(347);function u(e,t){switch(t.type){case"setCollapsed":return function(){var n=(0,s.updateCollapsedPaths)(e.collapsedPaths,e.entries[t.index].path,t.collapsed),i=(0,s.compileEntries)(e.tree,n),o=r(i,1)[0];return Object.assign(Object.assign({},e),{collapsedPaths:n,entries:o})}();case"set":return function(){var n=(0,s.compileEntries)(t.tree,e.collapsedPaths),i=r(n,1)[0];return Object.assign(Object.assign({},e),{tree:t.tree,entries:i})}()}}t.findIndex=function(e,t){return Math.max(0,t.findIndex((function(t){return(0,o.isExactPath)(t.path,e)})))},t.useTreeView=function(e){var t=e.tree,n=e.collapsedPaths,o=(0,i.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,s.compileEntries)(e,t),i=r(n,1)[0];return{tree:e,collapsedPaths:t,entries:i}}(t,n)}),[]),a=(0,i.useReducer)(u,o),c=r(a,2),d=c[0],l=c[1];return(0,i.useEffect)((function(){l({type:"set",tree:t})}),[t]),[d,l]},t.makeDefaultTreeViewKeyHandlerChain=function(e,t,n,r){return[(0,a.buildKeyboardEventHandlerChainItem)(a.KEY_CODES.UP_ARROW,(0,c.makeVerticalNavigationHandler)(-1,n,t,e.entries)),(0,a.buildKeyboardEventHandlerChainItem)(a.KEY_CODES.DOWN_ARROW,(0,c.makeVerticalNavigationHandler)(1,n,t,e.entries)),(0,a.buildKeyboardEventHandlerChainItem)(a.KEY_CODES.ENTER,(0,c.makeCollapseToggler)(r,t,e.entries)),(0,a.buildKeyboardEventHandlerChainItem)(a.KEY_CODES.SPACE,(0,c.makeCollapseToggler)(r,t,e.entries))]},t.makeTreeViewWrapperBindings=function(e){return{onKeyDown:(0,a.buildHandler)(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEditableLabel=t.makeEditableLabelLabelBindings=t.makeEditableLabelInputFieldBindings=void 0;var r=n(350);t.makeEditableLabelInputFieldBindings=function(e){return{onBlur:function(){return e.setToggled(!1)},onKeyPress:function(t){return"Enter"===t.key&&e.setToggled(!1)}}},t.makeEditableLabelLabelBindings=function(e){return Object.assign(Object.assign({},e.useDoubleClick?{onDoubleClick:function(){return e.setToggled(!0)}}:{onClick:function(){return e.setToggled(!0)}}),e.useMouseDown?{onMouseDown:function(){return e.setToggled(!0)}}:{})},t.useEditableLabel=function(e){return(0,r.useToggle)(e)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useToggle=t.parseOffOrOn=void 0;var i=n(351),o=n(169),a=n(1);t.parseOffOrOn=function(e){return parseInt(e)},t.useToggle=function(e){var t=(0,i.useCyclicCounter)(2,0),n=r(t,3),s=n[0],c=n[2],u=c.inc,d=c.min,l=c.max;return(0,o.useStateChangeEffect)(s,(0,a.useMemo)((function(){return[{test:function(e,t){return void 0!==e&&e!==t},run:function(t,n){var r;return null===(r=null===e||void 0===e?void 0:e.onToggle)||void 0===r?void 0:r.call(e,1===n)}}]}),[null===e||void 0===e?void 0:e.onToggle])),[1===s,u,(0,a.useCallback)((function(e){return e?l():d()}),[])]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useCyclicCounter=void 0;var i=n(1),o=n(95),a=n(79);function s(e,t){switch(t.type){case"step":return Object.assign(Object.assign({},e),{counter:(0,o.normalizeCounter)(e.counter+t.amount,e.length)});case"set":return Object.assign(Object.assign({},e),{counter:(0,o.normalizeCounter)(t.value,e.length)})}}function c(e,t){return e({type:"step",amount:t})}function u(e,t){return e({type:"set",value:t})}function d(e,t){var n=r(e,1)[0],i=r(t,1)[0];return{inc:function(){return c(i,1)},dec:function(){return c(i,-1)},min:function(){return u(i,0)},max:function(){return u(i,n-1)},set:function(e){return u(i,e)}}}t.useCyclicCounter=function(e,t){var n=(0,i.useMemo)((function(){return{counter:(0,o.normalizeCounter)(t,e),length:e}}),[]),c=(0,i.useReducer)(s,n),u=r(c,2),l=u[0],p=u[1],f=(0,a.useFactory)(d,[e],[p]);return[l.counter,p,f]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;var r=n(1);t.usePrevious=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";var r=n(55).default,i=n(24).default,o=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useReducerWithEffectsSynced=void 0;var a=n(1),s=n(79);function c(e,t){var n=o(e,1)[0];r(t);return function(e,t){var r=function(e,t,n){if(function(e){return"apply"===e.internalType}(n)){var r=t.effects.filter((function(e){return e!==n.effect})),a=n.actions.reduce((function(t,n){var r=t.currentState,a=t.currentEffects,s=e(r,n),c=o(s,2),u=c[0],d=c[1];return{currentState:u,currentEffects:[].concat(i(a),i(d))}}),{currentState:t.state,currentEffects:new Array}),s=a.currentState,c=a.currentEffects;return[s,[].concat(i(r),i(c))]}var u=e(t.state,n),d=o(u,2),l=d[0],p=d[1];return[l,0<p.length?[].concat(i(t.effects),i(p)):t.effects]}(n,e,t),a=o(r,2);return{state:a[0],effects:a[1]}}}t.useReducerWithEffectsSynced=function(e,t,n){var r=(0,s.useFactory)(c,[e],[]),i=(0,a.useReducer)(r,(0,a.useMemo)((function(){return{state:n,effects:[]}}),[])),u=o(i,2),d=u[0],l=u[1];return(0,a.useEffect)((function(){if(d.effects.length>0){var e=d.effects[0],n=t(d.state,e,l);l({internalType:"apply",actions:n,effect:e})}}),[d.effects]),[d.state,l]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useSimpleDrag=void 0;var i=n(79),o=n(153);function a(e,t){return e-t}function s(e,t){switch(t.type){case"start":return[{startCoordinates:{x:t.event.clientX,y:t.event.clientY},currentCoordinates:{x:t.event.clientX,y:t.event.clientY},currentDelta:{x:0,y:0},metaData:t.metaData},[{type:"start"}]];case"drag":if(!e)throw"unexpected state";return[Object.assign(Object.assign({},e),{currentCoordinates:{x:t.event.clientX,y:t.event.clientY},currentDelta:{x:a(t.event.clientX,e.startCoordinates.x),y:a(t.event.clientY,e.startCoordinates.y)}}),[]];case"stop":return[null,[]]}}function c(e,t){e({type:"drag",event:t})}function u(e,t,n,r){n("mousemove",t),e({type:"stop"})}function d(e){var t=r(e,2),n=t[0],i=t[1];return function(e,t,r){if("start"===t.type){var o=c.bind({},r),a=u.bind({},r,o,i);return n("mousemove",o),n("mouseup",a,{once:!0}),Promise.resolve()}}}t.useSimpleDrag=function(e,t){var n=(0,i.useFactory)(d,[e,t],[]),a=(0,o.useReducerWithEffects)(s,n,null),c=r(a,2);return[c[0],c[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patchListDragStateHandlePosition=void 0;var r=n(96);t.patchListDragStateHandlePosition=function(e,t){return Object.assign(Object.assign({},e),{listDragState:Object.assign(Object.assign({},e.listDragState),{initialHandlePosition:t,handleOffsetRelativeToEndPosition:(0,r.calculateHandleOffsetRelativeToEndPosition)(e.listDragState.entryEndPositions[e.listDragState.originalIndex],t,e.listDragState.offset)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutRecalculation=void 0,t.getLayoutRecalculation=function(e,t){var n,r,i,o;return{oldTarget:null!==(r=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==r?r:e.source.index,newTarget:null!==(o=null===(i=t.target)||void 0===i?void 0:i.index)&&void 0!==o?o:t.source.index}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupDragStateForTarget=void 0;var i=n(96),o=n(358),a=n(299),s=n(74),c=n(355);var u={X:function(e,t){return(0,a.calculateItemSizesForLimitedGroup)(e,t)},Y:function(e,t){var n=e.groups[t].axis,i=e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex],o=e.groupDimensions[t].entryDimensions;return[].concat(r(o),[i]).map(s.dex.size[n])}};t.initGroupDragStateForTarget=function(e,t,n){var r=e.groups[t].axis,a=u[r](e,t),d=s.dex.pos[r](e.groupDimensions[t].innerDimensions),l=e.groups[t].items.length,p=l+1,f=(0,i.onStartListDrag)(l,a,0,d),m={index:t,listDragState:f},v=Object.assign(Object.assign({},e),{target:m}),g=(0,o.calculateHandleOffset)(v,r),b=d+f.entryEndPositions[p-2]+g;return m=(0,c.patchListDragStateHandlePosition)(m,b),Object.assign(Object.assign({},m),{listDragState:(0,i.onListDrag)(n,m.listDragState)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateHandleOffset=void 0;var r=n(359),i=n(74);function o(e,t,n){var o=function(e,t){var n,o,a=null!==(o=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==o?o:e.source.index,s=e.groups[a].axis,c=i.dex.size[t](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);return"X"===s?"X"===t?(0,r.getSizeBasedOnCurrentTarget)(e,a):c:"X"===t?i.dex.size[t](e.groupDimensions[a].innerDimensions):c}(e,n);return o<t?o/2:t}t.calculateHandleOffset=function(e,t){var n=i.dex.pos[t](e.simpleDragState.startCoordinates)-i.dex.pos[t](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);return n=o(e,n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSizeBasedOnCurrentTarget=void 0;var r=n(299);t.getSizeBasedOnCurrentTarget=function(e,t){var n=(0,r.calculateItemSizesForLimitedGroup)(e,t);return e.target?n[n.length-1]:n[e.source.listDragState.originalIndex]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setListDragStateOnDrag=void 0;var r=n(96);t.setListDragStateOnDrag=function(e,t){return Object.assign(Object.assign({},t),{listDragState:(0,r.onListDrag)(e,t.listDragState)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDraggedItemPosition=void 0;var r=n(358);t.calculateDraggedItemPosition=function(e){var t=(0,r.calculateHandleOffset)(e,"X"),n=e.simpleDragState.currentCoordinates.x-t,i=(0,r.calculateHandleOffset)(e,"Y");return{left:n,top:e.simpleDragState.currentCoordinates.y-i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOppositeAxis=void 0,t.getOppositeAxis=function(e){return"X"===e?"Y":"X"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupDimensions=void 0,t.calculateGroupDimensions=function(e,t,n){return e.map((function(e){var r=e.identifier;return{identifier:r,dimensions:t.current[r].getBoundingClientRect(),innerDimensions:t.current[r].querySelector(".InterGroupDrag-group-inner").getBoundingClientRect(),padding:parseInt(getComputedStyle(t.current[r]).padding.replace("px","")),entryDimensions:n.current[r].filter((function(e){return e})).map((function(e){return e.getBoundingClientRect()}))}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTargetPosition=void 0;var r=n(362),i=n(74);t.calculateTargetPosition=function(e){var t=e.target||e.source,n=e.groups[t.index].axis,o=t.listDragState.offset+t.listDragState.entryEndPositions[t.listDragState.targetIndex]-t.listDragState.entrySizes[t.listDragState.targetIndex],a=i.dex.pos[(0,r.getOppositeAxis)(n)](e.groupDimensions[t.index].innerDimensions);return"Y"===n?{top:o,left:a}:{top:a,left:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSubject=void 0;var r=n(1),i=n(336);t.useSubject=function(){return(0,r.useMemo)((function(){return new i.Subject}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventBus=void 0;var r=n(1),i=n(336);function o(e){return void 0===e.replay?new i.Subject:new i.ReplaySubject(e.replay.bufferSize,e.replay.windowTime)}t.useEventBus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useMemo)((function(){var t=o(e);return new Proxy(t,{get:function(e,t){return"emit"===t?function(t){return e.next(t)}:e[t]}})}),[])}},function(e,t,n){"use strict";function r(e){return window.requestAnimationFrame((function t(n){var r,i,o=Math.max(0,n-e.startTs),a=0===e.duration?1:o/e.duration,s=e.end-e.start;e.callback(e.start+Math.round(s*(i=a,1-Math.pow(1-i,3))),a),!e.cancelled&&a<1?window.requestAnimationFrame(t):(e.running=!1,null===(r=e.onEnd)||void 0===r||r.call(e))})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.startAnimation=void 0,t.startAnimation=function(e,t,n,i,o){var a=r({startTs:performance.now(),start:e,end:t,duration:n,callback:i,onEnd:o,running:!0,cancelled:!1});return{state:a,cancel:function(){a.cancelled=!0},replace:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r){var i=performance.now()-a.startTs;a.duration=i+n}else a.startTs=performance.now(),a.start=e,a.duration=n;a.end=t}}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useIsAtBottom=t.useIsAtTop=t.useOnScrollEventBusEmitter=t.useOnScrollEventBus=t.useOnScroll=void 0;var i=n(1),o=n(296),a=n(366),s=n(300),c=n(79),u=n(369);function d(e){var t=r(e,3),n=t[0],i=t[1],o=t[2];return function(e){var t,r,a=e<=0,s=e>=Math.floor((null!==(t=null===i||void 0===i?void 0:i.height)&&void 0!==t?t:0)-(null!==(r=null===n||void 0===n?void 0:n.height)&&void 0!==r?r:0));o({scrollTop:e,isAtTop:a,isAtBottom:s})}}function l(e,t){var n=r(e,1)[0],i=r(t,1)[0];return function(e){var t=e.currentTarget.scrollTop;i(t),n(t)}}t.useOnScroll=function(e,t,n,a){var s=(0,i.useState)(0),p=r(s,2),f=p[0],m=p[1],v=(0,o.useDimensions)(e),g=(0,o.useDimensions)(t),b=(0,c.useFactory)(d,[v,g,n],[]),h=(0,c.useFactory)(l,[b],[m]);return(0,i.useEffect)((function(){b(f)}),[v,g]),(0,u.useScrollReset)(e,a),(0,i.useEffect)((function(){m(0)}),[a]),h},t.useOnScrollEventBus=function(){return(0,a.useEventBus)()},t.useOnScrollEventBusEmitter=function(e){return(0,i.useCallback)((function(t){e.emit(t)}),[])},t.useIsAtTop=function(e){var t=(0,i.useState)(!0),n=r(t,2),o=n[0],a=n[1];return(0,s.useEventBusSubscription)(e,(0,i.useCallback)((function(e){return a(e.isAtTop)}),[])),o},t.useIsAtBottom=function(e){var t=(0,i.useState)(!1),n=r(t,2),o=n[0],a=n[1];return(0,s.useEventBusSubscription)(e,(0,i.useCallback)((function(e){return a(e.isAtBottom)}),[])),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollReset=void 0;var r=n(1);t.useScrollReset=function(e,t){(0,r.useEffect)((function(){e.current&&e.current.scrollTo({top:0,left:0})}),[t])}},function(e,t,n){"use strict";var r=n(32),i=n(55).default,o=n(20).default,a=n(63).default,s=n(24).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncManager=t.useSlot=void 0;var u=n(1),d=n(79),l=n(153),p=n(169);function f(e,t){return e.bufferedSlots.includes(t)?e:Object.assign(Object.assign({},e),{bufferedSlots:[].concat(s(e.bufferedSlots),[t])})}function m(e,t){return[Object.assign(Object.assign({},e),{state:{name:"slotRequested",slotName:t},bufferedSlots:e.bufferedSlots.filter((function(e){return e!==t}))}),[{type:"doRequestSlot"}]]}function v(e,t){switch(t.type){case"requestSlot":switch(e.state.name){case"slotReady":case"inProgress":return[f(e,t.slotName),[]];case"slotRequested":return e.state.slotName===t.slotName?[e,[{type:"doRequestSlot"}]]:[f(e,t.slotName),[]];case"idle":return m(e,t.slotName)}case"notifyReady":return"slotRequested"!==e.state.name?[e,[]]:[Object.assign(Object.assign({},e),{state:{name:"slotReady",slotName:e.state.slotName}}),[]];case"notifyStart":return"slotReady"!==e.state.name?[e,[]]:[Object.assign(Object.assign({},e),{state:{name:"inProgress",slotName:e.state.slotName}}),[{type:"waitForCompletion",promise:t.promise}]];case"notifyDone":if("inProgress"!==e.state.name)return[e,[]];var n=e.bufferedSlots[0],r=Object.assign(Object.assign({},e),{errors:Object.assign(Object.assign({},e.errors),a({},e.state.slotName,t.errors))});return n?m(r,n):[Object.assign(Object.assign({},r),{state:{name:"idle"}}),[]]}}function g(e,t){var n=this,a=o(e,2),s=a[0],u=a[1],d=(i(t),s((function(){return null}),u)),l=o(d,1)[0];return function(e,t){return c(n,void 0,void 0,r.mark((function e(){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="doRequestSlot"===e.t0?3:"waitForCompletion"===e.t0?12:16;break;case 3:return e.prev=3,e.next=6,l();case 6:return e.abrupt("return",[{type:"notifyReady"}]);case 9:return e.prev=9,e.t1=e.catch(3),e.abrupt("return",void 0);case 12:return e.next=14,t.promise;case 14:return n=e.sent,e.abrupt("return",[{type:"notifyDone",errors:n}]);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))}}t.useSlot=function(e,t,n,r){(0,p.useStateChangeEffect)(e,[{test:function(e,t){return"slotRequested"===e.state.name&&"slotReady"===t.state.name&&e.state.slotName===n&&t.state.slotName===n},run:function(){t({type:"notifyStart",promise:r()})}}])},t.useSyncManager=function(e,t){var n=(0,d.useFactory)(g,[e,t],[]),r=(0,l.useReducerWithEffects)(v,n,(0,u.useMemo)((function(){return{state:{name:"idle"},bufferedSlots:[],errors:{}}}),[])),i=o(r,2);return[i[0],i[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRequestFocus=void 0;var r=n(1),i=n(3);t.useRequestFocus=function(e){var t=(0,r.useRef)(null);return(0,i.useEventBusSubscription)(e,(0,r.useCallback)((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}),[])),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoFocusingInputField=void 0;var r=n(0),i=n(1),o=n(3);n(245),t.AutoFocusingInputField=function(e){var t=(0,i.useRef)(null);return(0,o.useAutoFocus)(t),(0,r.jsx)("input",Object.assign({ref:t},e,{className:"CommonUI-input CommonUI-input-without-border ".concat(e.className)}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Blurable=void 0;var i=n(0),o=n(1),a=n(3);function s(e,t){var n=r(e,3),i=n[0],o=n[1],s=n[2],c=r(t,1)[0];return Object.assign(Object.assign({},o?{onBlur:function(e){return c.current&&!c.current.contains(e.relatedTarget)&&i()}}:{}),s?{onKeyDown:function(e){return e.keyCode===a.KEY_CODES.ESCAPE&&i()}}:{})}n(540);t.Blurable=function(e){var t=e.onBlur,n=e.children,r=e.useBlur,c=void 0===r||r,u=e.useEscape,d=void 0===u||u,l=(0,o.useRef)(null),p=(0,a.useFactory)(s,[t,c,d],[l]);return(0,i.jsx)("div",Object.assign({ref:l,className:"Blurable-outer1",tabIndex:0},p,{children:n}),void 0)}},function(e,t,n){"use strict";var r=n(24).default,i=n(63).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanel=void 0;var a=n(0),s=o(n(1)),c=n(5);n(544);var u={vertical:"height",horizontal:"width"};t.SidePanel=function(e){var t=e.children,n=e.state,o=e.size,d=e.direction,l=e.useTransition,p=void 0===l||l,f=e.className,m=["0px","".concat(o,"px")],v=Object.assign(i({},u[d],m[n]),p?{transition:"".concat(u[d]," 0.15s")}:{}),g=i({},"min".concat((0,c.capitalize)(u[d])),m[1]),b=["SidePanel-wrapper"].concat(r(0===n?["SidePanel-isCollapsed"]:[])).join(" ");return(0,a.jsx)(s.default.Fragment,{children:(0,a.jsx)("div",Object.assign({className:["SidePanel-outer1",f].join(" "),style:v},{children:(0,a.jsx)("div",Object.assign({className:b,style:g},{children:1===n?t:null}),void 0)}),void 0)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollShadows=void 0;var r=n(0),i=n(1),o=n(5),a=n(3),s=n(376);n(547),t.ScrollShadows=function(e){var t=e.onScrollEventBus||(0,a.useOnScrollEventBus)(),n=(0,a.useScrollShadows)(t,e.scrollResetDep),c=n.onScroll,u=n.containerRef,d=n.scrollableRef,l=n.isAtTop,p=n.isAtBottom,f=(0,i.useRef)(null);(0,a.useScrollReset)(f,e.scrollResetDep);var m=(0,a.useDimensions)(u),v=e.scrollPastEnd?(0,r.jsx)(s.ScrollPastEndPadding,Object.assign({viewPortDimensions:m},{children:e.scrollPastEnd.children}),void 0):null;return o.isMobile&&e.bypassOnMobile?(0,r.jsx)("div",Object.assign({className:"ScrollShadows-main",ref:u},{children:(0,r.jsx)("div",Object.assign({className:"ScrollShadows-inner",ref:f},{children:(0,r.jsxs)("div",Object.assign({className:"ScrollShadows-scrollable"},{children:[e.children,v]}),void 0)}),void 0)}),void 0):(0,r.jsxs)("div",Object.assign({className:"ScrollShadows-main",ref:u},{children:[(0,r.jsx)("div",{className:"ScrollShadows-shadow ".concat(l?"":"ScrollShadows-shadowActive")},void 0),(0,r.jsx)("div",Object.assign({onScroll:c,className:"ScrollShadows-inner",ref:f},{children:(0,r.jsxs)("div",Object.assign({className:"ScrollShadows-scrollable",ref:d},{children:[e.children,v]}),void 0)}),void 0),(0,r.jsx)("div",{className:"ScrollShadows-shadowBottom ".concat(p?"":"ScrollShadows-shadowActive")},void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollPastEndPadding=void 0;var r=n(0),i=n(1);n(546),t.ScrollPastEndPadding=function(e){var t=(0,i.useMemo)((function(){return e.viewPortDimensions?{minHeight:"".concat(e.viewPortDimensions.height,"px")}:{}}),[e.viewPortDimensions]);return(0,r.jsx)("div",Object.assign({tabIndex:0,className:"ScrollPastEndPadding",style:t,onMouseDown:e.onMouseDown},{children:e.children}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchedEditableLabel=void 0;var i=n(0),o=n(3),a=n(372);n(245);t.SwitchedEditableLabel=function(e){var t=e.initialValue,n=e.onChange,s=e.onToggle,c=e.placeholderWhenReadonly,u=e.doubleClick,d=e.className,l=(0,o.useInputField)(t),p=r(l,2),f=p[0],m=p[1],v=(0,o.useEditableLabel)({onToggle:function(e){return null===s||void 0===s?void 0:s(e,f)}}),g=r(v,3),b=g[0],h=g[2];return b?(0,i.jsx)(a.AutoFocusingInputField,Object.assign({className:d},(0,o.makeInputFieldBindings)({value:f,setValue:m,onChange:n}),(0,o.makeEditableLabelInputFieldBindings)({setToggled:h}),{onKeyDown:function(e){return e.stopPropagation()}}),void 0):(0,i.jsx)("span",Object.assign({},(0,o.makeEditableLabelLabelBindings)({setToggled:h,useDoubleClick:u}),{children:f||c}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderItemStylesMaybeWithSizeOverride=void 0;var r=n(3);t.renderItemStylesMaybeWithSizeOverride=function(e,t,n,i,o,a){return e&&i&&null===e.itemIndex&&e.groupIdentifier===i.identifier||e&&null===i&&e.groupIdentifier===n.identifier&&e.itemIndex===o?Object.assign(Object.assign({},(0,r.renderItemStyles)(t,n,o,a)),{flex:"none",width:e.initialSize+e.currentDelta}):(0,r.renderItemStyles)(t,n,o,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderResizer=void 0;var r=n(0);t.renderResizer=function(e,t,n,i,o){return e.handleMouseDown&&e.enableResizing&&"X"===n&&(0,r.jsx)("div",{className:"InterGroupDrag-resizer",onMouseDown:function(e){return t(e,i,o)}},void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useInteractionIndicator=void 0;var i=n(1),o=n(3),a=n(574);n(575),t.useInteractionIndicator=function(){var e=(0,o.useAnimationSteps)(a.animationSteps),t=r(e,2),n=t[0],s=t[1],c=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.postAction,n=e.path;s({type:"start",path:n,postAction:t})}),[]);return[n,c]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useConfirmableInputField=void 0;var i=n(1),o=n(3),a=n(380);function s(e,t){var n=r(e,1)[0],i=r(t,2),o=i[0],a=i[1];return function(e){var t;null===(t=a.current)||void 0===t||t.blur(),o({postAction:function(){return n(e)}})}}t.useConfirmableInputField=function(e,t,n){var c=(0,i.useState)(n),u=r(c,2),d=u[0],l=u[1];(0,o.useAutoFocus)(e);var p=(0,a.useInteractionIndicator)(),f=r(p,2),m=f[0],v=f[1],g=(0,o.useFactory)(s,[t],[v,e]);return{value:d,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&g(d)},onClick:function(){return g(d)},interactionIndicatorState:m}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMonthDiff=void 0,t.getMonthDiff=function(e,t){return 12*(e.getUTCFullYear()-t.getUTCFullYear())+(e.getUTCMonth()-t.getUTCMonth())}},function(e,t,n){"use strict";var r=n(20).default,i=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ORDINALS_REGEX=t.TIME_UNIT_FOR_REPEAT_REGEX=t.TIME_UNIT_REGEX=t.AM_OR_PM_REGEX=t.TIME_DIGITS_AM_OR_PM_REGEX=t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=t.ARBITRARY_DIGITS_REGEX=t.SPELLED_MONTH_REGEX=t.REPEATABLE_WEEKDAY_REGEX=t.WEEKDAY_REGEX=t.DAY_AND_MONTH_DIGITS_REGEX=t.SPELLED_NUMBERS_REGEX=t.DATE_DIGITS_REGEX=t.TIME_DIGITS_REGEX=t.NOON_MIDNIGHT_REGEX=t.SPELLED_TIME_OF_DAY_REGEX=t.MONTH_REGEX=t.OTHER_REGEX=t.EVERY_REGEX=t.THE_REGEX=t.TOMORROW_REGEX=t.WEEK_REGEX=t.OF_REGEX=t.STARTING_REGEX=t.NEXT_REGEX=t.ON_REGEX=t.IN_REGEX=t.AT_REGEX=void 0;var o=n(156);function a(e){return new RegExp("^".concat(e,"$"),"i")}function s(e){return e.map((function(e){return"^".concat(e,"$")})).join("|")}var c=o.numberPostfixes.join("|");t.AT_REGEX=a("at"),t.IN_REGEX=a("in"),t.ON_REGEX=a("on"),t.NEXT_REGEX=a("next"),t.STARTING_REGEX=a("starting"),t.OF_REGEX=a("of"),t.WEEK_REGEX=a("week"),t.TOMORROW_REGEX=a("tomorrow"),t.THE_REGEX=a("the"),t.EVERY_REGEX=a("every"),t.OTHER_REGEX=a("other"),t.MONTH_REGEX=a("month"),t.SPELLED_TIME_OF_DAY_REGEX=a(s(o.timeOfDay)),t.NOON_MIDNIGHT_REGEX=a(s(o.noonMidnight)),t.TIME_DIGITS_REGEX=a("([0-9]{1,2})(:([0-9]{2}))?(:([0-9]{2}))?"),t.DATE_DIGITS_REGEX=a("([0-9]{1,2})(".concat(c,")?")),t.SPELLED_NUMBERS_REGEX=a(s(Object.keys(o.wordToNumber))),t.DAY_AND_MONTH_DIGITS_REGEX=a("([0-9]{1,2})\\.([0-9]{1,2})\\.?"),t.WEEKDAY_REGEX=a(s(o.weekdays)),t.REPEATABLE_WEEKDAY_REGEX=a(s([].concat(i(o.weekdays.map((function(e){return"".concat(e,",?")}))),["and"]))),t.SPELLED_MONTH_REGEX=a(s(o.months)),t.ARBITRARY_DIGITS_REGEX=a("[0-9]+"),t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=a("([0-9]+)(".concat(c,")?")),t.TIME_DIGITS_AM_OR_PM_REGEX=a("([0-9]{1,2})(".concat(o.amPm.join("|"),")")),t.AM_OR_PM_REGEX=a(o.amPm.map((function(e){return"^".concat(e,"$")})).join("|")),t.TIME_UNIT_REGEX=a(s(o.timeUnits.map((function(e){return r(e,1)[0]})))),t.TIME_UNIT_FOR_REPEAT_REGEX=a(s(o.timeUnits.filter((function(e){var t=r(e,1)[0];return![].find((function(e){return t.startsWith(e)}))})).map((function(e){return r(e,1)[0]})))),t.ORDINALS_REGEX=a(s(o.ordinals))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileNextRepeatDate=void 0;var r=n(3),i=n(385),o=n(157);function a(e,t,n){var r=new Date(e);r.setUTCDate(1);var a=(0,i.calculateWeekdayShift)(t,r.getTime()).shift;return a+=(n-1)*o.timeUnitToMilliseconds.week,r.getTime()+a}function s(e,t){var n=new Date(e),r=new Date(t);return r.setUTCMilliseconds(n.getUTCMilliseconds()),r.setUTCSeconds(n.getUTCSeconds()),r.setUTCMinutes(n.getUTCMinutes()),r.setUTCHours(n.getUTCHours()),r.getTime()}function c(e,t){var n=new Date(e);return n.setUTCDate(t),n.getUTCDate()!==t?c(n.getTime(),t):n.getTime()}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new Date(e),i=new Date(t);return i.setUTCFullYear(r.getUTCFullYear()+n),i.getTime()}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=u(e,e,n);return r<=t?d(r,t,n):r}function l(e,t){var n=new Date(e),i=n.getUTCMonth()+t,o=(0,r.normalizeCounter)(i,12);return o<i&&n.setUTCFullYear(n.getUTCFullYear()+1),n.setUTCMonth(o),n.getUTCMonth()!==o&&n.setUTCDate(0),n.getTime()}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=l(e,n);return new Date(e).getDate()!==new Date(r).getDate()?p(e,t,n+1):r<=t?p(r,t):r}function f(e,t,n,r){var i=t-e;if(i<0)return e;var o=function(e,t){return(Math.floor(e/t)+1)*t}(Math.floor(i/r),n.frequency);return e+o*r}t.compileNextRepeatDate=function(e,t,n){switch(n.timeUnit){case"second":return f(e,t,n,o.timeUnitToMilliseconds.second);case"minute":return f(e,t,n,o.timeUnitToMilliseconds.minute);case"hour":return f(e,t,n,o.timeUnitToMilliseconds.hour);case"day":return f(e,t,n,o.timeUnitToMilliseconds.day);case"week":return n.target&&n.target.weekdays.length>0?n.target.weekdays.map((function(t){return(0,i.calculateWeekdayShift)(t,e)})).map((function(t){var n=t.shift;return e+n})).map((function(e){return f(e,t,n,o.timeUnitToMilliseconds.week)})).filter((function(e){return t<e})).sort((function(e,t){return e-t}))[0]:f(e,t,n,o.timeUnitToMilliseconds.week);case"month":if(!n.target)return f(e,t,n,o.timeUnitToMilliseconds.month);switch(n.target.type){case"nth-weekday":var r=s(e,t),l=a(r,n.target.weekday,n.target.n);if(l<=t){var m=new Date(r);m.setUTCDate(1),m.setUTCMonth(m.getUTCMonth()+1);var v=a(m.getTime(),n.target.weekday,n.target.n);return s(e,v)}return s(e,l);case"date":var g=c(s(e,t),n.target.date);return t<g?g:p(g,g)}case"year":if(!n.target)return t<e?e:d(e,t,n.frequency);if("date-and-month"===n.target.type){var b=function(e,t,n){var r=new Date(e);return r.setUTCDate(t),r.setUTCMonth(n),r.getTime()}(e,n.target.date,n.target.month);return t<b?b:u(t,b)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateWeekdayShift=void 0;var r=n(386),i=n(157);t.calculateWeekdayShift=function(e,t){var n=(0,r.normalizeWeirdDayFormat)(new Date(t).getUTCDay());return{shift:(0<=e-n?e-n:7-n+e)*i.timeUnitToMilliseconds.day,diff:e-n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeWeirdDayFormat=void 0;var r=n(3);t.normalizeWeirdDayFormat=function(e){return(0,r.normalizeCounter)(e-1,7)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualScroll=void 0;var i=n(0),o=n(1),a=n(3),s=n(595);n(596),t.VirtualScroll=function(e){if(e.numberOfVisibleItems%2!==1)throw"unexpected state: numberOfVisibleItems must be an odd number";var t=(0,o.useRef)(null),n=(0,o.useRef)(null),c=(0,a.useDimensions)(t),u=(0,a.useDimensions)(n),d=(0,o.useCallback)((function(e){t.current&&(t.current.scrollTop=e)}),[]),l=(0,s.useVirtualScroll)(d,e.getIndexForValue,e.onIntermediateChange),p=r(l,2),f=p[0],m=p[1],v=(0,o.useRef)(null),g=(0,a.useDimensions)(v),b=null===g||void 0===g?void 0:g.height;(0,o.useEffect)((function(){c&&u&&m({type:"layout",scrollContainerDimensions:c,scrollPaddingDimensions:u,itemSize:null!==b&&void 0!==b?b:0,numberOfVisibleItems:e.numberOfVisibleItems})}),[c,u,b]),(0,o.useEffect)((function(){m({type:"onValueChange",value:e.value})}),[e.value]);var h=function(e){var t=(0,o.useState)(!1),n=r(t,2),i=n[0],a=n[1];return(0,o.useCallback)((function(){i||(a(!0),setTimeout((function(){return a(!1)}),1e3),e())}),[i])}((function(){return m({type:"requestAnimationInterrupt"})}));return(0,i.jsx)("div",Object.assign({ref:t,className:["VirtualScroll-scroll-container",e.className].join(" "),onScroll:function(e){return m({type:"onScroll",scrollPosition:e.currentTarget.scrollTop})},onWheel:function(){return h()},onTouchStart:function(){return m({type:"requestAnimationInterrupt"})}},{children:(0,i.jsx)("div",Object.assign({ref:n,className:"VirtualScroll-scroll-padding"},{children:f.virtualItems.map((function(t){return(0,i.jsx)("div",Object.assign({},0===t?{ref:v}:{},{className:["VirtualScroll-item",0===t?"VirtualScroll-item-0":""].join(" "),style:Object.assign(Object.assign({},b?{height:b}:{}),{top:f.shift})},{children:e.getLabelForIndex(f.index.value+t,t,!0===f.isTransitioning.state?f.isTransitioning.target:null)}),t)}))}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDayDiff=void 0;var r=864e5;t.getDayDiff=function(e,t){return Math.floor(e.getTime()/r)-Math.floor(t.getTime()/r)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getMonthRepeatDescription=void 0,t.getMonthRepeatDescription=function(e){var t=r(e,1)[0];return t.reminder.repeatDescription&&"month"===t.reminder.repeatDescription.timeUnit?{reminder:t.reminder,repeatDescription:t.reminder.repeatDescription}:{reminder:null,repeatDescription:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveIndicator=void 0;var r=n(0),i=n(112);t.ActiveIndicator=function(e){return(0,r.jsx)("div",Object.assign({className:["ActiveIndicator",e.className,e.active&&"ActiveIndicator-active"].join(" ")},{children:(0,r.jsx)(i.Icon,{iconName:e.active?"check-circle":"circle"},void 0)}),void 0)}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginErrorRenderer=t.compileParseErrorDetails=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var o=n(0),a=n(121),s=n(1),c=n(305);function u(e){var t;return i(this,void 0,void 0,r.mark((function n(){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof Response)){n.next=11;break}return n.prev=1,n.next=4,null===(t=e.json)||void 0===t?void 0:t.call(e);case 4:if(!(i=n.sent.message)){n.next=7;break}return n.abrupt("return",i);case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(1);case 11:return n.abrupt("return",null===e||void 0===e?void 0:e.toString());case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))}function d(){return(0,o.jsxs)(s.Fragment,{children:["Unauthorized. \xa0",(0,o.jsx)(c.GoToOriginSettingsButton,{origin:"cloud",label:"Please Log In"},void 0)]},void 0)}function l(e){return i(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.status,t.next=400===t.t0?3:401===t.t0?4:429===t.t0?5:500===t.t0?6:7;break;case 3:return t.abrupt("return",u(e));case 4:return t.abrupt("return",(0,o.jsx)(d,{},void 0));case 5:return t.abrupt("return","Too many requests.");case 6:return t.abrupt("return","Internal server error.");case 7:return t.abrupt("return","Unknown error in cloud backend.");case 8:case"end":return t.stop()}}),t)})))}t.compilePushErrorDetails=function(e,t){return i(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t.id,n.next=3,l(e);case 3:return n.t1=n.sent,n.abrupt("return",{layer:"cloud-origin",type:"push-error",documentId:n.t0,message:n.t1});case 5:case"end":return n.stop()}}),n)})))},t.compilePullErrorDetails=function(e){return i(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:return t.t0=t.sent,t.abrupt("return",{layer:"cloud-origin",type:"pull-error",message:t.t0});case 4:case"end":return t.stop()}}),t)})))},t.compileParseErrorDetails=function(e,t){return{layer:"cloud-origin",type:"parse-error",documentId:e,documentType:t}};t.cloudOriginErrorRenderer=function(e){if(!function(e){return!!e&&"cloud-origin"===e.layer}(e))return null;if("parse-error"===e.type)return(0,o.jsx)(a.SimpleErrorView,{title:"Parsing document failed",description:"Document with id ".concat(e.documentId," and type ").concat(e.documentType," might be corrupted.")},void 0);switch(e.type){case"push-error":return(0,o.jsx)(a.SimpleErrorView,{title:"Error during upload of document ".concat(e.documentId),description:e.message},void 0);case"pull-error":return(0,o.jsx)(a.SimpleErrorView,{title:"Error during download",description:e.message},void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginErrorRenderer=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var r=n(0),i=n(121),o=n(120);t.compilePushErrorDetails=function(e,t){return{layer:"file-origin",type:"push-error",action:e,documentId:t.id}},t.compilePullErrorDetails=function(){return{layer:"file-origin",type:"pull-error"}};t.fileOriginErrorRenderer=function(e,t){if(!function(e){return!!e&&"file-origin"===e.layer}(e))return null;var n=t.find((function(e){return(0,o.isFileStorageError)(e)})),a=(0,o.extractFileStorageErrorTitleAndDescription)(n);switch(e.type){case"push-error":return(0,r.jsx)(i.SimpleErrorView,{title:"Error during ".concat(e.action," of document ").concat(e.documentId),description:a?a.description:"Unknown error."},void 0);case"pull-error":return(0,r.jsx)(i.SimpleErrorView,{title:"Error during download",description:a?a.description:"Unknown error."},void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorPlugin=t.LANGUAGE=t.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15=void 0;var r=n(0),i=n(644),o=n(395),a=n(246),s=n(307),c=n(678),u=n(679);t.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15={JavaScript:"javascript",TypeScript:"typescript",Ruby:"ruby",Java:"java",C:"clike",HTML:"html",Markdown:"markdown",Shell:"shell",CSS:"css",SCSS:"css"};t.LANGUAGE="code";t.CodeMirrorPlugin={name:"CodeMirrorPlugin",language:t.LANGUAGE,iconName:"code-snippet",editorClass:function(){return"SnippetEditor-code-mode"},snippetListClass:function(){return null},testExtension:function(e){return s.extensionToLanguage[e]||null},testLanguage:function(e){var n=t.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15[e]||e;return n===t.LANGUAGE||void 0!==s.supportedLanguages.find((function(e){return e.name===n}))},toPlaintext:function(e){return e},fromPlaintext:function(e){return e},produceFileMetaData:function(e){return{id:e.id,normalizedLanguage:t.LANGUAGE,textContent:e.document.content,upperCaseTextContent:e.document.content.toUpperCase(),title:e.document.name,upperCaseTitle:e.document.name.toUpperCase(),body:e.document.content,trimmedBody:e.document.content.split("\n").splice(0,2).join("\n"),searchableString:[e.document.content,e.document.name].join(" ").toUpperCase(),reminders:[],snippetReferences:[]}},updateSnippetReferences:function(e){return e},writer:o.CodeMirrorWriter,toolbar:null,mobileToolbar:null,listEntry:function(e){return(0,r.jsx)(a.DefaultListEntry,Object.assign({},e,{children:(0,r.jsx)(i.CodeMirrorReader,{snippetListEntry:e.snippetListEntry},void 0)}),void 0)},createSnippetConfig:{viaInput:{placeholder:"Paste Code ...",bootstrap:function(e){return e}},viaButton:{label:"Code",bootstrap:function(){return""}}},getSearchResults:c.getSearchResults,renderSearchResult:u.renderSearchResult,renderPreview:function(e){return(0,u.renderSearchResult)(e,{snippetId:e.metaData.id,metadata:[]})},getQuickAccessSearchResults:function(e,t){return(0,c.getSearchResults)(e,t).map((function(e){return Object.assign(Object.assign({},e),{text:t.snippet.content})}))},renderQuickAccessSearchResult:u.renderSearchResult}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightStyle=void 0;var r=n(78),i=n(2);t.highlightStyle=i.HighlightStyle.define([{tag:i.tags.string,color:"var(--color-blue)"},{tag:i.tags.typeName,color:"var(--color-blue)"},{tag:i.tags.keyword,color:"var(--color-red)"},{tag:i.tags.atom,color:"var(--color-yellow)"},{tag:i.tags.propertyName,color:"var(--color-blue)"},{tag:i.tags.constant,color:"var(--color-blue)"},{tag:i.tags.controlKeyword,color:"var(--color-red)"},{tag:i.tags.function,color:"var(--color-yellow)"},{tag:i.tags.number,color:"var(--color-yellow)"},{tag:i.tags.null,color:"var(--color-yellow)"},{tag:i.tags.comment,color:"var(--color-red)",fontStyle:"italic"},{tag:i.tags.heading,color:"var(--color-blue)"},{tag:i.tags.heading1,color:"var(--color-blue)"},{tag:i.tags.heading2,color:"var(--color-blue)"},{tag:i.tags.heading3,color:"var(--color-blue)"},{tag:i.tags.strong,color:"var(--color-yellow)",fontWeight:"bold"},{tag:i.tags.emphasis,color:"var(--color-yellow)",fontStyle:"italic"}]),t.highlightStyle.module&&r.StyleModule.mount(document,t.highlightStyle.module)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorWriter=t.initEditorView=void 0;var r=n(0),i=n(19),o=n(8),a=n(669),s=n(1),c=n(309);n(676);var u=n(308),d=n(3),l=n(307);function p(e,t){var n;return new i.EditorView({state:o.EditorState.create({doc:e.content,extensions:[(0,a.setup)(e.initialDecorations),(0,l.getLanguageSupport)(e.language)||[],i.EditorView.updateListener.of((function(t){t.docChanged&&e.onChange(t.state.doc.toString())})),i.EditorView.editable.of(null===(n=e.editable)||void 0===n||n),i.keymap.of([{key:"Escape",run:function(){return e.onEscape(),!0}}])]}),parent:t})}t.initEditorView=p,t.CodeMirrorWriter=function(e){var t=(0,s.useRef)();return function(e,t){(0,d.useOnce)((function(){if(e.current){var n=e.current;return t.editorInstancesEventBus.emit({type:"register",editorInstance:{id:t.id,findOccurences:function(e){return(0,u.findOccurences)(n,e[0])},highlightOccurences:function(e,t){return(0,u.highlightRanges)(n,e.map((function(e){return{from:e.range.start,to:e.range.end}})),t)}}}),function(){t.editorInstancesEventBus.emit({type:"unregister",id:t.id}),n.destroy()}}}),void 0!==e.current),(0,c.useFocusRequest)(t.lastActiveSnippetIdEventBus,t.requestEditorFocus,t.id,(0,s.useCallback)((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),[]))}(t,e),(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)("select",Object.assign({value:e.language,className:"CommonUI-input CommonUI-delayed-hover-item-wrapper CodeMirrorWriter-language-select",onChange:function(t){return e.onChangeLanguage(t.target.value)}},{children:[(0,r.jsx)("option",{value:"code"},void 0),l.supportedLanguages.map((function(e){return(0,r.jsx)("option",Object.assign({value:e.name},{children:e.displayName}),e.name)}))]}),void 0),(0,r.jsx)("div",{className:"CodeMirrorWriter-editor-container",ref:function(n){n&&!t.current&&(t.current=p(e,n))}},void 0)]},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildTodoListKeyMap=t.handleMouseDown=t.todoListNodes=void 0;var r=n(64),i=n(682),o="ProseMirror-todo-list-item-checkbox",a={attrs:{done:{default:!1}},content:"paragraph block*",toDOM:function(e){return["li",{"data-type":"todo_item","data-done":e.attrs.done.toString()},["span",{class:"bi bi-check-circle-fill ".concat(o),contenteditable:"false"}],["span",{class:"bi bi-circle ".concat(o),contenteditable:"false"}],["div",{class:"ProseMirror-todo-list-item-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="todo_item"]',getAttrs:function(e){return{done:"true"===e.getAttribute("data-done")}}}]};function s(e,t,n,r,i){return!("todo_item"!==n.type.name||!i.target.classList.contains(o))&&(i.preventDefault(),e.dispatch(function(e,t,n){return e.tr.setNodeMarkup(t,null,{done:!n.attrs.done})}(e.state,r,n)),!0)}t.todoListNodes={todo_item:a,todo_list:{group:"block",content:"todo_item+ | list_item+",toDOM:function(e){return["ul",{"data-type":"todo_list"},0]},parseDOM:[{priority:51,tag:'[data-type="todo_list"]'}]}},t.handleMouseDown=function(e,t){return function(e,t,n){var r=e.posAtCoords(function(e){return{left:e.clientX,top:e.clientY}}(t));return!!r&&function(e,t,n,r,i){if(-1==r)return!1;for(var o=e.state.doc.resolve(r),a=o.depth+1;a>0;a--)if(a>o.depth?t(e,n,o.nodeAfter,o.before(a),i,!0):t(e,n,o.node(a),o.before(a),i,!1))return!0;return!1}(e,n,r.pos,r.inside,t)}(e,t,s)},t.buildTodoListKeyMap=function(e){return(0,r.keymap)({Enter:(0,i.splitTodoListItem)(e.nodes.todo_item)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarItemGroup=void 0;var r=n(0);n(690),t.ToolbarItemGroup=function(e){return(0,r.jsx)("div",Object.assign({className:["ToolbarItemGroup",e.classNameOuter].join(" ")},{children:(0,r.jsx)("div",Object.assign({},e.interactable?{}:{onMouseDown:function(e){return e.preventDefault()}},{className:["ToolbarItemGroup-inner",e.classNameInner].join(" ")},{children:e.children}),void 0)}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.insertReminderCommand=void 0;var i=n(18),o=n(47),a=n(399),s=n(400);t.insertReminderCommand=function(e,t){var n=s.reminderPluginKey.getState(e);if(!n.decorations)return!1;var c=e.selection,u=c.from,d=c.to,l=n.decorations.find(u,d),p=r(l,1)[0];if(!p)return!1;var f=e.doc.resolve(p.from),m=e.doc.resolve(p.to);if(t){var v=p.spec.sequence.description,g=(0,o.nowWithLocaleHours)(),b=(0,o.compileSingle)(g,v);(0,a.insertReminder)(e,t,{expression:e.doc.textBetween(p.from,p.to),date:b,createdAt:g,repeatDescription:v.repeatDescription},new i.Selection(f,m))}return!0}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.insertReminder=void 0,t.insertReminder=function(e,t,n,i){var o=e.tr,a=0===(i=i||e.selection).$from.parentOffset;t(o=o.replaceWith(i.$from.pos,i.$to.pos,[].concat(r(a?[e.schema.text(" ")]:[]),[e.schema.nodes.reminder.create(n),e.schema.text(" ")])))}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPlugin=t.reminderPluginKey=t.tree=void 0;var i=n(18),o=n(92),a=n(47);function s(e,t,n,r){return o.DecorationSet.create(r,e.map((function(e){var r=t+e.start,i=t+e.end;return!e.complete||n<r||i<n?null:o.Decoration.inline(r,i,{class:"Reminders-sequence"},{sequence:e})})).filter((function(e){return e})))}n(696),t.tree=(0,a.compileTree)(a.grammarEn),t.reminderPluginKey=new i.PluginKey("reminderPlugin"),t.makeReminderPlugin=function(){return new i.Plugin({key:t.reminderPluginKey,state:{init:function(){return{currentNodeStart:null,decorations:null}},apply:function(e,n,i,o){if(!o.selection.$cursor)return{currentNodeStart:null,decorations:null};var c=[];return o.selection.$cursor.parent.descendants((function(e,n){e.isText&&c.push.apply(c,r((0,a.parse)(t.tree,e.textContent).map((function(e){return Object.assign(Object.assign({},e),{start:e.start+n,end:e.end+n})}))))})),Object.assign(Object.assign({},n),{decorations:s(c,o.selection.$cursor.start(),o.selection.$cursor.pos,e.doc)})}},props:{decorations:function(e){return this.getState(e).decorations}}})}},function(e,t,n){"use strict";function r(e,t){return e.isInSet(t)}function i(e,t,n,r,o){var a,s,c=o+n,u=e.doc.resolve(r?c:o);return t(o,(null===(a=u.nodeAfter)||void 0===a?void 0:a.marks)||(null===(s=u.nodeBefore)||void 0===s?void 0:s.marks)||[])?i(e,t,n,r,c):o}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentMark=void 0,t.getCurrentMark=function(e,t){if(!e.selection.$cursor)throw"unexpected state: no $cursor.";var n=e.selection.$cursor,o=function(e,t){return i(t,(function(t,n){return r(e,n)}),-1,!0,t.pos)}(t,n),a=function(e,t){return i(t,(function(t,n){return r(e,n)}),1,!1,t.pos)}(t,n);return{text:e.doc.textBetween(o,a),from:o,to:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMarkInteractionPlugin=void 0;var r=n(18),i=n(92),o=n(403),a=n(251),s=n(314),c=n(401),u=n(405);function d(e,t,n){return i.DecorationSet.create(e.doc,[i.Decoration.inline(t,n,{class:"MarkInteractionPlugin-highlight"})])}n(701),t.makeMarkInteractionPlugin=function(e,t,n,i){return new r.Plugin({key:e,state:{init:function(){return{type:"inactive"}},apply:function(r,i,a,u){var l=r.getMeta(e);if(l)return function(e,t,n,r){switch(r.type){case"startInteraction":return"on-demand-highlight"===t.type?t:"inactive"===t.type?{type:"on-demand-highlight",range:{from:e.selection.from,to:e.selection.to},decorations:d(n,e.selection.from,e.selection.to)}:Object.assign(Object.assign({},t),{isInteractedWith:!0});case"endInteraction":switch(t.type){case"inactive":return t;case"on-demand-highlight":return{type:"inactive"};case"new-candidate":case"marked-candidate":return Object.assign(Object.assign({},t),{isInteractedWith:!1})}}}(u,i,r,l);var p=(0,s.findMarkAtCursor)(u,t);if(void 0!==p)return function(e,t,n,r,i){var o=(0,c.getCurrentMark)(n,r);return"marked-candidate"===t.type&&t.attrs===i&&o.to===t.range.to?t:{type:"marked-candidate",attrs:i,range:{from:o.from,to:o.to},decorations:d(e,o.from,o.to),isInteractedWith:"marked-candidate"===t.type&&t.isInteractedWith}}(r,i,u,t,p.attrs);var f=o.currentWordPluginKey.getState(u);return"active"===(null===f||void 0===f?void 0:f.type)&&n(f.currentWord)?function(e,t,n){return"new-candidate"===n.type&&n.range.from===t.from&&n.range.to===t.to?n:Object.assign(Object.assign({},n),{type:"new-candidate",range:{from:t.from,to:t.to},decorations:d(e,t.from,t.to),isInteractedWith:!1})}(r,f.currentWord,i):function(e,t){return"on-demand-highlight"!==t.type||e.selection.from!==t.range.from||e.selection.to!==t.range.to}(u,i)?{type:"inactive"}:i}},props:{decorations:function(t){var n=a.focusStatePluginKey.getState(t),r=e.getState(t);return"inactive"!==r.type&&(0,u.isActive)(n,r)?r.decorations:null}},appendTransaction:i})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCurrentWordPlugin=t.currentWordPluginKey=void 0;var r=n(18),i=n(700);t.currentWordPluginKey=new r.PluginKey("currentWordPlugin"),t.makeCurrentWordPlugin=function(){return new r.Plugin({key:t.currentWordPluginKey,state:{init:function(){return{type:"none"}},apply:function(e,t,n,r){var o=(0,i.getCurrentWord)(r);return o?"active"===t.type&&(0,i.areEqual)(o,t.currentWord)?t:{type:"active",currentWord:o}:{type:"none"}}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendFocusStateAction=void 0;var r=n(251);t.sendFocusStateAction=function(e,t,n){var i={type:n};t(e.tr.setMeta(r.focusStatePluginKey,i))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=void 0,t.isActive=function(e,t){return!(!e.hasFocus&&"inactive"!==t.type&&"on-demand-highlight"!==t.type&&!t.isInteractedWith)&&"inactive"!==t.type}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RequestReminderEditorToolbarItem=void 0;var i=n(0),o=n(1),a=n(5),s=n(9),c=n(249),u=n(250);n(713),t.RequestReminderEditorToolbarItem=function(e){var t=(0,o.useRef)(null),n=(0,s.useInteractionIndicator)(),d=r(n,2),l=d[0],p=d[1];return(0,i.jsx)("div",Object.assign({className:"ToolbarItemGroup RequestReminderEditorToolbarItem-wrapper",onClick:function(){p({postAction:function(){e.toolbarEventBus.emit({type:"reminder",action:{type:"requestEditor"}}),t.current&&t.current.focus()}})}},{children:(0,i.jsxs)("div",Object.assign({style:l.style,onMouseDown:function(e){return e.preventDefault()},className:"ToolbarItemGroup-inner"},{children:[(0,i.jsx)("div",{ref:t,tabIndex:0},void 0),(0,i.jsx)(s.Tooltip,Object.assign({renderContent:function(){return(0,i.jsxs)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:["Create",(0,i.jsx)("br",{},void 0),"Reminder"]}),void 0)},anchorPositioning:"left-center"},{children:(0,i.jsx)(u.ToolbarItem,{children:(0,i.jsx)(c.ToolbarIcon,{iconName:"reminder"},void 0)},void 0)}),void 0),a.isMobile&&(0,i.jsx)(u.ToolbarItem,Object.assign({className:"RequestReminderEditorToolbarItem-custom-item"},{children:(0,i.jsxs)("div",Object.assign({className:"RequestReminderEditorToolbarItem-text-wrapper"},{children:[(0,i.jsx)("span",Object.assign({className:"RequestReminderEditorToolbarItem-text"},{children:"Create"}),void 0),(0,i.jsx)("span",Object.assign({className:"RequestReminderEditorToolbarItem-text"},{children:"Reminder"}),void 0)]}),void 0)}),void 0)]}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDemandHyperlinkMenuItem=void 0;var r=n(0),i=n(9),o=n(97),a=n(252),s=n(249),c=n(250);t.OnDemandHyperlinkMenuItem=function(e){return(0,r.jsx)("div",Object.assign({className:"ToolbarItemGroup",onClick:function(){return e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){return(0,a.startMarkInteraction)(e,t,o.hyperlinkPluginKey)}})}},{children:(0,r.jsx)("div",Object.assign({onMouseDown:function(e){return e.preventDefault()},className:"ToolbarItemGroup-inner"},{children:(0,r.jsx)(i.Tooltip,Object.assign({renderContent:function(){return(0,r.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:"Add Hyperlink"}),void 0)}},{children:(0,r.jsx)(c.ToolbarItem,{children:(0,r.jsx)(s.ToolbarIcon,{iconName:"create-link"},void 0)},void 0)}),void 0)}),void 0)}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OnDemandHyperlinkMenuForm=void 0;var i=n(0),o=n(1),a=n(9),s=n(3),c=n(404),u=n(253),d=n(97),l=n(317);n(714);var p=(0,i.jsx)(a.ShortcutIndicator,{shortcut:["Enter"]},void 0);function f(e,t){var n=r(e,1)[0],i=r(t,2),o=i[0],a=i[1];return function(){o.emit({type:"dispatch",cb:function(e,t){(0,u.insertOnDemand)(e,t,n)}}),o.emit({type:"dispatch",cb:function(e,t){(0,c.sendFocusStateAction)(e,t,"focus")}}),a.emit({type:"lastActive"})}}t.OnDemandHyperlinkMenuForm=function(e){var t=(0,o.useState)(""),n=r(t,2),c=n[0],u=n[1],m=(0,s.useFactory)(f,[c],[e.toolbarEventBus,e.requestEditorFocusEventBus]),v=(0,s.useOnEnter)(m);return(0,i.jsxs)("div",Object.assign({className:"CommonUI-menu-form"},{children:[(0,i.jsx)(a.AutoFocusingInputField,{value:c,onBlur:function(){return e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){return(0,l.endMarkInteraction)(e,t,d.hyperlinkPluginKey)}})},onChange:function(e){return u(e.target.value)},onKeyDown:v},void 0),(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:p}),void 0)}},{children:(0,i.jsx)("button",Object.assign({className:"CommonUI-button OnDemandHyperlinkMenuForm-set-button",onClick:function(){return m()},onMouseDown:function(e){return e.preventDefault()}},{children:"Set"}),void 0)}),void 0)]}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useToolbarDisplayState=void 0;var i=n(3),o=n(715),a=n(114),s=n(716);var c={type:"inactive"};function u(e){var t,n,i=r(e,5),o=i[0],s=i[1],u=i[2],d=i[3],l=i[4];if(!s||!u||!l)return c;var p={type:"active",selectionInfo:u,scrollInfo:d,viewPortDimensions:l,menuState:s},f=function(e){var t=null===e||void 0===e?void 0:e[a.candidateHyperlinkMenuFormId];if(null===t||void 0===t?void 0:t.isEnabled){if(!t.metadata)return null;switch(t.metadata.type){case"on-demand-highlight":return{toolbarOrientation:"horizontal",specialRender:{type:"hyperlink-on-demand"}};case"new-candidate":case"marked-candidate":return{toolbarOrientation:"horizontal",specialRender:{type:"hyperlink-candidate"}}}}return null}(s);return f?Object.assign(Object.assign({},p),f):(null===(t=null===s||void 0===s?void 0:s[a.reminderMenuFormId])||void 0===t?void 0:t.isEnabled)?o?Object.assign({toolbarOrientation:"horizontal",specialRender:{type:"quick-set-reminder"}},p):c:(null===(n=null===s||void 0===s?void 0:s[a.candidateSnippetReferenceMarkMenuFormId])||void 0===n?void 0:n.isActive)?o?Object.assign({toolbarOrientation:"horizontal",specialRender:{type:"snippet-reference-mark"}},p):c:o?Object.assign({toolbarOrientation:u.isEmptySelection?"vertical":"horizontal",specialRender:null},p):c}t.useToolbarDisplayState=function(e,t,n,r,a){var c=(0,o.useProseMirrorMenuState)(e);(0,s.useSnippetReferenceMarkEvent)(c,e);var d=(0,i.useStateFromEventBus)(t),l=(0,i.useFactory)(u,[n,c,d,r,a],[]);return(0,i.useDebouncedMemo)((function(){return l}),0,[l])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorWriter=void 0;var r=n(0),i=n(1),o=n(3),a=n(309),s=n(719),c=n(736),u=n(158),d=n(415);function l(e){return(0,d.buildMenuItemIterator)((function(t){return e.toolbarEventBus.emit({type:"menuItemStateChange",message:t})}),e.menuItemSpecs)}t.ProseMirrorWriter=function(e){var t=(0,i.useMemo)((function(){return Object.assign({},e.availableEditorWidth?{width:"calc(".concat(Math.min(550,e.availableEditorWidth),"px - 1em)")}:{})}),[e.availableEditorWidth]),n=(0,i.useRef)(),d=(0,i.useRef)();(0,i.useEffect)((function(){d.current=l(e)}),[e.toolbarEventBus]),function(e,t){(0,o.useOnce)((function(){if(e.current){var n=e.current;return t.editorInstancesEventBus.emit({type:"register",editorInstance:{id:t.id,findOccurences:function(e){return(0,u.findOccurences)(n,e)},highlightOccurences:function(e,t){return(0,c.highlightOccurences)(n,e,t)}}}),function(){var n;t.editorInstancesEventBus.emit({type:"unregister",id:t.id}),null===(n=e.current)||void 0===n||n.destroy()}}}),void 0!==e.current);var n=(0,i.useCallback)((function(n){if(e.current){var r=t.menuItemSpecs.find((function(e){return e.id===n}));null===r||void 0===r||r.run(e.current.state,e.current.dispatch)}}),[]),r=(0,i.useCallback)((function(t){e.current&&t(e.current.state,e.current.dispatch)}),[]);(0,o.useEventBusSubscription)(t.toolbarEventBus,(0,i.useCallback)((function(e){switch(e.type){case"menuItemRun":return void n(e.id);case"dispatch":return void r(e.cb)}}),[])),(0,a.useFocusRequest)(t.lastActiveSnippetIdEventBus,t.requestEditorFocus,t.id,(0,i.useCallback)((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),[]))}(n,e);var p=(0,i.useRef)(null);return(0,i.useEffect)((function(){p.current=function(t){return e.toolbarEventBus.emit({type:"copyToClipboard",text:t})}}),[e.toolbarEventBus]),(0,r.jsx)(i.Fragment,{children:(0,r.jsx)("div",{style:t,className:"ProseMirrorWriter-editor-container",ref:function(t){t&&!n.current&&(d.current=l(e),n.current=function(e,t,n,r){return(0,s.initEditorView)({docJson:e.content,schema:e.schema,editorElement:t,onDocChange:function(t){var n=t.docJson;return e.onChange(n)},onBlur:e.onBlur,onFocus:function(t,r){var i;e.onFocus(),null===(i=n.current)||void 0===i||i.call(n,r,!0)},onStateChange:function(e){var t;return null===(t=n.current)||void 0===t?void 0:t.call(n,e)},onEscape:e.onEscape,onLeaveUpwards:void 0,onKeyDown:void 0,onCursor:e.onCursor,onCopyToClipboard:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.call(r,e)}})}(e,t,d,p))}},void 0)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSingleReminderDate=t.getRepeatedReminderDate=void 0;var r=n(5),i=n(47);t.getRepeatedReminderDate=function(e,t){var n=(0,i.nowWithLocaleHours)(),o=(0,i.compileNextRepeatDate)(e,n,t);return(0,r.adjustByTimezoneOffset)(o)},t.getSingleReminderDate=function(e){return(0,r.adjustByTimezoneOffset)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTemplates=t.Parent=t.RepeatIcon=void 0;var r=n(0),i=n(9),o=n(320);function a(){return(0,r.jsx)("span",Object.assign({className:"Icon-wrapper"},{children:(0,r.jsx)(i.Icon,{iconName:"arrow-repeat"},void 0)}),void 0)}function s(e){return(0,r.jsx)("span",Object.assign({"template-part-id":"outer",className:"Reminders-node"},{children:e.children}),void 0)}t.RepeatIcon=a,t.Parent=s,t.makeTemplates=function(){return(0,o.applyTemplates)([{node:(0,r.jsx)(s,{},void 0),targetName:"parent"},{node:(0,r.jsx)(a,{},void 0),targetName:"repeatIcon"}])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeTemplates=t.Parent=void 0;var i=n(0),o=n(9),a=n(315),s=n(320);function c(){return(0,i.jsx)("span",Object.assign({className:"Icon-wrapper"},{children:(0,i.jsx)(o.Icon,{iconName:"clipboard"},void 0)}),void 0)}function u(){return(0,i.jsx)("span",Object.assign({className:"Icon-wrapper"},{children:(0,i.jsx)(o.Icon,{iconName:"clipboard-success"},void 0)}),void 0)}function d(e){var t=(0,a.useClipboardIndicatorAnimationSteps)(),n=r(t,2),o=n[0],s=n[1];return(0,i.jsxs)("pre",Object.assign({"template-part-id":"outer",className:"CommonUI-delayed-hover-item-container"},{children:[(0,i.jsx)("div",Object.assign({"template-part-id":"handle",className:"CodeBlockView-handle CommonUI-delayed-hover-item-wrapper",onClick:function(){var t;null===(t=e.toolbarEventBus)||void 0===t||t.emit({type:"copyToClipboard",text:e.textContent||""}),s({type:"start"})},onMouseDown:function(e){return e.preventDefault()}},{children:o.active?(0,i.jsx)(u,{},void 0):(0,i.jsx)(c,{},void 0)}),void 0),(0,i.jsx)("code",Object.assign({"template-part-id":"inner"},{children:e.children}),void 0)]}),void 0)}t.Parent=d,t.makeTemplates=function(){return(0,s.applyTemplates)([{node:(0,i.jsx)(d,{},void 0),targetName:"parent"},{node:(0,i.jsx)(c,{},void 0),targetName:"iconReady"},{node:(0,i.jsx)(u,{},void 0),targetName:"iconClicked"}])}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeTemplates=t.Parent=t.iconNames=void 0;var i=n(0),o=n(9),a=n(320);function s(e){return(0,i.jsxs)("div",Object.assign({"template-part-id":"outer",className:["CustomParagraph-box-outer"].concat(r(e.outerClasses||[])).join(" ")},{children:[(0,i.jsx)(o.Icon,{iconName:e.iconName||"info-circle"},void 0),(0,i.jsx)("p",Object.assign({"template-part-id":"inner"},{children:e.children}),void 0)]}),void 0)}t.iconNames={blue:"info-circle",red:"exclamation-circle",yellow:"lightbulb"},t.Parent=s,t.makeTemplates=function(){return(0,a.applyTemplates)([{node:(0,i.jsx)(s,{},void 0),targetName:"parent"}])}},function(e,t,n){"use strict";var r=n(63).default;function i(e){return{event:"menuItemStateChange",content:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildMenuItemIterator=void 0;var o={};t.buildMenuItemIterator=function(e,t){var n={menuState:t.reduce((function(e,t){return Object.assign(Object.assign({},e),r({},t.id,{isActive:!1,isEnabled:!1}))}),o)};return function(o){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t.reduce((function(e,t){var n,i,a=e.menuState[t.id],s=(null===(n=t.active)||void 0===n?void 0:n.call(t,o))||!1,c=t.run(o),u=(null===(i=t.extractMetadata)||void 0===i?void 0:i.call(t,o))||void 0,d=!!a&&(s!==a.isActive||c!==a.isEnabled||u!==a.metadata);return{hasChanged:d||e.hasChanged,menuState:Object.assign(Object.assign({},e.menuState),r({},t.id,{isActive:s,isEnabled:c,metadata:u}))}}),{hasChanged:!1,menuState:n.menuState});n.menuState=s.menuState,(s.hasChanged||a)&&e(i(s.menuState))}}},function(e,t,n){"use strict";var r=n(63).default,i=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextNode=void 0;var o=n(0),a=n(1),s=n(3),c=n(743);function u(e,t){return e.from-t.from||e.to-t.to}function d(e,t,n){for(;t<e.length&&u(n,e[t])>0;)t++;e.splice(t,0,n)}function l(e,t,n){return Object.assign(Object.assign({},e),{from:t,to:n})}function p(e,t,n){return e[n]?Object.assign(Object.assign({},e),r({},n,Object.assign(Object.assign({},e[n]),{decorations:[].concat(i(e[n].decorations),[t])}))):Object.assign(Object.assign({},e),r({},n,{from:t.from,to:t.to,decorations:[t]}))}var f="<empty>";t.renderTextNode=function(e,t){var n=e.node.text;if(!n)return null;var r=function(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var i=n+1;i<t.length;i++){var o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=l(r,r.from,o.from),d(t,i,l(r,o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=l(o,o.from,r.to),d(t,i+1,l(o,r.to,o.to)))}}return t}([{from:e.from,to:e.to,class:f}].concat(i(t.decorations)).filter((function(t){return e.from<=t.from&&t.from<=e.to||e.from<=t.to&&t.to<=e.to})).map((function(t){return Object.assign(Object.assign({},t),{from:Math.max(0,t.from-e.from),to:Math.min(e.node.nodeSize,t.to-e.from)})})).sort(u)),m=(0,s.groupBy)(r,{},(function(e){return e.from}),p);return Object.values(m).map((function(r,i){var s=n.slice(r.from,r.to),u=r.decorations.filter((function(e){return e.class!==f})).reduce((function(e,t,n){return(0,o.jsx)("span",Object.assign({className:t.class},{children:e}),n)}),s);return(0,o.jsx)(a.Fragment,{children:e.node.marks.reverse().reduce((function(n,r){return(0,c.wrapInMark)(r,e.node.textContent,n,t)}),u)},i)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(31),o=n(15);function a(e,t){if(e instanceof o.Fragment){var n=e.content.map((function(e){return a(e,t)}));return new o.Fragment(n,e.size)}if(e instanceof o.Node){if(e.isText){var r=t.isInSet(e.marks);if(r&&r.attrs.href!==e.textContent){var i=t.removeFromSet(e.marks);return e.mark(i)}return e}var s=a(e.content,t);return e.copy(s)}}var s=/^\s$/,c=/^\s.*$/,u=/^.*\s$/;function d(e,t,n,r){for(var i=t,o=e.charAt(i);!o.match(s)&&n(i);)i+=r,o=e.charAt(i);return i}function l(e,t){var n=function(e,t){return t.marks.link.isInSet(e.marks())}(e,t);if(n&&n.attrs.nolabel){var r=function(e){return d(e.parent.textContent,e.parentOffset-1,(function(e){return e>0}),-1)}(e),i=function(e){return d(e.parent.textContent,e.parentOffset,(function(t){return t<e.parent.nodeSize-2}),1)}(e);return{$cursor:e,start:r,end:i,mark:n}}}var p=function(e){this.initializer=e},f={value:{configurable:!0},isDefined:{configurable:!0}};function m(e,t,n,r){return new p((function(){if(!(e.nodeSize-2<=t.pos+r))return l(e.resolve(t.pos+r),n)}))}f.value.get=function(){return void 0===this._value&&(this._value=this.initializer()||null),this._value},f.isDefined.get=function(){return null!==this.value},Object.defineProperties(p.prototype,f);var v=function(e,t,n,r,i){var o=this;this.trs=e,this.oldState=t,this.newState=n,this.historyPluginKey=r,this.schema=i,this.linkMarkAtCursor=new p((function(){return l(o.oldState.selection.$cursor,o.schema)})),this.marksPreEdit={left:m(t.doc,t.selection.$cursor,i,-1),right:m(t.doc,t.selection.$cursor,i,1)},this.marksPostEdit={left:m(n.doc,n.selection.$cursor,i,-1),right:m(n.doc,n.selection.$cursor,i,1)}},g={isSteppingThroughHistory:{configurable:!0},docDidntChange:{configurable:!0},wasCursorSelection:{configurable:!0},isCursorSelection:{configurable:!0},hasExactlyOneStep:{configurable:!0},hasInsertedSingleSpace:{configurable:!0},positionDelta:{configurable:!0},hasDeletedBackward:{configurable:!0},hasInserted:{configurable:!0},hasDeletedForward:{configurable:!0},isJoinedByTextOnTheRight:{configurable:!0},isJoinedByTextOnTheLeft:{configurable:!0},joinsLinkWithLink:{configurable:!0},joinsLinkWithText:{configurable:!0},joinsTextWithLink:{configurable:!0},wasAtEdgeOfTextNode:{configurable:!0},hasDeletedBackwardOntoStartOfTextNode:{configurable:!0},hasDeletedBackwardIntoLink:{configurable:!0},hasDeletedForwardIntoLink:{configurable:!0},hasInsertedAtEndOfLink:{configurable:!0},hasInsertedAtStartOfLink:{configurable:!0},hasSplitAtEndOfTextNode:{configurable:!0}};g.isSteppingThroughHistory.get=function(){var e=this;return this.trs.some((function(t){return void 0!==t.getMeta(e.historyPluginKey)}))},g.docDidntChange.get=function(){return!this.trs.some((function(e){return e.docChanged}))},g.wasCursorSelection.get=function(){return this.oldState.selection.$cursor},g.isCursorSelection.get=function(){return this.newState.selection.$cursor},g.hasExactlyOneStep.get=function(){return 1===this.trs.length&&1===this.trs[0].steps.length},g.hasInsertedSingleSpace.get=function(){var e=this.trs[0].steps[0].slice.content;return e.textBetween(0,e.size).match(s)},g.positionDelta.get=function(){return void 0===this._positionDelta&&(this._positionDelta=this.oldState.selection.$cursor.pos-this.newState.selection.$cursor.pos),this._positionDelta},g.hasDeletedBackward.get=function(){return this.positionDelta>0},g.hasInserted.get=function(){return this.positionDelta<0},g.hasDeletedForward.get=function(){return 0===this.positionDelta},v.prototype.hasChildWhichMatches=function(e,t){var n=this.newState.selection.$cursor.parent.maybeChild(this.newState.selection.$cursor.index()+t);return n&&!n.textContent.match(e)},g.isJoinedByTextOnTheRight.get=function(){return this.hasChildWhichMatches(c,0)},g.isJoinedByTextOnTheLeft.get=function(){return this.hasChildWhichMatches(u,-1)},g.joinsLinkWithLink.get=function(){return this.marksPostEdit.left.isDefined&&this.marksPostEdit.right.isDefined},g.joinsLinkWithText.get=function(){return this.marksPostEdit.left.isDefined&&this.isJoinedByTextOnTheRight},g.joinsTextWithLink.get=function(){return this.marksPostEdit.right.isDefined&&this.isJoinedByTextOnTheLeft},g.wasAtEdgeOfTextNode.get=function(){return 0===this.oldState.selection.$cursor.textOffset},g.hasDeletedBackwardOntoStartOfTextNode.get=function(){return this.hasDeletedBackward&&0===this.newState.selection.$cursor.textOffset},g.hasDeletedBackwardIntoLink.get=function(){return this.hasDeletedBackward&&this.marksPreEdit.left.isDefined},g.hasDeletedForwardIntoLink.get=function(){return this.hasDeletedForward&&this.marksPreEdit.right.isDefined},g.hasInsertedAtEndOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.left.isDefined},g.hasInsertedAtStartOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.right.isDefined},g.hasSplitAtEndOfTextNode.get=function(){return this.wasAtEdgeOfTextNode&&0===this.newState.selection.$cursor.parentOffset&&this.oldState.selection.$cursor.index(this.oldState.selection.$cursor.depth)!==this.newState.selection.$cursor.index(this.newState.selection.$cursor.depth)},Object.defineProperties(v.prototype,g);var b=/\./,h=["http://","https://","ftp://","www."];function j(e,t,n){var r=e.$cursor.start()+e.start,o=e.$cursor.start()+e.end,a=function(e){var t=new i.Mapping;return e.forEach((function(e){return t.appendMapping(e.mapping)})),t}(n);return t.removeMark(a.mapResult(r).pos,a.mapResult(o).pos,e.mark)}function y(e,t,n,r){if(e.isDefined&&t.isDefined){var i=j(e.value,n,r);return j(t.value,i,r)}return e.isDefined?j(e.value,n,r):t.isDefined?j(t.value,n,r):void 0}var O={attrs:{href:{},title:{default:null},nolabel:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=e.getAttribute("nolabel");return{href:t,title:e.getAttribute("title"),nolabel:null===n?t===e.textContent:n}}}],toDOM:function(e){return["a",e.attrs,0]}};t.customizeLinkMark=function(e){return e.update("link",O)},t.makeAnchorPlugin=function(e,t){return new r.Plugin({props:{transformPasted:function(t){return new o.Slice(a(t.content,e.marks.link),t.openStart,t.openEnd)}},appendTransaction:function(n,r,i){var o=new v(n,r,i,t,e);if(!o.isSteppingThroughHistory&&!o.docDidntChange)if(o.wasCursorSelection&&o.isCursorSelection){if(o.linkMarkAtCursor.isDefined)return j(o.linkMarkAtCursor.value,i.tr,n);if(!o.hasExactlyOneStep)return;if(o.hasInsertedSingleSpace||o.hasSplitAtEndOfTextNode)return o.marksPreEdit.left.isDefined?void 0:function(e,t,n){var r=function(e){for(var t,n=0,r=-1;r<e.parent.content.content.length-1&&n<e.parentOffset;)r++,(t=e.parent.content.content[r]).isText?n+=t.nodeSize:n+=1;return t&&t.isText?{textNode:t,positionInTextNode:t.text.length-(n-e.parentOffset)-1}:{}}(e),i=r.textNode,o=r.positionInTextNode;if(i){var a=i.text,c=o-1,u=a.charAt(c);if(!u.match(s)&&!u.match(b)){for(;!u.match(s)&&c>0;)u=a.charAt(--c);u.match(s)&&(c+=1);var d=a.substring(c,o);if(h.some((function(e){return d.length>e.length&&d.startsWith(e)}))){var l=e.parentOffset-o-1;return t.addMark(e.start()+l+c,e.start()+l+o,n.marks.link.create({href:d,nolabel:!0}))}}}}(i.selection.$cursor,i.tr,e);if(!o.wasAtEdgeOfTextNode&&!o.hasDeletedBackwardOntoStartOfTextNode)return;if(o.hasDeletedBackwardIntoLink)return j(o.marksPreEdit.left.value,i.tr,n);if(o.hasDeletedForwardIntoLink)return j(o.marksPreEdit.right.value,i.tr,n);if(o.hasInsertedAtEndOfLink)return j(o.marksPreEdit.left.value,i.tr,n);if(o.hasInsertedAtStartOfLink)return j(o.marksPreEdit.right.value,i.tr,n);if(o.hasDeletedBackward||o.hasDeletedForward){if(o.joinsLinkWithLink){var a=j(o.marksPostEdit.left.value,i.tr,[]);return j(o.marksPostEdit.right.value,a,[])}if(o.joinsLinkWithText)return j(o.marksPostEdit.left.value,i.tr,[]);if(o.joinsTextWithLink)return j(o.marksPostEdit.right.value,i.tr,[])}}else{var c,u=r.selection,d=u.$from,l=u.$to;if(c=y(m(r.doc,d,e,0),m(r.doc,l,e,0),i.tr,n))return c;if(0===d.pos)return;if(c=y(m(r.doc,d,e,-1),m(r.doc,l,e,1),i.tr,n))return c}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertEmpty=t.buildCustomInputRules=t.buildDiffTr=t.maybeHandleItemInsertion=t.handleDelete=t.handleDrag=t.handleCheck=t.handleInsertHardBreak=t.handleToggleItalic=t.handleToggleBold=t.handleBackspace=t.handleEnter=t.mapTransactions=t.buildOffsetMap=t.calculateParagraphPositions=t.getDoneEntries=t.getOpenEntries=t.getPinnedEntries=t.isDone=t.isOpen=t.isPinned=void 0;var r=n(18),i=n(36),o=n(31),a=n(319),s=n(124),c=n(770);t.isPinned=function(e){return"pinned"===e.attrs.status};t.isOpen=function(e){return"open"===e.attrs.status};t.isDone=function(e){return"done"===e.attrs.status};t.getPinnedEntries=function(e){return e.filter(t.isPinned)};t.getOpenEntries=function(e){return e.filter(t.isOpen)};function u(e){return e.reduce((function(e,t){return t&&t.attrs.index>e?t.attrs.index:e}),0)}function d(e){return e.doc.content.content.reduce((function(t,n){var r=t[t.length-1];return t.length<e.doc.content.content.length&&t.push(r+n.nodeSize),t}),[0])}function l(e,t,n,r){var i,o,a=d(e),s=a[t],c=a[n],u=e.doc.nodeAt(s),l=e.doc.nodeAt(c);if(t<n?(o=e.tr.insert(c+l.nodeSize,u).delete(s,s+u.nodeSize),i=c-u.nodeSize+l.nodeSize):t>n?(o=e.tr.delete(s,s+u.nodeSize).insert(c,u),i=c):(o=e.tr,i=c),r){var p=Object.assign(Object.assign({},u.attrs),r(u,l));o=o.setNodeMarkup(i,null,p)}return o}t.getDoneEntries=function(e){return e.filter(t.isDone)},t.calculateParagraphPositions=d,t.buildOffsetMap=function(e,t){var n=d(e);return o.StepMap.offset(n[t]+1)},t.mapTransactions=function(e,t,n){for(var r=n,i=0;i<e.length;i++)for(var o=e[i].steps,a=0;a<o.length;a++)r.step(o[a].map(t));return r},t.handleEnter=function(e,t){(0,i.splitBlock)(e,t)},t.handleBackspace=function(e,t){(0,i.joinBackward)(e,t)},t.handleToggleBold=function(e,t){(0,c.toggleBold)(e,t)},t.handleToggleItalic=function(e,t){(0,c.toggleItalic)(e,t)},t.handleInsertHardBreak=function(e,t){(0,c.insertHardBreak)(e,t)},t.handleCheck=function(e,n){var r=n.doc.content.content,i=!(0,t.isDone)(r[e]),o=i?-1:0,a=r.findIndex((function(e){return"done"===e.attrs.status}));-1===a&&(a=r.length);var s=i?"done":"open",c=l(n,e,a+=o,(function(e,t){return{status:s}}));return{proseMirrorState:n.apply(c),oldStatus:r[e].attrs.status,newStatus:s,newIndex:a}},t.handleDrag=function(e,t,n,r){var i=l(r,e,t,(function(e,t){return n?{status:n}:{status:t.attrs.status}}));return{proseMirrorState:r.apply(i)}},t.handleDelete=function(e,t){var n=function(e,t){var n=d(e)[t],r=e.doc.nodeAt(n);return e.tr.delete(n,n+r.nodeSize)}(t,e);return{proseMirrorState:t.apply(n),oldStatus:t.doc.content.content[e].attrs.status,newLength:t.doc.content.content.length-1}},t.maybeHandleItemInsertion=function(e,t,n){if(t.doc.content.content.length-e.doc.content.content.length===1){var r=u(t.doc.content.content),i=d(t);return t.tr.setNodeMarkup(i[n],null,{index:r+1,status:t.doc.content.content[n-1].attrs.status})}},t.buildDiffTr=function(e,t,n){var r=e.content.findDiffStart(t.doc.content);if(null!==r){var i=e.content.findDiffEnd(t.doc.content),o=i.a,a=i.b,s=r-Math.min(o,a);return s>0&&(o+=s,a+=s),n.replace(r,a,e.slice(r,o)).setMeta("fromOutside",!0)}},t.buildCustomInputRules=function(){return(0,a.buildCustomInputRules)(s.schema)},t.insertEmpty=function(e){var t=u(e.doc.content.content);return e.tr.insert(0,s.schema.nodes.paragraph.create({index:t+1})).setSelection(r.Selection.near(e.doc.resolve(0))).setMeta("insertEmpty",!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeItem=t.makeDocJsonFromTodos=void 0,t.makeDocJsonFromTodos=function(e){return{type:"doc",content:e=function(e){return e.map((function(e){return"string"===typeof e.text?{type:"paragraph",attrs:{index:e.index,status:e.status||"open"},content:e.text&&[{type:"text",text:e.text}]}:e}))}(e=function(e){var t=function(e){return e.reduce((function(e,t){return t&&t.index>e?t.index:e}),0)}(e);return e.map((function(e){return e.index?e:Object.assign(Object.assign({},e),{index:++t})}))}(e))}},t.makeItem=function(e,t){return{text:e,status:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postItSchema=t.POSTIT_COLORS=void 0;var r=n(311),i=n(15);t.POSTIT_COLORS=["blue","red","yellow"];var o={doc:r.nodes.doc,paragraph:r.nodes.paragraph,text:r.nodes.text},a={strong:r.marks.strong,em:r.marks.em};t.postItSchema=new i.Schema({nodes:o,marks:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortByUpdatedAt=void 0,t.sortByUpdatedAt=function(e,t){return e.updatedAt===t.updatedAt?0:e.updatedAt<t.updatedAt?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSnippetFromTag=void 0;var r=n(52),i=n(57),o=n(56);t.removeSnippetFromTag=function(e,t){return function(n){var a=n.derivedState.tagList.find((function(e){return e.metaData.id===t}));return a?Object.assign(Object.assign({},n),{store:(0,i.save)(n.store,t,(0,o.dropItem)(a.tag,e),r.normalizeDocument)}):n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSyncSome=void 0;var r=n(99),i=n(58),o=n(804),a=n(424);t.updateAfterSyncSome=function(e,t,n,s){return t.reduce((function(e,t){if(t.returnedId===r.DELETEABLE)return function(e,t){var n=(0,i.del)(e.store,t.originalId);return Object.assign(Object.assign({},e),{store:n})}(e,t);var c=(0,i.get)(e.store,t.originalId);if(!c)return e;var u=function(e,t,n){if(t.originalId===t.returnedId)return e;var r=Object.assign(Object.assign({},n),{id:t.returnedId}),o=Object.assign(Object.assign({},e),{store:(0,i.save)(e.store,r.id,r)});return o=Object.assign(Object.assign({},o),{store:(0,i.del)(o.store,t.originalId)}),(0,a.setUpIdMapping)(o,t.originalId,t.returnedId)}(e,t,c),d=(0,o.saveAfterSync)(u.store,t.returnedId,t.internalVersionBeforeUpdate,s(t.payload),n(t.payload,c.permanent));return Object.assign(Object.assign({},u),{store:d})}),e)}},function(e,t,n){"use strict";var r=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.setUpIdMapping=void 0,t.setUpIdMapping=function(e,t,n){return Object.assign(Object.assign({},e),{oldToNew:Object.assign(Object.assign({},e.oldToNew),r({},t,n)),newToOld:Object.assign(Object.assign({},e.newToOld),r({},n,t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPermanent=void 0;t.getPermanent=function(e,t){return Object.assign(Object.assign({},t||{obsolete:{state:!1}}),{documentType:e.documentType,version:e.version,origin:t?t.origin:e.origin})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdatedAt=void 0,t.getUpdatedAt=function(e){return e.updatedAt}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeRewriteTagItems=void 0;var r=n(56);t.maybeRewriteTagItems=function(){return function(e){var t=e;return Object.assign(Object.assign({},t),{store:(0,r.rewriteItems)(t.store)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSnippetMetaDataStore=void 0;var r=n(125);t.initSnippetMetaDataStore=function(){return function(e){return Object.assign(Object.assign({},e),{derivedState:Object.assign(Object.assign({},e.derivedState),{snippetMetaDataStore:(0,r.initSnippetMetaDataStore)(e.store,e.syncErrors)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withoutEffects=void 0;t.withoutEffects=function(){return function(e){return[e,[]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdsOfDeletableItems=void 0;var r=n(58);t.getIdsOfDeletableItems=function(e,t){var n=new Date(Date.now()-t);return(0,r.getAll)(e).filter((function(e){return!1===e.permanent.obsolete.state&&e.document.archived&&e.updatedAt<=n})).map((function(e){return e.id}))}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useRemindersFromList=void 0;var i=n(1),o=n(47),a=n(3),s=n(323),c=function(e,t){return e.date===t.date&&e.text===t.text};function u(e,t){if("updateAll"===t.type){var n=t.allReminders.concat().sort(o.compareReminderIds),r=function(e,t){var n=(0,s.calculateDiff)(e,t,o.compareReminderIds,c);return{unchangedReminders:n.unchanged,newReminders:n.missingInA,removedReminders:n.missingInB,changedReminders:n.changed}}(e.reminders,n);return 0===r.newReminders.length&&0===r.changedReminders.length&&0===r.removedReminders.length?[e,[]]:[{reminders:n},[Object.assign({type:"onUpdate"},r)]]}}function d(e){var t=r(e,1)[0];return function(e,n){return t.emit(n),Promise.resolve()}}t.useRemindersFromList=function(e,t){var n=(0,a.useFactory)(d,[t],[]),o=(0,a.useReducerWithEffects)(u,n,{reminders:[]}),s=r(o,2),c=s[0],l=s[1];return(0,i.useEffect)((function(){l({type:"updateAll",allReminders:e})}),[e]),[c.reminders]}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.syncSomeAndAwaitAll=void 0;var o=n(5),a=n(826);function s(e,t,n,r,i,o,c){var u=(0,a.syncNext)(e,t,n,r,o);return c>9999||void 0===u.promise?i:s(e,t,n,r,i.concat(u.promise),u.queuedForSync,c+1)}t.syncSomeAndAwaitAll=function(e,t,n,a){return i(this,void 0,void 0,r.mark((function i(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=s(e,t,n,a,[],[],1),r.next=3,(0,o.allSettled)(c);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getId=void 0,t.getId=function(e){return e.id}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initSyncer=void 0;var o=n(829);t.initSyncer=function(e,t,n,a,s,c){return i(this,void 0,void 0,r.mark((function i(){var u;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Array,u={store:i,oldToNew:{},newToOld:{}},r.next=3,(0,o.download)(u,e,t,n,a,s,c);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}var i}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActionByOrigin=t.makeOriginToActionMapping=void 0;var r=n(306),i=n(91);t.makeOriginToActionMapping=function(e,t){return{origin:e,action:t}},t.getActionByOrigin=function(e,t){var n=e.find((function(e){return e.origin===t}));if(!n)throw(0,i.errorWithDetails)(null,(0,r.compileOriginNotConfiguredErrorDetails)(t));return n.action}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageDeleter=void 0;var o=n(5),a=n(91),s=n(120);t.makeFileStorageDeleter=function(e,t,n){var c=this;if(!o.isElectron)throw(0,a.errorWithDetails)(null,(0,s.compileFileStorageNotSupportedErrorDetails)());var u=window.require("fs").promises;return function(o){return i(c,void 0,void 0,r.mark((function i(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw(0,a.errorWithDetails)(null,(0,s.compileDirectoryNotAccessibleErrorDetails)(t));case 2:return c="".concat(t,"/").concat(e,"-").concat(n(o)),r.prev=3,r.next=6,u.unlink(c);case 6:return r.abrupt("return",o);case 9:throw r.prev=9,r.t0=r.catch(3),(0,a.errorWithDetails)(r.t0,(0,s.compileFileNotAccessibleErrorDetails)("delete",c));case 12:case"end":return r.stop()}}),i,null,[[3,9]])})))}}},function(e,t,n){"use strict";var r=n(24).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageFetcher=void 0;var a=n(5),s=n(91),c=n(120);t.makeFileStorageFetcher=function(e,t){var n=this;if(!a.isElectron)throw(0,s.errorWithDetails)(null,(0,c.compileFileStorageNotSupportedErrorDetails)());var u=window.require("fs").promises;return function(){return o(n,void 0,void 0,i.mark((function n(){var d,l,p,f,m,v=this;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}throw(0,s.errorWithDetails)(null,(0,c.compileDirectoryNotAccessibleErrorDetails)(t));case 2:return n.next=4,u.readdir(t);case 4:return d=n.sent,l=d.filter((function(t){return t.startsWith(e)})).map((function(e){return o(v,void 0,void 0,i.mark((function n(){return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",u.readFile("".concat(t,"/").concat(e)).then((function(t){return{filename:e,content:t.toString()}})).catch((function(t){throw(0,s.errorWithDetails)(t,(0,c.compileFileNotAccessibleErrorDetails)("read",e))})));case 1:case"end":return n.stop()}}),n)})))})),n.next=8,(0,a.allSettled)(l);case 8:return p=n.sent,f=(0,a.getFulfilled)(p),m=f.reduce((function(e,t){try{return Object.assign(Object.assign({},e),{results:[].concat(r(e.results),[JSON.parse(t.content)])})}catch(n){return Object.assign(Object.assign({},e),{errors:[].concat(r(e.errors),[(0,s.errorWithDetails)(null,(0,c.compileNotParsableErrorDetails)(t.filename))])})}}),{results:[],errors:[]}),n.abrupt("return",m);case 12:case"end":return n.stop()}}),n)})))}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStoragePusher=void 0;var o=n(5),a=n(91),s=n(120);t.makeFileStoragePusher=function(e,t,n){var c=this;if(!o.isElectron)throw(0,a.errorWithDetails)(null,(0,s.compileFileStorageNotSupportedErrorDetails)());var u=window.require("fs").promises;return function(o){return i(c,void 0,void 0,r.mark((function i(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw(0,a.errorWithDetails)(null,(0,s.compileDirectoryNotAccessibleErrorDetails)(t));case 2:return c="".concat(t,"/").concat(e,"-").concat(n(o)),r.prev=3,r.next=6,u.writeFile(c,JSON.stringify(o));case 6:return r.abrupt("return",o);case 9:throw r.prev=9,r.t0=r.catch(3),(0,a.errorWithDetails)(r.t0,(0,s.compileFileNotAccessibleErrorDetails)("write",c));case 12:case"end":return r.stop()}}),i,null,[[3,9]])})))}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.gistOriginConfig=t.checkReadyness=t.statusCodeToText=void 0;var o=n(0),a=n(440),s=n(840);function c(e){return i(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.getMasterGist)((0,a.makeGistHttp)(e.token),e.masterGistId).then((function(){return{ready:!0}})).catch((function(e){return 401===e.status||404===e.status?{ready:!1,reason:t.statusCodeToText[e.status]}:{ready:!1,reason:"Unexpected Error"}})));case 1:case"end":return n.stop()}}),n)})))}t.statusCodeToText={401:"401 Unauthorized",404:"404 Master Gist Not Found"},t.checkReadyness=c;t.gistOriginConfig={origin:"gist",backendFactory:function(e,t){return(0,a.makeGistBackend)(t)},defaultConfig:{displayName:"Gist",enabled:!1,masterGistId:"",token:""},iconName:"origin",renderSettingsPage:function(){return(0,o.jsx)(s.GistOriginSettingsPage,{},void 0)},checkReadyness:c}},function(e,t,n){"use strict";var r=n(24).default,i=n(32),o=n(63).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeGistBackend=t.makeGistHttp=t.getMasterGist=t.createMasterGist=void 0;var s=n(441),c=n(837),u=n(5),d=n(99),l=n(330),p=n(331),f=n(838),m="1-snip-master-gist",v={documents:[]};function g(e){var t={resource:e.document,documentType:e.permanent.documentType};return{files:{"1.json":{content:JSON.stringify(t)}}}}function b(e,t){return a(this,void 0,void 0,i.mark((function n(){var r,o,a;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get("/".concat(t));case 2:if(r=n.sent,o=Object.entries(r.files),n.prev=4,a=JSON.parse(o[0][1].content),Array.isArray(a.documents)){n.next=10;break}return n.abrupt("return",v);case 10:return n.abrupt("return",a);case 11:n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(4),n.abrupt("return",v);case 16:case"end":return n.stop()}}),n,null,[[4,13]])})))}function h(e,t,n){return a(this,void 0,void 0,i.mark((function r(){var a,s,c;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(e,t);case 2:return a=r.sent,s=n(a),c={files:o({},m,{content:JSON.stringify(s)})},r.next=7,e.patch("/".concat(t),c);case 7:case"end":return r.stop()}}),r)})))}function j(e,t,n){return a(this,void 0,void 0,i.mark((function o(){var a,s;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=g(t),i.next=3,e.post("",a);case 3:return s=i.sent,i.next=6,h(e,n,(function(e){return Object.assign(Object.assign({},e),{documents:[].concat(r(e.documents),[s.id])})}));case 6:return i.abrupt("return",s);case 7:case"end":return i.stop()}}),o)})))}function y(e,t){return a(this,void 0,void 0,i.mark((function n(){var r;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=g(t),n.abrupt("return",e.patch("/".concat(t.id),r));case 2:case"end":return n.stop()}}),n)})))}function O(e,t,n){return a(this,void 0,void 0,i.mark((function r(){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.del("/".concat(t.id));case 2:return r.next=4,h(e,n,(function(e){return Object.assign(Object.assign({},e),{documents:e.documents.filter((function(e){return e!==t.id}))})}));case 4:case"end":return r.stop()}}),r)})))}function x(e,t,n){return a(this,void 0,void 0,i.mark((function r(){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{id:e,resource:{id:e},documentType:n.permanent.documentType,version:0,updatedAt:t});case 1:case"end":return r.stop()}}),r)})))}function S(e){var t={"Content-Type":"application/json",Authorization:"token ".concat(e),Accept:"application/vnd.github.v3+json"};return(0,c.makeHttp)("https://api.github.com/gists",t)}t.createMasterGist=function(e){return a(this,void 0,void 0,i.mark((function t(){var n,r;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S(e),r={files:o({},m,{content:JSON.stringify(v)})},t.next=4,n.post("",r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))},t.getMasterGist=b,t.makeGistHttp=S;t.makeGistBackend=function(e){var t=e.masterGistId,n=e.token,r={},o=new s.Mutex,c=S(n);return{fetchAll:function(){return a(void 0,void 0,void 0,i.mark((function e(){var n,r,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(c,t);case 3:return n=e.sent,e.next=6,(0,u.allSettled)(n.documents.map((function(e){return c.get("/".concat(e)).catch((function(t){throw 404===t.status?{status:404,documentId:e,originalError:t}:t}))})));case 6:if(r=e.sent,!((o=(0,u.getRejected)(r).filter((function(e){return 404===e.status})).map((function(e){return e.documentId}))).length>0)){e.next=11;break}return e.next=11,h(c,t,(function(e){return Object.assign(Object.assign({},e),{documents:e.documents.filter((function(e){return!o.includes(e)}))})}));case 11:return a=(0,u.getFulfilled)(r).map((function(e){return{id:e.id,updatedAt:e.updated_at,documentJson:Object.entries(e.files)[0][1]}})).map((function(e){var t=e.id,n=e.updatedAt,r=e.documentJson,i=JSON.parse(r.content);return Object.assign(Object.assign({id:t},i),{document:Object.assign({},i.resource),version:0,updatedAt:new Date(n)})})),e.abrupt("return",{results:a,errors:[]});case 15:throw e.prev=15,e.t0=e.catch(0),(0,f.handleError)(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))},update:function(e){return a(void 0,void 0,void 0,i.mark((function n(){var a,s;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.getLockOn(r);case 3:if(!(0,l.shouldCreate)(e)){n.next=10;break}return n.next=6,j(c,e,t);case 6:return a=n.sent,n.abrupt("return",x(a.id,new Date(a.updated_at),e));case 10:if(!(0,p.shouldDelete)(e)){n.next=16;break}return n.next=13,O(c,e,t);case 13:return n.abrupt("return",x(d.DELETEABLE,new Date,e));case 16:return n.next=18,y(c,e);case 18:return s=n.sent,n.abrupt("return",x(s.id,new Date(s.updated_at),e));case 20:n.next=25;break;case 22:throw n.prev=22,n.t0=n.catch(0),(0,f.handleError)(n.t0,e);case 25:return n.prev=25,o.releaseLockOn(r),n.finish(25);case 28:case"end":return n.stop()}}),n,null,[[0,22,25,28]])})))}}}},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BypassMutex=t.Mutex=void 0;var o=function(){var e;return[new Promise((function(t){return e=t})),e]},a=function(){function e(){r(this,e),this.locks={}}return i(e,[{key:"hasLockOn",value:function(e){return void 0!==this.locks[e]&&this.locks[e].length>0}},{key:"getLockOn",value:function(e){return this.locks[e]=this.locks[e]||[],0===this.locks[e].length?(this.locks[e].push(o()),Promise.resolve(!0)):(this.locks[e].push(o()),this.locks[e][this.locks[e].length-2][0])}},{key:"releaseLockOn",value:function(e){this.locks[e][0][1](),this.locks[e].shift()}}]),e}();t.Mutex=a;var s=function(){function e(){r(this,e)}return i(e,[{key:"hasLockOn",value:function(e){return!1}},{key:"getLockOn",value:function(e){return Promise.resolve(!0)}},{key:"releaseLockOn",value:function(e){}}]),e}();t.BypassMutex=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailField=t.validateEmailFormat=void 0;var r=n(0),i=n(443),o=new RegExp(/^[^\s]+@[^\s]+$/);t.validateEmailFormat=function(e){return o.test(e.email)?{type:"valid"}:{type:"invalid",reason:"Invalid email."}},t.EmailField=function(e){return(0,r.jsx)(i.Input,{type:"text",placeholder:"Email",autoComplete:"username",getValue:function(e){return e.email},setValue:function(e,t){return Object.assign(Object.assign({},e),{email:t})},className:e.className||"CommonUI-input CommonUI-input-centered"},void 0)}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var i=n(0),o=n(334);t.Input=function(e){var t=(0,o.useFormContext)(),n=e.getValue,a=e.setValue,s=r(e,["getValue","setValue"]);return(0,i.jsx)("input",Object.assign({},s,{value:n(t.state),onChange:function(e){return t.setState(a(t.state,e.target.value))},type:e.type}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordField=t.validatePasswordRepeat=t.validatePasswordLength=void 0;var r=n(0),i=n(443);t.validatePasswordLength=function(e){return e.newPassword.length<12?{type:"invalid",reason:"Password must be at least 12 characters."}:80<e.newPassword.length?{type:"invalid",reason:"Password can't be more than 80 characters."}:{type:"valid"}},t.validatePasswordRepeat=function(e){return e.newPassword!==e.newPasswordRepeat?{type:"invalid",reason:"Passwords don't match"}:{type:"valid"}},t.PasswordField=function(e){var t=e.className||"CommonUI-input CommonUI-input-centered";switch(e.type){case"new":return(0,r.jsx)(i.Input,{type:"password",placeholder:e.placeholder||"Password",autoComplete:"new-password",getValue:function(e){return e.newPassword},setValue:function(e,t){return Object.assign(Object.assign({},e),{newPassword:t})},className:t},void 0);case"repeat":return(0,r.jsx)(i.Input,{type:"password",placeholder:e.placeholder||"Repeat Password",autoComplete:"new-password",getValue:function(e){return e.newPasswordRepeat},setValue:function(e,t){return Object.assign(Object.assign({},e),{newPasswordRepeat:t})},className:t},void 0);case"current":return(0,r.jsx)(i.Input,{type:"password",placeholder:e.placeholder||"Password",autoComplete:"current-password",getValue:function(e){return e.currentPassword},setValue:function(e,t){return Object.assign(Object.assign({},e),{currentPassword:t})},className:t},void 0)}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndRender=void 0;var o=n(0),a=n(847);t.extractAndRender=function(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.extractErrorFromResponse)(e);case 2:return n=t.sent,t.abrupt("return",(0,o.jsx)("div",Object.assign({className:"CredentialForms-validation-error"},{children:n}),void 0));case 4:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renewSettings=void 0,t.renewSettings=function(e,t){e({type:"updateSettings",action:{type:"setOriginSettings",origin:"cloud",settings:Object.assign({},t)}})}},function(e,t,n){"use strict";var r=n(32),i=n(20).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useLoginState=void 0;var a=n(1),s=n(5),c=n(449),u=n(450);function d(e,t){switch(t.type){case"setLoading":return Object.assign(Object.assign({},e),{loadingState:"loading"});case"setLoginState":return{loadingState:"idle",state:t.state}}}t.useLoginState=function(){var e=this,t=(0,a.useReducer)(d,{state:"unknown",loadingState:"idle"}),n=i(t,2),l=n[0],p=n[1],f=(0,s.useObject)("settings"),m=(0,a.useMemo)((function(){return(0,s.getOriginSettings)(f,"cloud",u.defaultConfig)}),[f]),v=(0,a.useCallback)((function(){return o(e,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"setLoading"}),e.next=3,(0,c.checkReadyness)();case 3:return t=e.sent,e.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:t.ready?p({type:"setLoginState",state:"logged in"}):p({type:"setLoginState",state:"logged out"});case 7:case"end":return e.stop()}}),e)})))}),[]);return(0,a.useEffect)((function(){v()}),[m]),[l,v]}},function(e,t,n){"use strict";var r=n(32),i=n(20).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkReadyness=void 0;var a=n(851);t.checkReadyness=function(){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.checkLoginState)().then((function(e){var t=i(e,2),n=t[0];return t[1]?n?{ready:!0}:{ready:!1,reason:"Not Logged In"}:{ready:!1,reason:"Unable To Reach Backend"}})));case 1:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var r=n(5),i=!r.isElectron&&!r.isMocked;t.defaultConfig={displayName:"Snip Cloud",enabled:i}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginConfig=t.DIRECTORY_NOT_SPECIFIED=t.DIRECTORY_NOT_ACCESSIBLE=void 0;var o=n(0),a=n(853),s=n(854),c=n(856);t.DIRECTORY_NOT_ACCESSIBLE="Unable To Access Directory",t.DIRECTORY_NOT_SPECIFIED="No Directory Specified";t.fileOriginConfig={origin:"file",backendFactory:function(e,t){return(0,c.makeFileBackend)(e,t.fileLocation)},defaultConfig:{displayName:"File",enabled:!1,fileLocation:""},iconName:"file-origin",renderSettingsPage:function(){return(0,o.jsx)(s.FileOriginSettingsPage,{},void 0)},checkReadyness:function(e){return i(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e.fileLocation.trim()){n.next=2;break}return n.abrupt("return",{ready:!1,reason:t.DIRECTORY_NOT_SPECIFIED});case 2:return n.abrupt("return",(0,a.testDirectoryAccess)(e.fileLocation).then((function(){return{ready:!0}})).catch((function(){return{ready:!1,reason:t.DIRECTORY_NOT_ACCESSIBLE}})));case 3:case"end":return n.stop()}}),n)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.code=void 0,t.code={id:"LOCAL-1609270036900",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:30:58.208Z"),document:{name:"Snippet: Code",content:'function myCoolFunction() {\n  console.log("bla);\n}\n',language:"javascript",archived:!1}}},function(e,t,n){"use strict";var r=n(32),i=n(24).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeBackendFunctionsWithIdMemory=void 0,t.makeBackendFunctionsWithIdMemory=function(e,t,n,a,s,c){var u=this,d={knownIds:null};return{pusher:function(a){return o(u,void 0,void 0,r.mark((function o(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(d.knownIds){r.next=2;break}throw"push done before fetch!";case 2:if(!d.knownIds.includes(a.id)){r.next=10;break}if(!c(a)){r.next=7;break}return r.abrupt("return",n(a).then((function(e){return d.knownIds=d.knownIds?d.knownIds.filter((function(t){return t!==s(e)})):null,e})));case 7:return r.abrupt("return",t(a));case 8:r.next=11;break;case 10:return r.abrupt("return",e(a).then((function(e){return d.knownIds=d.knownIds?[].concat(i(d.knownIds),[s(e)]):null,e})));case 11:case"end":return r.stop()}}),o)})))},fetcher:function(){return o(u,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return t=e.sent,d.knownIds=t.map(s),e.abrupt("return",{results:t,errors:[]});case 5:case"end":return e.stop()}}),e)})))}}}},function(e,t,n){"use strict";var r=n(20).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRemindoHttpCoordinator=t.unschedule=t.postScheduleEntry=t.getSchedule=t.deleteReminder=t.patchReminder=t.postReminder=t.getReminders=void 0;var a=n(5),s=n(3);function c(e){return{date:e.date,expression:e.expression,external_id:e.id,message_plaintext:e.text,message_richtext:e.text,recipient_group_ids:[],recipient_type:"self",repeat_description:e.repeatDescription?JSON.stringify(e.repeatDescription):void 0}}function u(e){return{external_id:e.id,schedule:[{date:e.date}]}}function d(e){return{id:e.external_id,createdAt:e.external_id,date:e.date,text:e.message_plaintext,expression:e.expression,repeatDescription:e.repeat_description?JSON.parse(e.repeat_description):void 0}}function l(e){return{id:e.external_id,date:e.date}}var p=(0,n(126).makeSnipCloudHttp)("/reminders");function f(e){return o(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.post("",c(e)).then(d));case 1:case"end":return t.stop()}}),t)})))}function m(e){return o(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.post("/schedule",u(e)).then((function(){return e})));case 1:case"end":return t.stop()}}),t)})))}function v(e){return"postReminder"===e.type}function g(e){return"postScheduleEntry"===e.type}function b(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}t.getReminders=function(){return o(this,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("").then((function(e){return e.resources.map(d)})));case 1:case"end":return e.stop()}}),e)})))},t.postReminder=f,t.patchReminder=function(e){return o(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.patch("/".concat(e.id),c(e)).then(d));case 1:case"end":return t.stop()}}),t)})))},t.deleteReminder=function(e){return o(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.del("/".concat(e.id)).then(d));case 1:case"end":return t.stop()}}),t)})))},t.getSchedule=function(){return o(this,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("/schedule").then((function(e){return e.map(l)})));case 1:case"end":return e.stop()}}),e)})))},t.postScheduleEntry=m,t.unschedule=function(e){return o(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.post("/unschedule",{external_id:e.id,dates:[e.date]}).then((function(){return e})));case 1:case"end":return t.stop()}}),t)})))},t.makeRemindoHttpCoordinator=function(){var e=this,t=[],n=function(e){return console.log("registering operation!",e.type),t.push(Object.assign({},e)),e.promise.promise},c=(0,s.debounce)((function(){return o(e,void 0,void 0,i.mark((function e(){var n,r,s=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("flushing!"),n=t.filter(v).map((function(e){return o(s,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f(e.reminder).then((function(t){return e.promise.resolve(t)})));case 1:case"end":return t.stop()}}),t)})))})),console.log("waiting for ".concat(n.length," reminder post(s)")),e.next=5,(0,a.allSettled)(n);case 5:return console.log("done posting reminders"),r=t.filter(g).map((function(e){return o(s,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m(e.scheduleEntry).then((function(t){return e.promise.resolve(t)})));case 1:case"end":return t.stop()}}),t)})))})),console.log("waiting for ".concat(r.length," schedule entry post(s)")),e.next=10,(0,a.allSettled)(r);case 10:console.log("done posting schedule entries");case 11:case"end":return e.stop()}}),e)})))}),1e3),u=r(c,1)[0];return{postReminder:function(t){return o(e,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.abrupt("return",n({type:"postReminder",reminder:t,promise:b()}));case 2:case"end":return e.stop()}}),e)})))},postScheduleEntry:function(t){return o(e,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.abrupt("return",n({type:"postScheduleEntry",scheduleEntry:t,promise:b()}));case 2:case"end":return e.stop()}}),e)})))}}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncedBackend=void 0;var i=n(1),o=n(5),a=n(3),s=n(99),c=n(161),u=n(874),d=n(875),l=n(883),p=o.isMocked?0:1e3;function f(){return new Date}t.useSyncedBackend=function(e){var t,n=e.readId,o=e.backendFunctions,m=e.areEqual,v=e.shouldUpdateDuringMerge,g=void 0===v?function(e,t){return m(e.document,t.document)||!e.dirty}:v,b=e.documentNormalizer,h=void 0===b?function(){return{type:"valid"}}:b,j=e.filterBeforeUpload,y=void 0===j?function(){return!0}:j,O=e.needsSync,x=void 0===O?(t=y,function(e){return(0,c.getAllDirties)(e.store.store,t).length>0}):O,S=e.getUpdatedAt,w=void 0===S?f:S,I=e.getPermanent,E=e.makeDefaultPermanent,k=(0,a.useFactory)(d.reducerFactory,[],[n,g,h,m,w,I,E]),M=(0,i.useReducer)(k,(0,i.useMemo)((function(){return{store:(0,s.makeEmptyStore)(),derivedState:{documentWrappers:[]}}}),[])),D=r(M,2),_=D[0],P=D[1],C=(0,a.useSyncManager)(a.debounce,p),T=r(C,2),N=T[0],R=T[1];return(0,a.useSlot)(N,R,"download",(function(){return(0,u.download)(P,o.fetcher,n,h,w,I)})),(0,a.useSlot)(N,R,"upload",(function(){return(0,l.upload)(_,P,o.pusher,n,y)})),(0,a.useOnce)((function(){R({type:"requestSlot",slotName:"download"})}),!0),(0,i.useEffect)((function(){x(_)&&R({type:"requestSlot",slotName:"upload"})}),[_]),{wrappedDocuments:_.derivedState.documentWrappers,syncState:N,dispatch:P}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSingleDocument=void 0;var r=n(98),i=n(57);t.updateSingleDocument=function(e,t,n,o,a,s,c,u){var d=(0,r.get)(e.store,s(t));if(d&&n(t,d.document))return e;var l=(null===d||void 0===d?void 0:d.dirty)||!u||u(d||void 0),p=d?{dirty:l,config:{permanent:c?c(d.permanent):d.permanent}}:{dirty:l,config:{permanent:c?c(a()):a()}},f=(0,i.save)(e.store,s(t),t,o,p);return Object.assign(Object.assign({},e),{store:f})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRegex=void 0;var r=". ^ $ * + - ? ( ) [ ] { } | \u2014 /".split(" ").map((function(e){return{escapedChar:"\\"+e,regex:new RegExp("\\"+e,"g")}}));t.makeRegex=function(e){var t=e.trim();if(0===t.length)return null;var n=function(e){try{return new RegExp(e,"gi")}catch(n){}var t=r.reduce((function(e,t){return e.replaceAll(t.regex,t.escapedChar)}),e);try{return new RegExp(t,"gi")}catch(i){return null}}(t);return n?n.test("")?null:n:null}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginSettings=void 0,t.getOriginSettings=function(e,t,n){var r;return(null===(r=e.originSettings.find((function(e){return e.origin===t})))||void 0===r?void 0:r.settings)||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDashboardGroupDefinition=void 0,t.isDashboardGroupDefinition=function(e){return void 0!==e.axis}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o(e){return"fulfilled"===e.status}function a(e){return"rejected"===e.status}Object.defineProperty(t,"__esModule",{value:!0}),t.isNotNull=t.getRejected=t.getFulfilled=t.allSettled=t.capitalize=void 0,t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.allSettled=function(e){return i(this,void 0,void 0,r.mark((function t(){var n=this;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map((function(e){return i(n,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return n=t.sent,t.abrupt("return",{status:"fulfilled",value:n});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{status:"rejected",reason:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}))));case 1:case"end":return t.stop()}}),t)})))},t.getFulfilled=function(e){return e.filter(o).map((function(e){return e.value}))},t.getRejected=function(e){return e.filter(a).map((function(e){return e.reason}))},t.isNotNull=function(e){return null!==e}},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useObject=t.getObject=t.AppContext=void 0;var a=o(n(1));function s(e,t){var n=e.find((function(e){return e.name===t}));if(!n)throw"AppContext: object '".concat(t,"' not found!");return n.object}t.AppContext=a.default.createContext([]),t.getObject=s,t.useObject=function(e){return s((0,a.useContext)(t.AppContext),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeScheduledReminderId=void 0,t.makeScheduledReminderId=function(e){return"".concat(e.reminder.id,"-").concat(e.date,"-").concat(e.reminder.text)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRange=void 0,t.makeRange=function(e){return Array.from({length:e},(function(e,t){return t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustByTimezoneOffset=void 0,t.adjustByTimezoneOffset=function(e){return e+60*new Date(e).getTimezoneOffset()*1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openLinkProgrammatically=void 0;var r=n(340),i=n(339),o=n(294),a=(0,r.makeElectronSend)("openLinkProgrammatically");t.openLinkProgrammatically=function(e){if(o.isNativeApp){var t={type:"openLinkProgrammatically",url:e};(0,i.postClientWebViewMessage)(t)}else o.isElectron?a(e):window.open(e,"_blank")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.2.4"},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var i=n(0),o=n(1),a=n(3);n(535),n(245);var s=n(371),c=n(112),u=function(e,t){return e.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())}))};t.Autocomplete=function(e){var t=(0,s.useRequestFocus)(e.requestFocus),n=(0,o.useCallback)((function(n){var r,i;e.closeOnConfirm&&(null===(r=t.current)||void 0===r||r.blur()),null===(i=e.onConfirm)||void 0===i||i.call(e,"focused"===n.mode?n.value:n.filteredEntries[n.currentIndex].label)}),[e.onConfirm]),d=(0,a.useSelection)({entries:e.entries,filter:u,initialValue:"",onConfirm:n}),l=r(d,2),p=l[0],f=l[1],m=(0,a.useRefsCallback)(),v=m.refs,g=m.callback;(0,a.useScrollIntoViewForSelection)({state:p,entryRefs:v});var b=(0,o.useMemo)((function(){var t=(0,a.makeDefaultSelectionKeyHandlerChain)(f);return t=t.concat((0,a.buildKeyboardEventHandlerChainItem)(a.KEY_CODES.LEFT_ARROW,(function(t){var n;return 0===t.target.selectionStart&&(null===(n=e.onLeftArrowKeyDownAtEdge)||void 0===n?void 0:n.call(e,t))}))),(0,a.buildHandler)(t)}),[e.onLeftArrowKeyDownAtEdge]);return(0,i.jsxs)("div",Object.assign({className:"Autocomplete-wrapper"},{children:[(0,i.jsx)("input",{ref:t,onKeyDown:b,onFocus:function(){return f({type:"focus"})},onBlur:function(){f({type:"blur"})},value:p.value,onChange:function(e){return f({type:"change",value:e.target.value})},className:e.className||"CommonUI-input",placeholder:e.placeholder},void 0),p.derivedStates.active&&p.filteredEntries.length>0&&(0,i.jsx)("div",Object.assign({className:"Autocomplete-panel"},{children:p.filteredEntries.map((function(e,t){return(0,i.jsxs)("div",Object.assign({onMouseMove:function(){return f({type:"mouseMove",currentIndex:t})},onClick:function(){return f({type:"confirm"})},onMouseDown:function(e){return e.preventDefault()},className:"Autocomplete-entry ".concat(p.derivedStates.navigating&&t===p.currentIndex?"Autocomplete-selectedEntry":""),ref:function(e){return e&&g(e,t)}},{children:[e.iconName&&(0,i.jsx)(c.Icon,{iconName:e.iconName},void 0),e.label]}),t)}))}),void 0)]}),void 0)}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRefsCallback=void 0;var r=n(1);t.useRefsCallback=function(){var e=(0,r.useRef)([]),t=(0,r.useCallback)((function(t,n){return e.current&&(e.current[n]=t)}),[]);return{refs:e,callback:t}}},function(e,t,n){"use strict";var r=n(63).default,i=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.buildTransitionMap=t.useStateMachine=t.makeStateMachineReducer=void 0;var o=n(1);function a(e){var t=e.transitions,n=e.extract,r=void 0===n?function(e){return e}:n,i=e.write,o=void 0===i?function(e,t){return t}:i;return function(e,n){var i=t[r(e)][n]||r(e);return o(e,i)}}t.makeStateMachineReducer=a,t.useStateMachine=function(e,t){return(0,o.useReducer)(a({transitions:t}),e)},t.buildTransitionMap=function(e){var t=i(e[0]).slice(1),n=t.reduce((function(e,t){return Object.assign(Object.assign({},e),r({},t,{}))}),{});return e.reduce((function(e,n,o){if(0===o)return e;var a=i(n),s=a[0],c=a.slice(1);return t.reduce((function(e,t,n){return Object.assign(Object.assign({},e),r({},t,Object.assign(Object.assign({},e[t]),r({},s,c[n]))))}),e)}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInputField=t.makeInputFieldBindings=void 0;var r=n(1);t.makeInputFieldBindings=function(e){return{value:e.value,onChange:function(t){var n;e.setValue(t.target.value),null===(n=e.onChange)||void 0===n||n.call(e,t.target.value)}}},t.useInputField=function(e){return(0,r.useState)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewEntryBindings=t.makeExpandedIconBindings=void 0,t.makeExpandedIconBindings=function(e){return e.width=e.width||"1em",Object.assign({style:{width:e.width}},e.entry.hasChildren?{onClick:function(){var t;return null===(t=e.setCollapsed)||void 0===t?void 0:t.call(e,e.entry.index,!e.entry.isCollapsed)},onMouseDown:function(e){e.stopPropagation()}}:{})},t.makeTreeViewEntryBindings=function(e){return e.height=e.height||"1.5em",{onMouseDown:function(){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,e.entry)},key:"".concat(e.entry.index,"-").concat(e.entry.depth,"-").concat(e.entry.name),style:{zIndex:1e4-e.entry.index,height:e.height,marginTop:e.entry.isInsideCollapsed?"-".concat(e.height):void 0,transition:e.entry.isInsideCollapsed?"margin-top 0.15s, opacity 0.1s":"margin-top 0.15s, opacity 0.15s ease-in",opacity:e.entry.isInsideCollapsed?0:1,display:"flex",position:"relative"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoFocus=void 0;var r=n(1);t.useAutoFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.useEffect)((function(){setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),t)}),[])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useSelection=void 0;var i=n(1),o=n(79),a=n(153),s=n(490),c=n(491);t.useSelection=function(e){var t=(0,o.useFactory)(s.makeReducer,[e.entries,e.filter],[]),n=e.onConfirm||(0,i.useCallback)((function(){}),[]),u=(0,o.useFactory)(c.makeWorker,[n],[]),d=(0,i.useMemo)((function(){return t=e.initialValue,n=e.entries,r=e.filter,(0,s.updateDerivedStates)()({value:t,filteredEntries:r(n,t),currentIndex:0,mode:"closed",derivedStates:{active:!1,navigating:!1}});var t,n,r}),[]),l=(0,a.useReducerWithEffects)(t,u,d),p=r(l,2),f=p[0],m=p[1];return(0,i.useEffect)((function(){return m({type:"updateFilteredEntries"})}),[e.entries]),[f,m]}},,,function(e,t,n){"use strict";var r=n(55).default,i=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeReducer=t.updateDerivedStates=void 0;var o=n(95),a=function(e){return function(t){return Object.assign(Object.assign({},t),{mode:e})}},s=function(e){return function(t){return Object.assign(Object.assign({},t),{value:e})}},c=function(e){return function(t){return Object.assign(Object.assign({},t),{currentIndex:e})}};t.updateDerivedStates=function(){return function(e){return Object.assign(Object.assign({},e),{derivedStates:{active:"focused"===e.mode||"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode,navigating:"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode}})}};var u=function(e,t){return function(n){return Object.assign(Object.assign({},n),{filteredEntries:t(e,n.value)})}};t.makeReducer=function(e,n){var d=i(e,2),l=d[0],p=d[1];return r(n),function(e,n){switch(n.type){case"focus":case"click":return(0,o.pipe)(e,a("focused"),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"confirm":return(0,o.pipe)(e,n.close?a("closed"):a("focused"),(0,o.doUnless)(!1===n.reset,s("")),(0,o.doUnless)(!1===n.reset,c(0)),(0,o.doUnless)(!1===n.reset,u(l,p)),(0,t.updateDerivedStates)(),(d=[{type:"confirm",oldState:e}],function(e){return[e,d]}));case"change":return(0,o.pipe)(e,a("focused"),s(n.value),c(0),u(l,p),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"escape":return(0,o.pipe)(e,a("closed"),(0,t.updateDerivedStates)(),c(0),(function(e){return[e,[]]}));case"up":return(0,o.pipe)(e,(function(e){return Object.assign(Object.assign({},e),{currentIndex:(0,o.normalizeCounter)(e.currentIndex-1,e.filteredEntries.length)})}),a("navigatingByKey"),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"down":return(0,o.pipe)(e,(i=n.considerFocused,function(e){return Object.assign(Object.assign({},e),{currentIndex:i&&"focused"===e.mode?e.currentIndex:(0,o.normalizeCounter)(e.currentIndex+1,e.filteredEntries.length)})}),a("navigatingByKey"),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"mouseMove":return(0,o.pipe)(e,(r=n.currentIndex,function(e){return"navigatingByMouse"===e.mode&&e.currentIndex===r?e:(0,o.pipe)(e,a("navigatingByMouse"),c(r))}),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"blur":return(0,o.pipe)(e,a("closed"),s(""),c(0),(0,t.updateDerivedStates)(),(function(e){return[e,[]]}));case"updateFilteredEntries":return(0,o.pipe)(e,u(l,p),(function(e){return[e,[]]}))}var r,i,d}}},function(e,t,n){"use strict";var r=n(32),i=n(55).default,o=n(20).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWorker=void 0,t.makeWorker=function(e,t){var n=this,s=o(e,1)[0];return i(t),function(e,t,i){return a(n,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirm"===t.type)null===s||void 0===s||s(t.oldState);case 1:case"end":return e.stop()}}),e)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultSelectionKeyHandlerChain=void 0;var r=n(95);t.makeDefaultSelectionKeyHandlerChain=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[(0,r.buildKeyboardEventHandlerChainItem)(r.KEY_CODES.ENTER,(function(){return e({type:"confirm",reset:!0,close:!1})})),(0,r.buildKeyboardEventHandlerChainItem)(r.KEY_CODES.ESCAPE,(function(){return e({type:"escape"})})),(0,r.buildKeyboardEventHandlerChainItem)(r.KEY_CODES.DOWN_ARROW,(function(n){return(0,r.preventDefault)(n),e({type:"down",considerFocused:t})})),(0,r.buildKeyboardEventHandlerChainItem)(r.KEY_CODES.UP_ARROW,(function(t){return(0,r.preventDefault)(t),e({type:"up"})}))]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollIntoViewForSelection=void 0;var r=n(344);t.useScrollIntoViewForSelection=function(e){var t=e.state,n=e.entryRefs,i=e.animate,o=void 0!==i&&i;return(0,r.useScrollIntoView)({dependency:t.currentIndex,condition:"navigatingByKey"===t.mode,index:t.currentIndex,refs:n,useTimeout:!0,animate:o})}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useOnce=void 0;var i=n(1);t.useOnce=function(e,t){var n=(0,i.useState)(!1),o=r(n,2),a=o[0],s=o[1];(0,i.useEffect)((function(){if(t&&!a)return s(!0),e()}),[t])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedMemo=void 0;var i=n(1),o=n(297);t.useDebouncedMemo=function(e,t,n){var a=(0,i.useMemo)((function(){return(0,o.debounce)((function(e,t){return t((function(){return e()}))}),t)}),[]),s=r(a,2),c=s[0],u=s[1],d=(0,i.useMemo)((function(){return e()}),[]),l=(0,i.useState)((function(){return d})),p=r(l,2),f=p[0],m=p[1];return(0,i.useEffect)((function(){return c(e,m).catch((function(){return null})),function(){return u()}}),n),f}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedEffect=void 0;var i=n(1),o=n(297);function a(e){e()}t.useDebouncedEffect=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.debounce,c=(0,i.useMemo)((function(){return s(a,t)}),[]),u=r(c,2),d=u[0],l=u[1];(0,i.useEffect)((function(){return d(e).catch((function(){return null})),function(){return l()}}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePreviousDefined=void 0;var r=n(1);t.usePreviousDefined=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){e&&(t.current=e)})),t.current}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useInterGroupDrag=void 0;var i=n(1),o=n(354),a=n(169),s=n(153),c=n(79),u=n(499),d=n(518);t.useInterGroupDrag=function(e,t,n,l){var p=(0,i.useRef)([]),f=(0,i.useRef)([]),m=(0,c.useFactory)(d.workerFactory,[p,f],[l]),v=(0,s.useReducerWithEffects)(u.reducer,m,{type:"idle",rootGroup:e}),g=r(v,2),b=g[0],h=g[1],j=(0,o.useSimpleDrag)(t,n),y=r(j,2),O=y[0],x=y[1],S=(0,i.useCallback)((function(e,t){x({type:"start",event:e,metaData:t})}),[]);(0,a.useStateChangesToDefined)(O,(function(e){var t=e.metaData;h({type:"initiateStart",simpleDragState:e,startData:t})})),(0,a.useStateStaysDefined)(O,(function(e){return h({type:"drag",simpleDragState:e})}));var w=(0,i.useCallback)((function(){return h({type:"initiateStop"})}),[]);(0,a.useStateChangesToNull)(O,w);var I=(0,i.useCallback)((function(e,t,n){f.current[e]||(f.current[e]=[]),f.current[e][t]=n}),[]),E=(0,i.useCallback)((function(e,t){p.current[e]=t,f.current[e]||(f.current[e]=[])}),[]),k=(0,i.useCallback)((function(e){h({type:"setRootGroup",rootGroup:e})}),[]);return[b,S,E,I,p,f,k]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var i=n(500),o=n(502),a=n(503),s=n(506),c=n(507),u=n(508),d=n(509),l=n(510);t.reducer=function(e,t){switch(t.type){case"initiateStart":return"active"===e.type?[e,[]]:(0,c.handleInitiateStart)(e,t);case"start":if("active"===e.type)return[e,[]];var n=(0,u.handleStart)(e,t),p=r(n,2),f=p[0],m=p[1];return[(0,l.updateLayoutTransforms)(e,f),m];case"drag":if("idle"===e.type)return[e,[]];if(e.isStopping)return[e,[]];var v=(0,i.handleDrag)(e,Object.assign(Object.assign({},t),{simpleDragState:Object.assign(Object.assign({},t.simpleDragState),{startCoordinates:e.simpleDragState.startCoordinates})})),g=r(v,2),b=g[0],h=g[1];return[(0,l.updateLayoutTransforms)(e,b),h];case"unblock":if("idle"===e.type)return[e,[]];var j=(0,o.handleUnblock)(e,t),y=r(j,2),O=y[0],x=y[1];return[(0,l.updateLayoutTransforms)(e,O),x];case"initiateStop":return"idle"===e.type?[e,[]]:(0,s.handleInitiateStop)(e);case"stop":return"idle"===e.type?[e,[]]:(0,a.handleStop)(e);case"setRootGroup":return"active"===e.type?[e,[]]:(0,d.handleSetRootGroup)(e,t)}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.handleDrag=void 0;var i=n(96),o=n(501),a=n(74),s=n(356),c=n(357),u=n(154),d=n(298),l=n(360);function p(e,t){var n=e.groups[t.index].items.length-1,r=t.listDragState.entrySizes;r=(0,i.moveEntryInList)(r,t.listDragState.targetIndex,n);var o=(0,i.calculatePositions)(r);return Object.assign(Object.assign({},t),{listDragState:Object.assign(Object.assign(Object.assign({},t.listDragState),{targetIndex:n,currentHandlePosition:t.listDragState.entryEndPositions[n],entrySizes:r}),o)})}function f(e){return{index:e,listDragState:{originalIndex:0,targetIndex:0,initialHandlePosition:0,currentHandlePosition:0,entrySizes:[],entryEndPositions:[],entryMiddlePositions:[],originalEndPosition:0,handleOffsetRelativeToEndPosition:0,crossedItemIndex:null,offset:0}}}function m(e){var t=e.items.filter(u.isGroup).map(m).flat();return[e.identifier].concat(r(t))}function v(e){return(0,u.isGroup)(e)&&1===e.parents.length}function g(e,t){var n=function(e){var t,n,r,i,o,a;if(null===(null!==(n=null===(t=e.target)||void 0===t?void 0:t.listDragState.crossedItemIndex)&&void 0!==n?n:e.source.listDragState.crossedItemIndex))return[];var s=null!==(i=null===(r=e.target)||void 0===r?void 0:r.index)&&void 0!==i?i:e.source.index,c=null!==(a=null===(o=e.target)||void 0===o?void 0:o.listDragState.targetIndex)&&void 0!==a?a:e.source.listDragState.targetIndex,d=e.groups[s].items[c];return d&&(0,u.isGroup)(d)?m(d):[]}(e),r=e.groups[e.source.index].items[e.source.listDragState.originalIndex],i=v(r),o=e.groups.concat().filter((function(e){return function(e,t,n){return!t.includes(e.identifier)&&(n?!v(e):!e.isRootGroup)}(e,n,i)})).sort((function(e,t){return t.parents.length-e.parents.length})).map((function(n){var r=n.identifier;return{match:e.groupDimensions[r].dimensions.x<t.x&&e.groupDimensions[r].dimensions.y<t.y&&t.x<e.groupDimensions[r].dimensions.x+e.groupDimensions[r].dimensions.width&&t.y<e.groupDimensions[r].dimensions.y+e.groupDimensions[r].dimensions.height,identifier:r}})).filter((function(t){var n=t.identifier;return!(0,u.isGroup)(r)||n!==r.identifier&&!(0,d.isSubGroup)(e,r.identifier,n)})).filter((function(e){return e.match}));return o.length>0?o[0].identifier:-1}t.handleDrag=function(e,t){var n;if(e.layoutRecalculation)return[Object.assign(Object.assign({},e),{simpleDragState:t.simpleDragState}),[]];var r=g(e,t.simpleDragState.currentCoordinates);if(r>=0&&r!==e.source.index){var i=Object.assign(Object.assign({},e),{simpleDragState:t.simpleDragState}),u=(i=Object.assign(Object.assign({},i),{source:i.target?i.source:p(i,i.source)})).target&&i.target.index===r,d=a.dex.pos[i.groups[r].axis](i.simpleDragState.currentCoordinates);i=Object.assign(Object.assign({},i),{target:u?(0,l.setListDragStateOnDrag)(d,i.target):f(r)});var m=(null===(n=e.target)||void 0===n?void 0:n.index)!==i.target.index||e.target.listDragState.targetIndex!==i.target.listDragState.targetIndex;return i=Object.assign(Object.assign({},i),{layoutRecalculation:m?(0,s.getLayoutRecalculation)(e,i):null}),i=(0,o.calculateCoordinateCorrectionVertical)(e,i),[i=u?i:Object.assign(Object.assign({},i),{target:(0,c.initGroupDragStateForTarget)(i,r,d)}),m?[{type:"scheduleUnblock"}]:[]]}var v=Object.assign(Object.assign({},e),{target:void 0,simpleDragState:t.simpleDragState});v=(0,o.calculateCoordinateCorrectionVertical)(e,v),v=Object.assign(Object.assign({},v),{source:(0,l.setListDragStateOnDrag)(a.dex.pos[e.groups[e.source.index].axis](v.simpleDragState.currentCoordinates),v.source)});var b=void 0!==e.target||e.source.listDragState.targetIndex!==v.source.listDragState.targetIndex;return[v=Object.assign(Object.assign({},v),{layoutRecalculation:b?(0,s.getLayoutRecalculation)(e,v):null}),b?[{type:"scheduleUnblock"}]:[]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateCoordinateCorrectionVertical=void 0;var r=n(74),i=n(119),o=n(298),a=n(355);t.calculateCoordinateCorrectionVertical=function(e,t){var n,s,c,u,d=null!==(s=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==s?s:e.source.index,l=null!==(u=null===(c=t.target)||void 0===c?void 0:c.index)&&void 0!==u?u:t.source.index;if("X"!==e.groups[d].axis)return t;if(!(d!==l))return t;if(!(0,o.isSubGroup)(e,l,d))return t;var p=r.dex.pos.Y(t.simpleDragState.currentCoordinates)-r.dex.pos.Y(t.simpleDragState.startCoordinates);if(!(0<p))return t;var f=r.dex.size.Y(e.groupDimensions[d].dimensions)/2-p;if(!(0<f))return t;var m=r.dex.pos.Y(t.simpleDragState.startCoordinates),v=m-f;return Object.assign(Object.assign({},t),{simpleDragState:Object.assign(Object.assign({},t.simpleDragState),{startCoordinates:Object.assign(Object.assign({},t.simpleDragState.startCoordinates),i.dre.pos.Y(m-f))}),source:t.target?t.source:(0,a.patchListDragStateHandlePosition)(t.source,v),target:t.target?(0,a.patchListDragStateHandlePosition)(t.target,v):void 0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUnblock=void 0;var r=n(74),i=n(356),o=n(357),a=n(360);t.handleUnblock=function(e,t){var n,s,c=Object.assign(Object.assign({},e),{layoutRecalculation:null,groupDimensions:t.groupDimensions});c=Object.assign(Object.assign({},c),{target:c.target?(0,o.initGroupDragStateForTarget)(c,c.target.index,r.dex.pos[c.groups[c.target.index].axis](c.simpleDragState.currentCoordinates)):void 0}),c=Object.assign(Object.assign({},c),{source:c.target?c.source:(0,a.setListDragStateOnDrag)(r.dex.pos[c.groups[c.source.index].axis](c.simpleDragState.currentCoordinates),c.source)});var u=(null===(n=e.target)||void 0===n?void 0:n.listDragState.targetIndex)!==(null===(s=c.target)||void 0===s?void 0:s.listDragState.targetIndex);return[c=Object.assign(Object.assign({},c),{layoutRecalculation:u?(0,i.getLayoutRecalculation)(e,c):null}),u?[{type:"scheduleUnblock"}]:[]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleStop=void 0;var r=n(504);t.handleStop=function(e){return[{type:"idle",rootGroup:(0,r.adjustGroupAfterDrag)(e,e.rootGroup,e.rootGroup)},[]]}},function(e,t,n){"use strict";var r=n(24).default,i=n(505).default;Object.defineProperty(t,"__esModule",{value:!0}),t.adjustGroupAfterDrag=void 0;var o=n(96),a=n(154);function s(e,t){if(e.identifier===t)return e;var n=e.items.find((function(e){return(0,a.isGroup)(e)&&e.identifier===t}));if(n)return n;var r,o=i(e.items);try{for(o.s();!(r=o.n()).done;){var c=r.value;if((0,a.isGroup)(c)){var u=s(c,t);if(u)return u}}}catch(d){o.e(d)}finally{o.f()}return null}t.adjustGroupAfterDrag=function e(t,n,i){var c=i.items.map((function(r){return(0,a.isGroup)(r)?e(t,n,r):r}));return i.identifier===t.source.index&&t.target?Object.assign(Object.assign({},i),{items:c.filter((function(e,n){return n!==t.source.listDragState.originalIndex}))}):i.identifier===t.source.index?Object.assign(Object.assign({},i),{items:(0,o.moveEntryInList)(c,t.source.listDragState.originalIndex,t.source.listDragState.targetIndex)}):t.target&&i.identifier===t.target.index?Object.assign(Object.assign({},i),{items:(0,o.moveEntryInList)([].concat(r(c),[s(n,t.source.index).items[t.source.listDragState.originalIndex]]),c.length,t.target.listDragState.targetIndex)}):Object.assign(Object.assign({},i),{items:c})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleInitiateStop=void 0,t.handleInitiateStop=function(e){return[Object.assign(Object.assign({},e),{isStopping:!0}),[{type:"scheduleStop"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleInitiateStart=void 0,t.handleInitiateStart=function(e,t){return[e,[{type:"start",startData:t.startData,simpleDragState:t.simpleDragState}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleStart=void 0;var r=n(96),i=n(74);t.handleStart=function(e,t){var n=t.groups[t.startData.groupIndex].axis,o=t.groupDimensions[t.startData.groupIndex];return[{source:{index:t.startData.groupIndex,listDragState:(0,r.onStartListDrag)(t.startData.itemIndex,o.entryDimensions.map(i.dex.size[n]),i.dex.pos[n](t.simpleDragState.startCoordinates),i.dex.pos[n](o.innerDimensions))},groupDimensions:t.groupDimensions,simpleDragState:t.simpleDragState,groups:t.groups,layoutRecalculation:null,layoutTransforms:[],isStopping:!1,type:"active",rootGroup:t.startData.rootGroup},[]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleSetRootGroup=void 0,t.handleSetRootGroup=function(e,t){return[{type:"idle",rootGroup:t.rootGroup},[]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLayoutTransforms=void 0;var r=n(361),i=n(511),o=n(512);t.updateLayoutTransforms=function(e,t){var n,a;if("idle"===t.type)return t;var s=("active"===e.type?(null===(n=null===e||void 0===e?void 0:e.target)||void 0===n?void 0:n.index)||(null===e||void 0===e?void 0:e.source.index):void 0)!==((null===(a=t.target)||void 0===a?void 0:a.index)||t.source.index),c="idle"===e.type||(null===e||void 0===e?void 0:e.layoutRecalculation)!==t.layoutRecalculation;return function(e){var t=(0,i.calculateDraggedItemSize)(e),n=(0,r.calculateDraggedItemPosition)(e),o=e.layoutTransforms.map((function(r,i){return i!==e.source.index?r:r.map((function(r,i){return i!==e.source.listDragState.originalIndex?r:Object.assign(Object.assign({},t),n)}))}));return Object.assign(Object.assign({},e),{layoutTransforms:o})}(t=s||c?Object.assign(Object.assign({},t),{layoutTransforms:(0,o.calculateLayoutTransforms)(t)}):t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDraggedItemSize=void 0;var r=n(359);t.calculateDraggedItemSize=function(e){var t,n,i=null!==(n=null===(t=e.target)||void 0===t?void 0:t.index)&&void 0!==n?n:e.source.index,o=e.groups[i].axis,a=e.groupDimensions[i],s=e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex].height,c=a.innerDimensions.width;return"X"===o?{width:(0,r.getSizeBasedOnCurrentTarget)(e,i),height:s}:{width:c,height:s}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLayoutTransforms=void 0;var i=n(513),o=n(516),a=n(517),s=n(155),c=n(154);function u(e,t,n){var d=n.items.map((function(d,l){if((0,c.isGroup)(d)){var p=u(e,t,d);return function(e,t,n,c,u){var d,l,p=(0,s.isDraggedItem)(e,n.identifier,u)?{dimensions:{},sizeChange:null}:(0,i.calculateGroupSize)(e,n.identifier,c.identifier,u,t.accumulatedSizeChange),f=(0,s.isDraggedItem)(e,n.identifier,u)?{}:(0,a.calculateItemSize)(e,n.identifier,u),m=(0,o.calculateItemPosition)(e,n.identifier,u),v=Object.assign(Object.assign(Object.assign({},p.dimensions),f),m),g=r(t.layoutTransforms);return g[n.identifier]||(g[n.identifier]=[]),g[n.identifier][u]=v,g[c.identifier]||(g[c.identifier]=[]),{layoutTransforms:g,accumulatedSizeChange:{x:"X"===(null===(d=p.sizeChange)||void 0===d?void 0:d.axis)?p.sizeChange.quantity:0,y:"Y"===(null===(l=p.sizeChange)||void 0===l?void 0:l.axis)?p.sizeChange.quantity:0}}}(e,p,n,d,l)}return function(e,t,n,i){var c=(0,o.calculateItemPosition)(e,n.identifier,i),u=(0,s.isDraggedItem)(e,n.identifier,i)?{}:(0,a.calculateItemSize)(e,n.identifier,i),d=Object.assign(Object.assign({},c),u),l=r(t.layoutTransforms);return l[n.identifier]||(l[n.identifier]=[]),l[n.identifier][i]=d,{layoutTransforms:l,accumulatedSizeChange:t.accumulatedSizeChange}}(e,t,n,l)}));return d.reduce((function(e,t){var n,i,o,a,s=t.layoutTransforms,c=t.accumulatedSizeChange,u=r(e.layoutTransforms);s.forEach((function(t,n){t&&(u[n]=r(e.layoutTransforms[n]?e.layoutTransforms[n]:[]),t.forEach((function(e,t){e&&(u[n][t]=e)})))}));var d={x:(null!==(n=e.accumulatedSizeChange.x)&&void 0!==n?n:0)+(null!==(i=c.x)&&void 0!==i?i:0),y:(null!==(o=e.accumulatedSizeChange.y)&&void 0!==o?o:0)+(null!==(a=c.y)&&void 0!==a?a:0)};return{layoutTransforms:u,accumulatedSizeChange:d}}),t)}t.calculateLayoutTransforms=function(e,t){if(!(t=t||e.groups.find((function(e){return e.isRootGroup}))))throw"no root group found";return u(e,{layoutTransforms:[],accumulatedSizeChange:{x:0,y:0}},t).layoutTransforms}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupSize=void 0;var r=n(74),i=n(119),o=n(362),a=n(155),s=n(514),c=n(298);function u(e,t){var n=t.dimensions,r=t.sizeChange;return Object.assign({dimensions:Object.assign(Object.assign({},n),n.height?{height:n.height+e.y}:{})},n.height?{sizeChange:{quantity:(r?r.quantity:0)+e.y,axis:"Y"}}:{sizeChange:null})}t.calculateGroupSize=function(e,t,n,d,l){if((0,a.isDraggedItem)(e,t,d))throw"unexpected state: trying to calculate group size for dragged item.";var p=e.groups[n].axis,f=(0,o.getOppositeAxis)(p),m=r.dex.size[p](e.groupDimensions[n].dimensions),v=r.dex.size[p](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]),g=r.dex.size[f](e.groupDimensions[n].dimensions),b=r.dex.size[f](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);if(!e.layoutRecalculation||e.layoutRecalculation.oldTarget===e.layoutRecalculation.newTarget||n!==e.layoutRecalculation.oldTarget&&n!==e.layoutRecalculation.newTarget)return u(l,"X"===p?{dimensions:i.dre.size[f](g),sizeChange:null}:{dimensions:i.dre.size[p](m),sizeChange:null});var h,j,y,O=n===e.layoutRecalculation.oldTarget?-1:1,x=(0,s.calculateGroupSizeChange)(p,f,v,b,m,g,e,n,O);return(h=e,j=e.layoutRecalculation.oldTarget,y=e.layoutRecalculation.newTarget,(0,c.isSubGroup)(h,j,y)||(0,c.isSubGroup)(h,y,j))?u(l,x):x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupSizeChange=void 0;var r=n(515),i=n(74),o=n(119);t.calculateGroupSizeChange=function(e,t,n,a,s,c,u,d,l){if("X"===e){var p=function(e,t,n){return e.groupDimensions[t].entryDimensions.concat().filter((function(n,r){return t!==e.source.index||r!==e.source.listDragState.originalIndex})).sort((function(e,t){return i.dex.size[n](t)-i.dex.size[n](e)}))[0]}(u,d,"Y");return p?i.dex.size.Y(p)<a?(0,r.calculateDimensionsWithSizeChange)(t,c,(a-i.dex.size.Y(p))*l):{dimensions:o.dre.size[t](c),sizeChange:null}:(0,r.calculateDimensionsWithSizeChange)(t,c,a*l)}return(0,r.calculateDimensionsWithSizeChange)(e,s,n*l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDimensionsWithSizeChange=void 0;var r=n(119);t.calculateDimensionsWithSizeChange=function(e,t,n){return{dimensions:r.dre.size[e](t+n),sizeChange:{quantity:n,axis:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemPosition=void 0;var r=n(96),i=n(361),o=n(74),a=n(119),s=n(155);t.calculateItemPosition=function(e,t,n){var c,u=e.groups[t].axis;if((0,s.isDraggedItem)(e,t,n))return(0,i.calculateDraggedItemPosition)(e);if(e.source.index===t&&void 0===e.target){var d=function(e,t){return e<t.source.listDragState.originalIndex?0:o.dex.size[t.groups[t.source.index].axis](t.groupDimensions[t.source.index].entryDimensions[t.source.listDragState.originalIndex])}(n,e);return Object.assign({},a.dre.start[u](d+(0,r.getListDragOffset)(n,e.source.listDragState)))}return(null===(c=e.target)||void 0===c?void 0:c.index)===t?Object.assign({},a.dre.start[u]((0,r.getListDragOffset)(n,e.target.listDragState))):Object.assign({},a.dre.start[u](0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemSize=void 0;var r=n(119),i=n(299),o={};t.calculateItemSize=function(e,t,n){var a,s,c,u=e.groups[t].axis;if("Y"===u)return o;var d=(0,i.calculateItemSizesForLimitedGroup)(e,t);return t===(null===(a=e.layoutRecalculation)||void 0===a?void 0:a.oldTarget)||t===(null===(s=e.layoutRecalculation)||void 0===s?void 0:s.newTarget)||t===e.source.index&&!e.target||t===(null===(c=e.target)||void 0===c?void 0:c.index)?r.dre.size[u](d[n]):o}},function(e,t,n){"use strict";var r=n(32),i=n(20).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.workerFactory=void 0;var a=n(519),s=n(520),c=n(521);t.workerFactory=function(e,t){var n=this,u=i(e,2),d=u[0],l=u[1],p=i(t,1)[0];return function(e,t){return o(n,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.type,n.next="start"===n.t0?3:"scheduleUnblock"===n.t0?4:"scheduleStop"===n.t0?7:10;break;case 3:return n.abrupt("return",(0,a.handleStart)(t,d,l));case 4:if("idle"!==e.type){n.next=6;break}throw"unexpected state: state is idle during scheduleUnblock.";case 6:return n.abrupt("return",(0,s.handleScheduleUnblock)(e,d,l,p));case 7:if("idle"!==e.type){n.next=9;break}throw"unexpected state: state is idle during scheduleStop";case 9:return n.abrupt("return",(0,c.handleScheduleStop)(p));case 10:case"end":return n.stop()}}),n)})))}}},function(e,t,n){"use strict";var r=n(32),i=n(24).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleStart=t.buildGroupInfo=void 0;var a=n(154),s=n(363);function c(e,t){var n=e.map((function(e){return c(e.items.filter(a.isGroup).map((function(e){return Object.assign({},e)})),[].concat(i(t),[e.identifier]))})).flat();return[].concat(i(e.map((function(e){return Object.assign(Object.assign({},e),{parents:t})}))),i(n))}function u(e){return c([e],[]).sort((function(e,t){return e.identifier-t.identifier}))}t.buildGroupInfo=u,t.handleStart=function(e,t,n){return o(this,void 0,void 0,r.mark((function i(){var o,a;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=u(e.startData.rootGroup),a=(0,s.calculateGroupDimensions)(o,t,n),r.abrupt("return",[{type:"start",startData:e.startData,simpleDragState:e.simpleDragState,groups:o,groupDimensions:a}]);case 3:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleScheduleUnblock=void 0;var o=n(363);t.handleScheduleUnblock=function(e,t,n,a){return i(this,void 0,void 0,r.mark((function i(){var s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new Promise((function(e){return setTimeout(e,1e3*a+5)}));case 2:return s=(0,o.calculateGroupDimensions)(e.groups,t,n).map((function(t){return t.identifier===e.source.index?Object.assign(Object.assign({},t),{entryDimensions:t.entryDimensions.map((function(t,n){return n===e.source.listDragState.originalIndex?e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]:t}))}):t})),r.abrupt("return",[{type:"unblock",groupDimensions:s}]);case 4:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleScheduleStop=void 0,t.handleScheduleStop=function(e){return i(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout(t,1e3*e)}));case 2:return t.abrupt("return",[{type:"stop"}]);case 3:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroupFlex=void 0,t.renderGroupFlex=function(e){return{display:"flex",flexDirection:"X"===e?"row":"column"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderItemStyles=void 0;var r=n(155),i=n(364);function o(e,t,n){return"Y"===e?t:Object.assign(Object.assign(Object.assign({},t),{alignSelf:"start"}),t.width?{}:n.size?{width:n.size}:{flex:1})}t.renderItemStyles=function(e,t,n,a){if("active"===e.type){var s=e.layoutTransforms[t.identifier][n];if((0,r.isDraggedItem)(e,t.identifier,n)){var c="box-shadow ".concat(a,"s");return e.isStopping?Object.assign(Object.assign({transition:"width ".concat(a,"s, height ").concat(a,"s, top ").concat(a,"s, left ").concat(a,"s, ").concat(c),position:"fixed"},s),(0,i.calculateTargetPosition)(e)):Object.assign({transition:"width ".concat(a,"s, height ").concat(a,"s, ").concat(c),position:"fixed"},s)}return Object.assign({position:"relative",transition:"width ".concat(a,"s, height ").concat(a,"s, left ").concat(a,"s, top ").concat(a,"s")},o(t.axis,s,t.items[n]))}return o(t.axis,{},t.items[n])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useStateFromEventBus=void 0;var i=n(1),o=n(300);t.useStateFromEventBus=function(e){var t=(0,i.useState)(null),n=r(t,2),a=n[0],s=n[1];return(0,o.useEventBusSubscription)(e,(0,i.useCallback)((function(e){s(e)}),[])),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTimeout=void 0;var r=n(983),i=n(1),o=n(170),a=n(365);t.useTimeout=function(e,t){var n=(0,a.useSubject)(),s=(0,i.useMemo)((function(){return n.pipe((0,r.delay)(t))}),[]);return(0,o.useObservable)(e,s),(0,i.useCallback)((function(e){return n.next(e)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var r=n(1),i=n(336),o=n(170);t.useInterval=function(e,t){(0,o.useObservable)(e,(0,r.useMemo)((function(){return(0,i.interval)(t)}),[]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStartAnimation=void 0;var r=n(1),i=n(367);t.useStartAnimation=function(){var e=(0,r.useRef)(null),t=(0,r.useCallback)((function(t,n,r,o,a){var s,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];e.current&&e.current.state.running&&e.current.state.end!==n&&c?e.current.replace(t,n,r,u):e.current&&e.current.state.running&&e.current.state.end===n||(null===(s=e.current)||void 0===s||s.cancel(),e.current=(0,i.startAnimation)(t,n,r,o,a))}),[]);return{startAnimation:t,runningAnimation:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollShadows=void 0;var r=n(1),i=n(368);t.useScrollShadows=function(e,t){var n=(0,r.useRef)(null),o=(0,r.useRef)(null);return{onScroll:(0,i.useOnScroll)(n,o,(0,i.useOnScrollEventBusEmitter)(e),t),containerRef:n,scrollableRef:o,isAtTop:(0,i.useIsAtTop)(e),isAtBottom:(0,i.useIsAtBottom)(e)}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useAnimationSteps=void 0;var i=n(1),o=n(95),a=n(79),s=n(353),c=function(e){return function(t){return Object.assign(Object.assign({},t),{counter:e})}},u=function(e){return function(t){return Object.assign(Object.assign({},t),{path:e})}},d=function(e){return function(t){return Object.assign(Object.assign({},t),{postAction:e})}},l=function(e){return function(t){return void 0===e?Object.assign(Object.assign({},t),{isAdvancingToTarget:!1}):Object.assign(Object.assign({},t),{isAdvancingToTarget:{target:e}})}},p=function(e){return function(t){return[t,e]}};function f(e){var t=r(e,1)[0];return function(e,n){switch(n.type){case"increment":return(0,o.pipe)(e,c((0,o.normalizeCounter)(e.counter+1,t.length)),p([{type:"handle",skipTerminal:!1}]));case"start":return(0,o.pipe)(e,c(0),u(n.path),d(n.postAction),l(n.target),p([{type:"handle",skipTerminal:!0}]));case"advance":var r=t[e.counter];if(void 0!==n.target&&r.target===n.target&&!1===e.isAdvancingToTarget)return[e,[]];if(e.isAdvancingToTarget&&e.isAdvancingToTarget.target===n.target)return[e,[]];if(t[e.counter].terminal)return(0,o.pipe)(e,u(n.path),d(n.postAction),l(n.target),p([{type:"handle",skipTerminal:!0}]));var i=t.findIndex((function(t,n){return e.counter<n&&t.terminal}));return(0,o.pipe)(e,c(-1===i?0:i),u(n.path),p([{type:"handle",skipTerminal:!0}]));case"setTimeoutId":return(0,o.pipe)(e,(a=n.timeoutId,function(e){return Object.assign(Object.assign({},e),{timeoutId:a})}),p([]));case"reset":return(0,o.pipe)(e,(function(e){return Object.assign(Object.assign({},e),{postAction:void 0,isAdvancingToTarget:!1})}),p([]))}var a}}function m(e,t){var n=e.config;return"function"===typeof n?n(t):n}function v(e){var t=r(e,1)[0];return function(e,n,r){var i;e.timeoutId&&clearTimeout(e.timeoutId);var o=t[e.counter],a=!n.skipTerminal&&o.terminal,s=!1===e.isAdvancingToTarget||o.target===e.isAdvancingToTarget.target||0===e.counter;if(a&&s)return null===(i=e.postAction)||void 0===i||i.call(e),[{type:"reset"}];var c=m(o,e.path);return[{type:"setTimeoutId",timeoutId:setTimeout((function(){return window.requestAnimationFrame((function(){return r({type:"increment"})}))}),c.duration)}]}}var g={counter:0,isAdvancingToTarget:!1};t.useAnimationSteps=function(e){var t=(0,a.useFactory)(f,[e],[]),n=(0,a.useFactory)(v,[e],[]),o=(0,s.useReducerWithEffectsSynced)(t,n,g),c=r(o,2),u=c[0],d=c[1],l=(0,i.useMemo)((function(){return m(e[u.counter],u.path).data}),[u.counter]);return(0,i.useEffect)((function(){return function(){return u.timeoutId&&clearTimeout(u.timeoutId)}}),[u.timeoutId]),[l,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAnchorPositioning=void 0;var r=n(1),i=n(296);t.useAnchorPositioning=function(e){var t=(0,r.useRef)(null),n=(0,i.useDimensions)(t),o=(0,r.useMemo)((function(){return n?function(e,t){switch(t){case"top-center":return{bottom:1.5*e.height,left:e.width/2,transform:"translateX(-50%)"};case"bottom-center":return{top:1.5*e.height,left:e.width/2,transform:"translateX(-50%)"};case"bottom-right":return{top:e.height,left:e.width};case"bottom-right-left-aligned":return{top:1.5*e.height,left:0};case"left-center":return{top:.5*e.height,left:"-1em",transform:"translateX(-100%) translateY(-50%)"}}}(n,e):{}}),[n]);return[t,o]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMergedCSSProperties=void 0;var r=n(1);t.useMergedCSSProperties=function(e){return(0,r.useMemo)((function(){return e.reduce((function(e,t){return Object.assign(Object.assign({},e),t)}),{})}),e)}},function(e,t,n){"use strict";var r=n(32),i=n(20).default,o=n(24).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncedQueueWorker=void 0;var s=n(1),c=n(370);function u(e,t){switch(t.type){case"add":return Object.assign(Object.assign({},e),{queue:[].concat(o(e.queue),[{id:t.id,item:t.item}])});case"cleanup":return Object.assign(Object.assign({},e),{queue:e.queue.filter((function(e){return!t.ids.includes(e.id)}))})}}var d={queue:[]};t.useSyncedQueueWorker=function(e,t,n){var o=this,l=(0,c.useSyncManager)(e,t),p=i(l,2),f=p[0],m=p[1],v=(0,s.useReducer)(u,d),g=i(v,2),b=g[0],h=g[1];return(0,s.useEffect)((function(){0<b.queue.length&&m({type:"requestSlot",slotName:"work"})}),[b.queue]),(0,c.useSlot)(f,m,"work",(function(){return a(o,void 0,void 0,r.mark((function e(){var t,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(b);case 2:return t=e.sent,i=t.ids,o=t.errors,h({type:"cleanup",ids:i}),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))})),{dispatch:h,errors:f.errors.work||[]}}},function(e,t,n){"use strict";var r=n(24).default,i=n(63).default;Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=t.mergeIntoMap=void 0,t.mergeIntoMap=function(e,t,n){var o=e[n]?e:Object.assign(Object.assign({},e),i({},n,[]));return Object.assign(Object.assign({},o),i({},n,[].concat(r(o[n]),[t])))},t.groupBy=function(e,t,n,r){return e.reduce((function(e,t){return r(e,t,n(t))}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOnEnter=void 0;var r=n(1),i=n(95);t.useOnEnter=function(e){return(0,r.useMemo)((function(){return(0,i.buildHandler)([(0,i.buildKeyboardEventHandlerChainItem)(i.KEY_CODES.ENTER,(function(t){return e(t)}))])}),[e])}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bootstrap=void 0;var r=n(0);n(537),n(538),t.Bootstrap=function(e){return function(e){switch(e.iconName){case"bold":return(0,r.jsx)("i",{className:"bi bi-type-bold"},void 0);case"italic":return(0,r.jsx)("i",{className:"bi bi-type-italic"},void 0);case"line-through":return(0,r.jsx)("i",{className:"bi bi-type-strikethrough"},void 0);case"underline":return(0,r.jsx)("i",{className:"bi bi-type-underline"},void 0);case"number-list":return(0,r.jsx)("i",{className:"bi bi-list-ol"},void 0);case"bullet-list":return(0,r.jsx)("i",{className:"bi bi-list-ul"},void 0);case"todo-list":return(0,r.jsx)("i",{className:"bi bi-list-check"},void 0);case"code":case"code-snippet":return(0,r.jsx)("i",{className:"bi bi-code-slash"},void 0);case"code-block":return(0,r.jsx)("i",{className:"bi bi-braces"},void 0);case"quote":return(0,r.jsx)("i",{className:"bi bi-chat-quote"},void 0);case"label":return(0,r.jsx)("i",{className:"bi bi-tag"},void 0);case"lift-item":return(0,r.jsx)("i",{className:"bi bi-arrow-bar-left"},void 0);case"sink-item":return(0,r.jsx)("i",{className:"bi bi-arrow-bar-right"},void 0);case"join-up":return(0,r.jsx)("i",{className:"bi bi-arrows-collapse"},void 0);case"heading-1":return(0,r.jsx)("i",{className:"bi bi-type-h1"},void 0);case"heading-2":return(0,r.jsx)("i",{className:"bi bi-type-h2"},void 0);case"heading-3":return(0,r.jsx)("i",{className:"bi bi-type-h3"},void 0);case"filled-square":return(0,r.jsx)("i",{className:"bi bi-square-fill"},void 0);case"info-circle":return(0,r.jsx)("i",{className:"bi bi-info-circle"},void 0);case"exclamation-circle":return(0,r.jsx)("i",{className:"bi bi-exclamation-circle"},void 0);case"lightbulb":return(0,r.jsx)("i",{className:"bi bi-lightbulb"},void 0);case"text-alignment-center":return(0,r.jsx)("i",{className:"bi bi-text-center"},void 0);case"text-alignment-right":return(0,r.jsx)("i",{className:"bi bi-text-right"},void 0);case"item-alignment-center":return(0,r.jsx)("i",{className:"bi bi-align-center"},void 0);case"reminder":return(0,r.jsx)("i",{className:"bi bi-calendar"},void 0);case"text-color":return(0,r.jsx)("i",{className:"bi bi-record-fill"},void 0);case"text-background-color":return(0,r.jsx)("i",{className:"bi bi-stop-fill"},void 0);case"expand-in-fullscreen":case"windows-os-maximize":return(0,r.jsx)("i",{className:"bi bi-arrows-angle-expand"},void 0);case"shrink-in-fullscreen":case"windows-os-unmaximize":return(0,r.jsx)("i",{className:"bi bi-arrows-angle-contract"},void 0);case"rich-text-snippet":return(0,r.jsx)("i",{className:"bi bi-text-paragraph"},void 0);case"todo-list-snippet":return(0,r.jsx)("i",{className:"bi bi-check2-square"},void 0);case"sticky-snippet":return(0,r.jsx)("i",{className:"bi bi-sticky-fill"},void 0);case"rename":return(0,r.jsx)("i",{className:"bi bi-pen-fill"},void 0);case"origin":return(0,r.jsx)("i",{className:"bi bi-arrow-up-right-circle"},void 0);case"origin-fill":return(0,r.jsx)("i",{className:"bi bi-arrow-up-right-circle-fill"},void 0);case"move-to-archive":case"restore-from-archive":case"archive":return(0,r.jsx)("i",{className:"bi bi-archive-fill"},void 0);case"arrow-left":return(0,r.jsx)("i",{className:"bi bi-arrow-left"},void 0);case"arrow-right":return(0,r.jsx)("i",{className:"bi bi-arrow-right"},void 0);case"plus-square":return(0,r.jsx)("i",{className:"bi bi-plus-square"},void 0);case"plus-square-fill":return(0,r.jsx)("i",{className:"bi bi-plus-square-fill"},void 0);case"magnifying-glass":return(0,r.jsx)("i",{className:"bi bi-search"},void 0);case"tag-display-mode":return(0,r.jsx)("i",{className:"bi bi-eye-fill"},void 0);case"chevron-right":return(0,r.jsx)("i",{className:"bi bi-chevron-right"},void 0);case"chevron-down":return(0,r.jsx)("i",{className:"bi bi-chevron-down"},void 0);case"settings":return(0,r.jsx)("i",{className:"bi bi-gear"},void 0);case"snip-cloud-origin":return(0,r.jsx)("i",{className:"bi bi-cloud"},void 0);case"file-origin":return(0,r.jsx)("i",{className:"bi bi-folder"},void 0);case"folder":return(0,r.jsx)("i",{className:"bi bi-folder-fill"},void 0);case"icon-picker":return(0,r.jsx)("i",{className:"bi bi-hexagon-fill"},void 0);case"three-dots-horizontal":case"menu":return(0,r.jsx)("i",{className:"bi bi-three-dots"},void 0);case"sync-state-error":return(0,r.jsx)("i",{className:"bi bi-exclamation-diamond"},void 0);case"sync-state-success":return(0,r.jsx)("i",{className:"bi bi-check2"},void 0);case"sync-state-upload":return(0,r.jsx)("i",{className:"bi bi-arrow-up-short"},void 0);case"sync-state-download":return(0,r.jsx)("i",{className:"bi bi-arrow-down-short"},void 0);case"grip-vertical":return(0,r.jsx)("i",{className:"bi bi-grip-vertical"},void 0);case"todo-list-unchecked":return(0,r.jsx)("i",{className:"bi bi-square"},void 0);case"todo-list-checked":return(0,r.jsx)("i",{className:"bi bi-check-square"},void 0);case"clear-cross":case"close":return(0,r.jsx)("i",{className:"bi bi-x"},void 0);case"windows-os-minimize":case"minus":return(0,r.jsx)("i",{className:"bi bi-dash"},void 0);case"windows-os-close":return(0,r.jsx)("i",{className:"bi bi-x-lg"},void 0);case"question-mark":return(0,r.jsx)("i",{className:"bi bi-question"},void 0);case"release-notes":return(0,r.jsx)("i",{className:"bi bi-gift"},void 0);case"toggle-sidebar":return(0,r.jsx)("i",{className:"bi bi-layout-sidebar-inset"},void 0);case"mobile-toolbar-tag-list":case"hash":return(0,r.jsx)("i",{className:"bi bi-hash"},void 0);case"mobile-toolbar-snippet-list":return(0,r.jsx)("i",{className:"bi bi-list"},void 0);case"mobile-toolbar-editor":return(0,r.jsx)("i",{className:"bi bi-pencil-square"},void 0);case"circle":return(0,r.jsx)("i",{className:"bi bi-circle"},void 0);case"check-circle":return(0,r.jsx)("i",{className:"bi bi-check-circle"},void 0);case"plus":return(0,r.jsx)("i",{className:"bi bi-plus"},void 0);case"create-link":return(0,r.jsx)("i",{className:"bi bi-link"},void 0);case"visit-link":return(0,r.jsx)("i",{className:"bi bi-box-arrow-in-up-right"},void 0);case"clipboard":return(0,r.jsx)("i",{className:"bi bi-clipboard"},void 0);case"clipboard-success":return(0,r.jsx)("i",{className:"bi bi-check"},void 0);case"undo":return(0,r.jsx)("i",{className:"bi bi-arrow-counterclockwise"},void 0);case"redo":return(0,r.jsx)("i",{className:"bi bi-arrow-clockwise"},void 0);case"arrow-repeat":return(0,r.jsx)("i",{className:"bi bi-arrow-repeat"},void 0);case"horizontal-group":return(0,r.jsx)("i",{className:"bi bi-hr"},void 0);case"vertical-group":return(0,r.jsx)("i",{className:"bi bi-vr"},void 0);case"reveal-layout":return(0,r.jsx)("i",{className:"bi bi-eye"},void 0);case"hide-layout":return(0,r.jsx)("i",{className:"bi bi-eye-slash"},void 0);case"alarm":return(0,r.jsx)("i",{className:"bi bi-alarm-fill"},void 0);case"award":return(0,r.jsx)("i",{className:"bi bi-award-fill"},void 0);case"bank":return(0,r.jsx)("i",{className:"bi bi-bank2"},void 0);case"bar-chart":return(0,r.jsx)("i",{className:"bi bi-bar-chart-line-fill"},void 0);case"basket":return(0,r.jsx)("i",{className:"bi bi-basket3-fill"},void 0);case"bell":return(0,r.jsx)("i",{className:"bi bi-bell-fill"},void 0);case"bicycle":return(0,r.jsx)("i",{className:"bi bi-bicycle"},void 0);case"bookmark":return(0,r.jsx)("i",{className:"bi bi-bookmarks-fill"},void 0);case"briefcase":return(0,r.jsx)("i",{className:"bi bi-briefcase-fill"},void 0);case"sun":return(0,r.jsx)("i",{className:"bi bi-brightness-high-fill"},void 0);case"bug":return(0,r.jsx)("i",{className:"bi bi-bug-fill"},void 0);case"bucket":return(0,r.jsx)("i",{className:"bi bi-bucket-fill"},void 0);case"calculator":return(0,r.jsx)("i",{className:"bi bi-calculator-fill"},void 0);case"calendar":return(0,r.jsx)("i",{className:"bi bi-calendar-fill"},void 0);case"camera":return(0,r.jsx)("i",{className:"bi bi-camera-fill"},void 0);case"camera-reels":return(0,r.jsx)("i",{className:"bi bi-camera-reels-fill"},void 0);case"cart":return(0,r.jsx)("i",{className:"bi bi-cart4"},void 0);case"money":return(0,r.jsx)("i",{className:"bi bi-cash-coin"},void 0);case"speech-bubble":return(0,r.jsx)("i",{className:"bi bi-chat-fill"},void 0);case"check":return(0,r.jsx)("i",{className:"bi bi-check-circle-fill"},void 0);case"clock":return(0,r.jsx)("i",{className:"bi bi-clock-fill"},void 0);case"compass":return(0,r.jsx)("i",{className:"bi bi-compass-fill"},void 0);case"cone":return(0,r.jsx)("i",{className:"bi bi-cone-striped"},void 0);case"gaming":return(0,r.jsx)("i",{className:"bi bi-joystick"},void 0);case"cpu":return(0,r.jsx)("i",{className:"bi bi-cpu-fill"},void 0);case"credit-card":return(0,r.jsx)("i",{className:"bi bi-credit-card-fill"},void 0);case"cup":return(0,r.jsx)("i",{className:"bi bi-cup-fill"},void 0);case"cup-straw":return(0,r.jsx)("i",{className:"bi bi-cup-straw"},void 0);case"direction":return(0,r.jsx)("i",{className:"bi bi-cursor-fill"},void 0);case"directions":return(0,r.jsx)("i",{className:"bi bi-signpost-split-fill"},void 0);case"display":return(0,r.jsx)("i",{className:"bi bi-display-fill"},void 0);case"easel":return(0,r.jsx)("i",{className:"bi bi-easel-fill"},void 0);case"envelope":return(0,r.jsx)("i",{className:"bi bi-envelope-fill"},void 0);case"glasses":return(0,r.jsx)("i",{className:"bi bi-eyeglasses"},void 0);case"flag":return(0,r.jsx)("i",{className:"bi bi-flag-fill"},void 0);case"flower":return(0,r.jsx)("i",{className:"bi bi-flower1"},void 0);case"gem":return(0,r.jsx)("i",{className:"bi bi-gem"},void 0);case"gender-female":return(0,r.jsx)("i",{className:"bi bi-gender-female"},void 0);case"gender-male":return(0,r.jsx)("i",{className:"bi bi-gender-male"},void 0);case"gender-trans":return(0,r.jsx)("i",{className:"bi bi-gender-trans"},void 0);case"location":return(0,r.jsx)("i",{className:"bi bi-geo-fill"},void 0);case"gift":return(0,r.jsx)("i",{className:"bi bi-gift-fill"},void 0);case"hammer":return(0,r.jsx)("i",{className:"bi bi-hammer"},void 0);case"thumbs-down":return(0,r.jsx)("i",{className:"bi bi-hand-thumbs-down-fill"},void 0);case"thumbs-up":return(0,r.jsx)("i",{className:"bi bi-hand-thumbs-up-fill"},void 0);case"headphones":return(0,r.jsx)("i",{className:"bi bi-headphones"},void 0);case"heart":return(0,r.jsx)("i",{className:"bi bi-heart-fill"},void 0);case"house":return(0,r.jsx)("i",{className:"bi bi-house-fill"},void 0);case"lightbulb":return(0,r.jsx)("i",{className:"bi bi-lightbulb-fill"},void 0);case"microphone":return(0,r.jsx)("i",{className:"bi bi-mic-fill"},void 0);case"moon":return(0,r.jsx)("i",{className:"bi bi-moon-fill"},void 0);case"music-note":return(0,r.jsx)("i",{className:"bi bi-music-note-beamed"},void 0);case"pencil":return(0,r.jsx)("i",{className:"bi bi-pencil-fill"},void 0);case"people":return(0,r.jsx)("i",{className:"bi bi-people-fill"},void 0);case"pie-chart":return(0,r.jsx)("i",{className:"bi bi-pie-chart-fill"},void 0);case"piggy-bank":return(0,r.jsx)("i",{className:"bi bi-piggy-bank-fill"},void 0);case"power-plug":return(0,r.jsx)("i",{className:"bi bi-plug-fill"},void 0);case"puzzle":return(0,r.jsx)("i",{className:"bi bi-puzzle-fill"},void 0);case"snowflake":return(0,r.jsx)("i",{className:"bi bi-snow"},void 0);case"star":return(0,r.jsx)("i",{className:"bi bi-star-fill"},void 0);case"sun-glasses":return(0,r.jsx)("i",{className:"bi bi-sunglasses"},void 0);case"telephone":return(0,r.jsx)("i",{className:"bi bi-telephone-fill"},void 0);case"tools":return(0,r.jsx)("i",{className:"bi bi-tools"},void 0);case"trash":return(0,r.jsx)("i",{className:"bi bi-trash-fill"},void 0);case"tree":return(0,r.jsx)("i",{className:"bi bi-tree-fill"},void 0);case"trophy":return(0,r.jsx)("i",{className:"bi bi-trophy-fill"},void 0);case"umbrella":return(0,r.jsx)("i",{className:"bi bi-umbrella-fill"},void 0);case"wrench":return(0,r.jsx)("i",{className:"bi bi-wrench"},void 0)}}(e)}},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var i=n(0),o=n(1),a=r(n(104)),s=n(373);n(542);t.Modal=function(e){var t=(0,o.useMemo)((function(){return document.getElementById("modal-root")}),[]);return a.default.createPortal((0,i.jsx)(s.Blurable,Object.assign({onBlur:e.onClose,useBlur:!1,useEscape:!0},{children:(0,i.jsx)("div",Object.assign({className:"Modal-main",onMouseDown:function(){return e.onClose()}},{children:(0,i.jsx)("div",Object.assign({className:"Modal-inner",onMouseDown:function(e){return e.stopPropagation()}},{children:e.children}),void 0)}),void 0)}),void 0),t)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ResizableSidePanel=void 0;var c=n(0),u=s(n(1)),d=n(374),l=n(3),p=n(301);n(545);var f=(0,p.makeEventListenerManager)((0,p.makeAdapterFactory)(p.stopPropagation,p.preventDefault)),m=i(f,2),v=m[0],g=m[1];function b(e,t){if("set"===t.type)return Object.assign(Object.assign({},e),{size:t.size})}t.ResizableSidePanel=function(e){var t,n=null!==(t=e.minSize)&&void 0!==t?t:100,o=(0,u.useReducer)(b,{size:e.size,minSize:n}),a=i(o,2),s=a[0],p=a[1];(0,u.useEffect)((function(){p({type:"set",size:e.size})}),[e.size]);var f=(0,l.useSimpleDrag)(v,g),m=i(f,2),h=m[0],j=m[1];(0,l.useStateChangesToNull)(h,(0,u.useCallback)((function(t){var n;return null===(n=e.onStopResize)||void 0===n?void 0:n.call(e,Math.max(s.minSize,s.size+t.currentDelta.x))}),[s]));var y=["ResizableSidePanel-resizer"].concat(r(h?["ResizableSidePanel-isResizing"]:[])).join(" ");return(0,c.jsxs)(u.default.Fragment,{children:[(0,c.jsx)(d.SidePanel,Object.assign({state:e.expandedState,direction:e.direction,size:Math.max(n,s.size+(h?h.currentDelta.x:0)),useTransition:!h,className:e.className},{children:e.children}),void 0),1===e.expandedState&&(0,c.jsx)("span",{onMouseDown:function(e){return j({type:"start",event:e})},className:y},void 0)]},void 0)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var i=n(0),o=n(1),a=n(5),s=n(3),c=n(375);n(549);var u=n(550);t.Selection=function(e){var t=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[]);var n=(0,s.useSelection)({entries:e.entries,filter:e.filter,initialValue:"",onConfirm:e.onConfirm}),d=r(n,2),l=d[0],p=d[1],f=(0,s.useRefsCallback)(),m=f.refs,v=f.callback;(0,s.useScrollIntoViewForSelection)({state:l,entryRefs:m,animate:!a.isMocked});var g=(0,o.useCallback)((function(e){p({type:"change",value:e.target.value})}),[]),b=(0,o.useMemo)((function(){var e=(0,s.makeDefaultSelectionKeyHandlerChain)(p,!1);return(0,s.buildHandler)(e)}),[]),h=(0,u.useRenderedEntries)(l.filteredEntries,l.value,e.renderEntry).map((function(e,t){return(0,i.jsx)("div",Object.assign({className:"Selection-itemOuter",onMouseMove:function(){return p({type:"mouseMove",currentIndex:t})},onMouseDown:function(e){e.stopPropagation(),p({type:"confirm"})},ref:function(e){return e&&v(e,t)}},{children:(0,i.jsx)("div",Object.assign({className:l.currentIndex===t?"Selection-item Selection-selectedItem":"Selection-item"},{children:e}),void 0)}),t)}));return(0,i.jsxs)("div",Object.assign({className:"Selection-main"},{children:[(0,i.jsx)("div",Object.assign({className:"Selection-header"},{children:(0,i.jsx)("input",{value:l.value,onChange:g,onKeyDown:b,onBlur:e.onBlur,className:"CommonUI-input CommonUI-input-centered",ref:t},void 0)}),void 0),(0,i.jsx)(c.ScrollShadows,{children:(0,i.jsx)("div",Object.assign({className:"Selection-results"},{children:h}),void 0)},void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default,o=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useRenderedEntries=void 0;var a=n(1),s=n(5),c=n(3);function u(e,t){o(e);var n=i(t,1)[0];return function(e,t){switch(t.type){case"update":return{filteredEntries:t.filteredEntries,renderedEntries:t.filteredEntries.slice(0,t.initialRenderCount).map(n)};case"renderMore":if(e.filteredEntries.length===e.renderedEntries.length)return e;var i=e.renderedEntries.length;return Object.assign(Object.assign({},e),{renderedEntries:[].concat(r(e.renderedEntries),r(e.filteredEntries.slice(i,i+5).map((function(e,t){return n(e,t+i)}))))})}}}t.useRenderedEntries=function(e,t,n){var r=(0,c.useFactory)(u,[],[n]),o=(0,a.useReducer)(r,{filteredEntries:e,renderedEntries:[]}),d=i(o,2),l=d[0],p=d[1];return(0,a.useEffect)((function(){p({type:"update",filteredEntries:e,initialRenderCount:s.isMocked?1/0:t.length<3?1:5})}),[e]),(0,a.useEffect)((function(){if(l.filteredEntries.length!==l.renderedEntries.length){var e=setTimeout((function(){return p({type:"renderMore"})}),250);return function(){return clearTimeout(e)}}}),[l.renderedEntries]),l.renderedEntries}},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=t.ENTRY_HEIGHT=void 0;var u=n(0),d=s(n(1)),l=n(3),p=n(377);n(552),n(245);var f=n(112),m=l.treeView,v=m.useTreeView,g=m.makeExpandedIconBindings,b=m.makeTreeViewEntryBindings;t.ENTRY_HEIGHT="1.75em",t.TreeView=d.default.forwardRef((function(e,n){var o=v({tree:e.tree,collapsedPaths:e.collapsedPaths}),a=i(o,2),s=a[0],m=a[1],h=(0,d.useState)(0),j=i(h,2),y=j[0],O=j[1];(0,d.useEffect)((function(){O((0,l.findIndex)(e.currentPath,s.entries))}),[s.entries,e.currentPath]);var x=y+e.indexOffset,S=function(t,n){m({type:"setCollapsed",index:t,collapsed:n}),e.onSetCollapsedPath(s.entries[t],n)},w=function(e){var t=g({entry:e,setCollapsed:S});return e.hasChildren&&e.isCollapsed?(0,u.jsx)("span",Object.assign({},t,{className:"TreeView-spacing TreeView-expand-icon"},{children:(0,u.jsx)(f.Icon,{iconName:"chevron-right"},void 0)}),void 0):e.hasChildren&&!e.isCollapsed?(0,u.jsx)("span",Object.assign({},t,{className:"TreeView-spacing TreeView-expand-icon"},{children:(0,u.jsx)(f.Icon,{iconName:"chevron-down"},void 0)}),void 0):(0,u.jsx)("span",{className:"TreeView-spacing"},void 0)},I=function(t){return(0,u.jsx)("span",Object.assign({className:"TreeView-entryLabel"},{children:void 0===e.onRename||t.data.readonly?(0,u.jsx)("span",{children:t.name},void 0):(0,u.jsx)(p.SwitchedEditableLabel,{className:"CommonUI-input CommonUI-input-hidden",doubleClick:!0,initialValue:t.name,onToggle:function(n,r){var i;return!1===n&&r!==t.name&&(null===(i=e.onRename)||void 0===i?void 0:i.call(e,r,t.path))}},void 0)}),void 0)};return(0,u.jsx)("div",Object.assign({className:"TreeView-outer1"},(0,l.makeTreeViewWrapperBindings)([].concat(r((0,l.makeDefaultTreeViewKeyHandlerChain)(s,x,e.onSelect,S)),r(e.navigateRight?[(0,l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.RIGHT_ARROW,(function(){var t;return null===(t=e.navigateRight)||void 0===t?void 0:t.call(e)}))]:[]),r(e.navigateLeft?[(0,l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.LEFT_ARROW,(function(){var t;return null===(t=e.navigateLeft)||void 0===t?void 0:t.call(e)}))]:[]))),{style:{backgroundColor:"inherit"},tabIndex:0,ref:n},{children:s.entries.map((function(n){return function(n){var i,o,a,s,l,p,m=b({entry:n,onSelect:e.onSelect,height:t.ENTRY_HEIGHT}),v=m.key,g=c(m,["key"]),h=["TreeView-entry"].concat(r(n.isInsideCollapsed?["TreeView-entryInsideCollapsed"]:[]),r(x===n.index?["TreeView-entrySelected"]:[]),["CommonUI-delayed-hover-item-container"]),j=n.data.id&&(null===(o=null===(i=e.extraElements)||void 0===i?void 0:i[n.data.id])||void 0===o?void 0:o.before),y=n.data.id&&(null===(s=null===(a=e.extraElements)||void 0===a?void 0:a[n.data.id])||void 0===s?void 0:s.after);return(0,u.jsxs)(d.default.Fragment,{children:[j,(0,u.jsxs)("span",Object.assign({},g,{className:h.join(" "),onContextMenu:function(t){return e.onContextMenu(n,{x:t.clientX,y:t.clientY})},onDoubleClick:function(t){return e.onContextMenu(n,{x:t.clientX,y:t.clientY})}},{children:[(p=n.depth,Array.from(Array(p).keys()).map((function(e){return(0,u.jsx)("span",{className:"TreeView-spacing"},e)}))),w(n),(l=n.data.iconName,(0,u.jsx)("div",Object.assign({className:"TreeView-tag-icon"},{children:(0,u.jsx)(f.Icon,{iconName:l||"hash"},void 0)}),void 0)),I(n)]}),void 0),y]},v)}(n)}))}),void 0)}))},function(e,t,n){},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultVerticalTabNode=void 0;var i=n(0),o=n(112);n(554);t.DefaultVerticalTabNode=function(e){return(0,i.jsxs)("div",Object.assign({className:["VerticalTabs-default-node"].concat(r(e.isSelected?["VerticalTabs-default-node-selected"]:[])).join(" "),onMouseDown:e.onSelect},{children:[(0,i.jsx)(o.Icon,{iconName:e.iconName},void 0),e.children]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsLayout=void 0;var r=n(0);t.DefaultSettingsLayout=function(e){return(0,r.jsxs)("div",Object.assign({className:"VerticalTabs-outer ".concat(e.className)},{children:[(0,r.jsx)("div",Object.assign({className:"VerticalTabs-list"},{children:e.tabList}),void 0),(0,r.jsxs)("div",Object.assign({className:"VerticalTabs-body"},{children:[e.title&&(0,r.jsx)("div",Object.assign({className:"Settings-body-title"},{children:e.title}),void 0),e.currentPage]}),void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsPage=void 0;var r=n(0);t.DefaultSettingsPage=function(e){return(0,r.jsx)("div",Object.assign({className:"Settings-body-outer"},{children:e.children}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InterGroupDrag=void 0;var i=n(0),o=n(1),a=n(3),s=n(301),c=n(558);n(559);var u=n(560),d=n(562),l=n(563),p=(0,s.makeEventListenerManager)((0,s.makeAdapterFactory)(s.stopPropagation,s.preventDefault)),f=r(p,2),m=f[0],v=f[1];t.InterGroupDrag=function(e){var t,n,s=(0,a.useInterGroupDrag)(e.rootGroup,m,v,e.animationDuration),p=r(s,7),f=p[0],g=p[1],b=p[2],h=p[3],j=p[4],y=p[5],O=p[6];(0,o.useEffect)((function(){f.rootGroup!==e.rootGroup&&e.onGroupChange(f.rootGroup)}),[f.rootGroup]),(0,o.useEffect)((function(){f.rootGroup!==e.rootGroup&&O(e.rootGroup)}),[e.rootGroup]);var x=(0,a.usePreviousDefined)(f),S=void 0!==x&&"active"===x.type&&(0!==x.simpleDragState.currentDelta.x||0!==x.simpleDragState.currentDelta.y),w=(0,o.useState)(null),I=r(w,2),E=I[0],k=I[1],M=(0,a.useSimpleDrag)(m,v),D=r(M,2),_=D[0],P=D[1];(0,a.useStateStaysDefined)(_,(function(e){if(!E)throw"unexpected state";k(Object.assign(Object.assign({},E),{currentDelta:e.currentDelta.x}))})),(0,a.useStateChangesToNull)(_,(function(){if(!E)throw"unexpected state";e.onResizeEnd((0,c.adjustGroupAfterResize)(e.rootGroup,E.groupIdentifier,E.itemIndex,E.initialSize+E.currentDelta)),k(null)}));var C=(0,o.useCallback)((function(e,t,n){e.stopPropagation(),e.preventDefault();var r=(null===n?j.current[t]:y.current[t][n]).getBoundingClientRect().width;k({groupIdentifier:t,itemIndex:n,currentDelta:0,initialSize:r}),P({type:"start",event:e})}),[]);return(0,i.jsxs)("div",Object.assign({className:["InterGroupDrag-outer",_?"InterGroupDrag-is-resizing":"","active"===f.type?"InterGroupDrag-is-dragging":"","active"===f.type&&f.isStopping?"InterGroupDrag-is-stopping":""].join(" ")},{children:[(0,i.jsx)("div",Object.assign({className:"InterGroupDrag-target-indicator",style:Object.assign({},"active"===f.type?Object.assign(Object.assign({},f.layoutTransforms[f.source.index][f.source.listDragState.originalIndex]),(0,a.calculateTargetPosition)(f)):{})},{children:(0,i.jsx)("div",{className:"InterGroupDrag-target-indicator-inner"},void 0)}),void 0),"active"===f.type&&(null===(t=e.debug)||void 0===t?void 0:t.renderGroupDimensions)&&(0,d.renderGroupDimensions)(f),"active"===f.type&&(null===(n=e.debug)||void 0===n?void 0:n.renderMouseCoordinates)&&(0,l.renderMouseCoordinates)(f),(0,u.renderGroup)(e,f,f.rootGroup,null,-1,e.renderInnerGroupFragment||function(e,t){return t},C,E,g,b,h,S)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustGroupAfterResize=void 0;var r=n(3);t.adjustGroupAfterResize=function e(t,n,i,o){return t.identifier===n?null===i?Object.assign(Object.assign({},t),{size:o}):Object.assign(Object.assign({},t),{items:t.items.map((function(e,t){return t===i?Object.assign(Object.assign({},e),{size:o}):e}))}):Object.assign(Object.assign({},t),{items:t.items.map((function(t){return(0,r.isGroup)(t)?e(t,n,i,o):t}))})}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroup=void 0;var r=n(0),i=n(3),o=n(561),a=n(378),s=n(379);t.renderGroup=function e(t,n,c,u,d,l,p,f,m,v,g,b){var h,j=["InterGroupDrag-group","InterGroupDrag-item-outer",u&&"active"===n.type&&(0,i.isDraggedItem)(n,u.identifier,d)?"InterGroupDrag-dragged-item":"",c.parents.length>0?"InterGroupDrag-nested-group":"",0===c.items.length?"InterGroupDrag-empty-group":""],y={onMouseDown:function(e){u&&(e.preventDefault(),e.stopPropagation(),m(e,{rootGroup:t.rootGroup,groupIndex:u.identifier,itemIndex:d}))}};return(0,r.jsxs)("div",Object.assign({className:j.join(" "),ref:function(e){v(c.identifier,e),u&&g(u.identifier,d,e)}},t.handleMouseDown?y:{},{style:Object.assign({},u?(0,a.renderItemStylesMaybeWithSizeOverride)(f,n,u,c,d,t.animationDuration):{})},(null===(h=t.debug)||void 0===h?void 0:h.renderInfoAttributes)?{groupidentifier:c.identifier}:{},{children:[u&&(0,s.renderResizer)(t,p,u.axis,c.identifier,null),l(c,d,(0,r.jsx)("div",Object.assign({className:"InterGroupDrag-group-inner",style:Object.assign({},(0,i.renderGroupFlex)(c.axis))},{children:c.items.map((function(r,a){return(0,i.isGroup)(r)?e(t,n,r,c,a,l,p,f,m,v,g,b):(0,o.renderItem)(t,n,c,a,r,p,f,m,g)}))}),void 0),y)]}),"group-".concat(u?u.identifier:-1,"-").concat(c.identifier))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=void 0;var r=n(0),i=n(1),o=n(3),a=n(378),s=n(379);t.renderItem=function(e,t,n,c,u,d,l,p,f){var m,v=e.renderItemOuterKey?e.renderItemOuterKey(u):"item-".concat(c),g={onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),p(t,{rootGroup:e.rootGroup,groupIndex:n.identifier,itemIndex:c})}};return(0,i.createElement)("div",Object.assign({className:"active"===t.type&&(0,o.isDraggedItem)(t,n.identifier,c)?"InterGroupDrag-item-outer InterGroupDrag-dragged-item":"InterGroupDrag-item-outer"},e.handleMouseDown?g:{},{ref:function(e){return f(n.identifier,c,e)},key:v,style:(0,a.renderItemStylesMaybeWithSizeOverride)(l,t,n,null,c,e.animationDuration)},(null===(m=e.debug)||void 0===m?void 0:m.renderInfoAttributes)?{itemidentifier:u.item.identifier}:{}),(0,s.renderResizer)(e,d,n.axis,n.identifier,c),(0,r.jsx)("div",Object.assign({className:"InterGroupDrag-item-inner"},{children:e.renderItem(v,u,g)}),void 0))}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroupDimensions=void 0;var i=n(0),o=n(3),a=["red","blue","green","purple","orange"];t.renderGroupDimensions=function(e){return e&&e.groupDimensions.reduce((function(e,t){return[].concat(r(e),[t.dimensions])}),new Array).map((function(e,t){return(0,i.jsx)("div",{className:"InterGroupDrag-debug-dimensions-indicator",style:{top:e.top,left:e.left,width:e.width,height:e.height,borderColor:a[(0,o.normalizeCounter)(t,a.length)]}},t)}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderMouseCoordinates=void 0;var i=n(0),o=r(n(1));t.renderMouseCoordinates=function(e){return(0,i.jsxs)(o.default.Fragment,{children:[(0,i.jsx)("div",{className:"InterGroupDrag-debug-mouse-coordinate-indicator",style:{top:e.simpleDragState.startCoordinates.y-3,left:e.simpleDragState.startCoordinates.x-3}},void 0),(0,i.jsx)("div",{className:"InterGroupDrag-debug-mouse-coordinate-indicator",style:{top:e.simpleDragState.currentCoordinates.y-3,left:e.simpleDragState.currentCoordinates.x-3}},void 0),(0,i.jsx)("svg",Object.assign({className:"InterGroupDrag-debug-mouse-coordinate-indicator-line"},{children:(0,i.jsx)("line",{x1:e.simpleDragState.startCoordinates.x,y1:e.simpleDragState.startCoordinates.y,x2:e.simpleDragState.currentCoordinates.x,y2:e.simpleDragState.currentCoordinates.y,style:{stroke:"rgb(0,0,0)",strokeWidth:1,strokeDasharray:"1,1"}},void 0)}),void 0)]},void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PopOutMenu=void 0;var i=n(0),o=n(1),a=n(3);function s(e){switch(e){case"bottom-right":return"PopOutMenu-outer-bottom-right";case"bottom-left":return"PopOutMenu-outer-bottom-left";case"top-left":return"PopOutMenu-outer-top-left";case"top-right":return"PopOutMenu-outer-top-right"}}function c(e){switch(e){case"bottom-right":return"top left";case"bottom-left":return"top right";case"top-left":return"bottom right";case"top-right":return"bottom left"}}function u(e){var t=(0,o.useRef)(null),n=(0,o.useState)("bottom-right"),u=r(n,2),d=u[0],l=u[1];return(0,a.useAutoFocus)(t),(0,a.useOnce)((function(){if(!t.current)throw"unexpected state: wrapperRef.current is not defined";if(!e.viewPort)throw"unexpected state: viewPort is not defined";var n=t.current.getBoundingClientRect(),r=e.viewPort.y+e.viewPort.height,i=e.viewPort.x+e.viewPort.width,o=r<n.bottom?"top":"bottom",a=i<n.right?"left":"right";l("".concat(o,"-").concat(a))}),void 0!==e.viewPort&&null!==t.current),(0,i.jsx)("div",Object.assign({className:["PopOutMenu-outer",s(d)].join(" "),style:{position:e.popOutMenu.position.type,top:e.popOutMenu.position.y+3,left:e.popOutMenu.position.x+3,width:e.width,height:e.height}},{children:(0,i.jsx)("div",Object.assign({ref:t,tabIndex:0,className:"PopOutMenu-wrapper",style:Object.assign(Object.assign({},e.animationStyles),{transformOrigin:c(d)}),onBlur:function(n){var r,i,o=n.relatedTarget,a=o,s=null!==o,c=n.target===t.current;s||c?o&&(null===(i=t.current)||void 0===i?void 0:i.contains(a))||e.onBlur():null===(r=t.current)||void 0===r||r.focus()}},{children:e.children}),void 0)}),void 0)}n(565),t.PopOutMenu=function(e){var t=r(e.popOutMenu.props,2),n=t[0],a=t[1],s=(0,o.useCallback)((function(){return a({type:"advance",target:"initial"})}),[]);return(0,i.jsx)(u,Object.assign({popOutMenu:e.popOutMenu,onBlur:s,animationStyles:n.style,width:e.width,height:e.height,viewPort:e.viewPort},{children:e.children}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.usePopOutMenu=void 0;var i=n(1),o=n(3),a=n(567);var s={type:"fixed",x:0,y:0};t.usePopOutMenu=function(){var e=(0,i.useState)(s),t=r(e,2),n=t[0],c=t[1],u=(0,o.useAnimationSteps)(a.animationSteps),d=r(u,2),l=d[0],p=d[1],f=(0,i.useCallback)((function(e,t){c(e),p({type:"start",target:"open",postAction:t})}),[]);return{open:f,close:(0,i.useCallback)((function(e){p({type:"advance",target:"initial",postAction:e})}),[]),isOpen:"closed"!==l.state,props:u,position:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationSteps=void 0;var r=n(5),i=r.isMocked?0:500,o="".concat(i/1e3,"s"),a=r.isMocked?0:150,s="".concat(a/1e3,"s");t.animationSteps=[{terminal:!0,target:"initial",config:{duration:0,data:{state:"closed",style:{}}}},{terminal:!0,target:"measure",config:{duration:0,data:{state:"measure",style:{opacity:0}}}},{terminal:!0,target:"open",config:{duration:0,data:{state:"open",style:{animationName:"open-pop-out-menu",animationFillMode:"forwards",animationDuration:o}}}},{config:{duration:a,data:{state:"closing",style:{animationName:"close-pop-out-menu-quick",animationFillMode:"forwards",animationDuration:s}}}}]},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useActiveMenuItem=void 0;var i=n(1);t.useActiveMenuItem=function(e){var t=(0,i.useState)(null),n=r(t,2),o=n[0],a=n[1];return(0,i.useEffect)((function(){e.isOpen||a(null)}),[e.isOpen]),[o,a]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useOpenMenuItem=void 0;var i=n(1);t.useOpenMenuItem=function(e,t){var n=r(t,2)[1];return(0,i.useCallback)((function(t,r){n(r),e.isOpen||e.open(t)}),[e.isOpen])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSizingMenuItem=void 0;var r=n(0);n(571),t.AutoSizingMenuItem=function(e){var t=e.menuItem===e.activeMenuItem;return(0,r.jsxs)("div",Object.assign({className:["AutoSizingMenuItem",null===e.activeMenuItem?"":t?"AutoSizingMenuItem-active":"AutoSizingMenuItem-inactive",!t&&e.collapse&&"AutoSizingMenuItem-collapsed",e.allowOverflow?"AutoSizingMenuItem-allow-overflow":""].join(" ")},{children:[e.renderLabel(),(0,r.jsx)("div",Object.assign({className:"AutoSizingMenuItem-body",style:e.bodyHeight?t?{minHeight:e.bodyHeight,maxHeight:e.bodyHeight}:{minHeight:"0em",maxHeight:"0em"}:{}},{children:t&&e.renderBody()}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSizingMenuItemLabel=void 0;var r=n(0),i=n(112);n(573),t.AutoSizingMenuItemLabel=function(e){return(0,r.jsxs)("div",Object.assign({onClick:e.onClick,className:"AutoSizingMenuItemLabel-outer"},{children:[(0,r.jsx)("div",Object.assign({onClick:function(t){var n;return null===(n=e.onBackClick)||void 0===n?void 0:n.call(e,e.menuItem,t)},className:"AutoSizingMenuItemLabel-back-button"},{children:(0,r.jsx)(i.Icon,{iconName:"close"},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"AutoSizingMenuItemLabel-text"},{children:e.children}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationSteps=void 0;var r="".concat(.25,"s");t.animationSteps=[{terminal:!0,target:"initial",config:{duration:0,data:{state:"inactive",style:{}}}},{target:"step1",config:function(e){return{duration:250,data:{state:"active",style:{animationName:"use-interaction-indicator-".concat(e||"default"),animationFillMode:"forwards",animationDuration:r}}}}}]},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmableInputField=void 0;var r=n(0),i=n(1),o=n(381);n(577),t.ConfirmableInputField=function(e){var t=(0,i.useRef)(null),n=(0,o.useConfirmableInputField)(t,e.onConfirm,e.initialValue),a=n.value,s=n.onChange,c=n.onKeyPress,u=n.onClick,d=n.interactionIndicatorState;return(0,r.jsxs)("div",Object.assign({className:["ConfirmableInputField",e.buttonOnly&&"ConfirmableInputField-button-only"].join(" ")},{children:[(0,r.jsx)("input",{ref:function(e){return t.current=e},value:a,onChange:s,className:"CommonUI-input AutoSizingMenuItem-input",onKeyPress:c},void 0),(0,r.jsx)("button",Object.assign({className:"CommonUI-button",style:d.style,onClick:u},{children:e.label}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DatePicker=void 0;var i=n(0),o=n(1),a=n(3);n(579);var s=n(580),c=n(597),u=n(113),d=n(614);t.DatePicker=function(){var e=(0,u.useEditedReminderContext)(),t=r(e,2),n=t[0],l=t[1],p=(0,o.useState)(new Date),f=r(p,2),m=f[0],v=f[1],g=(0,o.useState)({date:new Date,source:"init"}),b=r(g,2),h=b[0],j=b[1];(0,o.useEffect)((function(){m&&j({date:m,source:"date-change"})}),[m]),(0,a.useDebouncedEffect)((function(){n.reminder&&v(new Date(function(e){var t,n;if("year"===(null===(t=e.repeatDescription)||void 0===t?void 0:t.timeUnit)&&"date-and-month"===(null===(n=e.repeatDescription.target)||void 0===n?void 0:n.type)){var r=new Date(e.date);return r.setUTCDate(e.repeatDescription.target.date),r.setUTCMonth(e.repeatDescription.target.month),r.getTime()}return e.date}(n.reminder)))}),50,[n.reminder]);var y=(0,o.useMemo)((function(){return new Date(Math.floor(Date.now()/d.DAY_IN_MILLISECONDS)*d.DAY_IN_MILLISECONDS).getTime()}),[]);return m&&h?(0,i.jsxs)("div",Object.assign({className:"DatePicker"},{children:[(0,i.jsx)(s.MonthReel,{anchorDate:h,rootDate:y,onChangeAnchorDate:function(e){return j(e)}},void 0),(0,i.jsx)(c.MonthWithDatesReel,{date:m,anchorDate:h,rootDate:y,onChangeDate:function(e){n.reminder&&l({type:"updateReminderDate",date:new Date(e.getTime())})},onChangeAnchorDate:function(e){return j(e)}},void 0)]}),void 0):null}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonthReel=void 0;var r=n(0),i=n(1),o=n(382);n(581);var a=n(582),s=n(387);function c(e,t){var n=new Date(e);return n.setUTCMonth(t.getUTCMonth()),n.getUTCMonth()!==t.getUTCMonth()&&n.setDate(0),n.setUTCFullYear(t.getUTCFullYear()),n}t.MonthReel=function(e){var t=(0,i.useMemo)((function(){return(0,a.makeMonthCache)(e.rootDate)}),[]),n=(0,i.useMemo)((function(){return(0,o.getMonthDiff)(e.anchorDate.date,new Date(e.rootDate))}),[e.anchorDate]),u=(0,i.useCallback)((function(t){return(0,o.getMonthDiff)(t.date,new Date(e.rootDate))}),[]);return(0,r.jsx)(s.VirtualScroll,{className:"MonthReel",value:e.anchorDate,getIndexForValue:u,getLabelForIndex:function(i,o,a){var s=t.getCacheEntry(i);return(0,r.jsxs)("span",Object.assign({className:["MonthReel-item",i===n&&null===a&&"MonthReel-active-item",null!==a&&i===a&&"MonthReel-active-item"].join(" "),onMouseDown:function(){return e.onChangeAnchorDate({date:c(e.anchorDate.date,s.anchorDate),source:"month-reel"})}},{children:[(0,r.jsx)("span",Object.assign({className:"MonthReel-year"},{children:s.year}),void 0),(0,r.jsx)("span",Object.assign({className:"MonthReel-month"},{children:s.month}),void 0)]}),void 0)},onIntermediateChange:function(){return null},numberOfVisibleItems:27},void 0)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMonthCache=void 0;var r=n(47),i=n(5),o=n(303);function a(e,t){var n=new Date(t);return n.setUTCDate(1),n.setUTCMonth(n.getUTCMonth()+e),{index:e,month:"".concat((0,i.capitalize)(r.months[n.getUTCMonth()].slice(0,3))),year:0===n.getUTCMonth()?"".concat(n.getUTCFullYear()):"",anchorDate:n}}t.makeMonthCache=function(e){var t=(0,o.makeCache)(e,a);return(0,i.makeRange)(120).forEach((function(e){t.getCacheEntry(e),t.getCacheEntry(-e)})),t}},function(e,t,n){"use strict";var r=n(24).default,i=n(55).default;function o(e,t){if(0===t.length)return Object.assign(Object.assign({},e),{terminal:!0});var n=i(t),a=n[0],s=n.slice(1),c=e.children.find((function(e){return e.token.regexp===a.regexp}));return c?Object.assign(Object.assign({},e),{children:e.children.map((function(e){return e.token.regexp===a.regexp?o(c,s):e}))}):Object.assign(Object.assign({},e),{children:[].concat(r(e.children),[o({token:a,children:[],terminal:!1},s)])})}Object.defineProperty(t,"__esModule",{value:!0}),t.compileTree=void 0,t.compileTree=function(e){return e.reduce((function(e,t){return o(e,t)}),{children:[],token:{regexp:new RegExp(""),interpret:function(e){return e}},terminal:!1})}},function(e,t,n){"use strict";var r=n(24).default,i=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var o=n(585);function a(e){return{description:{dateDescription:{}},start:e,end:0,complete:!1}}function s(e){return{sequences:[],currentSequence:a(e)}}function c(e){return{currentNode:e,results:[],currentResult:s(-1)}}function u(e,t,n){var i=Object.assign(Object.assign({},e.currentResult),{sequences:[].concat(r(e.currentResult.sequences),r(-1===e.currentResult.currentSequence.start?[]:[e.currentResult.currentSequence]))});return{acc:Object.assign(Object.assign({},e),{currentNode:n,results:[].concat(r(e.results),r(i.sequences.length>0?[i]:[])),currentResult:s(-1)}),currentTokenIndex:t}}function d(e,t,n,o){if(n>=t.length)return{acc:e,currentTokenIndex:n};var s=t[n].text,c=e.currentNode.children.filter((function(e){return e.token.regexp.test(s)}));if(e.currentNode.token.canRepeat&&e.currentNode.token.regexp.test(s)&&(c=[].concat(r(c),[e.currentNode])),0===c.length&&e.currentNode!==o){c=o.children.filter((function(e){return e.token.regexp.test(s)}));var l=u(e,n,o);e=l.acc}var p=c.map((function(s){return function(e,t,n,o){var s=t[n],c=s.start,u=s.end,l=s.text.match(e.currentNode.token.regexp),p=i(l),f=p[0],m=p.slice(1),v=Object.assign(Object.assign({},e.currentResult.currentSequence),{start:-1===e.currentResult.currentSequence.start?c:e.currentResult.currentSequence.start,end:u,description:e.currentNode.token.interpret(e.currentResult.currentSequence.description,0===m.length?f:m)});return e.currentNode.terminal?(v=Object.assign(Object.assign({},v),{complete:!0}),d(Object.assign(Object.assign({},e),{currentNode:e.currentNode,currentResult:Object.assign(Object.assign({},e.currentResult),{sequences:[].concat(r(e.currentResult.sequences),[v]),currentSequence:a(-1)})}),t,n+1,o)):d(Object.assign(Object.assign({},e),{currentNode:e.currentNode,currentResult:Object.assign(Object.assign({},e.currentResult),{currentSequence:v})}),t,n+1,o)}(Object.assign(Object.assign({},e),{currentNode:s}),t,n,o)})).map((function(e){return{result:e,completeSequences:e.acc.results.reduce((function(e,t){return e+t.sequences.filter((function(e){return e.complete})).length}),0),totalSequenceLength:e.acc.results.reduce((function(e,t){return e+t.sequences.reduce((function(e,t){return e+(t.end-t.start)}),0)}),0)}})).filter((function(e){return e.completeSequences>0})).sort((function(e,t){return t.totalSequenceLength-e.totalSequenceLength}));return p.length>0?p[0].result:u(e,n,o)}t.parse=function(e,t){var n="",a="",s=0,u=0;t="".concat(t," <stop> ");for(var l=[];s<t.length;)" "===(n=t.charAt(s))?""!==a&&(l.push({start:u,end:s,text:a}),a=""):(""===a&&(u=s),a="".concat(a).concat(n)),s++;for(var p=[],f=0;f<l.length;){var m=d(c(e),l,f,e),v=m.acc,g=m.currentTokenIndex;p=[].concat(r(p),r(v.results)),f=g+1}return p.map((function(e){return e.sequences.reduce((function(e,t){if(t.complete){var n=i(e),a=n[0],s=n.slice(1);return a?a.complete?[{description:(0,o.mergeDescriptions)(a.description,t.description),start:a.start,end:t.end,complete:!0}].concat(r(s)):[t].concat(r(e)):[t]}return[t].concat(r(e))}),[])})).flat()}},function(e,t,n){"use strict";var r=n(24).default;function i(e,t){var n,i,o;if(e&&t){if("week"===e.timeUnit&&"month"===t.timeUnit)return{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:(null===(n=e.target)||void 0===n?void 0:n.weekdays[0])||0,n:e.frequency}};if("week"===e.timeUnit&&"week"===t.timeUnit)return Object.assign(Object.assign(Object.assign({},e),t),{target:e.target||t.target?{type:"weekdays",weekdays:[].concat(r((null===(i=e.target)||void 0===i?void 0:i.weekdays)||[]),r((null===(o=t.target)||void 0===o?void 0:o.weekdays)||[]))}:void 0});if(e.timeUnit!==t.timeUnit)throw"Expected timeUnits of repeat patterns to match!";return Object.assign(Object.assign({},e),t)}return e||(t||void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDescriptions=void 0,t.mergeDescriptions=function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{dateDescription:Object.assign(Object.assign({},e.dateDescription),t.dateDescription),repeatDescription:i(e.repeatDescription,t.repeatDescription)})}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.grammarEn=void 0;var i=n(302),o=n(587),a=n(588),s=[].concat(r(a.atPatterns),r(a.inPatterns),r((0,i.expand)(a.atPatterns,a.inPatterns)),r((0,i.expand)(a.inPatterns,a.atPatterns)),r(a.onPatterns),r((0,i.expand)(a.onPatterns,a.atPatterns)),r((0,i.expand)(a.atPatterns,a.onPatterns)),r((0,i.expand)(a.onPatterns,a.inPatterns)),r((0,i.expand)(a.onPatterns,a.nextWeekPatterns)),r((0,i.expand)(a.onPatterns,(0,i.expand)(a.nextWeekPatterns,a.atPatterns))),r(a.nextWeekPatterns),r((0,i.expand)(a.nextWeekPatterns,a.atPatterns)),r((0,i.expand)(a.atPatterns,a.nextWeekPatterns)),r((0,i.expand)(a.nextWeekPatterns,(0,i.expand)(a.onPatterns,a.atPatterns))),r((0,i.expand)(a.onPatterns,(0,i.expand)(a.inPatterns,a.atPatterns))),r((0,i.expand)(a.atPatterns,(0,i.expand)(a.onPatterns,a.inPatterns))),r((0,i.expand)(a.inPatterns,a.onPatterns)),r(a.nextPatterns),r((0,i.expand)(a.nextPatterns,a.atPatterns)),r((0,i.expand)(a.atPatterns,a.nextPatterns)),r((0,i.expand)(a.tomorrowPatterns,a.atPatterns)),r((0,i.expand)(a.tomorrowPatterns,a.inPatterns)),r((0,i.expand)(a.tomorrowPatterns,(0,i.expand)(a.inPatterns,a.atPatterns)))),c=[].concat(r(o.everyPatterns),r((0,i.expand)(o.everyPatterns,a.atPatterns)),r((0,i.expand)(a.atPatterns,o.everyPatterns)),r((0,i.expand)(o.everyPatterns,a.onPatterns)),r((0,i.expand)(o.everyPatterns,(0,i.expand)(a.onPatterns,a.atPatterns)))),u=r((0,i.expand)(c,a.startingPatterns));t.grammarEn=[].concat(r(s),r(c),r(u))},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.everyPatterns=t.OF=t.THE=t.IN=t.AT=void 0;var o=n(302),a=n(156),s=n(383),c=function(e){return e};t.AT={regexp:s.AT_REGEX,interpret:c},t.IN={regexp:s.IN_REGEX,interpret:c},t.THE={regexp:s.THE_REGEX,interpret:c},t.OF={regexp:s.OF_REGEX,interpret:c};var u={regexp:s.TIME_UNIT_FOR_REPEAT_REGEX,interpret:function(e,t){var n;return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,timeUnit:a.timeUnits.find((function(e){return i(e,1)[0]===t.toLowerCase()}))[1]})})}},d={regexp:s.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX,interpret:function(e,t){var n=i(t,1)[0];return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:parseInt(n)})})}},l={regexp:s.ORDINALS_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:a.ordinals.findIndex((function(e){return e===t.toLowerCase()}))+1})})}},p={regexp:s.OTHER_REGEX,interpret:function(e){return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:2})})}},f={regexp:s.REPEATABLE_WEEKDAY_REGEX,interpret:function(e,t){var n;return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{timeUnit:"week",frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,target:{type:"weekdays",weekdays:"and"===t.toLowerCase()?[]:[a.weekdays.indexOf(t.replace(",","").toLowerCase())]}})})},canRepeat:!0},m={regexp:s.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=i(t,2),r=n[0],o=n[1];return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:1,timeUnit:"year",target:{type:"date-and-month",date:parseInt(r),month:parseInt(o)-1}})})}},v={regexp:s.DATE_DIGITS_REGEX,interpret:function(e,t){var n,r,o=i(t,1)[0];return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:1,timeUnit:"year",target:Object.assign(Object.assign({month:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(r=e.repeatDescription)||void 0===r?void 0:r.target:{}),{type:"date-and-month",date:parseInt(o)})})})}},g={regexp:s.SPELLED_MONTH_REGEX,interpret:function(e,t){var n,r;return Object.assign(Object.assign({},e),{repeatDescription:Object.assign(Object.assign({},e.repeatDescription),{frequency:1,timeUnit:"year",target:Object.assign(Object.assign({date:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(r=e.repeatDescription)||void 0===r?void 0:r.target:{}),{type:"date-and-month",month:a.months.indexOf(t.toLowerCase())})})})}},b={regexp:s.EVERY_REGEX,interpret:c},h={regexp:s.MONTH_REGEX,interpret:function(e){return Object.assign(Object.assign({},e),{repeatDescription:{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:-1,n:-1}}})}},j=[[b,f],[b,d,f],[b,l,f],[b,p,f]],y=[[t.OF,t.THE,h]];t.everyPatterns=[[b,u],[b,d,u],[b,l,u],[b,p,u]].concat(j,r((0,o.expand)(j,y)),[[b,m],[b,v,g],[b,v,t.OF,g],[b,g,v]])},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.startingPatterns=t.tomorrowPatterns=t.nextWeekPatterns=t.nextPatterns=t.onPatterns=t.inPatterns=t.atPatterns=void 0;var o=n(302),a=n(156),s=n(383),c=function(e){return e},u={regexp:s.AT_REGEX,interpret:c},d={regexp:s.IN_REGEX,interpret:c},l={regexp:s.ON_REGEX,interpret:c},p={regexp:s.NEXT_REGEX,interpret:c},f={regexp:s.OF_REGEX,interpret:c},m={regexp:s.WEEK_REGEX,interpret:function(e){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{nextWeek:!0})})}},v={regexp:s.THE_REGEX,interpret:c},g={regexp:s.AM_OR_PM_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{timeOfDay:t.toUpperCase()})})}},b={regexp:s.TIME_DIGITS_REGEX,interpret:function(e,t){var n=i(t,5),r=n[0],o=n[2],a=n[4];return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{hours:parseInt(r),minutes:o?parseInt(o):0,seconds:a?parseInt(a):0})})}},h={regexp:s.TIME_DIGITS_AM_OR_PM_REGEX,interpret:function(e,t){var n=i(t,2),r=n[0],o=n[1];return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{hours:parseInt(r),minutes:0,seconds:0,timeOfDay:o.toUpperCase()})})}},j={regexp:s.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{hours:a.wordToNumber[t.toLowerCase()],minutes:0,seconds:0})})}},y={regexp:s.NOON_MIDNIGHT_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{hours:"noon"===t.toLowerCase()?12:0,minutes:0,seconds:0})})}},O={regexp:s.SPELLED_TIME_OF_DAY_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{timeOfDay:"morning"===t.toLowerCase()?"AM":"PM"})})}},x={regexp:s.WEEKDAY_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{weekday:a.weekdays.indexOf(t.toLowerCase())})})}},S={regexp:s.WEEKDAY_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{weekday:a.weekdays.indexOf(t.toLowerCase()),nextWeekday:!0})})}},w={regexp:s.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=i(t,2),r=n[0],o=n[1];return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{date:parseInt(r),month:parseInt(o)-1})})}},I={regexp:s.SPELLED_MONTH_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{month:a.months.indexOf(t.toLowerCase())})})}},E={regexp:s.DATE_DIGITS_REGEX,interpret:function(e,t){var n=i(t,1)[0];return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{date:parseInt(n)})})}},k={regexp:s.TIME_UNIT_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{shiftTimeUnit:a.timeUnits.find((function(e){return i(e,1)[0]===t}))[1]})})}},M={regexp:s.TOMORROW_REGEX,interpret:function(e){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{tomorrow:!0})})}},D={regexp:s.ARBITRARY_DIGITS_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{shift:parseInt(t)})})}},_={regexp:s.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return Object.assign(Object.assign({},e),{dateDescription:Object.assign(Object.assign({},e.dateDescription),{shift:a.wordToNumber[t.toLowerCase()]})})}};t.atPatterns=[[u,b],[u,j],[u,b,g],[u,h],[u,j,g],[u,b,d,v,O],[u,j,d,v,O],[u,y]],t.inPatterns=[[d,D,k],[d,_,k]],t.onPatterns=[[l,x],[l,w],[l,E,I],[l,E,f,I],[l,I,E]],t.nextPatterns=[[p,S]],t.nextWeekPatterns=[[p,m]],t.tomorrowPatterns=[[M]];var P={regexp:s.STARTING_REGEX,interpret:c};t.startingPatterns=r((0,o.expand)([[P]],t.onPatterns))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDate=t.renderTime=void 0;var r=n(157),i=n(156),o=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric"}),a=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",second:"numeric"}),s=new Intl.DateTimeFormat([],{weekday:"long",month:"long",day:"numeric"}),c=new Intl.DateTimeFormat([],{year:"numeric",weekday:"long",month:"long",day:"numeric"}),u=["second","minute","hour","day","week","month","year"];function d(e){return 0===e.getSeconds()?o.format(e):a.format(e)}function l(e){var t=function(e){var t=u.findIndex((function(t){return Math.abs(e)<r.timeUnitToMilliseconds[t]}));return 0===t?u[0]:-1===t?u[u.length-1]:u[t-1]}(e);return(0,i.approximate)(Math.round(e/r.timeUnitToMilliseconds[t]),t)}t.renderTime=d,t.renderDate=function(e){var t=new Date(e),n=Date.now(),i=new Date;if(t<i)return l(t.getTime()-n);if(function(e,t,n){return e.getTime()-t.getTime()<n}(t,i,3*r.timeUnitToMilliseconds.hour)){var o=l(t.getTime()-n);return"".concat(o," (").concat(d(t),")")}if(f=i,(p=t).getDate()===f.getDate()&&p.getMonth()===f.getMonth()&&p.getFullYear()===f.getFullYear())return"Today at ".concat(d(t));if(function(e,t){return e.getDate()===t.getDate()+1&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(t,i))return"Tomorrow at ".concat(d(t));var a=l(t.getTime()-n);if(function(e,t){return e.getFullYear()===t.getFullYear()}(t,i)){var u=s.format(t);return"".concat(a," at ").concat(d(t)," (").concat(u,")")}var p,f,m=c.format(t);return"".concat(a," at ").concat(d(t)," (").concat(m,")")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileRepeatDatesBetween=void 0;var r=n(384);t.compileRepeatDatesBetween=function(e,t,n,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,a=[],s=(0,r.compileNextRepeatDate)(n,e,i),c=0;s<t&&c<o;)a.push(s),s=(0,r.compileNextRepeatDate)(n,s,i),c++;return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileSingle=void 0;var r=n(3),i=n(385),o=n(157);t.compileSingle=function(e,t){var n,a,s,c,u,d=new Date(e),l=function(e,t){var n=void 0!==e.dateDescription.weekday?(0,i.calculateWeekdayShift)(e.dateDescription.weekday,t):{shift:0,diff:0},r=n.shift,a=n.diff;return e.dateDescription.nextWeekday&&0===a&&(r+=o.timeUnitToMilliseconds.week),e.dateDescription.nextWeek&&0<=a&&(r+=o.timeUnitToMilliseconds.week),e.dateDescription.tomorrow&&(r+=o.timeUnitToMilliseconds.day),e.dateDescription.shift&&e.dateDescription.shiftTimeUnit&&(r+=e.dateDescription.shift*o.timeUnitToMilliseconds[e.dateDescription.shiftTimeUnit]),r}(t,e),p=void 0!==t.dateDescription.date&&void 0!==t.dateDescription.month,f=null!==(n=t.dateDescription.hours)&&void 0!==n?n:d.getUTCHours();f=t.dateDescription.timeOfDay?(0,r.normalizeCounter)(f,12):(0,r.normalizeCounter)(f,24),f="PM"===t.dateDescription.timeOfDay?f+12:f;var m=p||void 0!==t.dateDescription.weekday||!0===t.dateDescription.nextWeek,v=void 0!==t.repeatDescription,g=!m&&!v&&(l<o.timeUnitToMilliseconds.hour||"minute"===t.dateDescription.shiftTimeUnit),b=!m&&!v&&(l<o.timeUnitToMilliseconds.minute||"minute"===t.dateDescription.shiftTimeUnit&&l<2*o.timeUnitToMilliseconds.minute||"second"===t.dateDescription.shiftTimeUnit),h=l<o.timeUnitToMilliseconds.day&&!m?5:15,j=l<2*o.timeUnitToMilliseconds.minute&&!m?30:60,y=null!==(a=t.dateDescription.minutes)&&void 0!==a?a:g?d.getUTCMinutes():Math.round(d.getUTCMinutes()/h)*h,O=null!==(s=t.dateDescription.seconds)&&void 0!==s?s:b?d.getUTCSeconds():(0,r.normalizeCounter)(Math.round(d.getUTCSeconds()/j)*j,60),x=null!==(c=t.dateDescription.date)&&void 0!==c?c:d.getUTCDate(),S=null!==(u=t.dateDescription.month)&&void 0!==u?u:d.getUTCMonth(),w=new Date(d);w.setUTCHours(f),w.setUTCMinutes(y),w.setUTCSeconds(O),w.setUTCDate(x),w.setUTCMonth(S);var I=w.getTime()+l;return I<e&&p?I+o.timeUnitToMilliseconds.year:I}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nowWithLocaleHours=void 0,t.nowWithLocaleHours=function(){var e=new Date;return e.setUTCHours(e.getHours()),e.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareReminderIds=void 0;t.compareReminderIds=function(e,t){return e.id-t.id}},function(e,t,n){"use strict";var r=n(20).default,i=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useVirtualScroll=void 0;var o=n(5),a=n(3);function s(e,t){var n=Math.floor(e/t.itemSize);return{newIndex:n-t.halfMaxItems,shift:n*t.itemSize+t.containerPadding-t.itemPadding+t.halfItemSize}}function c(e,t){i(e);var n=r(t,1)[0];return function(e,t){switch(t.type){case"layout":var r=(0,o.makeRange)(t.numberOfVisibleItems).map((function(e){return e-Math.floor(t.numberOfVisibleItems/2)}));if(0===t.itemSize)return[Object.assign(Object.assign({},e),{virtualItems:r}),[]];var i=t.itemSize,a=i/2,c=(t.scrollContainerDimensions.height-i)/2,u=i*Math.floor(e.virtualItems.length/2),d=Math.floor(t.scrollPaddingDimensions.height/i),l=Math.floor(d/2),p=l*i+a,f=t.scrollContainerDimensions.height,m=i*t.numberOfVisibleItems;return[Object.assign(Object.assign({},e),{scrollContainerSize:f,virtualItemsSize:m,itemSize:i,halfItemSize:a,containerPadding:c,itemPadding:u,maxItems:d,halfMaxItems:l,scrollPositionMiddle:p,virtualItems:r,isInitialized:!0}),e.isInitialized?[]:[{type:"initialize"}]];case"onScroll":if(0===e.itemSize)return[e,[]];var v=t.scrollPosition,g=s(v,e),b=g.newIndex,h=g.shift;return[function(e){if(!e.isInitialized)return!0;if(!1===e.isTransitioning.state)return!0;var t=e.scrollPosition,n=e.scrollPosition+e.scrollContainerSize,r=e.shift+e.virtualItemsSize;return t<e.shift||r<n}(e)?Object.assign(Object.assign({},e),{scrollPosition:v,shift:h,index:{value:b,via:{type:"scroll",duringTransition:e.isTransitioning.state}}}):Object.assign(Object.assign({},e),{scrollPosition:v}),b===e.index.value||!0===e.isTransitioning.state?[]:[{type:"emitIntermediateChange"}]];case"onValueChange":return[e,[{type:"maybeStartAnimation",newIndex:n(t.value,e.index.value),oldState:e}]];case"setIsTransitioning":return[Object.assign(Object.assign({},e),{isTransitioning:{state:!0,target:t.target}}),[]];case"requestAnimationInterrupt":return[Object.assign(Object.assign({},e),{isTransitioning:{state:!1}}),[{type:"interruptAnimation"}]];case"notifiyAnimationDone":if(!0!==e.isTransitioning.state)return[e,[]];var j=s(e.scrollPosition,e),y=j.newIndex,O=j.shift,x=Object.assign(Object.assign({},e),{index:Object.assign(Object.assign({},e.index),{value:y}),shift:O});return[Object.assign(Object.assign({},x),{isTransitioning:{state:!1}}),[{type:"maybeStartAnimation",newIndex:e.isTransitioning.target,oldState:e}]]}}}function u(e,t){i(e);var n=r(t,4),o=n[0],a=n[1],s=n[2],c=n[3];return function(e,t,n){var r,i,u;switch(t.type){case"initialize":return o(e.scrollPositionMiddle),[];case"maybeStartAnimation":if(null===(i=null===(r=c.current)||void 0===r?void 0:r.state)||void 0===i?void 0:i.running)return n({type:"setIsTransitioning",target:t.newIndex}),[];if(t.newIndex===t.oldState.index.value){if("scroll"!==t.oldState.index.via.type)return[];if(!t.oldState.index.via.duringTransition)return[]}var d=Math.round(t.oldState.scrollPositionMiddle+t.newIndex*t.oldState.itemSize);return d===t.oldState.scrollPosition||(n({type:"setIsTransitioning",target:t.newIndex}),s(t.oldState.scrollPosition,d,666,(function(e){o(e)}),(function(){return setTimeout((function(){return n({type:"notifiyAnimationDone"})}),0)}))),[];case"interruptAnimation":return null===(u=c.current)||void 0===u||u.cancel(),[];case"emitIntermediateChange":return a(e.index.value),[]}}}var d={index:{value:0,via:{type:"init"}},scrollPosition:0,scrollContainerSize:0,virtualItemsSize:0,containerPadding:0,itemPadding:0,itemSize:0,halfItemSize:0,maxItems:0,halfMaxItems:0,scrollPositionMiddle:0,shift:0,virtualItems:[],isTransitioning:{state:!1},isInitialized:!1};t.useVirtualScroll=function(e,t,n){var i=(0,a.useStartAnimation)(),o=i.startAnimation,s=i.runningAnimation,l=(0,a.useFactory)(c,[],[t]),p=(0,a.useFactory)(u,[],[e,n,o,s]),f=(0,a.useReducerWithEffectsSynced)(l,p,d),m=r(f,2);return[m[0],m[1]]}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonthWithDatesReel=void 0;var r=n(0),i=n(598),o=n(382),a=n(602),s=n(1),c=n(388),u=n(387);t.MonthWithDatesReel=function(e){var t=(0,s.useMemo)((function(){return(0,a.makeMonthWithDatesCache)(e.rootDate)}),[]),n=(0,s.useMemo)((function(){return(0,c.getDayDiff)(e.date,new Date(e.rootDate))}),[e.date]),d=(0,s.useCallback)((function(t){return(0,o.getMonthDiff)(t.date,new Date(e.rootDate))}),[]);return(0,r.jsx)(u.VirtualScroll,{className:"MonthWithDatesReel",value:e.anchorDate,getIndexForValue:d,getLabelForIndex:function(o){var a=t.getCacheEntry(o);return(0,r.jsx)(i.DateView,{rootDate:e.rootDate,date:e.date,range:a.range,startIndex:a.startIndex,endIndex:a.endIndex,currentIndex:n,month:a.month,year:a.year,onSelect:function(t){return e.onChangeDate(function(e,t){var n=new Date(e);return n.setUTCDate(1),n.setUTCMonth(t.getUTCMonth()),n.setUTCDate(t.getUTCDate()),n.setUTCFullYear(t.getUTCFullYear()),n}(e.date,t))}},void 0)},onIntermediateChange:function(n){return e.onChangeAnchorDate({date:t.getCacheEntry(n).anchorDate,source:"month-with-dates-reel"})},numberOfVisibleItems:3},void 0)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DateView=void 0;var i=n(0),o=r(n(1)),a=n(1),s=n(5),c=n(47);n(599);var u=n(600),d=c.weekdays.map((function(e){return(0,i.jsx)("div",Object.assign({className:"DateView-date-box DateView-weekday-box"},{children:(0,s.capitalize)(e.slice(0,1))}),e)}));t.DateView=o.default.forwardRef((function(e,t){var n=(0,a.useMemo)((function(){return(0,u.makeDayCache)(e.rootDate)}),[]);return(0,i.jsxs)("div",Object.assign({ref:t,className:"DateView"},{children:[(0,i.jsxs)("div",Object.assign({className:"DateView-header"},{children:[(0,i.jsx)("div",Object.assign({className:"DateView-month"},{children:e.month}),void 0),(0,i.jsx)("div",Object.assign({className:"DateView-year"},{children:e.year}),void 0)]}),void 0),(0,i.jsxs)("div",Object.assign({className:"DateView-dates"},{children:[d,e.range.map((function(t){var r=t<=e.startIndex||e.endIndex<t-1;return(0,i.jsx)("div",Object.assign({onMouseDown:function(){return e.onSelect(n.getCacheEntry(t).date)},className:["DateView-date-box",r?"DateView-date-box-out-of-range":"",r||t!==e.currentIndex?"":"DateView-date-box-current",0===t?"DateView-date-box-zero-index":""].join(" ")},{children:n.getCacheEntry(t).paddedDate}),t)}))]}),void 0)]}),void 0)}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDayCache=void 0;var r=n(303),i=n(601),o=n(47),a=n(5);function s(e,t){var n=function(e,t){return new Date(t+e*r.DAY_IN_MILLISECONDS)}(e,t),s=(0,i.pad)(n.getUTCDate()),c=(0,o.normalizeWeirdDayFormat)(n.getUTCDay()),u=(0,a.capitalize)(o.weekdays[c].slice(0,3)),d=1===n.getUTCDate()?"".concat((0,a.capitalize)(o.months[n.getUTCMonth()].slice(0,3))):"";return{index:e,date:n,paddedDate:s,day:u,month:d}}t.makeDayCache=function(e){var t=(0,r.makeCache)(e,s);return(0,a.makeRange)(3560).forEach((function(e){t.getCacheEntry(e),t.getCacheEntry(-e)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pad=void 0,t.pad=function(e){return"0".concat(e).slice(-2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMonthWithDatesCache=void 0;var r=n(303),i=n(47),o=n(388),a=n(5);function s(e,t){var n=new Date(t),r=new Date(t);r.setUTCDate(1),r.setUTCHours(0),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0),r.setUTCMonth(r.getUTCMonth()+e);var s=new Date(r.getUTCFullYear(),r.getUTCMonth()+1,0),c=(0,i.normalizeWeirdDayFormat)(r.getUTCDay()),u=(0,o.getDayDiff)(r,n)-1,d=(0,o.getDayDiff)(s,n),l=u-c+1;return{index:e,range:(0,a.makeRange)(42).map((function(e){return l+e})),startIndex:u,endIndex:d,month:(0,a.capitalize)(i.months[r.getUTCMonth()]),year:(0,a.capitalize)("".concat(r.getUTCFullYear())),anchorDate:r}}t.makeMonthWithDatesCache=function(e){var t=(0,r.makeCache)(e,s);return(0,a.makeRange)(120).forEach((function(e){t.getCacheEntry(e),t.getCacheEntry(-e)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReminder=void 0;var r=n(47);t.createReminder=function(e,t,n){var i=(0,r.nowWithLocaleHours)();return{id:i,createdAt:i,date:(0,r.compileSingle)(i,e.description),expression:t,text:n,repeatDescription:e.description.repeatDescription}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivateRepeat=void 0;t.deactivateRepeat=function(){return function(e){return Object.assign(Object.assign({},e),{reminder:Object.assign(Object.assign({},e.reminder),{repeatDescription:void 0})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetReminder=void 0;var r=n(47);t.resetReminder=function(){return function(e){var t=Date.now(),n=function(e){var t=(0,r.compileDateExpressionFromDate)(e.reminder.date),n=(0,r.compileTimeExpressionFromDate)(e.reminder.date),i=e.reminder.repeatDescription?"".concat((0,r.compileExpressionFromRepeatDescription)(e.reminder.repeatDescription)):null;return i?"".concat(i," ").concat(n," starting ").concat(t):"".concat(t," ").concat(n)}(e);return Object.assign(Object.assign({},e),{reminder:Object.assign(Object.assign({},e.reminder),{id:t,createdAt:t,expression:n}),expression:n})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setExpression=void 0;var r=n(47),i=(0,r.compileTree)(r.grammarEn);t.setExpression=function(e){return function(t){var n=(0,r.parse)(i,e).filter((function(e){return e.complete}));return Object.assign(Object.assign({},t),{expression:e,sequences:0<n.length?n:t.sequences})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setReminder=void 0;t.setReminder=function(e){return function(t){return Object.assign(Object.assign({},t),{reminder:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFrequency=void 0;t.updateFrequency=function(e,t){return function(n){var r,i;return Object.assign(Object.assign({},n),{reminder:Object.assign(Object.assign({},n.reminder),{repeatDescription:{timeUnit:e||(null===(r=n.reminder.repeatDescription)||void 0===r?void 0:r.timeUnit)||"day",frequency:void 0===t?(null===(i=n.reminder.repeatDescription)||void 0===i?void 0:i.frequency)||1:t}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMonthlyDateRepeat=void 0;t.updateMonthlyDateRepeat=function(e){return function(t){var n,r,i,o,a;return Object.assign(Object.assign({},t),{reminder:Object.assign(Object.assign({},t.reminder),{repeatDescription:{timeUnit:"month",frequency:null!==(r=null===(n=t.reminder.repeatDescription)||void 0===n?void 0:n.frequency)&&void 0!==r?r:1,target:{type:"date",date:null!==(a=null!==e&&void 0!==e?e:"month"===(null===(i=t.reminder.repeatDescription)||void 0===i?void 0:i.timeUnit)&&"date"===(null===(o=t.reminder.repeatDescription.target)||void 0===o?void 0:o.type)&&t.reminder.repeatDescription.target.date||1)&&void 0!==a?a:1}}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMonthlyNthWeekdayRepeat=void 0;t.updateMonthlyNthWeekdayRepeat=function(e,t){return function(n){var r,i,o,a,s,c;if(void 0!==t&&t<1)return n;var u="month"===(null===(r=n.reminder.repeatDescription)||void 0===r?void 0:r.timeUnit)&&"nth-weekday"===(null===(i=n.reminder.repeatDescription.target)||void 0===i?void 0:i.type)?n.reminder.repeatDescription.target:void 0;return Object.assign(Object.assign({},n),{reminder:Object.assign(Object.assign({},n.reminder),{repeatDescription:{timeUnit:"month",frequency:null!==(a=null===(o=n.reminder.repeatDescription)||void 0===o?void 0:o.frequency)&&void 0!==a?a:1,target:{type:"nth-weekday",weekday:null!==(s=null!==e&&void 0!==e?e:null===u||void 0===u?void 0:u.weekday)&&void 0!==s?s:0,n:null!==(c=null!==t&&void 0!==t?t:null===u||void 0===u?void 0:u.n)&&void 0!==c?c:1}}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateReminderDate=void 0;t.updateReminderDate=function(e){return function(t){var n,r;return"year"===(null===(n=t.reminder.repeatDescription)||void 0===n?void 0:n.timeUnit)&&"date-and-month"===(null===(r=t.reminder.repeatDescription.target)||void 0===r?void 0:r.type)?Object.assign(Object.assign({},t),{reminder:Object.assign(Object.assign({},t.reminder),{repeatDescription:Object.assign(Object.assign({},t.reminder.repeatDescription),{target:Object.assign(Object.assign({},t.reminder.repeatDescription.target),{date:e.getUTCDate(),month:e.getUTCMonth()})})})}):Object.assign(Object.assign({},t),{reminder:Object.assign(Object.assign({},t.reminder),{date:e.getTime()})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTime=void 0;t.updateTime=function(e){return function(t){var n=new Date(t.reminder.date);return void 0!==e.hours&&n.setUTCHours(e.hours),void 0!==e.minutes&&n.setUTCMinutes(e.minutes),Object.assign(Object.assign({},t),{reminder:Object.assign(Object.assign({},t.reminder),{date:n.getTime()})})}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.updateWeeklyWeekdaysRepeat=void 0;t.updateWeeklyWeekdaysRepeat=function(e){return function(t){var n,i,o,a,s="week"===(null===(n=t.reminder.repeatDescription)||void 0===n?void 0:n.timeUnit)&&(null===(i=t.reminder.repeatDescription.target)||void 0===i?void 0:i.weekdays)||(void 0!==e?[]:[0]),c=void 0!==e?s.includes(e)?s.filter((function(t){return t!==e})):[].concat(r(s||[]),[e]):s;return Object.assign(Object.assign({},t),{reminder:Object.assign(Object.assign({},t.reminder),{repeatDescription:{timeUnit:"week",frequency:null!==(a=null===(o=t.reminder.repeatDescription)||void 0===o?void 0:o.frequency)&&void 0!==a?a:1,target:{type:"weekdays",weekdays:c}}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReelHelpers=t.SECOND_IN_MILLISECONDS=t.MINUTE_IN_MILLISECONDS=t.HOUR_IN_MILLISECONDS=t.DAY_IN_MILLISECONDS=void 0,t.DAY_IN_MILLISECONDS=864e5,t.HOUR_IN_MILLISECONDS=36e5,t.MINUTE_IN_MILLISECONDS=6e4,t.SECOND_IN_MILLISECONDS=1e3,t.makeReelHelpers=function(e,t,n,r){var i={cache:{}},o=function(e){return"idx".concat(e)},a=function(r){var a=i.cache[o(r)]||function(e,t,n,r){var i=e(n,r);return{date:i,label:t(i,n)}}(t,n,r,e);return i.cache[o(r)]=a,a};return{getLabel:function(e){return a(e).label},mutateDate:function(e,t){var n=a(e);return r(t,n)},rootDate:e,getCacheEntry:a}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatEditor=void 0;var i=n(0),o=n(616),a=n(113),s=n(617),c=n(620),u=n(622),d=n(624);n(628);var l=n(390);function p(e){return(0,i.jsxs)("div",Object.assign({className:"RepeatEditor-tile",onMouseDown:function(){return e.activate()}},{children:[(0,i.jsx)(l.ActiveIndicator,{className:"RepeatEditor-tile-active-indicator",active:e.active},void 0),e.children]}),void 0)}t.RepeatEditor=function(){var e,t,n,l,f,m,v=(0,a.useEditedReminderContext)(),g=r(v,2),b=g[0],h=g[1];return(0,i.jsxs)("div",Object.assign({className:"RepeatEditor"},{children:[(0,i.jsx)(p,Object.assign({active:void 0===b.reminder.repeatDescription,activate:function(){return h({type:"deactivateRepeat"})}},{children:(0,i.jsx)(o.NoRepeatTile,{},void 0)}),void 0),(0,i.jsx)(p,Object.assign({active:(0,s.isSimpleRepeat)(b.reminder.repeatDescription),activate:function(){return h({type:"activateFrequency"})}},{children:(0,i.jsx)(s.FrequencyEditor,{},void 0)}),void 0),(0,i.jsx)(p,Object.assign({active:"month"===(null===(e=b.reminder.repeatDescription)||void 0===e?void 0:e.timeUnit)&&"date"===(null===(t=b.reminder.repeatDescription.target)||void 0===t?void 0:t.type),activate:function(){return h({type:"updateMonthlyDateRepeat"})}},{children:(0,i.jsx)(c.DateWrapper,{},void 0)}),void 0),(0,i.jsx)(p,Object.assign({active:"month"===(null===(n=b.reminder.repeatDescription)||void 0===n?void 0:n.timeUnit)&&"nth-weekday"===(null===(l=b.reminder.repeatDescription.target)||void 0===l?void 0:l.type),activate:function(){return h({type:"updateMonthlyNthWeekdayRepeat"})}},{children:(0,i.jsx)(u.NthWeekdayWrapper,{},void 0)}),void 0),(0,i.jsx)(p,Object.assign({active:"week"===(null===(f=b.reminder.repeatDescription)||void 0===f?void 0:f.timeUnit)&&"weekdays"===(null===(m=b.reminder.repeatDescription.target)||void 0===m?void 0:m.type),activate:function(){return h({type:"updateWeeklyWeekdaysRepeat"})}},{children:(0,i.jsx)(d.WeekdaysWrapper,{},void 0)}),void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoRepeatTile=void 0;var r=n(0);t.NoRepeatTile=function(){return(0,r.jsx)("div",Object.assign({className:"RepeatEditor-no-repeat-tile"},{children:"Don't Repeat"}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyEditor=t.isSimpleRepeat=void 0;var i=n(0),o=n(5),a=n(113),s=n(304);n(619);var c=["minute","hour","day","week","month","year"];t.isSimpleRepeat=function(e){return!!e&&("week"!==e.timeUnit&&"month"!==e.timeUnit&&"year"!==e.timeUnit||void 0===e.target)},t.FrequencyEditor=function(){var e,t,n,u=(0,a.useEditedReminderContext)(),d=r(u,2),l=d[0],p=d[1],f=(null===(t=null===(e=l.reminder)||void 0===e?void 0:e.repeatDescription)||void 0===t?void 0:t.frequency)||1,m=(null===(n=l.reminder.repeatDescription)||void 0===n?void 0:n.timeUnit)||"day",v=c.map((function(e){var t=1===f?"":"".concat(f),n=(0,o.capitalize)(e),r=1===f?"":"s",a="".concat(t," ").concat(n).concat(r);return(0,i.jsx)("option",Object.assign({value:e},{children:a}),e)}));return(0,i.jsxs)("div",Object.assign({className:"FrequencyEditor"},{children:[(0,i.jsx)("span",{children:"Every"},void 0),(0,i.jsx)(s.PlusMinusButtons,Object.assign({onIncrement:function(e){return p({type:"updateFrequency",timeUnit:m,frequency:f+e})}},{children:(0,i.jsx)("select",Object.assign({className:"CommonUI-input",onChange:function(e){return p({type:"updateFrequency",timeUnit:e.target.value,frequency:f})},value:m},{children:v}),void 0)}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DateWrapper=void 0;var i=n(0),o=n(113),a=n(389),s=n(621);t.DateWrapper=function(){var e,t,n=(0,o.useEditedReminderContext)(),c=r(n,2),u=c[0],d=c[1],l=function(e){var t,n=(0,a.getMonthRepeatDescription)(e),r=n.reminder,i=n.repeatDescription;return r&&i&&"date"===(null===(t=i.target)||void 0===t?void 0:t.type)?{reminder:r,repeatDescription:i,target:i.target}:null}(n),p="month"===(null===(e=u.reminder.repeatDescription)||void 0===e?void 0:e.timeUnit)&&"date"===(null===(t=u.reminder.repeatDescription.target)||void 0===t?void 0:t.type);return l?(0,i.jsx)(s.Date,{active:p,date:l.target.date,onSelectDate:function(e){return d({type:"updateMonthlyDateRepeat",date:e})},onActivate:function(){return d({type:"updateMonthlyDateRepeat"})}},void 0):(0,i.jsx)(s.Date,{active:p,date:1,onSelectDate:function(e){return d({type:"updateMonthlyDateRepeat",date:e})},onActivate:function(){return d({type:"updateMonthlyDateRepeat"})}},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Date=void 0;var r=n(0),i=n(47),o=n(304);t.Date=function(e){return(0,r.jsxs)("div",Object.assign({className:"RepeatEditor-date-tile"},{children:[(0,r.jsx)("span",{children:"Every"},void 0),(0,r.jsx)(o.PlusMinusButtons,Object.assign({onIncrement:function(t){return e.onSelectDate(e.date+t)}},{children:(0,i.getOrdinalDigits)(e.date)}),void 0),(0,r.jsx)("span",{children:"day of the month"},void 0)]}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NthWeekdayWrapper=void 0;var i=n(0),o=n(113),a=n(389),s=n(623);t.NthWeekdayWrapper=function(){var e,t,n=(0,o.useEditedReminderContext)(),c=r(n,2),u=c[0],d=c[1],l=function(e){var t,n=(0,a.getMonthRepeatDescription)(e),r=n.reminder,i=n.repeatDescription;return r&&i&&"nth-weekday"===(null===(t=i.target)||void 0===t?void 0:t.type)?{reminder:r,repeatDescription:i,target:i.target}:null}(n),p="month"===(null===(e=u.reminder.repeatDescription)||void 0===e?void 0:e.timeUnit)&&"nth-weekday"===(null===(t=u.reminder.repeatDescription.target)||void 0===t?void 0:t.type);return l?(0,i.jsx)(s.NthWeekday,{active:p,n:l.target.n,weekday:l.target.weekday,onSelectN:function(e){return d({type:"updateMonthlyNthWeekdayRepeat",n:e})},onSelectWeekday:function(e){return d({type:"updateMonthlyNthWeekdayRepeat",weekday:e})},onActivate:function(){return d({type:"updateMonthlyNthWeekdayRepeat"})}},void 0):(0,i.jsx)(s.NthWeekday,{active:p,n:1,weekday:void 0,onSelectN:function(e){return d({type:"updateMonthlyNthWeekdayRepeat",n:e})},onSelectWeekday:function(e){return d({type:"updateMonthlyNthWeekdayRepeat",weekday:e})},onActivate:function(){return d({type:"updateMonthlyNthWeekdayRepeat"})}},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NthWeekday=void 0;var r=n(0),i=n(47),o=n(5),a=n(304);t.NthWeekday=function(e){var t,n=(0,i.getOrdinalDigits)(e.n),s=i.weekdays.map((function(e,t){return(0,r.jsx)("option",Object.assign({value:t},{children:"".concat(n," ").concat((0,o.capitalize)(e))}),t)}));return(0,r.jsxs)("div",Object.assign({className:"RepeatEditor-nth-weekday-tile"},{children:[(0,r.jsx)("div",{children:"Every"},void 0),(0,r.jsx)(a.PlusMinusButtons,Object.assign({onIncrement:function(t){return e.onSelectN(e.n+t)}},{children:(0,r.jsx)("select",Object.assign({className:"CommonUI-input",value:null!==(t=e.weekday)&&void 0!==t?t:0,onChange:function(t){return e.onSelectWeekday(parseInt(t.target.value))}},{children:s}),void 0)}),void 0),(0,r.jsx)("div",{children:"of the month"},void 0)]}),void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WeekdaysWrapper=void 0;var i=n(0),o=n(113),a=n(625),s=n(626);t.WeekdaysWrapper=function(){var e,t=(0,o.useEditedReminderContext)(),n=r(t,2),c=n[0],u=n[1],d=function(e){var t,n=(0,a.getWeekRepeatDescription)(e),r=n.reminder,i=n.repeatDescription;return r&&i&&"weekdays"===(null===(t=i.target)||void 0===t?void 0:t.type)?{reminder:r,repeatDescription:i,target:i.target}:null}(t),l="week"===(null===(e=c.reminder.repeatDescription)||void 0===e?void 0:e.timeUnit)&&void 0!==c.reminder.repeatDescription.target;return d?(0,i.jsx)(s.Weekdays,{active:l,weekdays:d.target.weekdays,onSelectWeekday:function(e){return u({type:"updateWeeklyWeekdaysRepeat",weekday:e})},onActivate:function(){return u({type:"updateWeeklyWeekdaysRepeat",weekday:0})}},void 0):(0,i.jsx)(s.Weekdays,{active:l,weekdays:[],onSelectWeekday:function(e){return u({type:"updateWeeklyWeekdaysRepeat",weekday:e})},onActivate:function(){return u({type:"updateWeeklyWeekdaysRepeat",weekday:0})}},void 0)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getWeekRepeatDescription=void 0,t.getWeekRepeatDescription=function(e){var t=r(e,1)[0];return t.reminder.repeatDescription&&"week"===t.reminder.repeatDescription.timeUnit?{reminder:t.reminder,repeatDescription:t.reminder.repeatDescription}:{reminder:null,repeatDescription:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weekdays=void 0;var r=n(0),i=n(47),o=n(5);n(627);var a=n(390);t.Weekdays=function(e){return(0,r.jsxs)("div",Object.assign({className:"RepeatEditor-weekdays-tile"},{children:[(0,r.jsx)("span",{children:"Every"},void 0),(0,r.jsx)("div",Object.assign({className:"Weekdays-box-container"},{children:i.weekdays.map((function(t,n){return(0,r.jsxs)("div",Object.assign({className:"Weekdays-box",onMouseDown:function(){return e.onSelectWeekday(n)}},{children:[(0,r.jsx)(a.ActiveIndicator,{active:e.weekdays.includes(n)},void 0),(0,o.capitalize)(t)]}),n)}))}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useModalAnimationSteps=void 0;var r=n(3),i=n(630);n(631),t.useModalAnimationSteps=function(){return(0,r.useAnimationSteps)(i.animationSteps)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationSteps=void 0;var r=n(5),i=r.isMocked?0:125,o="".concat(i/1e3,"s"),a=r.isMocked?0:250,s="".concat(a/1e3,"s"),c=r.isMocked?0:500,u="".concat(c/1e3,"s"),d=r.isMocked?0:1e3,l="".concat(d/1e3,"s");t.animationSteps=[{terminal:!0,target:"initial",config:{duration:0,data:{open:!1,panelInnerStyle:{opacity:0},panelOuterStyle:{}}}},{config:{duration:i,data:{open:!0,panelInnerStyle:{opacity:0},panelOuterStyle:{animationName:"open-modal-panel-outer",animationFillMode:"forwards",animationDuration:o}}}},{terminal:!0,target:"open",config:{duration:0,data:{open:!0,panelInnerStyle:{animationName:"open-modal-panel-inner",animationFillMode:"forwards",animationDuration:s},panelOuterStyle:{}}}},{config:function(e){var t="bouncy"===e?{finalCloseAnimationDuration:d,finalCloseAnimationDurationCss:l,finalAnimationNameOuter:"close-modal-panel-outer-bouncy",finalAnimationNameInner:"close-modal-panel-inner-bouncy"}:{finalCloseAnimationDuration:c,finalCloseAnimationDurationCss:u,finalAnimationNameOuter:"close-modal-panel-outer",finalAnimationNameInner:"close-modal-panel-inner"},n=t.finalCloseAnimationDurationCss;return{duration:t.finalCloseAnimationDuration,data:{open:!0,panelInnerStyle:{animationName:t.finalAnimationNameInner,animationFillMode:"forwards",animationDuration:n},panelOuterStyle:{animationName:t.finalAnimationNameOuter,animationFillMode:"forwards",animationDuration:n}}}}}]},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutIndicator=void 0;var r=n(0),i=n(1),o=n(5);function a(e){return"Meta"===e?o.isMac?"Cmd":"electron"===o.mode.type?"Ctrl":"Alt":e}n(633),t.ShortcutIndicator=function(e){return(0,r.jsx)("span",Object.assign({className:"ShortcutIndicator"},{children:e.shortcut.map((function(e,t){return(0,r.jsxs)(i.Fragment,{children:[0!==t&&(0,r.jsx)("span",Object.assign({className:"ShortcutIndicator-plus"},{children:"+"}),void 0),(0,r.jsx)("kbd",{children:a(e)},void 0)]},t)}))}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var i=n(0),o=n(3),a=n(635);n(636),t.Tooltip=function(e){var t=(0,o.useAnimationSteps)(a.animationSteps),n=r(t,2),s=n[0],c=n[1],u=(0,o.useAnchorPositioning)(e.anchorPositioning||"top-center"),d=r(u,2),l=d[0],p=d[1],f=(0,i.jsx)("div",Object.assign({onMouseEnter:function(){return c({type:"start",target:"open"})},onMouseLeave:function(){return c({type:"advance",target:"initial"})},className:"Tooltip-anchor",ref:l},{children:e.children}),void 0),m=s.open&&(0,i.jsx)("div",Object.assign({style:p,className:"Tooltip-positioning"},{children:(0,i.jsx)("div",Object.assign({style:s.style,className:"Tooltip-body"},{children:e.renderContent()}),void 0)}),void 0);return(0,i.jsxs)("div",Object.assign({className:"Tooltip-outer Tooltip-outer-inherit"},{children:[f,m]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationSteps=void 0;var r=n(5),i=r.isMocked?0:500,o="".concat(i/1e3,"s"),a=r.isMocked?0:150,s="".concat(a/1e3,"s");t.animationSteps=[{terminal:!0,target:"initial",config:{duration:0,data:{open:!1,style:{}}}},{terminal:!0,target:"open",config:{duration:0,data:{open:!0,style:{animationName:"open-tooltip",animationFillMode:"forwards",animationDuration:o}}}},{config:{duration:a,data:{open:!0,style:{animationName:"close-tooltip",animationFillMode:"forwards",animationDuration:s}}}}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(55).default,i=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useAppState=void 0;var o=n(5),a=n(640),s=n(1),c=n(3),u=n(834),d=n(835),l=n(836),p=n(259),f=n(324),m=n(868);function v(e,t){var n=i(e,1)[0];r(t);return n?(0,d.makeCacheFunctions)("documents",n):o.isNativeApp?(0,l.makeNativeAppCacheFunctions)():null}t.useAppState=function(e){var t=(0,m.useApplicationPaths)(),n=(0,c.useFactory)(v,[null===t||void 0===t?void 0:t.cacheLocation],[]),r=(0,a.useAutoSyncedAppState)(e,f.defaultOrigin,p.originConfigs,n,null===t||void 0===t?void 0:t.logsLocation),o=i(r,4),d=o[0],l=o[1],g=o[2],b=o[3];return(0,s.useEffect)((function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&g({type:"requestSlot",slotName:"download"})}))}),[]),(0,u.useArchiveManager)(d.store.store,l),[d,l,b,t]}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoSyncedAppState=t.isSynced=void 0;var i=n(3),o=n(1),a=n(5),s=n(3),c=n(641),u=n(791),d=n(58),l=n(161),p=n(792),f=n(793),m=n(817),v=n(818),g=n(824),b=n(828),h=n(831),j=a.isMocked?0:1e3;function y(e,t,n){if(null!==e){var r=(0,d.get)(t.store.store,n);r&&e.pushToCache(r)}}function O(e,t){null!==e&&e.deleteFromCache(t)}t.isSynced=function(e){return 0===(0,l.getAllDirties)(e.store.store,(function(){return!0})).length};t.useAutoSyncedAppState=function(e,t,n,a,d){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.debounce,x=(0,o.useCallback)((function(t,n){return e.emit({state:t,effect:n}),Promise.resolve()}),[]),S=(0,i.useReducerWithEffects)(f.reducer,x,p.initialState),w=r(S,2),I=w[0],E=w[1],k=(0,i.useDebouncedMemo)((function(){return(0,h.makeMultiOriginFetcherAndPusher)({settings:I.settings,originConfigs:n})}),500,[I.settings.originSettings]),M=r(k,2),D=M[0],_=M[1],P=(0,i.useSyncManager)(l,j),C=r(P,2),T=C[0],N=C[1];return(0,m.useSyncStateMessage)(T),(0,g.useUpload)(I,E,_,T,N,t),(0,b.useDownload)(E,D,T,N,t),(0,u.useDocumentChangeEvents)(I.store,(function(e){y(a,I,e)}),(function(e){O(a,e)})),(0,c.useInitialLoadFromCache)(E,a),(0,v.useReminders)(I,d),[I,E,N,T]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialLoadFromCache=void 0;var r=n(3),i=n(52),o=n(159);t.useInitialLoadFromCache=function(e,t){(0,r.useOnce)((function(){t.fetchFromCache().then((function(t){e({type:"mergeDocumentStore",store:{store:t.reduce((function(e,t){return t.dirty?(0,o.saveDirty)(e,t.id,t.document,i.normalizeDocument,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)}):(0,o.saveSynced)(e,t.id,t.document,i.normalizeDocument,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)})}),[]),oldToNew:{},newToOld:{}}})}))}),null!==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSnippet=void 0;var r=n(33),i=n(3);function o(e){var t=r.LANGUAGE_MAPPING_V_0_1_14_to_V_0_1_15[e.language];return t?Object.assign(Object.assign({},e),{language:t}):e}t.normalizeSnippet=function(e,t){var n=t.document;if(void 0===n.content||null===n.content)return{type:"invalid"};var r=(0,i.pipe)(n,o);return r===n?{type:"valid"}:{type:"updated",item:Object.assign(Object.assign({},t),{dirty:!0,document:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.produceFileMeta=void 0;var r=n(123);t.produceFileMeta=function(e){var t=(0,r.getPluginByLanguage)(e.document.language);return t?t.produceFileMetaData(e):{id:"n/a",normalizedLanguage:"n/a",title:"n/a",trimmedBody:"n/a",reminders:[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorReader=void 0;var r=n(0),i=n(12),o=n(1),a=n(307),s=n(394),c=n(668);function u(e){return e.reduce((function(e,t){return(0,r.jsxs)(o.Fragment,{children:[e,t.classes?(0,r.jsx)("span",Object.assign({className:t.classes},{children:t.text}),void 0):t.text]},void 0)}),(0,r.jsx)(o.Fragment,{},void 0))}t.CodeMirrorReader=function(e){var t=(0,o.useMemo)((function(){var t=e.snippetListEntry.metaData.trimmedBody.split("\n"),n=[t[0]||"",t[1]||""],d=(0,a.getLanguageSupport)(e.snippetListEntry.snippet.language),l=d instanceof i.LanguageSupport?d.language:d;return l?(0,r.jsx)(o.Fragment,{children:n.map((function(e,t){return(0,r.jsx)("div",{children:u((0,c.runHighlighter)(e,l,s.highlightStyle))},t)}))},void 0):(0,r.jsx)(o.Fragment,{children:n.map((function(e,t){return(0,r.jsx)("div",{children:e},t)}))},void 0)}),[e.snippetListEntry.metaData.trimmedBody,e.snippetListEntry.snippet.language]);return(0,r.jsx)("pre",{children:t},void 0)}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runHighlighter=void 0;var r=n(2);t.runHighlighter=function(e,t,n){var i=t.parser.parse(e),o=0,a=[];return(0,r.highlightTree)(i,n.match,(function(t,n,r){o<t&&a.push({text:e.slice(o,t),classes:null}),a.push({text:e.slice(t,n),classes:r}),o=n})),o!==i.length&&a.push({text:e.slice(o,i.length),classes:null}),a}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var i=n(19),o=n(8),a=n(670),s=n(12),c=n(671),u=n(672),d=n(111),l=n(673),p=n(674),f=n(675),m=n(308),v=n(394);t.setup=function(e){return[(0,c.lineNumbers)(),(0,i.highlightSpecialChars)(),(0,a.history)(),(0,i.drawSelection)(),o.EditorState.allowMultipleSelections.of(!0),(0,s.indentOnInput)(),(0,d.bracketMatching)(),(0,l.closeBrackets)(),(0,f.rectangularSelection)(),i.keymap.of([].concat(r(l.closeBracketsKeymap),r(u.defaultKeymap),r(a.historyKeymap),r(p.commentKeymap))),v.highlightStyle,(0,m.searchHighlights)(e)]}},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchResults=void 0;var r=n(310);t.getSearchResults=function(e,t){var n=(0,r.searchInText)(e,t.snippet.content,0);return 0===n.length?[]:[{snippetId:t.metaData.id,metadata:n}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSearchResult=void 0;var r=n(0),i=n(19),o=n(1),a=n(395),s=n(308);function c(e){var t=(0,o.useRef)(),n=i.Decoration.set(e.searchResult.metadata.map((function(e){return{from:e.from,to:e.to,value:s.highlightMark}})));return(0,r.jsx)("div",{className:"CodeMirrorWriter-editor-container",ref:function(r){r&&!t.current&&(t.current=(0,a.initEditorView)({content:e.snippetListEntry.snippet.content,language:e.snippetListEntry.snippet.language,onChange:function(){},onEscape:function(){},editable:!1,initialDecorations:n},r))}},void 0)}t.renderSearchResult=function(e,t){var n=t.metadata.map((function(e){return"".concat(e.from,"-").concat(e.to)})).join("-");return(0,r.jsx)(c,{snippetListEntry:e,searchResult:t},n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextPlugin=t.LANGUAGE=void 0;var r=n(0),i=n(69),o=n(688),a=n(246),s=n(318),c=n(718),u=n(737),d=n(739),l=n(740),p=n(755),f=n(756),m=n(757),v=n(758);t.LANGUAGE="richtext";t.RichTextPlugin={name:"RichText Plugin",language:t.LANGUAGE,iconName:"rich-text-snippet",editorClass:function(){return"SnippetEditor-richtext-mode"},snippetListClass:function(){return"SnippetList-entry-type-richtext"},testExtension:function(e){return"rt"===e?t.LANGUAGE:null},testLanguage:function(e){return e===t.LANGUAGE},toPlaintext:function(e){return(0,i.getTextFromDoc)((0,i.initDoc)(i.completeSchema,e))},fromPlaintext:function(e){return(0,i.docJsonFromString)(i.completeSchema,e)},produceFileMetaData:function(e){return(0,s.produceFileMetaData)(e.id,e.document.name,(0,i.initDoc)(i.completeSchema,e.document.content),t.LANGUAGE)},updateSnippetReferences:v.updateSnippetReferences,writer:c.RichTextWriter,toolbar:o.Toolbar,mobileToolbar:u.MobileToolbar,listEntry:function(e){return(0,r.jsx)(a.DefaultListEntry,Object.assign({},e,{children:(0,r.jsx)("div",{children:e.snippetListEntry.metaData.trimmedBody},void 0)}),void 0)},createSnippetConfig:{viaInput:{placeholder:"Paste Text ...",bootstrap:function(e){return(0,i.docJsonFromString)(i.completeSchema,e)}},viaButton:{label:"Note",bootstrap:function(){return(0,i.docJsonFromString)(i.completeSchema,"")}}},getSearchResults:d.getSearchResults,renderPreview:m.renderPreview,renderSearchResult:l.renderSearchResult,getQuickAccessSearchResults:f.getQuickAccessSearchResults,renderQuickAccessSearchResult:p.renderQuickAccessSearchResult}},function(e,t,n){"use strict";var r=n(80).default,i=n(81).default;Object.defineProperty(t,"__esModule",{value:!0}),t.buildChangeImageTypeMenuItem=t.ImageView=t.resizableImage=void 0;var o=n(44);t.resizableImage={inline:!0,attrs:{src:{},width:{default:"10em"},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{priority:51,tag:"img[src][width]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t={style:"width: ".concat(e.attrs.width)};return["span",Object.assign(Object.assign({},e.attrs),t)]}};var a=r((function e(t,n,r){throw i(this,e),"ImageView was not migrated!"}));t.ImageView=a,t.buildChangeImageTypeMenuItem=function(e,t,n){var r=function(n,r){if((n.selection&&n.selection.node&&n.selection.node.type)===e){if(r)r(n.tr.replaceSelectionWith(t.create({src:n.selection.node.attrs.src})));return!0}return!1},i={run:r,enable:function(e,t){return r(e,t)},select:function(t){return(t.selection&&t.selection.node&&t.selection.node.type)===e}};for(var a in n)i[a]=n[a];return new o.MenuItem(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liftListItem=t.splitTodoListItem=void 0;var r=n(15),i=n(31);i.Transform.prototype.splitTodoListItem=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,o=this.doc.resolve(e),a=r.Fragment.empty,s=r.Fragment.empty,c=o.depth,u=o.depth-t,d=t-1;c>u;c--,d--){a=r.Fragment.from(o.node(c).copy(a));var l=n&&n[d],p=l&&l.type||o.node(c).type;s=r.Fragment.from(l?p.create(l.attrs,s):o.node(c).copy(s))}return this.step(new i.ReplaceStep(e,e,new r.Slice(a.append(s),t,t)))},t.splitTodoListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,c=o.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(s))return!1;var u=a.node(-1);if(u.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var d=r.Fragment.empty,l=a.index(-1)>0,p=a.depth-(l?1:2);p>=a.depth-3;p--)d=r.Fragment.from(a.node(p).copy(d));d=d.append(r.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(l?null:-1),a.after(-3),new r.Slice(d,l?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(l?3:2)))),n(f.scrollIntoView())}return!0}var m=s.pos==a.end()?u.contentMatchAt(a.indexAfter(-1)).defaultType:null,v=t.tr.delete(a.pos,s.pos),g=m&&[null,{type:m}];return!!(0,i.canSplit)(v.doc,a.pos,2,g)&&(0!==a.parentOffset&&(g=g||[]).push({attrs:{done:!1}}),n&&n(v.splitTodoListItem(a.pos,2,g).scrollIntoView()),!0)}},t.liftListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,c=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!c&&(!n||(a.node(c.depth-1).type==e?function(e,t,n,o){var a=e.tr,s=o.end,c=o.$to.end(o.depth);s<c&&(a.step(new i.ReplaceAroundStep(s-1,c,s,c,new r.Slice(r.Fragment.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new r.NodeRange(a.doc.resolve(o.$from.pos),a.doc.resolve(c),o.depth));return t(a.lift(o,(0,i.liftTarget)(o)).scrollIntoView()),!0}(t,n,e,c):function(e,t,n){for(var o=e.tr,a=n.parent,s=n.end,c=n.endIndex-1,u=n.startIndex;c>u;c--)s-=a.child(c).nodeSize,o.delete(s-1,s+1);var d=o.doc.resolve(n.start),l=d.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,m=d.node(-1),v=d.index(-1);if(!m.canReplace(v+(p?0:1),v+1,l.content.append(f?r.Fragment.empty:r.Fragment.from(a))))return!1;var g=d.pos,b=g+l.nodeSize;return o.step(new i.ReplaceAroundStep(g-(p?1:0),b+(f?1:0),g+1,b-1,new r.Slice((p?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))).append(f?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(o.scrollIntoView()),!0}(t,n,c)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendReminderNode=void 0,t.appendReminderNode=function(e){var t={inline:!0,attrs:{expression:{},date:{},repeatDescription:{default:void 0},createdAt:{}},group:"inline",draggable:!0,parseDOM:[{tag:"span.Reminders-node",getAttrs:function(e){var t=e.getAttribute("repeatDescription");return{expression:e.getAttribute("expression"),date:parseInt(e.getAttribute("date")),repeatDescription:t?JSON.parse(t):void 0,createdAt:parseInt(e.getAttribute("createdAt"))}}}],toDOM:function(e){return["span",{expression:e.attrs.expression,date:e.attrs.date,repeatDescription:e.attrs.repeatDescription?JSON.stringify(e.attrs.repeatDescription):void 0,createdAt:e.attrs.createdAt,class:"Reminders-node"}]}};return e.append({reminder:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customizeLinkMark=void 0;var r={attrs:{href:{},nolabel:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=e.getAttribute("nolabel");return{href:t,nolabel:null===n?t===e.textContent:n}}}],toDOM:function(e){return["a",e.attrs,0]}};t.customizeLinkMark=function(e){return e.update("link",r)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendCustomFormattingMarks=void 0;var r=["s",0],i=["u",0];t.appendCustomFormattingMarks=function(e){return e.append({lineThrough:{parseDOM:[{tag:"s"},,{style:"text-decoration=line-through"}],toDOM:function(){return r}},underline:{parseDOM:[{tag:"u"},,{style:"text-decoration=underline"}],toDOM:function(){return i}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendSnippetReferenceMark=void 0;var r={attrs:{snippetReferenceId:{}},inclusive:!1,parseDOM:[{tag:"span[snippet-reference-id]",getAttrs:function(e){return{snippetReferenceId:e.getAttribute("snippet-reference-id")}}}],toDOM:function(e){return["span",{"snippet-reference-id":e.attrs.snippetReferenceId},0]}};t.appendSnippetReferenceMark=function(e){return e.append({snippetReference:r})}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var i=n(0),o=n(248),a=n(313),s=n(397),c=n(114);n(709);var u=n(710),d=n(406),l=n(407),p=n(408),f=n(409),m=n(717),v=n(1),g=r((0,o.pick)([c.reminderMenuFormId,c.candidateHyperlinkMenuFormId],c.menuItems),2),b=g[0],h=g[1],j=(0,o.pick)(["bold","italic","lineThrough","underline","code"],c.menuItems),y=(0,o.pick)(["colorBlue","colorRed","colorYellow"],c.menuItems),O=(0,o.pick)(["backgroundColorBlue","backgroundColorRed","backgroundColorYellow"],c.menuItems),x=((0,o.pick)(["fontSizeSmall","fontSizeBig"],c.menuItems),(0,o.pick)(["wrapBulletList","wrapOrderedList","wrapTodoList"],c.menuItems)),S=(0,o.pick)(["liftItem","sinkItem","joinUp"],c.menuItems),w=(0,o.pick)(["codeBlock","quote"],c.menuItems),I=(0,o.pick)(["wrapBulletList","wrapOrderedList","wrapTodoList"],c.menuItems),E=(0,o.pick)(["liftItem","sinkItem","joinUp"],c.menuItems),k=(0,o.pick)(["heading1","heading2","heading3"],c.menuItems),M=(0,o.pick)(["stickyBlue","stickyRed","stickyYellow"],c.menuItems),D=(0,o.pick)(["boxBlue","boxRed","boxYellow"],c.menuItems),_=(0,o.pick)(["textAlignmentCenter","textAlignmentRight","itemAlignmentCenter"],c.menuItems);function P(e){var t,n=e.toolbarDisplayState.menuState,r=function(t){var r=null===n||void 0===n?void 0:n[t.id];return r?t.render(t.id,n,r,e.toolbarEventBus,e.requestEditorFocusEventBus):null};switch(null===(t=e.toolbarDisplayState.specialRender)||void 0===t?void 0:t.type){case"quick-set-reminder":return(0,i.jsx)(a.Toolbar,{children:r(b)},void 0);case"hyperlink-candidate":return(0,i.jsx)(a.Toolbar,{children:r(h)},void 0);case"hyperlink-on-demand":return(0,i.jsx)(a.Toolbar,{children:(0,i.jsx)(p.OnDemandHyperlinkMenuForm,{toolbarEventBus:e.toolbarEventBus,requestEditorFocusEventBus:e.requestEditorFocusEventBus},void 0)},void 0);case"snippet-reference-mark":return null}switch(e.toolbarDisplayState.toolbarOrientation){case"vertical":return(0,i.jsxs)(a.Toolbar,{children:[(0,i.jsx)(s.ToolbarItemGroup,{children:w.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:I.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:E.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:k.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:M.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:D.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:_.map(r)},void 0),(0,i.jsx)(d.RequestReminderEditorToolbarItem,{toolbarEventBus:e.toolbarEventBus},void 0),(0,i.jsx)(m.CreateSnippetReferenceMenuItem,{toolbarEventBus:e.toolbarEventBus,mode:"vertical"},void 0)]},void 0);case"horizontal":return(0,i.jsxs)(a.Toolbar,{children:[(0,i.jsx)(s.ToolbarItemGroup,{children:j.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:y.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:O.map(r)},void 0),!1,(0,i.jsx)(s.ToolbarItemGroup,{children:x.map(r)},void 0),(0,i.jsx)(s.ToolbarItemGroup,{children:S.map(r)},void 0),(0,i.jsx)(l.OnDemandHyperlinkMenuItem,{toolbarEventBus:e.toolbarEventBus},void 0),(0,i.jsx)(m.CreateSnippetReferenceMenuItem,{toolbarEventBus:e.toolbarEventBus,mode:"horizontal"},void 0)]},void 0)}}t.Toolbar=function(e){var t=(0,f.useToolbarDisplayState)(e.toolbarEventBus,e.selectionInfoEventBus,e.hasFocus,e.scrollInfo,e.viewPortDimensions);return(0,v.useEffect)((function(){e.toolbarEventBus.emit({type:"toolbarStateChange",state:t.type})}),[t.type]),"inactive"===t.type?null:(0,i.jsx)(u.FloatingToolbar,{selectionInfo:t.selectionInfo,scrollInfo:t.scrollInfo,toolbarOrientation:t.toolbarOrientation,viewPortDimensions:t.viewPortDimensions,render:function(){return(0,i.jsx)(P,{toolbarEventBus:e.toolbarEventBus,toolbarDisplayState:t,requestEditorFocusEventBus:e.requestEditorFocusEventBus},void 0)}},void 0)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCommandItem=void 0,t.buildCommandItem=function(e,t,n,r){return{id:t,run:e,active:n,extractMetadata:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildMarkItem=void 0;var r=n(36);t.buildMarkItem=function(e,t){return{id:t,run:(0,r.toggleMark)(e),active:function(t){return function(e,t){var n=e.selection,r=n.from,i=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||i.marks()):e.doc.rangeHasMark(r,o,t)}(t,e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildToggleAttributesItem=void 0;var r=n(36);t.buildToggleAttributesItem=function(e,t,n){return e=e.map((function(e){return void 0===e.strong?Object.assign(Object.assign({},e),{strong:!0}):e})),{id:n,run:function(n,i){if(!i)return!0;var o=function(n){var i=Object.assign({},n.attrs),o=e.findIndex((function(e){var t=e.name,n=e.value;return e.strong&&i[t]!==n}))>=0;return e.forEach((function(e){var t=e.name,n=e.value;o?i[t]=n:delete i[t]})),(0,r.setBlockType)(t,i)}(n.selection.$from.parent);return o(n)?o(n,i):void 0},active:function(t){return-1===e.findIndex((function(e){var n=e.name,r=e.value;return e.strong&&t.selection.$from.parent.attrs[n]!==r}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildToggleBlockTypeItem=void 0;var r=n(36);t.buildToggleBlockTypeItem=function(e,t,n,i){var o=(0,r.setBlockType)(e,i),a=(0,r.setBlockType)(t.nodes.paragraph);return{id:n,run:function(t,n){if(!n){var r=t.selection,i=r.$from,s=r.$to;return i.parent===s.parent&&i.parent.type===e||o(t)}return o(t)?o(t,n):a(t,n)},active:function(t){var n=t.selection,r=n.$from,o=n.to,a=n.node;return a?a.hasMarkup(e,i):o<=r.end()&&r.parent.hasMarkup(e,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildWrapInListItem=void 0;var r=n(77);t.buildWrapInListItem=function(e,t,n){return{id:t,run:(0,r.wrapInList)(e,n)}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e){return!e.match(t.SPACE)}function i(e,t,n,r,o){var a=o+n;return t(o,e.charAt(r?a:o))?i(e,t,n,r,a):o}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentWord=t.areEqual=t.SPACE=void 0,t.SPACE=/^\s$/,t.areEqual=function(e,t){return e.text===t.text&&e.from===t.from&&e.to===t.to},t.getCurrentWord=function(e){if(e.selection.$cursor){var t=e.selection.$cursor,n=function(e){return i(e.parent.textContent,(function(e,t){return 0<e&&r(t)}),-1,!0,e.parentOffset)}(t),o=function(e){return i(e.parent.textContent,(function(t,n){return t<e.parent.nodeSize-2&&r(n)}),1,!1,e.parentOffset)}(t),a=e.selection.$cursor.start();return{text:e.doc.textBetween(a+n,a+o),from:n+a,to:o+a}}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CandidateHyperlinkMenuForm=void 0;var i=n(0),o=n(1),a=n(9);n(703);var s=n(5),c=n(3),u=n(315),d=n(252),l=n(97),p=n(253),f=n(316),m=n(317),v=(0,i.jsx)(a.ShortcutIndicator,{shortcut:["Enter"]},void 0),g=(0,i.jsx)(a.ShortcutIndicator,{shortcut:["Cmd","Enter"]},void 0);function b(e,t){var n=r(e,1)[0],i=r(t,2),o=i[0],a=i[1];return function(){o.emit({type:"dispatch",cb:function(e,t){return(0,p.insertNewCandidate)(e,t,""===n?void 0:n)}}),a.emit({type:"lastActive"})}}t.CandidateHyperlinkMenuForm=function(e){var t=(0,o.useState)(""),n=r(t,2),h=n[0],j=n[1],y=(0,o.useState)(""),O=r(y,2),x=O[0],S=O[1],w=e.menuItemState.metadata,I=(0,u.useClipboardIndicatorAnimationSteps)(),E=r(I,2),k=E[0],M=E[1];(0,o.useEffect)((function(){"inactive"!==(null===w||void 0===w?void 0:w.type)?"marked-candidate"!==(null===w||void 0===w?void 0:w.type)||S(w.attrs.href):S("")}),[w]);var D=(0,o.useCallback)((function(){return e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){return(0,d.startMarkInteraction)(e,t,l.hyperlinkPluginKey)}})}),[]),_=(0,o.useCallback)((function(){return e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){return(0,m.endMarkInteraction)(e,t,l.hyperlinkPluginKey)}})}),[]),P=(0,c.useFactory)(b,[h],[e.toolbarEventBus,e.requestEditorFocusEventBus]),C=(0,c.useOnEnter)(P);return(0,i.jsxs)("div",Object.assign({className:"CommonUI-menu-form"},{children:["marked-candidate"===(null===w||void 0===w?void 0:w.type)&&(0,i.jsx)("input",{value:x,onFocus:function(){return D()},onBlur:function(){return _()},onChange:function(t){var n=""===t.target.value?"http://":t.target.value;S(n),e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){(0,p.updateDecoratedCandidate)(e,t,n)}})},className:"CommonUI-input"},void 0),"new-candidate"===(null===w||void 0===w?void 0:w.type)&&(0,i.jsx)("input",{placeholder:"Label (Optional)",onFocus:function(){return D()},onBlur:function(){return _()},value:h,onChange:function(e){return j(e.target.value)},className:"CommonUI-input",onKeyDown:function(e){return C(e)}},void 0),"new-candidate"===(null===w||void 0===w?void 0:w.type)&&(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:w.isInteractedWith?v:g}),void 0)}},{children:(0,i.jsx)("button",Object.assign({className:"CommonUI-button CandidateHyperlinkMenuForm-set-button",onClick:function(){return P()},onMouseDown:function(e){return e.preventDefault()}},{children:"Set"}),void 0)}),void 0),"marked-candidate"===(null===w||void 0===w?void 0:w.type)&&(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:"Open in Browser"}),void 0)}},{children:(0,i.jsx)("button",Object.assign({className:"CommonUI-button CommonUI-menu-form-icon-button CandidateHyperlinkMenuForm-visit-button",onClick:function(){return(0,s.openLinkProgrammatically)(x)},onMouseDown:function(e){return e.preventDefault()}},{children:(0,i.jsx)(a.Icon,{iconName:"visit-link"},void 0)}),void 0)}),void 0),(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:k.active?"Copied":"Copy to Clipboard"}),void 0)}},{children:(0,i.jsx)("button",Object.assign({className:"CommonUI-button CommonUI-menu-form-icon-button CandidateHyperlinkMenuForm-visit-button",onClick:function(){e.toolbarEventBus.emit({type:"copyToClipboard",text:x}),M({type:"start"})},onMouseDown:function(e){return e.preventDefault()}},{children:(0,i.jsx)(a.Icon,{iconName:k.active?"clipboard-success":"clipboard"},void 0)}),void 0)}),void 0),(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:"Drop Hyperlink"}),void 0)}},{children:(0,i.jsx)("button",Object.assign({className:"CommonUI-button CommonUI-menu-form-icon-button CandidateHyperlinkMenuForm-remove-button",onClick:function(){return e.toolbarEventBus.emit({type:"dispatch",cb:function(t,n){(0,f.removeMark)(t,n,t.schema.marks.link,l.hyperlinkPluginKey),e.requestEditorFocusEventBus.emit({type:"lastActive"})}})},onMouseDown:function(e){return e.preventDefault()}},{children:(0,i.jsx)(a.Icon,{iconName:"trash"},void 0)}),void 0)}),void 0)]},void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetReminderMenuForm=void 0;var r=n(0),i=n(9);n(705);var o=(0,r.jsx)(i.ShortcutIndicator,{shortcut:["Meta","Enter"]},void 0);t.SetReminderMenuForm=function(e){return(0,r.jsx)("div",Object.assign({className:"SetReminderMenuForm CommonUI-menu-form"},{children:(0,r.jsx)(i.Tooltip,Object.assign({renderContent:function(){return(0,r.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:o}),void 0)}},{children:(0,r.jsx)("button",Object.assign({className:"CommonUI-button",onClick:function(){return e.toolbarEventBus.emit({type:"menuItemRun",id:e.id})},onMouseDown:function(e){return e.preventDefault()}},{children:"Set Reminder"}),void 0)}),void 0)}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.customParagraphSpecs=t.customParagraphIconNames=void 0;var i=n(5),o=n(247);t.customParagraphIconNames={quote:"quote",stickyBlue:"filled-square",stickyRed:"filled-square",stickyYellow:"filled-square",boxBlue:"info-circle",boxRed:"exclamation-circle",boxYellow:"lightbulb",textAlignmentCenter:"text-alignment-center",textAlignmentRight:"text-alignment-right",itemAlignmentCenter:"item-alignment-center"},t.customParagraphSpecs=[].concat(r(o.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(e){return{id:"sticky".concat((0,i.capitalize)(e)),attributes:[{name:"type",value:"sticky"},{name:o.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:e},{name:"itemAlignment",value:"center",strong:!1}]}}))),r(o.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(e){return{id:"box".concat((0,i.capitalize)(e)),attributes:[{name:"type",value:"box"},{name:o.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:e}]}}))),r(o.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.knownValues.map((function(e){return{id:"".concat(o.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name).concat((0,i.capitalize)(e)),attributes:[{name:o.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:e}]}}))),r(o.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.knownValues.map((function(e){return{id:"".concat(o.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name).concat((0,i.capitalize)(e)),attributes:[{name:o.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:e}]}}))),[{id:"quote",attributes:[{name:o.ATTRIBUTE_DEFINITIONS.TYPE.name,value:"quote"},{name:o.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:null},{name:o.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:null},{name:o.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:null}]}])},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.customMarkSpecs=t.customMarkIconNames=void 0;var i=n(5),o=n(312);t.customMarkIconNames={colorBlue:"text-color",colorRed:"text-color",colorYellow:"text-color",backgroundColorBlue:"text-background-color",backgroundColorRed:"text-background-color",backgroundColorYellow:"text-background-color",fontSizeSmall:"question-mark",fontSizeBig:"question-mark"},t.customMarkSpecs=[].concat(r(o.KNOWN_COLORS.map((function(e){return"color".concat((0,i.capitalize)(e))}))),r(o.KNOWN_COLORS.map((function(e){return"backgroundColor".concat((0,i.capitalize)(e))}))),r(o.KNOWN_FONT_SIZES.map((function(e){return"fontSize".concat((0,i.capitalize)(e))}))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasMarkInteractionPluginActions=void 0;var r=n(251),i=n(405);t.hasMarkInteractionPluginActions=function(e){return function(t){var n=r.focusStatePluginKey.getState(t),o=e.getState(t);return(0,i.isActive)(n,o)}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingToolbar=void 0;var r=n(0),i=n(711),o=n(3),a=n(1);n(712),t.FloatingToolbar=function(e){var t=(0,a.useRef)(null),n=(0,o.useDimensions)(t),s="vertical"===e.toolbarOrientation?"side":e.selectionInfo.bounds.top-e.viewPortDimensions.top<180||e.selectionInfo.range.to<e.selectionInfo.range.from?"below":"above",c=(0,a.useMemo)((function(){return n?(0,i.calculatePosition)(e.scrollInfo,e.selectionInfo,s,e.viewPortDimensions,n):null}),[e.scrollInfo,e.selectionInfo,s,e.viewPortDimensions,n]);return(0,r.jsx)("div",Object.assign({className:["FloatingToolbar",s&&"FloatingToolbar-location-".concat(s),(null===c||void 0===c?void 0:c.float)&&"FloatingToolbar-float-".concat(c.float)].join(" "),style:c?c.style:{}},{children:(0,r.jsx)("div",Object.assign({ref:t,className:"FloatingToolbar-wrapper"},{children:e.render()}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePosition=void 0;t.calculatePosition=function(e,t,n,r,i){var o,a,s=t.bounds.top+e.scrollTop-r.top,c=t.bounds.left+e.scrollLeft-r.left,u=t.editorBounds.left-r.left,d=r.right-(t.editorBounds.left+t.editorBounds.width),l=r.width-(null!==(o=i.width)&&void 0!==o?o:0)/2-10,p="side"===n?Math.max(40,s+t.bounds.height/2-i.height/2):"above"===n?s:s+t.bounds.height,f="side"===n?u<130?"right":"left":void 0,m="side"===n?"right"===f?{right:Math.max(10,d-60)}:{left:u-40}:{left:Math.min(l,Math.max((null!==(a=i.width)&&void 0!==a?a:0)/2+10,c+t.bounds.width/2))};return{style:Object.assign({top:p},m),float:f}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useProseMirrorMenuState=void 0;var i=n(1),o=n(3);t.useProseMirrorMenuState=function(e){var t=(0,i.useState)(null),n=r(t,2),a=n[0],s=n[1];return(0,o.useEventBusSubscription)(e,(0,i.useCallback)((function(e){switch(e.type){case"menuItemStateChange":return void s(e.message.content);case"resetMenuItemState":return void s(null)}}),[])),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSnippetReferenceMarkEvent=void 0;var r=n(1),i=n(114);t.useSnippetReferenceMarkEvent=function(e,t){var n=function(e){var t,n=null===e||void 0===e?void 0:e[i.candidateSnippetReferenceMarkMenuFormId];return!0!==(null===n||void 0===n?void 0:n.isActive)||"marked-candidate"!==(null===(t=null===n||void 0===n?void 0:n.metadata)||void 0===t?void 0:t.type)?{snippetReferenceId:null,isActive:!1}:{snippetReferenceId:n.metadata.attrs.snippetReferenceId,isActive:!0}}(e),o=n.snippetReferenceId,a=n.isActive;(0,r.useEffect)((function(){a?o&&t.emit({type:"snippetReference",action:{type:"preview",action:{type:"show",snippetId:o}}}):t.emit({type:"snippetReference",action:{type:"preview",action:{type:"hide"}}})}),[o,a])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateSnippetReferenceMenuItem=void 0;var r=n(0),i=n(9),o=n(252),a=n(254),s=n(249),c=n(250);t.CreateSnippetReferenceMenuItem=function(e){return(0,r.jsx)("div",Object.assign({className:"ToolbarItemGroup",onClick:function(){e.toolbarEventBus.emit({type:"dispatch",cb:function(e,t){return(0,o.startMarkInteraction)(e,t,a.snippetReferenceMarkPluginKey)}}),e.toolbarEventBus.emit({type:"snippetReference",action:{type:"requestCreateModal",titleMode:"horizontal"===e.mode?"from-selected-text":"from-snippet"}})}},{children:(0,r.jsx)("div",Object.assign({onMouseDown:function(e){return e.preventDefault()},className:"ToolbarItemGroup-inner"},{children:(0,r.jsx)(i.Tooltip,Object.assign({renderContent:function(){return(0,r.jsxs)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:["Create",(0,r.jsx)("br",{},void 0),"Snippet",(0,r.jsx)("br",{},void 0),"Reference"]}),void 0)},anchorPositioning:"horizontal"===e.mode?"top-center":"left-center"},{children:(0,r.jsx)(c.ToolbarItem,{children:(0,r.jsx)(s.ToolbarIcon,{iconName:"visit-link"},void 0)},void 0)}),void 0)}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextWriter=void 0;var r=n(0),i=n(410),o=n(69),a=n(114).menuItems.map((function(e){return e.buildSpec(e.id,o.completeSchema)}));t.RichTextWriter=function(e){return(0,r.jsx)(i.ProseMirrorWriter,Object.assign({},e,{menuItemSpecs:a,schema:o.completeSchema}),void 0)}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.initEditorView=t.initState=void 0;var i=n(984),o=n(18),a=n(92),s=n(67),c=n(64),u=n(36),d=n(720),l=n(721),p=n(722),f=n(158),m=n(396),v=n(69),g=n(319);n(724),n(725),n(726),n(727);var b=n(728),h=n(400),j=n(730),y=n(97),O=n(731),x=(n(5),n(733)),S=n(735),w=n(403),I=n(254),E=n(251);var k=[],M=[m.handleMouseDown],D=function(e,t,n,r,i){return!!k.find((function(o){return!0===o(e,t,n,r,i)}))},_=function(e,t){return!!M.find((function(n){return!0===n(e,t)}))};function P(e){var t=e.docJson,n=e.schema,a=e.onEscape,p=e.onLeaveUpwards,j=[n.nodes.list_item,n.nodes.todo_item],x=[n.nodes.bullet_list,n.nodes.ordered_list,n.nodes.todo_list],S=(0,v.initDoc)(n,t),k=(0,i.exampleSetup)({schema:n,menuBar:!1,history:!1}),M=(0,s.history)(),D=[(0,g.buildCustomInputRules)(n),(0,d.buildKeyMap)(j,x),(0,b.makeReminderPluginKeymap)(),(0,O.makeHyperlinkPluginKeymap)(),(0,c.keymap)({"Mod-Enter":u.splitBlock}),(0,m.buildTodoListKeyMap)(n),(0,v.buildListItemKeyMap)(n),l.placeholderPlugin,f.HighlightPlugin,M].concat(r(k),[(0,v.buildEscapeKeyMap)(a),(0,v.buildUpArrowKeyMap)((function(e){e.selection.$cursor&&1===e.selection.$cursor.pos&&p&&p()})),(0,E.makeFocusStatePlugin)(),(0,h.makeReminderPlugin)(),(0,w.makeCurrentWordPlugin)()],r(n.marks.link?[(0,y.makeHyperlinkPlugin)(M.key,n)]:[]),[(0,I.makeSnippetReferenceMarkPlugin)(n)]);return o.EditorState.create({doc:S,plugins:D})}t.initState=P,t.initEditorView=function(e){var t=e.docJson,n=e.schema,r=e.editorElement,i=e.onDocChange,o=e.onStateChange,s=e.onKeyDown,c=e.onBlur,u=e.onFocus,d=e.onCursor,l=e.onEscape,f=e.onLeaveUpwards,m=e.onCopyToClipboard,g=P({docJson:t,schema:n,onEscape:l,onLeaveUpwards:f});o&&o(g);var b=new a.EditorView(r,{state:g,dispatchTransaction:function(e){var t=b.state.apply(e);if(b.updateState(t),o&&o(t),e.docChanged){var n=(0,v.docToJson)(t.doc);i&&i({docJson:n})}b.hasFocus()&&(null===d||void 0===d||d({from:t.selection.anchor,to:t.selection.head},b.coordsAtPos(t.selection.from),b.coordsAtPos(t.selection.to),b.dom.getBoundingClientRect(),t.selection.empty,"paragraph"===t.selection.$from.parent.type.name&&""===t.selection.$from.parent.textContent.trim(),0===t.selection.$from.parentOffset))},handleClickOn:D,handleDOMEvents:{blur:function(e){var t=(0,v.docToJson)(e.state.doc);c&&c({docJson:t})},focus:function(e){var t=(0,v.docToJson)(e.state.doc);u&&u({docJson:t},e.state),null===d||void 0===d||d({from:e.state.selection.from,to:e.state.selection.to},b.coordsAtPos(e.state.selection.from),b.coordsAtPos(e.state.selection.to),b.dom.getBoundingClientRect(),e.state.selection.empty,"paragraph"===e.state.selection.$from.parent.type.name&&""===e.state.selection.$from.parent.textContent.trim(),0===e.state.selection.$from.parentOffset)},mousedown:_},handleKeyDown:function(e,t){s&&s(t)},nodeViews:{resizableImage:function(e,t,n){return new p.ImageView(e,t,n)},code_block:function(e,t,n){return new x.CodeBlockView(e,t,n,m)},paragraph:function(e,t,n){return new S.CustomParagraphView(e,t,n)},reminder:function(e,t,n){return new j.ReminderNodeView(e,t,n)}}});return b}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(15),o=n(77),a=n(64),s=n(31),c=function(e,t){return void 0===e&&(e=[]),e.some((function(e){return e===t}))},u=function(e,t,n,r,a,u){var d=r.index(r.depth-2),l=r.node(r.depth-2);if(t){if(0===d){var p=r,f=r.blockRange(p,(function(e){return e.childCount&&c(a,e.firstChild.type)})),m=f.end,v=f.$to.end(f.depth);m<v&&(n.step(new s.ReplaceAroundStep(m-1,v,m,v,new i.Slice(i.Fragment.from(a[0].create(null,f.parent.copy())),1,0),1,!0)),f=new i.NodeRange(n.doc.resolve(f.$from.pos),n.doc.resolve(v),f.depth));var g=s.liftTarget(f);return!!g&&(t(n=(n=(n=(n=n.lift(f,g)).join(n.mapping.map(r.pos-2))).join(n.mapping.map(r.pos-2))).scrollIntoView()),!0)}var b=l.child(d-1);return c(u,b.lastChild.type)?(o.sinkListItem(l.child(d).type)(e,t),!0):(t(n=(n=n.join(r.pos-2)).join(n.mapping.map(r.pos-2))),!0)}return!1};function d(e,t){return function(n,r){var i=n.selection.$cursor;if(!i)return!1;var o=0===i.parentOffset,a=c(e,i.node(-1).type),s=0===i.index(-1);if(!o||!a||!s)return!1;var d=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}(i);return!!d&&((!c(t,d.nodeBefore.type)||d.parent===i.node(-1))&&u(n,r,n.tr,i,e,t))}}function l(e,t){return function(n,i){var o=n.selection.$cursor;if(!o)return!1;var a=o.parentOffset===o.parent.nodeSize-2,s=c(e,o.node(-1).type);if(!a||!s)return!1;var d=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}(o);if(!d)return!1;var l=c(e,d.nodeAfter.type),p=c(t,d.nodeAfter.type);if(!l&&(!p||d.parent!==o.node(-1)))return!1;var f=p?3:2,m=n.doc.resolve(d.pos+f),v=n.tr;return v=v.setSelection(r.Selection.near(m)),n=n.apply(v),u(n,i,v,m,e,t)}}t.buildKeyMap=function(e,t){var n=d(e,t),r=l(e,t);return a.keymap({Backspace:n,Delete:r})},t.eagerJoinBackward=d,t.eagerJoinForward=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildImageUploadMenuItem=t.placeholderPlugin=void 0;var r=n(44),i=n(18),o=n(92);function a(e,n,r,i){var o=function(e,n){var r=t.placeholderPlugin.getState(e).find(null,null,(function(e){return e.id===n}));return r.length?r[0].from:null}(e.state,i);null!=o&&e.dispatch(e.state.tr.replaceWith(o,o,n.create({src:r})).setMeta(t.placeholderPlugin,{remove:{id:i}}))}t.placeholderPlugin=new i.Plugin({state:{init:function(){return o.DecorationSet.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(n&&n.add){var r=document.createElement("span");r.classList.add("ProseMirrorWriter-image-upload-placeholder");var i=o.Decoration.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[i])}else n&&n.remove&&(t=t.remove(t.find(null,null,(function(e){return e.id===n.remove.id}))));return t}},props:{decorations:function(e){return this.getState(e)}}}),t.buildImageUploadMenuItem=function(e,n,i){return new r.MenuItem({icon:e,run:function(e,r,o){var s=document.createElement("input");s.setAttribute("type","file"),s.onchange=function(e){var r=function(e){var n={},r=e.state.tr;return r.selection.empty||r.deleteSelection(),r.setMeta(t.placeholderPlugin,{add:{id:n,pos:r.selection.from}}),e.dispatch(r),n}(o);new i(e.target.files[0]).then((function(e){var t=document.createElement("img");t.onload=function(){a(o,n,e,r)},t.src=e}))},s.click()}})}},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageView=void 0;var o=function(){function e(t,n,i){r(this,e);var o=document.createElement("span");o.style.position="relative",o.style.width=t.attrs.width,o.style.display="inline-block",o.style.lineHeight="0";var a=document.createElement("img");a.setAttribute("src",t.attrs.src),a.style.width="100%";var s=document.createElement("span");s.style.position="absolute",s.style.bottom="-5px",s.style.right="-5px",s.style.width="10px",s.style.height="10px",s.style.border="3px solid black",s.style.borderTop="none",s.style.borderLeft="none",s.style.display="none",s.style.cursor="nwse-resize",s.onmousedown=function(e){e.preventDefault();var r=e.pageX,a=parseFloat(getComputedStyle(o).fontSize),s=parseFloat(t.attrs.width.match(/(.+)em/)[1]),c=function(e){var t=(e.pageX-r)/a;o.style.width="".concat(s+t,"em")};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function e(r){r.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e);var a=n.state.tr.setNodeMarkup(i(),null,{src:t.attrs.src,width:o.style.width}).setSelection(n.state.selection);n.dispatch(a)}))},o.appendChild(s),o.appendChild(a),this.dom=o,this.img=a,this.handle=s}return i(e,[{key:"selectNode",value:function(){this.img.classList.add("ProseMirror-selectednode"),this.handle.style.display=""}},{key:"deselectNode",value:function(){this.img.classList.remove("ProseMirror-selectednode"),this.handle.style.display="none"}}]),e}();t.ImageView=o},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPluginKeymap=void 0;var r=n(64),i=n(398),o=n(729);t.makeReminderPluginKeymap=function(){return(0,r.keymap)({"Mod-Enter":i.insertReminderCommand,"Shift-Backspace":o.removeReminder,Backspace:o.removeReminder})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeReminder=void 0,t.removeReminder=function(e,t){return!!e.selection.$cursor&&(!(!e.selection.$cursor.nodeBefore||"reminder"!==e.selection.$cursor.nodeBefore.type.name)&&(t&&t(e.tr.insertText(e.selection.$cursor.nodeBefore.attrs.expression,e.selection.$cursor.pos-1,e.selection.$cursor.pos)),!0))}},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ReminderNodeView=void 0;var o=n(47),a=n(411),s=n(412),c=(0,s.makeTemplates)(),u=function(){function e(t,n,i){var o=this;r(this,e),this.timeout=0,this.interval=0,this.previousTimestamp=null,this.node=t;var a=c.parent.cloneNode(!0).querySelector("[template-part-id=outer]");this.dom=a,a.setAttribute("date","".concat(t.attrs.date)),a.setAttribute("createdAt","".concat(t.attrs.createdAt)),a.setAttribute("expression","".concat(t.attrs.expression)),t.attrs.repeatDescription&&a.setAttribute("repeatDescription",JSON.stringify(t.attrs.repeatDescription)),this.renderReminder(),this.interval=setInterval((function(){var e=Date.now();null!==o.previousTimestamp&&5500<e-o.previousTimestamp&&o.renderReminder(),o.previousTimestamp=e}),5e3)}return i(e,[{key:"renderDom",value:function(e){this.dom.innerHTML=e}},{key:"renderRepeatedReminder",value:function(e){var t=(0,a.getRepeatedReminderDate)(this.node.attrs.date,e),n=c.repeatIcon.cloneNode(!0).querySelector(".Icon-wrapper");this.renderDom("".concat(n.outerHTML," ").concat((0,o.renderDate)(t))),this.setTimeoutToRefreshView(t)}},{key:"renderSingleReminder",value:function(){var e=(0,a.getSingleReminderDate)(this.node.attrs.date);this.renderDom((0,o.renderDate)(e)),this.setTimeoutToRefreshView(e)}},{key:"renderReminder",value:function(){this.node.attrs.repeatDescription?this.renderRepeatedReminder(this.node.attrs.repeatDescription):this.renderSingleReminder()}},{key:"setTimeoutToRefreshView",value:function(e){var t=this,n=Math.abs(e-Date.now()),r=n<o.timeUnitToMilliseconds.minute?Math.min(n,5*o.timeUnitToMilliseconds.second):n<2*o.timeUnitToMilliseconds.minute?30*o.timeUnitToMilliseconds.second:o.timeUnitToMilliseconds.minute;this.setSafeTimeout((function(){return t.renderReminder()}),r)}},{key:"setSafeTimeout",value:function(e,t){clearTimeout(this.timeout),this.timeout=setTimeout(e,Math.min(t,2147483647))}},{key:"destroy",value:function(){clearTimeout(this.timeout),clearInterval(this.interval)}}]),e}();t.ReminderNodeView=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeHyperlinkPluginKeymap=void 0;var r=n(64),i=n(732);t.makeHyperlinkPluginKeymap=function(){return(0,r.keymap)({"Mod-Enter":i.insertHyperlinkCommand})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertHyperlinkCommand=void 0;var r=n(253),i=n(97);t.insertHyperlinkCommand=function(e,t){return"new-candidate"===i.hyperlinkPluginKey.getState(e).type&&(t&&(0,r.insertNewCandidate)(e,t),!0)}},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeBlockView=void 0,n(734);var o=(0,n(413).makeTemplates)(),a=function(){function e(t,n,i,a){r(this,e);var s=o.parent.cloneNode(!0),c=o.iconClicked.cloneNode(!0),u=o.iconReady.cloneNode(!0),d=s.querySelector("[template-part-id=outer]"),l=s.querySelector("[template-part-id=inner]"),p=s.querySelector("[template-part-id=handle]");p.setAttribute("contenteditable",!1),this.dom=d,this.contentDOM=l,this.handle=p,p.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),a(n.state.doc.nodeAt(i()).textContent),p.innerHTML="",p.appendChild(c),setTimeout((function(){p.innerHTML="",p.appendChild(u)}),1e3)}))}return i(e,[{key:"ignoreMutation",value:function(e){return e.target===this.handle}}]),e}();t.CodeBlockView=a},function(e,t,n){},function(e,t,n){"use strict";var r=n(80).default,i=n(81).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomParagraphView=void 0;var o=n(414),a=n(247),s=(0,o.makeTemplates)(),c=r((function e(t,n,r){if(i(this,e),"box"===t.attrs.type){var c=s.parent.cloneNode(!0),u=c.querySelector("[template-part-id=outer]"),d=c.querySelector("[template-part-id=inner]"),l=c.querySelector(".Icon-wrapper i.bi");l.setAttribute("contenteditable",!1),(0,a.extractClasses)(t).forEach((function(e){return u.classList.add(e)})),l.className="",l.classList.add("bi"),l.classList.add("bi-".concat(o.iconNames[t.attrs.backgroundColor])),this.dom=u,this.contentDOM=d}}));t.CustomParagraphView=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightOccurences=void 0;var r=n(158);t.highlightOccurences=function(e,t,n){var i=n%t.length,o=t.map((function(e,t){return{occurence:e,class:0<=n&&t===i?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"}}));(0,r.highlight)(e,o)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MobileToolbar=void 0;var i=n(0),o=n(313),a=n(248),s=n(114),c=n(397),u=n(406),d=n(409),l=n(408),p=n(3),f=n(407),m=n(738),v=r((0,a.pick)([s.reminderMenuFormId,s.candidateHyperlinkMenuFormId,s.candidateSnippetReferenceMarkMenuFormId],s.menuItems),3),g=v[0],b=v[1],h=v[2],j=(0,a.pick)(["undo","redo"],s.menuItems),y=(0,a.pick)(["bold","italic","code","lineThrough","underline"],s.menuItems),O=(0,a.pick)(["wrapBulletList","wrapOrderedList","wrapTodoList","liftItem","sinkItem","joinUp"],s.menuItems),x=(0,a.pick)(["colorBlue","colorRed","colorYellow","backgroundColorBlue","backgroundColorRed","backgroundColorYellow"],s.menuItems),S=(0,a.pick)(["undo","redo"],s.menuItems),w=(0,a.pick)(["heading1","heading2","heading3"],s.menuItems),I=(0,a.pick)(["wrapBulletList","wrapOrderedList","wrapTodoList","liftItem","sinkItem","joinUp"],s.menuItems),E=(0,a.pick)(["codeBlock","quote","stickyBlue","stickyRed","stickyYellow","boxBlue","boxRed","boxYellow"],s.menuItems),k=(0,a.pick)(["textAlignmentCenter","textAlignmentRight","itemAlignmentCenter"],s.menuItems);t.MobileToolbar=function(e){var t,n,r=(0,d.useToolbarDisplayState)(e.toolbarEventBus,e.selectionInfoEventBus,e.hasFocus,e.scrollInfo,e.viewPortDimensions);if((0,p.useStateChangeEffect)("active"===r.type,{trigger:"change",run:function(t,n){return n?e.onOpen():e.onClose()}}),"inactive"===r.type)return null;var a=r.menuState,s=function(t){var n=null===a||void 0===a?void 0:a[t.id];return n?t.render(t.id,a,n,e.toolbarEventBus,e.requestEditorFocusEventBus):null};switch(null===(t=r.specialRender)||void 0===t?void 0:t.type){case"quick-set-reminder":return(0,i.jsx)(o.Toolbar,{children:s(g)},void 0);case"hyperlink-candidate":return(0,i.jsx)(o.Toolbar,{children:s(b)},void 0);case"hyperlink-on-demand":return(0,i.jsx)(o.Toolbar,{children:(0,i.jsx)(l.OnDemandHyperlinkMenuForm,{toolbarEventBus:e.toolbarEventBus,requestEditorFocusEventBus:e.requestEditorFocusEventBus},void 0)},void 0);case"snippet-reference-mark":var v=null===a||void 0===a?void 0:a[h.id];return"marked-candidate"!==(null===(n=null===v||void 0===v?void 0:v.metadata)||void 0===n?void 0:n.type)?null:(0,i.jsx)(m.SnippetReferenceMenuForm,{toolbarEventBus:e.toolbarEventBus,snippetId:v.metadata.attrs.snippetReferenceId},void 0)}switch(r.toolbarOrientation){case"vertical":return(0,i.jsxs)(o.Toolbar,{children:[(0,i.jsx)(c.ToolbarItemGroup,{children:S.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:w.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:I.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:E.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:k.map(s)},void 0),(0,i.jsx)(u.RequestReminderEditorToolbarItem,{toolbarEventBus:e.toolbarEventBus},void 0)]},void 0);case"horizontal":return(0,i.jsxs)(o.Toolbar,{children:[(0,i.jsx)(c.ToolbarItemGroup,{children:j.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:y.map(s)},void 0),(0,i.jsx)(f.OnDemandHyperlinkMenuItem,{toolbarEventBus:e.toolbarEventBus},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:O.map(s)},void 0),(0,i.jsx)(c.ToolbarItemGroup,{children:x.map(s)},void 0)]},void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetReferenceMenuForm=void 0;var r=n(0),i=n(9);t.SnippetReferenceMenuForm=function(e){return(0,r.jsx)("div",Object.assign({className:"CommonUI-menu-form"},{children:(0,r.jsx)("button",Object.assign({className:"CommonUI-button CommonUI-menu-form-icon-button",onClick:function(){return e.toolbarEventBus.emit({type:"snippetReference",action:{type:"navigate",snippetId:e.snippetId}})},onMouseDown:function(e){return e.preventDefault()}},{children:(0,r.jsx)(i.Icon,{iconName:"visit-link"},void 0)}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchResults=void 0;var r=n(310),i=n(321),o=n(69);function a(e,t){return t.node.isText?function(e,t){var n=t.node.text;return n?(0,r.searchInText)(e,n,t.from):[]}(e,t):t.children.map((function(t){return a(e,t)})).flat()}t.getSearchResults=function(e,t){var n=(0,o.initDoc)(o.completeSchema,t.snippet.content),r=(0,i.getNodeWithContext)(n,null,0,0,0),s=function(e,t){return t.children.map((function(t){return{rootNode:t,searchResultDetails:a(e,t)}})).filter((function(e){return e.searchResultDetails.length>0}))}(e,r);return 0===s.length?[]:[{snippetId:t.metaData.id,metadata:{doc:r,results:s}}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSearchResult=void 0;var r=n(0),i=n(1),o=n(255),a=(0,r.jsx)("div",{className:"CommonUI-zig-zag CommonUI-zig-zag-spacing"},void 0);function s(e){return e.metadata.results.reduce((function(t,n,s){var c,u=0===s&&0!==n.rootNode.index,d=0!==s&&1<n.rootNode.index-t.previousIndex||u&&1!==n.rootNode.index,l=0===n.rootNode.index&&1===e.metadata.results.length,p=u?(0,o.renderNode)(e.metadata.doc.children[0],{decorations:[]}):null,f=d?a:null,m=l?function(e){var t=e.children.findIndex((function(e,t){return 0!==t&&""!==e.node.textContent.trim()}));return-1===t?null:(0,r.jsx)(i.Fragment,{children:(0,o.renderNode)(e.children[t],{decorations:[],trimOptions:{byLength:!0}})},void 0)}(e.metadata.doc):null;return{previousIndex:n.rootNode.index,fragment:(0,r.jsxs)(i.Fragment,{children:[t.fragment,p,f,(c=n,(0,o.renderNode)(c.rootNode,{decorations:c.searchResultDetails.map((function(e){return{from:e.from,to:e.to,class:"HighlightPlugin-highlighted"}})),trimOptions:{byDecorations:!0}})),m]},void 0)}}),{previousIndex:0,fragment:(0,r.jsx)(i.Fragment,{},void 0)}).fragment}t.renderSearchResult=function(e,t){return(0,r.jsx)("div",Object.assign({className:"SnippetEditor-richtext-mode ProseMirror"},{children:s(t)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderBulletList=void 0;var r=n(0),i=n(90);t.renderBulletList=function(e,t){return(0,r.jsx)("ul",{children:(0,i.renderNodes)(e.children,t)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorationTouchesNode=void 0,t.decorationTouchesNode=function(e,t){return t.from<=e.from&&e.from<=t.to||t.from<=e.to&&e.to<=t.to}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.wrapInMark=void 0;var i=n(0),o=n(5),a=n(9),s=n(312),c=n(315);function u(e){var t,n,s=(0,c.useClipboardIndicatorAnimationSteps)(),u=r(s,2),d=u[0],l=u[1];return(null===(n=null===(t=e.renderProps.markOptions)||void 0===t?void 0:t.hyperlinkOptions)||void 0===n?void 0:n.renderToolbar)?(0,i.jsxs)("span",Object.assign({className:"RichTextMarks-hyperlink-mark-outer ProseMirror-faked-link CommonUI-delayed-hover-item-container"},{children:[(0,i.jsx)("span",Object.assign({className:"RichTextMarks-hyperlink-mark-toolbar-outer CommonUI-delayed-hover-item-wrapper"},{children:(0,i.jsxs)("span",Object.assign({className:"RichTextMarks-hyperlink-mark-toolbar-inner"},{children:[(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:"Open in browser"}),void 0)}},{children:(0,i.jsx)("div",Object.assign({onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(){(0,o.openLinkProgrammatically)(e.textContent)}},{children:(0,i.jsx)(a.Icon,{iconName:"visit-link"},void 0)}),void 0)}),void 0),(0,i.jsx)(a.Tooltip,Object.assign({renderContent:function(){return(0,i.jsx)("div",Object.assign({className:"CommonUI-tooltip-content"},{children:d.active?"Copied":"Copy to clipboard"}),void 0)}},{children:(0,i.jsx)("div",Object.assign({className:"RichTextMarks-hyperlink-mark-clipboard-icon-wrapper",onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(){var t;null===(t=e.renderProps.toolbarEventBus)||void 0===t||t.emit({type:"copyToClipboard",text:e.textContent}),l({type:"start"})}},{children:d.active?(0,i.jsx)(a.Icon,{iconName:"clipboard-success"},void 0):(0,i.jsx)(a.Icon,{iconName:"clipboard"},void 0)}),void 0)}),void 0)]}),void 0)}),void 0),e.children]}),void 0):(0,i.jsx)("span",Object.assign({className:"ProseMirror-faked-link"},{children:e.children}),void 0)}n(744),t.wrapInMark=function(e,t,n,r){var o=function(e,t){var n=s.nameToTagMapping[e.type.name];if(!n)return null;var r=n;return(0,i.jsx)(r,{children:t},void 0)}(e,n);if(o)return o;switch(e.type.name){case"strong":return function(e){return(0,i.jsx)("strong",{children:e},void 0)}(n);case"em":return function(e){return(0,i.jsx)("em",{children:e},void 0)}(n);case"code":return function(e){return(0,i.jsx)("code",{children:e},void 0)}(n);case"lineThrough":return function(e){return(0,i.jsx)("s",{children:e},void 0)}(n);case"underline":return function(e){return(0,i.jsx)("u",{children:e},void 0)}(n);case"link":return function(e,t,n){return(0,i.jsx)(u,{children:e,textContent:t,renderProps:n},void 0)}(n,t,r);case"snippetReference":return n;default:return console.log("unknown mark",e.type.name),n}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderCodeBlock=void 0;var r=n(0),i=n(413),o=n(90);t.renderCodeBlock=function(e,t){return(0,r.jsx)(i.Parent,Object.assign({toolbarEventBus:t.toolbarEventBus,textContent:e.node.textContent},{children:(0,o.renderNodes)(e.children,t)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDoc=void 0;var r=n(0),i=n(90);t.renderDoc=function(e,t){return(0,r.jsx)("div",{children:(0,i.renderNodes)(e.children,t)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderHardBreak=void 0;var r=n(0),i=n(1);t.renderHardBreak=function(e,t){var n=e.parent&&e.index===e.parent.children.length-1;return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("br",{},void 0),n&&(0,r.jsx)("br",{className:"ProseMirror-trailingBreak"},void 0)]},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderHeading=void 0;var r=n(0),i=n(90);t.renderHeading=function(e,t){var n="h".concat(e.node.attrs.level);return(0,r.jsx)(n,{children:(0,i.renderNodes)(e.children,t)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderListItem=void 0;var r=n(0),i=n(90);t.renderListItem=function(e,t){return(0,r.jsx)("li",{children:(0,i.renderNodes)(e.children,t)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderOrderedList=void 0;var r=n(0),i=n(90);t.renderOrderedList=function(e,t){return(0,r.jsx)("ol",{children:(0,i.renderNodes)(e.children,t)},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderParagraph=void 0;var r=n(0),i=n(1),o=n(247),a=n(414),s=n(90);function c(e){var t=(0,i.useMemo)((function(){return(0,o.extractClasses)(e.node.node)}),[e.node.node]);return"box"===e.node.node.attrs.type?(0,r.jsx)(a.Parent,Object.assign({outerClasses:t,iconName:a.iconNames[e.node.node.attrs.backgroundColor]},{children:(0,s.renderNodes)(e.node.children,e.renderProps)}),void 0):(0,r.jsx)("p",Object.assign({className:t.join(" ")},{children:(0,s.renderNodes)(e.node.children,e.renderProps)}),void 0)}t.renderParagraph=function(e,t){return(0,r.jsx)(c,{node:e,renderProps:t},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderReminder=void 0;var r=n(0),i=n(47),o=n(411),a=n(412);t.renderReminder=function(e,t){var n=e.node.attrs.repeatDescription,s=n?(0,o.getRepeatedReminderDate)(e.node.attrs.date,n):(0,o.getSingleReminderDate)(e.node.attrs.date);return(0,r.jsxs)(a.Parent,{children:[n?(0,r.jsx)(a.RepeatIcon,{},void 0):null,(0,i.renderDate)(s)]},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTodoItem=void 0;var r=n(0),i=n(90);t.renderTodoItem=function(e,t){var n={"data-done":"".concat(e.node.attrs.done),"data-type":"todo_item"};return(0,r.jsxs)("li",Object.assign({},n,{children:[(0,r.jsx)("span",{className:"bi bi-check-circle-fill ProseMirror-todo-list-item-checkbox"},void 0),(0,r.jsx)("span",{className:"bi bi-circle ProseMirror-todo-list-item-checkbox"},void 0),(0,r.jsx)("div",Object.assign({className:"ProseMirror-todo-list-item-content"},{children:(0,i.renderNodes)(e.children,t)}),void 0)]}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTodoList=void 0;var r=n(0),i=n(90);t.renderTodoList=function(e,t){return(0,r.jsx)("ul",Object.assign({},{"data-type":"todo_list"},{children:(0,i.renderNodes)(e.children,t)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderQuickAccessSearchResult=void 0;var r=n(0),i=n(1),o=n(255);function a(e){return e.metadata.results.reduce((function(e,t){return{previousIndex:t.node.index,fragment:(0,r.jsxs)(i.Fragment,{children:[e.fragment,(n=t,(0,o.renderNode)(n.node,{decorations:n.searchResultDetails.map((function(e){return{from:e.from,to:e.to,class:"HighlightPlugin-highlighted"}})),trimOptions:{byDecorations:!0}}))]},void 0)};var n}),{previousIndex:0,fragment:(0,r.jsx)(i.Fragment,{},void 0)}).fragment}t.renderQuickAccessSearchResult=function(e,t){return(0,r.jsx)("div",Object.assign({className:"SnippetEditor-richtext-mode ProseMirror"},{children:a(t)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuickAccessSearchResults=void 0;var r=n(310),i=n(321),o=n(69);function a(e,t){var n=t.node.text;return n?(0,r.searchInText)(e,n,t.from):[]}function s(e,t){if(t.node.isText){if(!(void 0!==t.node.marks.find((function(e){return"link"===e.type.name}))))return[];var n=a(e,t);return n.length>0?[{node:t,searchResultDetails:n}]:[]}if("code_block"===t.node.type.name){var r=t.children.map((function(t){return a(e,t)})).flat();return r.length>0?[{node:t,searchResultDetails:r}]:[]}return t.children.map((function(t){return s(e,t)})).flat()}function c(e,t){return t.children.map((function(t){return s(e,t)})).flat()}t.getQuickAccessSearchResults=function(e,t){var n=(0,o.initDoc)(o.completeSchema,t.snippet.content),r=(0,i.getNodeWithContext)(n,null,0,0,0);return c(e,r).map((function(e){var n;return{snippetId:t.metaData.id,metadata:{doc:r,results:[e]},text:null!==(n=e.node.node.textContent)&&void 0!==n?n:""}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderPreview=void 0;var r=n(0),i=n(321),o=n(69),a=n(255);t.renderPreview=function(e,t){var n=(0,o.initDoc)(o.completeSchema,e.snippet.content),s=(0,i.getNodeWithContext)(n,null,0,0,0);return(0,r.jsx)("div",Object.assign({className:"SnippetEditor-richtext-mode ProseMirror"},{children:(0,a.renderNode)(s,{toolbarEventBus:t,decorations:[],markOptions:{hyperlinkOptions:{renderToolbar:!0}}})}),void 0)}},function(e,t,n){"use strict";var r=n(24).default;function i(e,t){if(e.marks){var n=e.marks.find((function(e){return"snippetReference"===e.type}));if(n){var o=n.attrs,a=t(o.snippetReferenceId);if(a!==o.snippetReferenceId){var s=Object.assign(Object.assign({},o),{snippetReferenceId:a});return Object.assign(Object.assign({},e),{marks:e.marks.map((function(e){return e===n?Object.assign(Object.assign({},e),{attrs:s}):e}))})}}}if(!e.content)return e;var c=e.content.reduce((function(e,n){var o=i(n,t);return{content:[].concat(r(e.content),[o]),hasChanges:o!==n||e.hasChanges}}),{hasChanges:!1,content:new Array});return c.hasChanges?Object.assign(Object.assign({},e),{content:c.content}):e}Object.defineProperty(t,"__esModule",{value:!0}),t.updateSnippetReferences=void 0,t.updateSnippetReferences=function(e,t){return i(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListPlugin=void 0;var r=n(0),i=n(69),o=n(124),a=n(760),s=n(246),c=n(318),u=n(419),d="todo";t.TodoListPlugin={name:"TodoList Plugin",language:d,iconName:"todo-list-snippet",editorClass:function(){return"SnippetEditor-todo-mode"},snippetListClass:function(){return"SnippetList-entry-type-todo"},testExtension:function(e){return"todo"===e?d:null},testLanguage:function(e){return e===d},toPlaintext:function(e){return(0,i.getTextFromDoc)((0,i.initDoc)(o.schema,e))},fromPlaintext:function(e){return(0,i.docJsonFromString)(o.schema,e)},produceFileMetaData:function(e){return(0,c.produceFileMetaData)(e.id,e.document.name,(0,i.initDoc)(o.schema,e.document.content),d)},updateSnippetReferences:function(e){return e},writer:a.TodoListWriter,toolbar:null,mobileToolbar:null,listEntry:function(e){return(0,r.jsx)(s.DefaultListEntry,Object.assign({},e,{children:(0,r.jsx)("div",{children:e.snippetListEntry.metaData.trimmedBody},void 0)}),void 0)},createSnippetConfig:{viaInput:null,viaButton:{label:"Todos",bootstrap:function(){return(0,u.makeDocJsonFromTodos)([{text:""}])}}},getSearchResults:function(){return[]},renderSearchResult:function(){return null},renderPreview:function(){return null},getQuickAccessSearchResults:function(){return[]},renderQuickAccessSearchResult:function(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListWriter=void 0;var r=n(0),i=n(1),o=n(309),a=n(761);t.TodoListWriter=function(e){var t=(0,i.useRef)(null);return(0,o.useFocusRequest)(e.lastActiveSnippetIdEventBus,e.requestEditorFocus,e.id,(0,i.useCallback)((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.setFocus()}),[])),(0,r.jsx)("div",Object.assign({className:"TodoList-wrapper"},{children:(0,r.jsx)(a.TodoList,Object.assign({ref:t},e,{onCursor:void 0,isEditing:!0}),void 0)}),void 0)}},function(e,t,n){"use strict";var r=n(63).default,i=n(322).default,o=n(81).default,a=n(80).default,s=n(256).default,c=n(257).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TodoList=void 0;var u=n(0),d=n(1);n(766);var l=n(767),p=n(768),f=n(771),m=n(158),v=n(773),g=(n(69),n(418)),b=n(415),h=n(124),j=n(774),y=n(9),O=j.menuItems.map((function(e){return e.buildSpec(e.id,h.schema)}));var x=["done"],S=function(e){return x.includes(e)};function w(e){return e.proseMirrorState.doc.toJSON()}var I=function(e){s(n,e);var t=c(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,u.jsx)("span",Object.assign({className:"TodoList-clear-button",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown},{children:(0,u.jsx)(y.Icon,{iconName:"clear-cross"},void 0)}),void 0)}}]),n}(d.Component),E=function(e){s(n,e);var t=c(n);function n(e){var r;o(this,n),r=t.call(this,e);var a=Array.isArray(e.content)?(0,v.makeProseMirrorStateFromTodos)(e.content):(0,v.makeProseMirrorStateFromSerializedDocJson)(e.content),s=a.proseMirrorState;r.historyPluginKey=a.historyPluginKey,r.state={proseMirrorState:s,currentlyEditedTodo:r.props.currentlyEditedTodo,cursorPosition:r.props.cursorPosition||0,timestamp:Date.now(),hiddenStates:{pinned:!1,open:!1,done:!1}},r.onBlur=r.onBlur.bind(i(r)),r.onDrag=r.onDrag.bind(i(r)),r.onSpacerClick=r.onSpacerClick.bind(i(r)),r.onInsertEmpty=r.onInsertEmpty.bind(i(r)),r.inputRefs=[],r.historyPlugin=(0,v.buildCustomHistoryPlugin)(i(r)),r.dispatch=r.dispatch.bind(i(r));r.subscriptions=[];var c=r.props.toolbarEvents&&r.props.toolbarEvents.subscribeForMenuItemRun((function(e){if(r.state.currentlyEditedTodo){var t=O.find((function(t){return t.id===e}));null===t||void 0===t||t.run(r.state.proseMirrorState,r.dispatch)}}));return c&&r.subscriptions.push(c),r.menuItemIterator=(0,b.buildMenuItemIterator)((function(e){return r.props.toolbarEvents&&r.props.toolbarEvents.publishMenuItemStateChange(e)}),O),r.menuItemIterator(s),r}return a(n,[{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(e){this.props.isEditing&&!e.isEditing&&this.getInput(0).focus()}},{key:"cursor",value:function(){var e=this.getInput(this.state.currentlyEditedTodo);if(e){var t=e.getDimensions(),n=t.y+t.height;this.props.onCursor&&this.props.onCursor(n)}}},{key:"change",value:function(){this.props.onChange(w(this.state))}},{key:"blur",value:function(){this.props.onBlur(w(this.state)),this.setState({currentlyEditedTodo:null})}},{key:"suggestPersist",value:function(){this.props.onSuggestPersist&&this.props.onSuggestPersist(w(this.state))}},{key:"focus",value:function(){this.props.onFocus(w(this.state)),this.cursor()}},{key:"setFocus",value:function(){this.inputRefs[0].focus(0)}},{key:"getInput",value:function(e){return this.inputRefs[e]}},{key:"onCheck",value:function(e){var t=this;if(!this.props.isEditing)return!1;this.setState((function(t){var n=(0,g.handleCheck)(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newStatus,a=n.newIndex;return{currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:a,listName:o}},proseMirrorState:r}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))}},{key:"onDrag",value:function(e){var t=this,n=e.from,r=e.to,i=e.newList;this.setState((function(e){return{proseMirrorState:(0,g.handleDrag)(n,r,i,t.state.proseMirrorState).proseMirrorState,resetDragState:!0}}),(function(){t.suggestPersist(),t.setState({resetDragState:void 0})}))}},{key:"onDelete",value:function(e){var t=this;this.setState((function(t){var n=(0,g.handleDelete)(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newLength;return{proseMirrorState:r,currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:o,listName:"done"}}}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))}},{key:"onFocus",value:function(e,t,n){var r=this,i=this.state.proseMirrorState,o=(0,g.buildOffsetMap)(this.state.proseMirrorState,e),a=n.map(this.state.proseMirrorState.doc,o);if(!a.eq(this.state.proseMirrorState.selection)){var s=this.state.proseMirrorState.tr.setSelection(a);i=this.state.proseMirrorState.apply(s),this.menuItemIterator(i)}this.setState({proseMirrorState:i,currentlyEditedTodo:e,cursorPosition:null},(function(){return r.focus()}))}},{key:"onBlur",value:function(e){(function(e,t){return!!(e.target&&e.relatedTarget&&e.target.id&&e.relatedTarget.id&&e.target.id.startsWith(t)&&e.relatedTarget.id.startsWith(t))})({target:e.target&&e.target.parentNode,relatedTarget:e.relatedTarget&&e.relatedTarget.parentNode},"todoListEntry")||this.blur()}},{key:"onSpacerClick",value:function(e){x.includes(e)&&this.setState((function(t){return{hiddenStates:Object.assign(Object.assign({},t.hiddenStates),r({},e,!t.hiddenStates[e]))}}))}},{key:"onInsertEmpty",value:function(){this.apply((0,g.insertEmpty)(this.state.proseMirrorState))}},{key:"onEnter",value:function(){(0,g.handleEnter)(this.state.proseMirrorState,this.dispatch)}},{key:"onBackspace",value:function(){(0,g.handleBackspace)(this.state.proseMirrorState,this.dispatch)}},{key:"onToggleBold",value:function(){(0,g.handleToggleBold)(this.state.proseMirrorState,this.dispatch)}},{key:"onToggleItalic",value:function(){(0,g.handleToggleItalic)(this.state.proseMirrorState,this.dispatch)}},{key:"onInsertHardBreak",value:function(){(0,g.handleInsertHardBreak)(this.state.proseMirrorState,this.dispatch)}},{key:"onArrow",value:function(e,t){"up"===t&&e>0?this.inputRefs[e-1].focus(this.state.proseMirrorState.doc.content.content[e-1].nodeSize-2):"up"===t&&0===e?this.props.onLeaveUpwards&&this.props.onLeaveUpwards():"down"===t&&e<this.state.proseMirrorState.doc.content.content.length-1&&this.inputRefs[e+1].focus(0)}},{key:"apply",value:function(e){var t=this;this.setState((function(n){var r=n.proseMirrorState.apply(e);t.menuItemIterator(r);var i,o,a=r.selection.$cursor;if(a&&(i=a.index(-1),o=a.parentOffset,!e.getMeta(t.historyPluginKey)&&!e.getMeta("insertEmpty"))){var s=(0,g.maybeHandleItemInsertion)(n.proseMirrorState,r,i);s&&(r=r.apply(s))}return{proseMirrorState:r,currentlyEditedTodo:i,cursorPosition:o}}),(function(){e.docChanged&&t.change(),t.cursor()}))}},{key:"onInnerTransaction",value:function(e,t,n){if(1!==t.length||!(0,m.isHighlightPluginTransaction)(t[0])){var r=(0,g.buildOffsetMap)(this.state.proseMirrorState,e),i=(0,g.mapTransactions)(t,r,this.state.proseMirrorState.tr),o=n.map(i.doc,r);o.eq(this.state.proseMirrorState.selection)||(i=i.setSelection(o)),this.apply(i)}}},{key:"dispatch",value:function(e){this.apply(e)}},{key:"onChangeQuery",value:function(e,t){var n=this,r=[];if(this.inputRefs){for(var i=function(t){var i=n.inputRefs[t].findOccurences(e);r=r.concat(i.map((function(e,n){return{occurence:e,index:t}})))},o=0;o<this.inputRefs.length;o++)i(o);for(var a=t%r.length,s=r.reduce((function(e,t,n){return e[t.index]||(e[t.index]=[]),e[t.index].push({occurence:t.occurence,class:n===a?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"}),e}),{}),c=0;c<this.inputRefs.length;c++)this.inputRefs[c].highlightOccurences(s[c]||[]);var u=r[a],d=u&&this.inputRefs[u.index]&&this.inputRefs[u.index].coordsAtPos(u.occurence.start);return d&&{coordinates:d,numberOfOccurences:r.length}}}},{key:"render",value:function(){var e=this,t=this.state.proseMirrorState.doc.content.content,n=(0,g.getPinnedEntries)(t),r=(0,g.getOpenEntries)(t),i=(0,g.getDoneEntries)(t),o=[{name:"pinned",items:n,collapsible:S("pinned"),hidden:this.state.hiddenStates.pinned},{name:"open",items:r,collapsible:S("open"),hidden:this.state.hiddenStates.open},{name:"done",items:i,collapsible:S("done"),hidden:this.state.hiddenStates.done}],a=["TodoList"];return a.push(this.props.isEditing?"TodoList-editing":"TodoList-read-only"),(0,u.jsxs)("div",Object.assign({className:a.join(" "),onClick:this.props.onClick},{children:[(0,u.jsx)(f.InteractiveList,{subLists:o,renderItem:function(t,n,r,i){var o=["TodoList-entry"];o.push("TodoList-entry-".concat(r)),n===(null===i||void 0===i?void 0:i.originalIndex)&&o.push("TodoList-currently-dragged-todo");var a=function(t){return(0,u.jsx)(l.CheckBox,{index:t,onClick:e.onCheck.bind(e,t),disabled:!e.props.isEditing},void 0)}(n),s=function(t,n){var r=e.state.currentlyEditedTodo===n;return(0,u.jsx)(p.ProseMirrorField,{index:n,todo:t,onFocus:e.onFocus.bind(e,n),onEnter:e.onEnter.bind(e,n),onEscape:e.props.onEscape,onBackspace:e.onBackspace.bind(e,n),onToggleBold:e.onToggleBold.bind(e,n),onToggleItalic:e.onToggleItalic.bind(e,n),onInsertHardBreak:e.onInsertHardBreak.bind(e,n),onArrow:e.onArrow.bind(e,n),shouldFocus:r,onBlur:e.onBlur,cursorPosition:e.state.cursorPosition,ref:function(t){return e.inputRefs[n]=t},readonly:!e.props.isEditing,onInnerTransaction:e.onInnerTransaction.bind(e,n),historyPlugin:e.historyPlugin},void 0)}(t,n),c=function(t){return(0,u.jsx)(I,{onClick:e.onDelete.bind(e,t)},void 0)}(n),d=function(e,t){return(0,u.jsx)("span",Object.assign({className:t},{children:e}),void 0)};return(0,u.jsxs)("span",Object.assign({className:o.join(" ")},{children:[d(a,"TodoList-checkbox-left"),s,d(a,"TodoList-checkbox-right"),c]}),void 0)},doAnimation:this.state.doAnimation,resetDragState:this.state.resetDragState,onDrag:this.onDrag,onDragStart:this.props.onDragStart,onDragStop:this.props.onDragStop,onSpacerClick:this.onSpacerClick},void 0),!1]}),void 0)}}]),n}(d.Component);t.TodoList=E},,,,,function(e,t,n){},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default,o=n(256).default,a=n(257).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBox=void 0;var s=n(0),c=n(1),u=n(9),d=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){return(0,s.jsxs)("button",Object.assign({className:"TodoList-checkbox",onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},{children:[(0,s.jsx)("span",Object.assign({className:"TodoList-checkbox-open-indicator"},{children:(0,s.jsx)(u.Icon,{iconName:"todo-list-unchecked"},void 0)}),void 0),(0,s.jsx)("span",Object.assign({className:"TodoList-checkbox-done-indicator"},{children:(0,s.jsx)(u.Icon,{iconName:"todo-list-checked"},void 0)}),void 0)]}),void 0)}}]),n}(c.Component);t.CheckBox=d},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default,o=n(256).default,a=n(257).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorField=void 0;var s=n(0),c=n(1),u=n(92),d=n(18),l=n(64),p=n(769),f=n(158),m=n(418),v=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"componentDidUpdate",value:function(e){if(e.todo!==this.props.todo){var t=(0,m.buildDiffTr)(this.props.todo,this.editorView.state,this.editorView.state.tr);t&&this.editorView.dispatch(t)}}},{key:"componentDidMount",value:function(){var e=this,t=function(t){return e.editorView.state.selection.$cursor&&e.editorView.state.selection.$cursor.pos===t},n=this.props.todo,r=d.EditorState.create({doc:n,plugins:[(0,p.buildCustomInputRules)(),this.props.historyPlugin,(0,l.keymap)({Enter:function(){return e.props.onEnter&&e.props.onEnter()},Escape:function(){return e.props.onEscape&&e.props.onEscape()},Backspace:function(){return e.props.onBackspace&&e.props.onBackspace()},ArrowDown:function(){t(e.editorView.state.doc.nodeSize-2)&&e.props.onArrow&&e.props.onArrow("down")},ArrowUp:function(){t(0)&&e.props.onArrow&&e.props.onArrow("up")},"Mod-b":function(){return e.props.onToggleBold&&e.props.onToggleBold()},"Mod-i":function(){return e.props.onToggleItalic&&e.props.onToggleItalic()},"Mod-Enter":function(){return e.props.onInsertHardBreak&&e.props.onInsertHardBreak()}}),f.HighlightPlugin]});this.editorView=new u.EditorView(this.input,{state:r,dispatchTransaction:function(t){var n=e.editorView.state.applyTransaction(t),r=n.state,i=n.transactions;e.editorView.updateState(r),t.getMeta("fromOutside")||e.props.onInnerTransaction(i,r.selection)},handleDOMEvents:{blur:function(t,n){e.props.onBlur&&e.props.onBlur(n)},focus:function(t,n){e.props.onFocus&&e.props.onFocus(n,t.state.selection)}},handleKeyDown:function(e,t){if("Backspace"===t.key){var n=e.state.selection.$cursor;n&&0===n.parentOffset&&t.preventDefault()}}}),!this.props.readonly&&this.props.shouldFocus&&this.focus(this.props.cursorPosition)}},{key:"componentWillUnmount",value:function(){this.editorView.destroy()}},{key:"focus",value:function(e){var t=this;this.editorView.dispatch(this.editorView.state.tr.setSelection(d.Selection.near(this.editorView.state.doc.resolve(e)))),setTimeout((function(){t.editorView.focus()}))}},{key:"findOccurences",value:function(e){return(0,f.findOccurences)(this.editorView.state.doc,e)}},{key:"highlightOccurences",value:function(e){(0,f.highlight)(this.editorView,e)}},{key:"getDimensions",value:function(){return this.input.getBoundingClientRect()}},{key:"coordsAtPos",value:function(e){return this.editorView.coordsAtPos(e)}},{key:"render",value:function(){var e=this;return this.props.readonly?(0,s.jsx)("div",{className:"TodoList-entry-input-field",ref:function(t){return e.input=t},spellCheck:!1},void 0):(0,s.jsx)("div",{id:"todoListEntry-".concat(this.props.index),className:"TodoList-entry-input-field",ref:function(t){return e.input=t}},void 0)}}]),n}(c.Component);t.ProseMirrorField=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=void 0;var r=n(124),i=n(319);t.buildCustomInputRules=function(){return(0,i.buildCustomInputRules)(r.schema)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertHardBreak=t.toggleItalic=t.toggleBold=void 0;var r=n(36),i=n(124);t.toggleBold=(0,r.toggleMark)(i.schema.marks.strong),t.toggleItalic=(0,r.toggleMark)(i.schema.marks.em);t.insertHardBreak=function(e,t){return t(e.tr.replaceSelectionWith(i.schema.nodes.hard_break.create()).scrollIntoView()),!0}},function(e,t,n){"use strict";var r=n(81).default,i=n(80).default,o=n(322).default,a=n(256).default,s=n(257).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveList=void 0;var c=n(0),u=n(1),d=n(9),l=n(3);function p(e){return e.filter((function(e){return null!==e})).map((function(e){return e.getBoundingClientRect().height}))}function f(e){return e.collapsible}function m(e){return e.hidden}function v(e){return e.reduce((function(e,t){return e+t.items.length}),0)+e.length}function g(e,t){return function(t){for(var n=0,r=0,i=0,o=0;o<e.length;o++){if(m(e[o])||(n+=e[o].items.length),f(e[o])&&(i+=1),t<n+i)return t-i+r;m(e[o])&&(r+=e[o].items.length)}}}n(772);var b=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).state={dragState:null,subLists:e.subLists},i.entryRefs=[],i.onDragHandleMouseUp=i.onDragHandleMouseUp.bind(o(i)),i.onDragHandleTouchEnd=i.onDragHandleTouchEnd.bind(o(i)),i.onDragStart=i.onDragStart.bind(o(i)),i.onDragStop=i.onDragStop.bind(o(i)),i.onMouseMove=i.onMouseMove.bind(o(i)),i.onTouchMove=i.onTouchMove.bind(o(i)),i}return i(n,[{key:"componentDidUpdate",value:function(e){var t,n=this;if(!e.doAnimation&&this.props.doAnimation){var r=v(this.props.subLists)-v(e.subLists)===-1,i=(t=r?e.subLists:this.props.subLists,this.state,function(e){for(var n=e.index,r=e.listName,i=0,o=0,a=0,s=0;s<t.length;s++){if(m(t[s])||(i+=t[s].items.length),f(t[s])&&(a+=1),n<=i&&r===t[s].name)return n+a-o;m(t[s])&&(o+=t[s].items.length)}return i+t.length}),o=i(this.props.doAnimation.from),a=i(this.props.doAnimation.to),s=(0,l.prepareListDragStateForAnimation)(p(this.entryRefs),o,a);this.setState({dragState:s,subLists:this.props.subLists})}else e.doAnimation&&!this.props.doAnimation?setTimeout((function(){n.setState({dragState:null,subLists:n.props.subLists})}),50):e.resetDragState||!0!==this.props.resetDragState?e.subLists!==this.props.subLists&&this.setState({subLists:this.props.subLists}):this.setState({dragState:null,subLists:this.props.subLists})}},{key:"onDragStop",value:function(){var e,t,n=g(this.state.subLists,this.state),r=this.state.dragState.originalIndex-this.state.dragState.targetIndex,i=function(e,t,n,r){for(var i=0,o=e-t,a=o>0,s=o<0,c=0;c<n.length;c++)if(f(n[c])&&(i+=1),m(n[c])||(i+=n[c].items.length),t===i){if(a&&f(n[c+1]))return n[c].name;if(s)return n[c+1].name}return!1}(this.state.dragState.originalIndex,this.state.dragState.targetIndex,this.state.subLists,this.state),o=r>0&&i?1:0,a=n(this.state.dragState.originalIndex),s=(null!==(e=n(this.state.dragState.targetIndex))&&void 0!==e?e:0)+o;t=i?{from:a,to:s,newList:i}:{from:a,to:s},this.props.onDrag&&this.props.onDrag(t),this.props.onDragStop&&this.props.onDragStop()}},{key:"onDragHandleMouseUp",value:function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp),document.removeEventListener("mousemove",this.onMouseMove),this.onDragStop()}},{key:"onDragHandleTouchEnd",value:function(){document.removeEventListener("touchend",this.onDragHandleTouchEnd),document.removeEventListener("touchmove",this.onTouchMove),this.onDragStop()}},{key:"onDrag",value:function(e){var t=(0,l.onListDrag)(e,this.state.dragState);this.setState({dragState:t})}},{key:"onMouseMove",value:function(e){e.preventDefault(),this.onDrag(e.clientY)}},{key:"onTouchMove",value:function(e){var t=e.touches[0].clientY;this.onDrag(t)}},{key:"onDragStart",value:function(e,t){var n=p(this.entryRefs);this.setState({dragState:Object.assign(Object.assign({},this.state.dragState),(0,l.onStartListDrag)(e,n,t,0))}),this.props.onDragStart&&this.props.onDragStart()}},{key:"onDragHandleMouseDown",value:function(e,t){this.onDragStart(e,t.clientY),document.addEventListener("mouseup",this.onDragHandleMouseUp),document.addEventListener("mousemove",this.onMouseMove)}},{key:"onDragHandleTouchStart",value:function(e,t){var n=t.touches[0].clientY;this.onDragStart(e,n),document.addEventListener("touchend",this.onDragHandleTouchEnd),document.addEventListener("touchmove",this.onTouchMove)}},{key:"renderDragHandle",value:function(e){return(0,c.jsx)("span",Object.assign({className:"TodoList-drag-handle",onMouseDown:this.onDragHandleMouseDown.bind(this,e),onTouchStart:this.onDragHandleTouchStart.bind(this,e)},{children:(0,c.jsx)(d.Icon,{iconName:"grip-vertical"},void 0)}),void 0)}},{key:"maybeRenderDragPosition",value:function(e){return this.state.dragState?{top:(0,l.getListDragOffset)(e,this.state.dragState)}:{top:0}}},{key:"renderSubList",value:function(e,t,n,r,i,o){var a=this;return t.map((function(s,u){var d,l=u+n,p=s.attrs.index,f="".concat(l,"-").concat(p,"-").concat(t.length,"-").concat(r),m=["InteractiveList-item"];return o&&m.push("InteractiveList-item-hidden"),(null===(d=a.state.dragState)||void 0===d?void 0:d.originalIndex)===l&&m.push("InteractiveList-dragged-item"),(0,c.jsxs)("div",Object.assign({className:m.join(" "),style:a.maybeRenderDragPosition(l),ref:function(e){return!o&&(a.entryRefs[l]=e)}},{children:[a.renderDragHandle(l),a.props.renderItem(s,i(l),e,a.state.dragState)]}),f)}))}},{key:"onSpacerClick",value:function(e){this.props.onSpacerClick&&this.props.onSpacerClick(e)}},{key:"renderSpacer",value:function(e,t,n){var r=this,i=["InteractiveList-spacer"];return n&&i.push("InteractiveList-spacer-hidden"),(0,c.jsxs)("div",Object.assign({onClick:this.onSpacerClick.bind(this,t),style:this.maybeRenderDragPosition(e),className:i.join(" "),ref:function(t){return r.entryRefs[e]=t}},{children:[t,(0,c.jsx)(d.Icon,{iconName:"chevron-down"},void 0)]}),"spacer-".concat(e,"-").concat(t))}},{key:"render",value:function(){var e,t=this,n=v(this.state.subLists),r=g(this.state.subLists,this.state),i=0,o=[];this.state.subLists.forEach((function(e){var a=e.name,s=e.items,c=e.hidden;e.collapsible&&(o=o.concat([t.renderSpacer(0+i,a,c)]),i+=1),o=o.concat(t.renderSubList(a,s,i,n,r,c)),c||(i+=s.length)}));var a=[];return(null===(e=this.state.dragState)||void 0===e?void 0:e.isDragging)&&a.push("InteractiveList-dragging"),(0,c.jsx)("div",Object.assign({className:a.join(" ")},{children:o}),void 0)}}]),n}(u.Component);t.InteractiveList=b},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeProseMirrorStateFromSerializedDocJson=t.makeProseMirrorStateFromTodos=t.makeProseMirrorStateFromDoc=t.buildCustomHistoryPlugin=void 0;var r=n(67),i=n(64),o=n(18),a=n(417),s=n(124),c=n(69),u=n(419);function d(e){var t=(0,r.history)();return{proseMirrorState:o.EditorState.create({doc:e,plugins:[t,(0,a.makeAnchorPlugin)(s.schema,t)]}),historyPluginKey:t.key}}t.buildCustomHistoryPlugin=function(e){return(0,i.keymap)({"Mod-z":function(){return(0,r.undo)(e.state.proseMirrorState,e.dispatch)},"Mod-y":function(){return(0,r.redo)(e.state.proseMirrorState,e.dispatch)}})},t.makeProseMirrorStateFromDoc=d,t.makeProseMirrorStateFromTodos=function(e){return d((0,c.initDoc)(s.schema,(0,u.makeDocJsonFromTodos)(e)))},t.makeProseMirrorStateFromSerializedDocJson=function(e){return d((0,c.initDoc)(s.schema,e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuItems=void 0;var r=n(248),i=n(114);t.menuItems=(0,r.pick)(["bold","italic","code"],i.menuItems)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostItPlugin=void 0;var r=n(0),i=n(246),o=n(420),a=n(69),s=n(318),c=n(776),u="sticky";function d(e){return{color:"blue",doc:(0,a.docJsonFromString)(o.postItSchema,e)}}t.PostItPlugin={name:"PostIt Plugin",language:u,iconName:"sticky-snippet",editorClass:function(e){return"SnippetEditor-postit-mode PostIt-color-".concat(e.content.color)},snippetListClass:function(e){return"SnippetList-entry-type-postit PostIt-color-".concat(e.content.color)},testExtension:function(e){return"sticky"===e?u:null},testLanguage:function(e){return e===u},toPlaintext:function(e){return(0,a.getTextFromDoc)((0,a.initDoc)(o.postItSchema,e.doc))},fromPlaintext:function(e){return d(e)},produceFileMetaData:function(e){return(0,s.produceFileMetaData)(e.id,e.document.name,(0,a.initDoc)(o.postItSchema,e.document.content.doc),u)},updateSnippetReferences:function(e){return e},writer:c.PostItWriter,toolbar:null,mobileToolbar:null,listEntry:function(e){return(0,r.jsx)(i.DefaultListEntry,Object.assign({},e,{children:(0,r.jsx)("div",{children:e.snippetListEntry.metaData.trimmedBody},void 0)}),void 0)},createSnippetConfig:{viaInput:null,viaButton:{label:"Sticky",bootstrap:function(){return d("")}}},renderPreview:function(){return null},getSearchResults:function(){return[]},renderSearchResult:function(){return null},getQuickAccessSearchResults:function(){return[]},renderQuickAccessSearchResult:function(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostItWriter=void 0;var r=n(0),i=n(1),o=n(410),a=n(420),s=n(777);n(778);var c=s.menuItems.map((function(e){return e.buildSpec(e.id,a.postItSchema)}));t.PostItWriter=function(e){var t=a.POSTIT_COLORS.map((function(t){return(0,r.jsx)("span",{className:"PostIt-color-button PostIt-color-".concat(t," ").concat(e.content.color===t?"PostIt-color-button-selected":""," "),onClick:function(){return e.onSuggestPersist({color:t})}},t)}));return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:"PostIt-editor-wrapper"},{children:(0,r.jsx)(o.ProseMirrorWriter,Object.assign({},e,{schema:a.postItSchema,content:e.content.doc,onChange:function(t){return e.onChange({doc:t})},onSuggestPersist:function(t){return e.onSuggestPersist({doc:t})},menuItemSpecs:c}),void 0)}),void 0),(0,r.jsx)("div",{children:t},void 0)]},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuItems=void 0;var r=n(248),i=n(114);t.menuItems=(0,r.pick)(["bold","italic"],i.menuItems)},function(e,t,n){},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.changeFileName=void 0;var i=n(123);t.changeFileName=function(e,t){var n=(0,i.getPluginByLanguage)(e.language);if(!n)throw"no plugin found!";var o,a,s,c=n.language,u=function(e,t,n){var r=e.includes(".")&&e.split(".").pop();if(!r||r===e)return[t,t,n];var o=(0,i.getPluginByExtension)(r);return o?[o.testExtension(r),o.language,o]:[t,t,n]}(t,e.language,n),d=r(u,3),l=d[0],p=d[1],f=d[2];if(o=t,s=l,p===c)a=e.content;else{var m=n.toPlaintext(e.content);a=null===f||void 0===f?void 0:f.fromPlaintext(m)}return Object.assign(Object.assign({},e),{name:o,language:s,content:a})}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetEditor=void 0;var i=n(0),o=n(1),a=n(5),s=n(3),c=n(123);n(781);var u=n(782),d=n(783),l=n(784),p=a.isMocked?0:333;t.SnippetEditor=(0,o.forwardRef)((function(e,t){var n=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return{get aboveEditorArea(){return n}}}));var a=e.snippetListEntry.snippet,f=(0,c.getPluginByLanguage)(a.language);if(!f)return(0,i.jsxs)("span",{children:["no plugin found for language ",a.language]},void 0);var m=f.writer,v=f.editorClass(a)||"",g=(0,o.useCallback)((function(t){return e.dispatch({type:"updateSnippetContent",id:e.snippetListEntry.metaData.id,content:t})}),[]),b=(0,o.useMemo)((function(){return(0,s.debounce)(g,p)}),[]),h=r(b,3),j=h[0],y=h[2];(0,o.useEffect)((function(){return function(){return y()}}),[]);var O=(0,o.useCallback)((function(e){return j(e).catch((function(){return null}))}),[]),x=(0,o.useCallback)((function(e){return g(e)}),[]),S=(0,o.useCallback)((function(t){return e.dispatch({type:"setSnippetCodeLanguage",id:e.snippetListEntry.metaData.id,language:t})}),[]),w=(0,u.useOnCursor)(e.selectionInfoEventBus),I=(0,d.useSetHasFocus)(e.snippetListEntry,e.focusChangeEventBus),E=I.onFocus,k=I.onChangeHasFocus,M=I.onBlur,D=(0,s.useStateFromEventBus)(e.lastActiveSnippetIdEventBus),_=(0,l.useNonFocusedToolbarEventBus)(e.toolbarEventBus),P=(null===D||void 0===D?void 0:D.id)===e.snippetListEntry.metaData.id?e.toolbarEventBus:_,C=(0,i.jsx)(m,{id:e.snippetListEntry.metaData.id,content:a.content,language:a.language,onFocus:E,onChangeHasFocus:k,onBlur:M,onChange:O,onChangeLanguage:S,onSuggestPersist:x,allowReadMode:e.allowReadMode,uploadFile:null,toolbarEventBus:P,settings:e.settings,onEscape:e.onEscape,onDragStart:function(){return e.onDragEvent("start")},onDragStop:function(){return e.onDragEvent("stop")},availableEditorWidth:e.availableEditorWidth,onCursor:w,requestEditorFocus:e.requestEditorFocusEventBus,editorInstancesEventBus:e.editorInstancesEventBus,lastActiveSnippetIdEventBus:e.lastActiveSnippetIdEventBus},"".concat(a.language));return(0,i.jsxs)("div",Object.assign({className:["SnippetEditor",v].join(" ")},{children:[(0,i.jsx)("div",{ref:n},void 0),C]}),void 0)}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOnCursor=void 0;var r=n(1);t.useOnCursor=function(e){return(0,r.useMemo)((function(){return function(t,n,r,i,o,a,s){var c=Math.min(n.top,r.top),u=Math.max(n.right,r.right),d=Math.max(n.bottom,r.bottom),l=Math.min(n.left,r.left),p=u-l,f=d-c;e.emit({range:t,bounds:{top:c,left:l,width:p,height:f},editorBounds:{top:i.top,left:i.left,width:i.width,height:i.height},isEmptySelection:o,isEmptyNode:a,isAtStartOfLine:s})}}),[])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useSetHasFocus=void 0;var i=n(1),o=n(3);function a(e,t){var n=r(e,1)[0],i=r(t,1)[0];return function(e){i.emit({hasFocus:e,snippetListEntry:n})}}t.useSetHasFocus=function(e,t){var n=(0,o.useFactory)(a,[e],[t]),r=(0,i.useRef)(null);return(0,i.useEffect)((function(){r.current=n}),[n]),(0,i.useMemo)((function(){return{onFocus:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.call(r,!0)},onChangeHasFocus:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.call(r,e)},onBlur:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.call(r,!1)}}}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNonFocusedToolbarEventBus=void 0;var r=n(1),i=n(3);t.useNonFocusedToolbarEventBus=function(e){var t=(0,i.useEventBus)();return(0,i.useEventBusSubscription)(t,(0,r.useCallback)((function(t){"copyToClipboard"!==t.type||e.emit(t)}),[])),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSnippet=void 0;var r=n(0),i=n(123);t.renderSnippet=function(e){var t=(0,i.getPluginByLanguage)(e.snippetListEntry.snippet.language),n=(null===t||void 0===t?void 0:t.listEntry)||function(){return(0,r.jsx)("span",{children:"n/a"},void 0)};return(0,r.jsx)(n,Object.assign({},e),void 0)}},function(e,t,n){"use strict";var r=n(20).default,i=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useEditorInstances=void 0;var o=n(1),a=n(3);function s(e,t){switch(t.type){case"register":return[].concat(i(e),[t.editorInstance]);case"unregister":return e.filter((function(e){return e.id!==t.id}))}}t.useEditorInstances=function(e){var t=(0,o.useReducer)(s,[]),n=r(t,2),i=n[0],c=n[1];return(0,a.useEventBusSubscription)(e,c),i}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.insertSnippetReferenceMark=void 0;var i=n(18);function o(e,t,n,i){if(e.selection.$cursor){var o={snippetReferenceId:n},a=e.selection.$cursor.pos,s=e.tr,c=function(e,t){return r(e.steps,1)[0].getMap().map(t)}(s=s.insertText(i),a);t(s=s.addMark(a,c,e.schema.marks.snippetReference.create(o)))}}t.insertSnippetReferenceMark=function(e,t,n,r){null!==r?o(e,t,n,r):function(e,t,n){if(!e.selection.$cursor){var r={from:e.selection.from,to:e.selection.to},o={snippetReferenceId:n},a=e.tr;t(a=(a=a.addMark(r.from,r.to,e.schema.marks.snippetReference.create(o))).setSelection(new i.TextSelection(a.doc.resolve(r.to))))}}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeTag=void 0;var r=n(3),i=n(56);function o(e){return function(e){return void 0===e.iconName}(e)?Object.assign(Object.assign({},e),{iconName:"hash"}):e}t.normalizeTag=function(e,t){if(e.some((function(e){var n=e.item;return n.id!==t.id&&(0,i.isTag)(n)&&!0!==n.permanent.obsolete.state&&(0,r.isExactPath)(n.document.path,t.document.path)})))return{type:"invalid"};var n=t.document,a=(0,r.pipe)(n,o);return a===n?{type:"valid"}:{type:"updated",item:Object.assign(Object.assign({},t),{dirty:!0,document:a})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.produceSnippetMetaData=void 0;var r=n(33),i=n(56);t.produceSnippetMetaData=function(e,t,n){var o=t.store.filter((function(t){var n=t.item;return(0,i.isTag)(n)&&!n.document.archived&&(0,i.hasAnyItems)(n.document,[e.id])})).map((function(e){var t=e.item;return{path:t.document.path,text:(0,i.turnPathIntoTag)(t.document.path),id:t.id}}));return Object.assign(Object.assign({},(0,r.produceFileMeta)(e)),{resolvedTags:o,dirty:e.dirty,origin:e.permanent.origin,updatedAt:e.updatedAt,syncErrors:n.filter((function(t){return t.documentId&&t.documentId===e.id})).map((function(e){return e.message}))})}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDocumentChangeEvents=void 0;var i=n(1),o=n(323);t.useDocumentChangeEvents=function(e,t,n){var a=(0,i.useState)([]),s=r(a,2),c=s[0],u=s[1];(0,i.useEffect)((function(){var r=function(e){return e.store.map((function(e){return{id:e.id,version:e.item.permanent.version,internalVersion:e.item.internalVersion}})).sort((function(e,t){return e.id.localeCompare(t.id)}))}(e),i=(0,o.calculateDiff)(r,c,(function(e,t){return e.id.localeCompare(t.id)}),(function(e,t){return e.version===t.version&&e.internalVersion===t.internalVersion})),a=i.missingInA,s=i.missingInB,d=i.changed;a.forEach((function(e){n(e.id)})),s.forEach((function(e){t(e.id)})),d.forEach((function(e){var n=e.a;return t(n.id)})),u(r)}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(99),i=n(324);t.initialState={store:(0,r.makeEmptyStore)(),derivedState:{snippetMetaDataStore:[],snippetList:[],tagList:[]},blockNextSync:!1,settings:i.defaultSettings,syncErrors:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var r=n(56),i=n(3),o=n(122),a=n(162),s=n(163),c=n(794),u=n(795),d=n(796),l=n(797),p=n(798),f=n(799),m=n(800),v=n(422),g=n(801),b=n(802),h=n(803),j=n(427),y=n(258),O=n(805),x=n(327),S=n(806),w=n(429),I=n(807),E=n(809),k=n(810),M=n(811),D=n(812),_=n(813),P=n(814),C=n(324),T=n(815),N=n(816);t.reducer=function(e,t){switch(t.type){case"createSnippet":var n=(0,o.generateLocalId)();return(0,i.pipe)(e,(0,u.createSnippet)(n,t.snippet,e.settings.defaultOrigin),(0,m.addTagToSnippet)(e.settings.selectedTagPath,n,t.displayModeInstructions||[]),(0,c.updateAfterSnippetAction)(n),(0,x.withEffects)({type:"createSnippet",id:n,postInstructions:t.postInstructions}));case"updateSnippet":return(0,i.pipe)(e,(0,d.updateSnippet)(t.id,t.snippet),(0,c.updateAfterSnippetAction)(t.id),(0,w.withoutEffects)());case"updateSnippetContent":return(0,i.pipe)(e,(0,l.updateSnippetContent)(t.id,t.content),(0,c.updateAfterSnippetAction)(t.id),(0,w.withoutEffects)());case"deleteSnippet":return(0,i.pipe)(e,(0,d.updateSnippet)(t.id,Object.assign(Object.assign({},t.snippet),{archived:!0})),(0,D.cleanUpTagsAfterSnippetDeletion)(t.id),(0,y.recompile)(),(0,x.withEffects)({type:"deleteSnippet",id:t.id}));case"restoreSnippet":return(0,i.pipe)(e,(0,d.updateSnippet)(t.id,Object.assign(Object.assign({},t.snippet),{archived:!1})),(0,c.updateAfterSnippetAction)(t.id),(0,w.withoutEffects)());case"renameTag":return(0,i.pipe)(e,(0,p.renameTag)(t.newLabelValue,t.path),(0,O.updateAfterTagAction)(),(0,w.withoutEffects)());case"setTagIcon":return(0,i.pipe)(e,(0,_.setTagIcon)(t.id,t.iconName),(0,O.updateAfterTagAction)(),(0,w.withoutEffects)());case"addTag":return(0,i.pipe)(e,(0,f.addTag)(t.path,e.settings.defaultOrigin),(0,O.updateAfterTagAction)(),(0,w.withoutEffects)());case"addTagToSnippet":return(0,i.pipe)(e,(0,f.addTag)((0,r.turnTagIntoPath)(t.tag),function(e,t,n){var r=t.derivedState.snippetList.find((function(t){return t.metaData.id===e}));return r?r.metaData.origin:n}(t.id,e,e.settings.defaultOrigin)),(0,a.compileTagList)(),(0,m.addTagToSnippet)((0,r.turnTagIntoPath)(t.tag),t.id,[]),(0,O.updateAfterTagAction)(),(0,w.withoutEffects)());case"removeSnippetFromTag":return(0,i.pipe)(e,(0,v.removeSnippetFromTag)(t.snippetId,t.tagId),(0,c.updateAfterSnippetAction)(t.snippetId),(0,w.withoutEffects)());case"setSnippetName":return(0,i.pipe)(e,(0,g.setSnippetName)(t.snippetId,t.name),(0,c.updateAfterSnippetAction)(t.snippetId),(0,x.withEffects)({type:"renameSnippet",id:t.snippetId}));case"setSnippetCodeLanguage":return(0,i.pipe)(e,(0,P.setSnippetCodeLanguage)(t.id,t.language),(0,c.updateAfterSnippetAction)(t.id),(0,w.withoutEffects)());case"deleteTag":return(0,i.pipe)(e,(0,b.deleteTag)(t.path),(0,O.updateAfterTagAction)(),(0,w.withoutEffects)());case"mergeDocumentStore":return(0,i.pipe)(e,(0,S.mergeDocumentStore)(t.store));case"updateAfterSync":return(0,i.pipe)(e,(0,h.updateAfterSync)(t.results),(0,j.maybeRewriteTagItems)(),(0,N.maybeUpdateSnippetReferences)(t.results),(0,M.putSyncErrors)(t.syncErrors),(0,y.recompile)(),(0,s.setBlockNextSync)(0<t.syncErrors.length),(0,w.withoutEffects)());case"updateSettings":return(0,i.pipe)(e,(0,C.updateSettings)(t.action),(0,T.maybeOverrideNoopOrigins)(e.settings.defaultOrigin),(0,s.setBlockNextSync)(!1),(0,w.withoutEffects)());case"changeOrigin":return(0,i.pipe)(e,(0,I.changeOrigin)(t.id,t.origin));case"updateDisplayMode":return(0,i.pipe)(e,(0,E.updateDisplayMode)(t.tagId,t.displayMode),(0,w.withoutEffects)());case"markArchivedObsolete":return(0,i.pipe)(e,(0,k.markArchivedObsolete)(t.timespanInMs),(0,y.recompile)(),(0,w.withoutEffects)())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSnippetAction=void 0;var r=n(3),i=n(125),o=n(325),a=n(162),s=n(163);t.updateAfterSnippetAction=function(e){return function(t){return(0,r.pipe)(t,function(e){return function(t){return Object.assign(Object.assign({},t),{derivedState:Object.assign(Object.assign({},t.derivedState),{snippetMetaDataStore:(0,i.updateSnippetMetaDataStore)(t.store,t.derivedState.snippetMetaDataStore,e,t.syncErrors)})})}}(e),(0,o.compileSnippetList)(),(0,a.compileTagList)(),(0,s.setBlockNextSync)(!1))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSnippet=void 0;var r=n(125);t.createSnippet=function(e,t,n){return function(i){return Object.assign(Object.assign({},i),{store:(0,r.createSnippet)(i.store,e,t,n)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSnippet=void 0;var r=n(52),i=n(57);t.updateSnippet=function(e,t){return function(n){return Object.assign(Object.assign({},n),{store:(0,i.save)(n.store,e,t,r.normalizeDocument)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSnippetContent=void 0;var r=n(98),i=n(57),o=n(52);t.updateSnippetContent=function(e,t){return function(n){var a=(0,r.get)(n.store,e);if(!a)return n;var s="string"===typeof t?t:Object.assign(Object.assign({},a.document.content),t),c=Object.assign(Object.assign({},a.document),{content:s});return Object.assign(Object.assign({},n),{store:(0,i.save)(n.store,e,c,o.normalizeDocument)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameTag=void 0;var r=n(56);t.renameTag=function(e,t){return function(n){var i=t.filter((function(e,n){return n!==t.length-1})).concat([e]);return Object.assign(Object.assign({},n),{store:(0,r.renamePaths)(n.store,e,t),settings:Object.assign(Object.assign({},n.settings),{selectedTagPath:i})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTag=void 0;var r=n(56);t.addTag=function(e,t){return function(n){return Object.assign(Object.assign({},n),{store:(0,r.addTag)(n.store,e,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTagToSnippet=void 0;var r=n(3),i=n(52),o=n(57),a=n(56);t.addTagToSnippet=function(e,t,n){return function(s){var c=s.derivedState.tagList.find((function(t){return(0,r.isExactPath)(t.tag.path,e)}));return c?Object.assign(Object.assign({},s),{store:(0,o.save)(s.store,c.metaData.id,(0,a.addItem)(c.tag,t,n),i.normalizeDocument)}):s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSnippetName=void 0;var r=n(33),i=n(52),o=n(57);t.setSnippetName=function(e,t){return function(n){var a,s=null===(a=n.derivedState.snippetList.find((function(t){return t.metaData.id===e})))||void 0===a?void 0:a.snippet;if(!s)return n;var c=(0,r.changeFileName)(s,t);return Object.assign(Object.assign({},n),{store:(0,o.save)(n.store,e,c,i.normalizeDocument)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTag=void 0;var r=n(56);t.deleteTag=function(e){return function(t){return Object.assign(Object.assign({},t),{store:(0,r.deleteByPath)(t.store,e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSync=void 0;var r=n(52),i=n(326),o=n(159),a=n(423),s=n(425),c=n(426);function u(e,t){return(0,i.mergeStores)(t.store.store,e.filter((function(e){return void 0!==e.payload.backup})).reduce((function(e,t){return(0,o.saveSynced)(e,t.payload.backup.id,t.payload.backup.document,r.normalizeDocument,{config:{permanent:(0,s.getPermanent)(t.payload.backup)},updatedAt:t.payload.backup.updatedAt})}),[]),(function(){return!0}),r.normalizeDocument).mergedStore}t.updateAfterSync=function(e){return function(t){var n=t;return n=Object.assign(Object.assign({},n),{store:(0,a.updateAfterSyncSome)(n.store,e,s.getPermanent,c.getUpdatedAt)}),n=Object.assign(Object.assign({},n),{store:Object.assign(Object.assign({},n.store),{store:u(e,n)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveAfterSync=void 0;var r=n(58);t.saveAfterSync=function(e,t,n,i,o){var a=(0,r.get)(e,t);if(!a)return e;var s=a.internalVersion,c=n<s;return a=Object.assign(Object.assign({},a),{internalVersion:s+1,permanent:o||a.permanent,updatedAt:i}),a=Object.assign(Object.assign({},a),{dirty:c}),(0,r.save)(e,t,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterTagAction=void 0;var r=n(3),i=n(325),o=n(162),a=n(428),s=n(163);t.updateAfterTagAction=function(){return function(e){return(0,r.pipe)(e,(0,a.initSnippetMetaDataStore)(),(0,i.compileSnippetList)(),(0,o.compileTagList)(),(0,s.setBlockNextSync)(!1))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDocumentStore=void 0;var r=n(3),i=n(52),o=n(326),a=n(258),s=n(327);t.mergeDocumentStore=function(e){return function(t){var n=(0,o.mergeStores)(t.store.store,e.store,(function(e,t){return t.dirty||!1===e.dirty&&e.permanent.version<t.permanent.version}),i.normalizeDocument),c=n.mergedStore,u=n.changedIds,d=Object.assign(Object.assign({},t.store),{store:c}),l=Object.assign(Object.assign({},t),{store:d});return(0,r.pipe)(l,(0,a.recompile)(),(0,s.withEffects)({type:"snippetChanges",ids:u}))}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrigin=void 0;var i=n(122),o=n(808),a=n(3),s=n(427),c=n(258),u=n(163),d=n(327),l=n(429);t.changeOrigin=function(e,t){return function(n){var p=(0,i.generateLocalId)(),f=(0,o.changeOrigin)(n.store,e,p,t);if(!f)return(0,a.pipe)(n,(0,l.withoutEffects)());var m=r(f,3),v=m[0],g=m[1],b=m[2],h=Object.assign(Object.assign({},n),{store:v});switch(g.permanent.documentType){case"snippet":return(0,a.pipe)(h,(0,s.maybeRewriteTagItems)(),(0,c.recompile)(),(0,u.setBlockNextSync)(!1),(0,d.withEffects)({type:"changeSnippetOrigin",id:b}));case"tag":return(0,a.pipe)(h,(0,c.recompile)(),(0,u.setBlockNextSync)(!1),(0,l.withoutEffects)())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrigin=void 0;var r=n(98),i=n(122),o=n(52),a=n(57),s=n(424);t.changeOrigin=function(e,t,n,c){var u=(0,r.get)(e,t);if(!u)return null;if(u.permanent.origin===c)return null;if(u.id===n)return null;if(u.id.startsWith(i.LOCAL_ID_PREFIX))return[(0,a.save)(e,u.id,u.document,o.normalizeDocument,{updatedAt:new Date,config:{permanent:Object.assign(Object.assign({},u.permanent),{origin:c})}}),u,u.id];var d=e;return d=(0,a.save)(d,u.id,u.document,o.normalizeDocument,{updatedAt:new Date,config:{permanent:Object.assign(Object.assign({},u.permanent),{obsolete:{state:!0,reason:"originSwitch",replacedBy:n}})}}),d=(0,a.save)(d,n,u.document,o.normalizeDocument,{updatedAt:new Date,config:{permanent:Object.assign(Object.assign({},u.permanent),{origin:c})}}),[d=(0,s.setUpIdMapping)(d,u.id,n),u,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDisplayMode=void 0;var r=n(56),i=n(3),o=n(162),a=n(163);t.updateDisplayMode=function(e,t){return function(n){var s=n;return s=Object.assign(Object.assign({},s),{store:(0,r.updateDisplayMode)(s.store,e,t)}),(0,i.pipe)(s,(0,o.compileTagList)(),(0,a.setBlockNextSync)(!1))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markArchivedObsolete=void 0;var r=n(430),i=n(98),o=n(57),a=n(52);t.markArchivedObsolete=function(e){return function(t){var n=(0,r.getIdsOfDeletableItems)(t.store.store,e).reduce((function(e,t){var n=(0,i.get)(e,t);return n?(0,o.save)(e,t,n.document,a.normalizeDocument,{updatedAt:new Date,config:{permanent:Object.assign(Object.assign({},n.permanent),{obsolete:{state:!0,reason:"archived"}})}}):e}),t.store),s=t;return s=Object.assign(Object.assign({},s),{store:n})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.putSyncErrors=void 0;t.putSyncErrors=function(e){return function(t){var n=t;return n=Object.assign(Object.assign({},n),{syncErrors:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUpTagsAfterSnippetDeletion=void 0;var r=n(56),i=n(58),o=n(422);t.cleanUpTagsAfterSnippetDeletion=function(e){return function(t){return(0,i.getAll)(t.store.store).filter(r.isTag).filter((function(e){return"dashboard"===e.document.displayMode.type})).filter((function(t){return(0,r.hasAnyItems)(t.document,[e])})).map((function(t){return(0,o.removeSnippetFromTag)(e,t.id)})).reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTagIcon=void 0;var r=n(52),i=n(57);t.setTagIcon=function(e,t){return function(n){var o=n.derivedState.tagList.find((function(t){return t.metaData.id===e}));return o?Object.assign(Object.assign({},n),{store:(0,i.save)(n.store,o.metaData.id,Object.assign(Object.assign({},o.tag),{iconName:t}),r.normalizeDocument)}):n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSnippetCodeLanguage=void 0;var r=n(52),i=n(98),o=n(57);t.setSnippetCodeLanguage=function(e,t){return function(n){var a=(0,i.get)(n.store,e);if(!a)return n;var s=Object.assign(Object.assign({},a.document),{language:t});return Object.assign(Object.assign({},n),{store:(0,o.save)(n.store,e,s,r.normalizeDocument)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeOverrideNoopOrigins=void 0;var r=n(3),i=n(52),o=n(57),a=n(258);t.maybeOverrideNoopOrigins=function(e){return function(t){if(t.settings.defaultOrigin!==e){var n=t;return n=Object.assign(Object.assign({},n),{store:n.store.store.reduce((function(e,n){return"noop"===n.item.permanent.origin?(0,o.save)(e,n.id,n.item.document,i.normalizeDocument,{updatedAt:new Date,config:{permanent:Object.assign(Object.assign({},n.item.permanent),{origin:t.settings.defaultOrigin})}}):e}),n.store)}),(0,r.pipe)(n,(0,a.recompile)())}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeUpdateSnippetReferences=void 0;var r=n(58),i=n(125),o=n(33),a=n(160),s=n(57),c=n(52);t.maybeUpdateSnippetReferences=function(e){return function(t){if(!e.some((function(e){return e.originalId!==e.returnedId})))return t;var n=function(e){return(0,a.resolveToNewestId)(t.store,e)},u=(0,r.getAll)(t.store.store).filter(i.isSnippet).reduce((function(e,t){var r=(0,o.getPluginByLanguage)(t.document.language);if(!r)return e;var i=r.updateSnippetReferences(t.document.content,n);if(i===t.document.content)return e;var a=Object.assign(Object.assign({},t.document),{content:i});return(0,s.save)(e,t.id,a,c.normalizeDocument)}),t.store);return u===t.store?t:Object.assign(Object.assign({},t),{store:u})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncStateMessage=void 0;var r=n(1),i=(0,n(5).makeDistinctElectronSend)("setIsSyncing");t.useSyncStateMessage=function(e){(0,r.useEffect)((function(){"idle"===e.state.name?i(!1):i(!0)}),[e])}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useReminders=void 0;var i=n(3),o=n(819),a=n(822),s=n(328),c=n(823);t.useReminders=function(e,t){var n=(0,i.useEventBus)(),u=(0,i.useEventBus)(),d=(0,a.useRemindersFromDocuments)(e.derivedState.snippetList,n),l=r(d,1)[0],p=(0,s.useScheduledReminders)(l,u),f=r(p,2),m=f[0],v=f[1];(0,o.useElectronReminderNotifications)(m,t,v),(0,c.useMobileReminderNotifications)(u),(0,i.useInterval)((function(){return v()}),s.ONE_HOUR_IN_MILLISECONDS)}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useElectronReminderNotifications=void 0;var i=n(1),o=n(47),a=n(5),s=n(3),c=n(820),u=n(821),d=(0,c.makeShowNotification)();function l(e,t){var n=r(e,1)[0],i=r(t,1)[0];return function(){var e=Date.now(),t=n.filter((function(t){return t.timezoneAwareDate<e}));t.forEach((function(e){return d({title:"Snip Reminder at ".concat((0,o.renderTime)(new Date(e.timezoneAwareDate))),body:e.reminder.text,silent:!1,actions:[]})})),t.length>0&&i(t.map((function(e){return{reminderId:e.reminder.id,date:e.date}})),e)}}t.useElectronReminderNotifications=function(e,t,n){if(a.isElectron){var o=(0,u.useReminderExecutionLog)(t),c=r(o,2),d=c[0],p=c[1],f=(0,i.useMemo)((function(){return d(e).map((function(e){return Object.assign(Object.assign({},e),{timezoneAwareDate:(0,a.adjustByTimezoneOffset)(e.date)})}))}),[e,d]),m=(0,s.useFactory)(l,[f],[p]);(0,s.useInterval)(m,1e3),(0,i.useEffect)((function(){return n()}),[d])}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeShowNotification=void 0;var i=n(5),o=(0,i.makeElectronSend)("showNotification");t.makeShowNotification=function(){var e=new Array;return function(t){var n=Date.now(),i=n-1e4;(e=e.filter((function(e){return i<e}))).length<=3&&(o(t),e=[].concat(r(e),[n]))}}},function(e,t,n){"use strict";var r=n(24).default,i=n(32),o=n(20).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useReminderExecutionLog=void 0;var s=n(1),c=n(3),u=n(328),d=function(){return new Promise((function(e){return e([])}))},l=function(){},p=function(e){var t=window.require("fs").promises;return function(){return a(void 0,void 0,void 0,i.mark((function n(){var r;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.readFile(e);case 2:return r=n.sent.toString(),n.abrupt("return",r.split(";").filter((function(e){return""!==e})).map((function(e){var t=e.split(","),n=o(t,2),r=n[0],i=n[1];return{reminderId:parseInt(r),date:parseInt(i)}})));case 4:case"end":return n.stop()}}),n)})))}},f=function(e){var t=window.require("fs").promises;return function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.writeFile(e,n.map((function(e){var t=e.reminderId,n=e.date;return"".concat(t,",").concat(n)})).join(";")+";",{flag:r?"w":"a"})}};function m(e,t){if("append"===t.type){var n=(0,u.getEarliestPossibleReminderDate)(t.now)-u.TIME_RANGE;return[].concat(r(e||[]),r(t.chunk)).filter((function(e){var t=e.date;return n<t}))}}function v(e){var t=o(e,1)[0];return function(e){return t?e.filter((function(e){return!t.find((function(t){return t.reminderId===e.reminder.id&&t.date===e.date}))})):[]}}t.useReminderExecutionLog=function(e){var t=(0,s.useReducer)(m,null),n=o(t,2),r=n[0],i=n[1],a=(0,s.useMemo)((function(){if(!e)return[d,l];var t="".concat(e,"/reminder-executions.log");return[p(t),f(t)]}),[e]),u=o(a,2),g=u[0],b=u[1];return(0,s.useEffect)((function(){r&&b(r,!0)}),[r]),(0,c.useOnce)((function(){g().then((function(e){return i({type:"append",chunk:e,now:Date.now()})})).catch((function(){i({type:"append",chunk:[],now:Date.now()})}))}),void 0!==e),[(0,c.useFactory)(v,[r],[]),(0,s.useCallback)((function(e,t){return i({type:"append",chunk:e,now:t})}),[])]}},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useRemindersFromDocuments=void 0;var o=n(1),a=n(47),s=n(3),c=n(431);t.useRemindersFromDocuments=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.debounce,u=(0,o.useState)([]),d=i(u,2),l=d[0],p=d[1];return(0,s.useDebouncedEffect)((function(){var t=e.reduce((function(e,t){return[].concat(r(e),r(t.metaData.reminders))}),[]).sort(a.compareReminderIds);p(t)}),1e3,[e],n),(0,c.useRemindersFromList)(l,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMobileReminderNotifications=void 0;var r=n(1),i=n(5),o=n(3);t.useMobileReminderNotifications=function(e){i.isNativeApp&&(0,o.useEventBusSubscription)(e,(0,r.useCallback)((function(e){(0,i.postClientWebViewMessage)({type:"reminder",message:{type:"scheduledRemindersEffect",effect:e}})}),[]))}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useUpload=void 0;var o=n(5),a=n(3),s=n(825),c=n(161),u=n(432),d=n(56),l=n(433),p=n(827);t.useUpload=function(e,t,n,f,m,v){(0,a.useSlot)(f,m,"upload",(function(){return function(e,t,n){return i(this,void 0,void 0,r.mark((function i(){var a,p,f,m,v,g;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((0,c.getAllDirties)(e.store.store,(0,s.isDocumentType)("snippet")).length>0)){r.next=10;break}return r.next=3,(0,u.syncSomeAndAwaitAll)(e.store,t,l.getId,(0,s.isDocumentType)("snippet"));case 3:return a=r.sent,p=(0,o.getFulfilled)(a),f=(0,o.getRejected)(a),n({type:"updateAfterSync",results:p,syncErrors:f}),r.abrupt("return",{actions:[],errors:f});case 10:if(!((0,c.getAllDirties)(e.store.store,(0,s.isDocumentType)("tag")).filter(d.isTag).length>0)){r.next=20;break}return r.next=13,(0,u.syncSomeAndAwaitAll)(e.store,t,l.getId,(0,s.isDocumentType)("tag"));case 13:return m=r.sent,v=(0,o.getFulfilled)(m),g=(0,o.getRejected)(m),n({type:"updateAfterSync",results:v,syncErrors:g}),r.abrupt("return",{actions:[],errors:g});case 20:return r.abrupt("return",{actions:[],errors:[]});case 21:case"end":return r.stop()}}),i)})))}(e,n,t).then((function(e){return e.errors}))})),(0,p.useUploadRequest)(e,n,v,m)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDocumentType=void 0;t.isDocumentType=function(e){return function(t){return t.permanent.documentType===e}}},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.syncNext=void 0;var i=n(58),o=n(161),a=n(421);t.syncNext=function(e,t,n,s,c){var u=function(e,t,n){var r=(0,o.getAllDirties)(e,t).sort((function(e,t){return(0,a.sortByUpdatedAt)(e,t)})).map((function(e){return e.id})).find((function(e){return!n.includes(e)}));return r&&(0,i.get)(e,r)||void 0}(e.store,s,c);return u?{queuedForSync:[].concat(r(c),[u.id]),promise:t(u).then((function(e){return{originalId:u.id,returnedId:n(e),internalVersionBeforeUpdate:u.internalVersion,payload:e}}))}:{queuedForSync:c,promise:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUploadRequest=void 0;var r=n(1),i=n(161);function o(e){return(0,i.getAllDirties)(e.store.store,(function(){return!0})).length>0}t.useUploadRequest=function(e,t,n,i){(0,r.useEffect)((function(){!1===e.blockNextSync&&o(e)&&i({type:"requestSlot",slotName:"upload"})}),[e.store]),(0,r.useEffect)((function(){o(e)&&i({type:"requestSlot",slotName:"upload"})}),[t,n])}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useDownload=void 0;var o=n(3),a=n(52),s=n(434),c=n(433),u=n(425),d=n(426),l=n(830);function p(e){return e.document}t.useDownload=function(e,t,n,f,m){(0,o.useSlot)(n,f,"download",(function(){return function(e,t){return i(this,void 0,void 0,r.mark((function n(){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.initSyncer)(e,c.getId,p,u.getPermanent,d.getUpdatedAt,a.normalizeDocument);case 2:return i=n.sent,t({type:"mergeDocumentStore",store:i.store}),n.abrupt("return",{actions:[],errors:i.errors});case 5:case"end":return n.stop()}}),n)})))}(t,e).then((function(e){return e.errors}))})),(0,l.useDownloadRequest)(t,m,f)}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.download=void 0;var o=n(159);t.download=function(e,t,n,a,s,c,u){return i(this,void 0,void 0,r.mark((function i(){var d,l;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:return d=r.sent,l=d.results.reduce((function(e,t){return(0,o.saveSynced)(e,n(t),a(t),u,{updatedAt:c(t),config:(r=s(t),{permanent:r})});var r}),e.store),r.abrupt("return",{store:Object.assign(Object.assign({},e),{store:l}),errors:d.errors});case 5:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDownloadRequest=void 0;var r=n(1);t.useDownloadRequest=function(e,t,n){(0,r.useEffect)((function(){n({type:"requestSlot",slotName:"download"})}),[e,t])}},function(e,t,n){"use strict";var r=n(24).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginFetcherAndPusher=void 0;var a=n(5),s=n(435),c=n(329),u=n(832),d=n(833),l=function(e){return function(){return o(void 0,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchAll());case 1:case"end":return t.stop()}}),t)})))}},p=function(e){return function(t){return o(void 0,void 0,void 0,i.mark((function n(){return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.update(t));case 1:case"end":return n.stop()}}),n)})))}};t.makeMultiOriginFetcherAndPusher=function(e){return function(e){var t=e.originConfigs,n=e.settings,r=t.map((function(e){var t=(0,a.getOriginSettings)(n,e.origin,e.defaultConfig);if(!1===t.enabled)return null;var r=e.backendFactory("documents",t);return Object.assign(Object.assign({},e),{pusher:p(r),fetcher:l(r)})})).filter(a.isNotNull);return[(0,u.makeMultiOriginFetcher)(r.map((function(e){return(0,s.makeOriginToActionMapping)(e.origin,e.fetcher)}))),(0,d.makeMultiOriginPusher)(r.map((function(e){return(0,s.makeOriginToActionMapping)(e.origin,e.pusher)})))]}(Object.assign(Object.assign({},e),{originConfigs:[].concat(r(e.originConfigs),[c.noopOriginConfig])}))}},function(e,t,n){"use strict";var r=n(24).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginFetcher=void 0;var a=n(5);t.makeMultiOriginFetcher=function(e){return function(){return o(void 0,void 0,void 0,i.mark((function t(){var n,s,c,u,d,l;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(e){return o(void 0,void 0,void 0,i.mark((function t(){var n;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.action();case 2:return n=t.sent,t.abrupt("return",{results:n.results.map((function(t){return Object.assign(Object.assign({},t),{origin:e.origin})})),errors:n.errors});case 4:case"end":return t.stop()}}),t)})))})),t.next=3,(0,a.allSettled)(n);case 3:return s=t.sent,c=(0,a.getFulfilled)(s),u=(0,a.getRejected)(s),d=c.reduce((function(e,t){return[].concat(r(e),r(t.results))}),new Array),l=[].concat(r(u),r(c.map((function(e){return e.errors})).flat())),t.abrupt("return",{results:d,errors:l});case 9:case"end":return t.stop()}}),t)})))}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginPusher=void 0;var o=n(435);t.makeMultiOriginPusher=function(e){return function(t){return i(void 0,void 0,void 0,r.mark((function n(){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,o.getActionByOrigin)(e,t.permanent.origin),n.abrupt("return",i(t).then((function(e){var n=e.backup?{backup:Object.assign(Object.assign({},e.backup),{origin:t.permanent.origin})}:{};return Object.assign(Object.assign(Object.assign({},e),{origin:t.permanent.origin}),n)})));case 2:case"end":return n.stop()}}),n)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useArchiveManager=void 0;var r=n(1),i=n(430);t.useArchiveManager=function(e,t){var n=864e5;(0,r.useEffect)((function(){(0,i.getIdsOfDeletableItems)(e,n).length>0&&t({type:"markArchivedObsolete",timespanInMs:n})}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCacheFunctions=void 0;var r=n(436),i=n(437),o=n(438);t.makeCacheFunctions=function(e,t){var n=(0,o.makeFileStoragePusher)(e,t,(function(e){return e.id})),a=(0,i.makeFileStorageFetcher)(e,t);return{pushToCache:n,fetchFromCache:function(){return a().then((function(e){return e.results}))},deleteFromCache:(0,r.makeFileStorageDeleter)(e,t,(function(e){return e}))}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeNativeAppCacheFunctions=void 0;var o=n(5);function a(e){var t={publishCache:e};window.CacheFunctionsStub=t}t.makeNativeAppCacheFunctions=function(){var e=this,t=o.postClientWebViewMessage;return{pushToCache:function(n){return i(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"document",message:{type:"pushToCache",id:n.id,payload:JSON.stringify(n)}});case 1:case"end":return e.stop()}}),e)})))},fetchFromCache:function(){return i(e,void 0,void 0,r.mark((function e(){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e){a(e),setTimeout((function(){e([])}),1e4)})),t({type:"document",message:{type:"requestFetchFromCache"}}),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))},deleteFromCache:function(n){return i(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"document",message:{type:"deleteFromCache",id:n}});case 1:case"end":return e.stop()}}),e)})))}}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return n=t.sent,t.abrupt("return",new Promise((function(e,t){n.ok?e(n.json()):t(n)})));case 4:case"end":return t.stop()}}),t)})))}Object.defineProperty(t,"__esModule",{value:!0}),t.makeHttp=void 0,t.makeHttp=function(e,t){var n=this;return{get:function(n){var r={headers:new Headers(Object.assign({"If-Modified-Since":"Thu, 25 Oct 2012 15:16:27 GMT"},t))};return o(fetch("".concat(e).concat(n),r))},post:function(n,r){var i={method:"POST",body:JSON.stringify(r),headers:new Headers(t)};return o(fetch("".concat(e).concat(n),i))},patch:function(n,r){var i={method:"PATCH",body:JSON.stringify(r),headers:new Headers(t)};return o(fetch("".concat(e).concat(n),i))},del:function(o){return i(n,void 0,void 0,r.mark((function n(){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={method:"DELETE",headers:new Headers(t)},n.next=3,fetch("".concat(e).concat(o),i);case 3:return n.abrupt("return",void 0);case 4:case"end":return n.stop()}}),n)})))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=t.isGistOriginError=void 0;var r=n(0),i=n(839);t.isGistOriginError=function(e){return"gist"===e.origin},t.handleError=function(e,t){return 401===e.status?(0,i.compileError)("gist",t?(0,r.jsxs)("strong",{children:["gist document ",t.id]},void 0):(0,r.jsx)("strong",{children:"gist"},void 0),"Please provide an Access Token.",{status:401,original:e}):404===e.status?(0,i.compileError)("gist",null,"Please provide a Master Gist ID.",{status:404,original:e}):(0,i.compileError)("gist",null,"Unknown error.",{status:"unexpected",original:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileError=t.isOriginError=void 0;var r=n(0),i=n(121);t.isOriginError=function(e){return!!e.isOriginError},t.compileError=function(e,t,n,o){return{isOriginError:!0,origin:e,description:(0,r.jsx)(i.SimpleErrorView,{title:t,description:n},void 0),details:o}}},function(e,t,n){"use strict";var r=n(24).default,i=n(20).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GistOriginSettingsPage=void 0;var c=n(0),u=s(n(1)),d=n(5),l=n(259),p=n(440),f=n(439);n(841);t.GistOriginSettingsPage=function(e){var t=(0,u.useContext)(l.OriginReadynessContext),n=(0,u.useState)(!1),o=i(n,2),a=o[0],s=o[1],m=(0,d.useObject)("dispatch"),v=(0,d.useObject)("settings"),g=(0,d.getOriginSettings)(v,"gist",f.gistOriginConfig.defaultConfig);return(0,c.jsx)(u.default.Fragment,{children:(0,c.jsxs)("div",Object.assign({className:"GistOriginSettingsPage-settings"},{children:[(0,c.jsx)("h2",{children:"Token"},void 0),(0,c.jsx)("span",Object.assign({className:"GistOriginSettingsPage-small-text"},{children:"Create a personal access token in your github developer settings (use the gist scope) and paste it here:"}),void 0),(0,c.jsx)("input",{className:["CommonUI-input CommonUI-input-centered"].concat(r(!1===t.ready&&t.reason===f.statusCodeToText[401]?["CommonUI-input-red"]:[])).join(" "),type:"password",value:g.token,onChange:function(e){return m({type:"updateSettings",action:{type:"setOriginSettings",origin:"gist",settings:{token:e.target.value}}})}},void 0),(0,c.jsx)("h2",{children:"Master Gist Id"},void 0),(0,c.jsx)("span",Object.assign({className:"GistOriginSettingsPage-small-text"},{children:"Paste existing:"}),void 0),(0,c.jsx)("input",{className:["CommonUI-input CommonUI-input-centered"].concat(r(!1===t.ready&&t.reason===f.statusCodeToText[404]?["CommonUI-input-red"]:[])).join(" "),value:g.masterGistId,onChange:function(e){return m({type:"updateSettings",action:{type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.target.value}}})}},void 0),(0,c.jsx)("button",Object.assign({disabled:a,className:"CommonUI-button-without-border",onClick:function(){s(!0),(0,p.createMasterGist)(g.token).then((function(e){return m({type:"updateSettings",action:{type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.id}}})})).catch((function(){return m({type:"updateSettings",action:{type:"setOriginSettings",origin:"gist",settings:{masterGistId:""}}})})).finally((function(){s(!1)}))}},{children:"or create one"}),void 0),(0,c.jsx)("div",Object.assign({className:"GistOriginSettingsPage-readyness"},{children:!0===t.ready?"Success":!1===t.ready?t.reason:"Pending"}),void 0)]}),void 0)},void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(32),i=n(24).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeCloudBackend=void 0;var a=n(441),s=n(99),c=n(330),u=n(331),d=n(3),l=n(91),p=n(391),f=n(843),m=n(260);function v(e){return new Promise((function(t){return setTimeout(t,e)}))}function g(e){return JSON.parse(e.data)}function b(e){return{id:"".concat(e.id),document:g(e),documentType:e.document_type,version:e.version,updatedAt:new Date(e.updated_at)}}function h(e){return{id:"".concat(e.id),documentType:e.document_type,version:e.version,updatedAt:new Date(e.updated_at)}}function j(e){return Object.assign(Object.assign({id:"".concat(e.id)},e.backup?{backup:{id:"".concat(e.backup.id),document:g(e.backup),documentType:e.backup.document_type,version:e.backup.version,updatedAt:new Date(e.backup.updated_at)}}:{}),{documentType:e.document_type,version:e.version,updatedAt:new Date(e.updated_at)})}function y(e){return{id:"".concat(e.id),documentType:e.document_type,version:e.version,updatedAt:new Date(e.updated_at)}}function O(e){return{id:e.id,document_type:e.permanent.documentType,data:JSON.stringify(e.document),version:e.permanent.version}}var x=function(e){return function(t){return Object.assign(Object.assign({},t),{id:e})}},S={type:"fake-error",status:401};t.makeCloudBackend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g=n?new a.BypassMutex:new a.Mutex,w={},I=null,E=function(e){return I=e.timestamp,e.resources.reduce((function(e,t){try{return Object.assign(Object.assign({},e),{results:[].concat(i(e.results),[b(t)])})}catch(n){return Object.assign(Object.assign({},e),{errors:[].concat(i(e.errors),[(0,l.errorWithDetails)(null,(0,p.compileParseErrorDetails)("".concat(t.id),t.document_type))])})}}),{results:new Array,errors:new Array})};return{update:function(n){var i,a;return o(this,void 0,void 0,r.mark((function o(){var f,b,I,E,k,M,D;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==(0,m.getToken)()){r.next=5;break}return r.next=3,(0,p.compilePushErrorDetails)(S,n);case 3:throw f=r.sent,(0,l.errorWithDetails)(S,f);case 5:return r.prev=5,r.next=8,g.getLockOn(w);case 8:if(!(0,c.shouldCreate)(n)){r.next=16;break}return b=O(n),r.next=12,e.post("",b);case 12:return I=r.sent,r.abrupt("return",(0,d.pipe)(I,h));case 16:if(!(0,u.shouldDelete)(n)){r.next=23;break}return r.next=19,e.del("/".concat(n.id));case 19:return E=r.sent,r.abrupt("return",(0,d.pipe)(E,y,x(s.DELETEABLE)));case 23:return k=O(n),r.next=26,e.patch("/".concat(n.id),k);case 26:return M=r.sent,r.abrupt("return",(0,d.pipe)(M,j));case 28:r.next=39;break;case 30:if(r.prev=30,r.t0=r.catch(5),404!==(null===(i=r.t0)||void 0===i?void 0:i.status)||!0!==n.permanent.obsolete.state){r.next=34;break}return r.abrupt("return",{id:s.DELETEABLE,documentType:n.permanent.documentType,version:n.permanent.version,updatedAt:n.updatedAt});case 34:return 401===(null===(a=r.t0)||void 0===a?void 0:a.status)&&(0,m.deleteToken)(),r.next=37,(0,p.compilePushErrorDetails)(r.t0,n);case 37:throw D=r.sent,(0,l.errorWithDetails)(r.t0,D);case 39:return r.prev=39,r.next=42,v(t);case 42:return g.releaseLockOn(w),r.finish(39);case 44:case"end":return r.stop()}}),o,null,[[5,30,39,44]])})))},fetchAll:function(){var t;return o(this,void 0,void 0,r.mark((function n(){var i,o,a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==(0,m.getToken)()){n.next=5;break}return n.next=3,(0,p.compilePullErrorDetails)(S);case 3:throw i=n.sent,(0,l.errorWithDetails)(S,i);case 5:return o=I?{timestamp:I}:void 0,n.prev=6,n.t0=E,n.next=10,e.get((0,f.compileParams)(o));case 10:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 14:return n.prev=14,n.t2=n.catch(6),401===(null===(t=n.t2)||void 0===t?void 0:t.status)&&(0,m.deleteToken)(),n.next=19,(0,p.compilePullErrorDetails)(n.t2);case 19:throw a=n.sent,(0,l.errorWithDetails)(n.t2,a);case 21:case"end":return n.stop()}}),n,null,[[6,14]])})))}}}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.compileParams=void 0,t.compileParams=function(e){return e?"?".concat(Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1];return"".concat(n,"=").concat(i)})).join("&")):""}},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CloudOriginSettingsPage=void 0;var i=n(0),o=n(1),a=n(845),s=n(848);n(850);var c=n(448),u=n(852);t.CloudOriginSettingsPage=function(){var e=(0,o.useState)("loading"),t=r(e,2),n=t[0],d=t[1],l=(0,c.useLoginState)(),p=r(l,1)[0];switch((0,o.useEffect)((function(){switch(p.state){case"unknown":return void d("loading");case"logged in":return void d("logged-in");case"logged out":d("sign-in")}}),[p]),n){case"loading":return(0,i.jsx)("span",{children:"Checking login state"},void 0);case"logged-in":return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("h2",{children:"You are signed in"},void 0),(0,i.jsx)(u.SignOutForm,{loading:"loading"===p.loadingState},void 0)]},void 0);case"sign-up":return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("h2",{children:"Create Account"},void 0),(0,i.jsx)(s.SignUpForm,{},void 0),(0,i.jsx)("span",Object.assign({className:"CommonUI-button CommonUI-button-without-border CloudOriginSettingsPage-small-button",onClick:function(){return d("sign-in")}},{children:"Sign in"}),void 0)]},void 0);case"sign-in":return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("h2",{children:"Sign in"},void 0),(0,i.jsx)(a.SignInForm,{},void 0),(0,i.jsx)("span",Object.assign({className:"CommonUI-button CommonUI-button-without-border CloudOriginSettingsPage-small-button",onClick:function(){return d("sign-up")}},{children:"Create Account"}),void 0)]},void 0)}}},function(e,t,n){"use strict";var r=n(20).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInForm=void 0;var a=n(0),s=n(1),c=n(442),u=n(334),d=n(444);n(445);var l=n(126),p=n(260),f=n(5),m=n(332),v=n(446),g=n(447),b={email:"",currentPassword:""};t.SignInForm=function(){var e=this,t=(0,s.useState)(b),n=r(t,2),h=n[0],j=n[1],y=(0,s.useState)(null),O=r(y,2),x=O[0],S=O[1],w=(0,f.useObject)("dispatch"),I=(0,f.useObject)("settings"),E=(0,f.getOriginSettings)(I,"cloud",m.cloudOriginConfig.defaultConfig);return(0,a.jsx)(u.FormContextProvider,Object.assign({state:h,setState:j},{children:(0,a.jsxs)("div",Object.assign({className:"CredentialForms-outer"},{children:[(0,a.jsx)(c.EmailField,{},void 0),(0,a.jsx)(d.PasswordField,{type:"current"},void 0),(0,a.jsx)("button",Object.assign({onClick:function(){S("Loading..."),function(e,t){return o(this,void 0,void 0,i.mark((function n(){return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.makeSnipCloudHttp)("/token").post("",{email:e,password:t}).then((function(e){return e.token})));case 1:case"end":return n.stop()}}),n)})))}(h.email,h.currentPassword).then((function(e){(0,p.setToken)(e),(0,g.renewSettings)(w,E)})).then((function(){return S("Success")})).catch((function(t){return o(e,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.next=3,(0,v.extractAndRender)(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))}))},className:"CommonUI-button"},{children:"Log In"}),void 0),(0,a.jsx)("span",Object.assign({className:"CredentialForms-outer-submit-state"},{children:x}),void 0)]}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSnipCloudBaseUrl=void 0,t.getSnipCloudBaseUrl=function(){return window.location.origin.includes("5000")?window.location.origin.replace("5000","4000/api"):"https://api.getsnip.io"}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o(e){return i(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.json();case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}Object.defineProperty(t,"__esModule",{value:!0}),t.extractErrorFromResponse=void 0,t.extractErrorFromResponse=function(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Response)){t.next=27;break}return t.next=3,o(e);case 3:if(n=t.sent,429!==e.status){t.next=8;break}return t.abrupt("return","Too many requests");case 8:if(401!==e.status){t.next=16;break}if(!n.unconfirmed){t.next=13;break}return t.abrupt("return","Login failed: Please confirm your account.");case 13:return t.abrupt("return","Login failed: Invalid credentials.");case 14:t.next=25;break;case 16:if(400!==e.status||!n.email_taken){t.next=20;break}return t.abrupt("return","Email has already been taken.");case 20:if(!n||!n.errors){t.next=24;break}return t.abrupt("return",n.errors.join(" "));case 24:return t.abrupt("return","Unexpected error (".concat(e.status,")"));case 25:t.next=28;break;case 27:return t.abrupt("return","".concat(e));case 28:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";var r=n(20).default,i=n(32),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignUpForm=void 0;var a=n(0),s=n(1),c=n(442),u=n(334),d=n(444);n(445);var l=n(126),p=n(849),f=n(446),m={email:"",newPassword:"",newPasswordRepeat:""};t.SignUpForm=function(){var e=this,t=(0,s.useState)(m),n=r(t,2),v=n[0],g=n[1],b=(0,s.useState)(null),h=r(b,2),j=h[0],y=h[1];return(0,a.jsx)(u.FormContextProvider,Object.assign({state:v,setState:g},{children:(0,a.jsxs)("div",Object.assign({className:"CredentialForms-outer"},{children:[(0,a.jsx)(c.EmailField,{},void 0),(0,a.jsx)(d.PasswordField,{type:"new"},void 0),(0,a.jsx)(d.PasswordField,{type:"repeat"},void 0),(0,a.jsx)("button",Object.assign({onClick:function(){var t=[(0,c.validateEmailFormat)(v),(0,d.validatePasswordLength)(v),(0,d.validatePasswordRepeat)(v)].filter(p.isInvalid);0<t.length?y((0,a.jsx)(s.Fragment,{children:t.map((function(e,t){return(0,a.jsx)("div",Object.assign({className:"CredentialForms-validation-error"},{children:e.reason}),t)}))},void 0)):(y("Loading..."),function(e,t){return o(this,void 0,void 0,i.mark((function n(){return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.makeSnipCloudHttp)("/register").post("",{email:e,password:t}));case 1:case"end":return n.stop()}}),n)})))}(v.email,v.newPassword).then((function(){return y((0,a.jsx)("div",Object.assign({className:"CredentialForms-success-message"},{children:"We've sent you an email. Please confirm your account."}),void 0))})).catch((function(t){return o(e,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,(0,f.extractAndRender)(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))})))},className:"CommonUI-button"},{children:"Register"}),void 0),(0,a.jsx)("span",Object.assign({className:"CredentialForms-outer-submit-state"},{children:j}),void 0)]}),void 0)}),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInvalid=void 0,t.isInvalid=function(e){return"invalid"===e.type}},function(e,t,n){},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkLoginState=void 0;var o=n(126);function a(){return i(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){return(0,o.makeSnipCloudHttp)("/token").get("").then((function(){return e(!0)})).catch((function(n){return 401===n.status?e(!1):t(n)}))})));case 1:case"end":return e.stop()}}),e)})))}t.checkLoginState=function(){return i(this,void 0,void 0,r.mark((function e(){var t,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:t=e.sent,n=!0,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=!1,n=!1;case 11:return e.abrupt("return",[t,n]);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignOutForm=void 0;var r=n(0),i=n(1),o=n(5),a=n(332),s=n(126),c=n(260),u=n(447);t.SignOutForm=function(e){var t=(0,o.useObject)("dispatch"),n=(0,o.useObject)("settings"),d=(0,o.getOriginSettings)(n,"cloud",a.cloudOriginConfig.defaultConfig),l=(0,i.useCallback)((function(){(0,s.makeSnipCloudHttp)("/token").del(""),(0,c.deleteToken)(),(0,u.renewSettings)(t,d)}),[]);return(0,r.jsx)("button",Object.assign({disabled:e.loading,className:"CommonUI-button",onClick:function(){return l()}},{children:"Sign out"}),void 0)}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.testDirectoryAccess=void 0;var o=n(91),a=n(120);t.testDirectoryAccess=function(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw(0,o.errorWithDetails)(null,(0,a.compileDirectoryNotAccessibleErrorDetails)(e));case 2:return n=window.require("fs").promises,t.prev=3,t.abrupt("return",n.writeFile("".concat(e,"/probe"),"probe").then((function(){return!0})));case 7:throw t.prev=7,t.t0=t.catch(3),(0,o.errorWithDetails)(t.t0,(0,a.compileDirectoryNotAccessibleErrorDetails)(e));case 10:case"end":return t.stop()}}),t,null,[[3,7]])})))}},function(e,t,n){"use strict";var r=n(32),i=n(24).default,o=n(20).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FileOriginSettingsPage=void 0;var s=n(0),c=n(1),u=n(5),d=n(9),l=n(335),p=n(259),f=n(451);n(855);var m="file-origin-settings",v=(0,u.makeElectronSend)("dialogRequest");t.FileOriginSettingsPage=function(){var e=(0,c.useContext)(p.OriginReadynessContext),t=(0,u.useObject)("dispatch"),n=(0,u.useObject)("settings"),g=(0,u.getOriginSettings)(n,"file",f.fileOriginConfig.defaultConfig);(0,l.useElectronEvent)("dialogResult",(0,c.useCallback)((function(e){e.id===m&&t({type:"updateSettings",action:{type:"setOriginSettings",origin:"file",settings:{fileLocation:e.path}}})}),[]));var b=(0,d.useInteractionIndicator)(),h=o(b,2),j=h[0],y=h[1];return(0,s.jsxs)("div",Object.assign({className:"FileOriginSettingsPage-outer"},{children:[(0,s.jsx)("h2",{children:"Location"},void 0),(0,s.jsx)("input",{className:["CommonUI-input CommonUI-input-centered"].concat(i(!1!==e.ready||e.reason!==f.DIRECTORY_NOT_ACCESSIBLE&&e.reason!==f.DIRECTORY_NOT_SPECIFIED?[]:["CommonUI-input-red"])).join(" "),value:g.fileLocation,onChange:function(e){return t({type:"updateSettings",action:{type:"setOriginSettings",origin:"file",settings:{fileLocation:e.target.value}}})}},void 0),(0,s.jsx)("button",Object.assign({style:j.style,className:"CommonUI-button",onClick:function(){return a(void 0,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(),v({id:m,type:"directory"});case 2:case"end":return e.stop()}}),e)})))}},{children:"Choose Directory"}),void 0),(0,s.jsx)("div",Object.assign({className:"FileOriginSettingsPage-readyness"},{children:!0===e.ready?"Success":!1===e.ready?e.reason:"Pending"}),void 0)]}),void 0)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileBackend=void 0;var o=n(436),a=n(437),s=n(438),c=n(330),u=n(331),d=n(99),l=n(392),p=n(91),f=(new Date).getTime();t.makeFileBackend=function(e,t){var n=(0,a.makeFileStorageFetcher)(e,t),m=(0,s.makeFileStoragePusher)(e,t,(function(e){return e.id})),v=function(e){return m({id:(0,c.shouldCreate)(e)?"".concat("FILE-").concat(f++):e.id,document:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}).catch((function(t){throw(0,p.errorWithDetails)(t,(0,l.compilePushErrorDetails)("save",e))}))},g=(0,o.makeFileStorageDeleter)(e,t,(function(e){return e})),b=function(e){return g(e.id).catch((function(t){throw(0,p.errorWithDetails)(t,(0,l.compilePushErrorDetails)("delete",e))}))};return{update:function(e){return i(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,u.shouldDelete)(e)){t.next=6;break}return t.next=3,b(e).then((function(){return{id:d.DELETEABLE,resource:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}}));case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,v(e);case 9:case"end":return t.stop()}}),t)})))},fetchAll:function(){return i(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n().catch((function(e){throw(0,p.errorWithDetails)(e,(0,l.compilePullErrorDetails)())})));case 1:case"end":return e.stop()}}),e)})))}}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.mockOriginConfig=void 0;var c=n(5);function u(e){var t=JSON.stringify({id:e.id,version:e.permanent.version,documentType:e.permanent.documentType,updatedAt:e.updatedAt,resource:e.document},null,2);console.log(t)}var d="browser"===c.mode.type&&"mock"===c.mode.mode.type?c.mode.mode.dataSet:null;function l(){return s(this,void 0,void 0,r.mark((function e(){var t,i,o,s,c,u,l,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=d,e.next="initial"===e.t0?3:"empty"===e.t0?4:"samples"===e.t0?9:"quickAccess"===e.t0?14:"error"===e.t0?19:"delay"===e.t0?20:"screenshots"===e.t0?21:null===e.t0?26:27;break;case 3:case 26:return e.abrupt("return",[]);case 4:return e.next=6,Promise.resolve().then((function(){return a(n(858))}));case 6:return t=e.sent,i=t.data,e.abrupt("return",i);case 9:return e.next=11,Promise.resolve().then((function(){return a(n(859))}));case 11:return o=e.sent,s=o.data,e.abrupt("return",s);case 14:return e.next=16,Promise.resolve().then((function(){return a(n(866))}));case 16:return c=e.sent,u=c.data,e.abrupt("return",u);case 19:throw"ouch!";case 20:return e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e([])}),250)})));case 21:return e.next=23,Promise.resolve().then((function(){return a(n(867))}));case 23:return l=e.sent,p=l.data,e.abrupt("return",p);case 27:case"end":return e.stop()}}),e)})))}t.mockOriginConfig={origin:"mock",backendFactory:function(){return function(){var e=this;return{update:function(t){return s(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(t),"error"!==d){e.next=3;break}throw"oops!";case 3:if("delay"!==d){e.next=6;break}return e.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return e.abrupt("return",{id:t.id,version:t.permanent.version,documentType:t.permanent.documentType,updatedAt:t.updatedAt});case 7:case"end":return e.stop()}}),e)})))},fetchAll:function(){return s(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.t0=e.sent,e.t1=[],e.abrupt("return",{results:e.t0,errors:e.t1});case 5:case"end":return e.stop()}}),e)})))}}}()},defaultConfig:{displayName:"Mock",enabled:!0},iconName:"origin",renderSettingsPage:function(){return null},checkReadyness:function(){return s(void 0,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{ready:!0});case 1:case"end":return e.stop()}}),e)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var r=n(452),i=Object.assign(Object.assign({},r.code),{document:Object.assign(Object.assign({},r.code.document),{archived:!0})}),o={id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),document:{path:["code"],displayMode:{type:"list",items:[]},archived:!0,iconName:"hash"}};t.data=[i,o]},function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=n(452),o=n(860),a=n(861),s=n(862),c=n(863),u=n(864),d=n(865);t.data=[c.titles,a.paragraphs,o.lists,i.code,s.sticky,u.todo].concat(r(d.tags))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lists=void 0,t.lists={id:"LOCAL-1609269681359",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:25:28.472Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Lists"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"mixed"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"with"}]},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"paragrah"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"and"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"other"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]}]}]}]}]}]}]}]}]}]}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paragraphs=void 0,t.paragraphs={id:"LOCAL-1609102500129",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:10:25.695Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Paragraphs"}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"}]},{type:"paragraph",attrs:{}},{type:"code_block",content:[{type:"text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"quote",textAlignment:null,itemAlignment:null,backgroundColor:null},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"yellow"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"red"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sticky=void 0,t.sticky={id:"LOCAL-1609270318935",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:33:00.277Z"),document:{name:"Snippet: Sticky",content:{color:"blue",doc:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"Just a "},{type:"text",marks:[{type:"strong"}],text:"sticky note"},{type:"text",text:" with "},{type:"text",marks:[{type:"em"}],text:"formatting"},{type:"text",text:" in it."}]},{type:"paragraph"}]}},language:"sticky",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.titles=void 0,t.titles={id:"LOCAL-1609102182959",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:11:08.246Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Titles"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Short title"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Sub title"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Sub sub title"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.todo=void 0,t.todo={id:"LOCAL-1609270431703",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:35:08.944Z"),document:{name:"Snippet: Todo",content:{type:"doc",content:[{type:"paragraph",attrs:{index:1,status:"open"},content:[{type:"text",text:"one"}]},{type:"paragraph",attrs:{index:2,status:"open"},content:[{type:"text",text:"Lorem ipsum dolor sit amet, "},{type:"text",marks:[{type:"em"}],text:"consectetur"},{type:"text",text:" adipiscing elit, "},{type:"text",marks:[{type:"strong"}],text:"sed"},{type:"text",text:" do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore"},{type:"text",text:" magna aliqua."}]},{type:"paragraph",attrs:{index:5,status:"open"},content:[{type:"text",text:"two"}]},{type:"paragraph",attrs:{index:4,status:"done"},content:[{type:"text",text:"four"}]},{type:"paragraph",attrs:{index:3,status:"done"},content:[{type:"text",text:"three"}]}]},language:"todo",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tags=void 0,t.tags=[{id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),document:{path:["code"],displayMode:{type:"list",items:[]},archived:!1,iconName:"hash"}},{id:"LOCAL-1609320427201",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:51.957Z"),document:{path:["private"],displayMode:{type:"list",items:[]},archived:!1,iconName:"hash"}},{id:"LOCAL-1609320427203",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:01.517Z"),document:{path:["code","web","javascript"],displayMode:{type:"list",items:[]},archived:!1,iconName:"hash"}},{id:"LOCAL-1609320427204",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:05.613Z"),document:{path:["private","lists"],displayMode:{type:"list",items:[]},archived:!1,iconName:"hash"}},{id:"LOCAL-1609320427206",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:23.851Z"),document:{path:["code","web","ruby"],displayMode:{type:"list",items:[]},archived:!1,iconName:"hash"}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var r=new Date,i=function(e){return{id:e,version:0,documentType:"snippet",updatedAt:r,document:{name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"code ".concat(e," code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code")}]}]},language:"richtext",archived:!1}}},o={id:"LOCAL-1609970873967",version:0,documentType:"snippet",updatedAt:r,document:{name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"xyz"}]}]},language:"richtext",archived:!1}};t.data=[1,2,3,4,5].map((function(e){return[Object.assign({},(t="".concat(e,"-1"),{id:t,version:0,documentType:"snippet",updatedAt:r,document:{name:"",content:"code ".concat(t," code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code"),language:"code",archived:!1}})),Object.assign({},i("".concat(e,"-2")))];var t})).flat().concat(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0,t.data=[{id:"FILE-1635227918504",document:{path:["Work","Links"],archived:!1,displayMode:{type:"list",items:[]},iconName:"compass"},documentType:"tag",version:0,updatedAt:new Date(1)},{id:"FILE-1635227918505",document:{path:["Work","Connectivity"],archived:!1,displayMode:{type:"list",items:[]},iconName:"puzzle"},documentType:"tag",version:0,updatedAt:new Date(2)},{id:"FILE-1635227918506",document:{path:["Work","Daily Business"],archived:!1,displayMode:{type:"dashboard",rootDefinition:{axis:"X",items:[{axis:"Y",items:[{item:"FILE-1635227918518"},{item:"FILE-1635227918517"},{item:"FILE-1635227918521"}]},{axis:"Y",items:[{item:"FILE-1635227918519"},{item:"FILE-1635227918520"}]}]}},iconName:"cup"},documentType:"tag",version:0,updatedAt:new Date(3)},{id:"FILE-1635227918507",document:{path:["Work"],archived:!1,displayMode:{type:"list",items:[]},iconName:"wrench"},documentType:"tag",version:0,updatedAt:new Date(4)},{id:"FILE-1635227918508",document:{path:["Work","Standup"],archived:!1,displayMode:{type:"list",items:[]},iconName:"people"},documentType:"tag",version:0,updatedAt:new Date(5)},{id:"FILE-1635227918509",document:{path:["Work","How To"],archived:!1,displayMode:{type:"list",items:[]},iconName:"lightbulb"},documentType:"tag",version:0,updatedAt:new Date(6)},{id:"FILE-1635227918510",document:{path:["Work","Misc"],archived:!1,displayMode:{type:"list",items:[]},iconName:"bucket"},documentType:"tag",version:0,updatedAt:new Date(7)},{id:"FILE-1635227918511",document:{path:["Private"],archived:!1,displayMode:{type:"list",items:[]},iconName:"house"},documentType:"tag",version:0,updatedAt:new Date(8)},{id:"FILE-1635227918512",document:{path:["Private","Misc"],archived:!1,displayMode:{type:"list",items:[]},iconName:"bucket"},documentType:"tag",version:0,updatedAt:new Date(9)},{id:"FILE-1635227918513",document:{path:["Private","Life"],archived:!1,displayMode:{type:"list",items:[]},iconName:"star"},documentType:"tag",version:0,updatedAt:new Date(10)},{id:"FILE-1635227918514",document:{path:["Private","Goals"],archived:!1,displayMode:{type:"list",items:[]},iconName:"bar-chart"},documentType:"tag",version:0,updatedAt:new Date(11)},{id:"FILE-1635227918515",document:{path:["Work","Misc","Code Snippets"],archived:!1,displayMode:{type:"list",items:[]},iconName:"hash"},documentType:"tag",version:0,updatedAt:new Date(12)},{id:"FILE-1635227918516",document:{path:["Work","Misc","Tutorials"],archived:!1,displayMode:{type:"list",items:[]},iconName:"directions"},documentType:"tag",version:0,updatedAt:new Date(13)},{id:"FILE-1635227918517",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Work Log"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Troubles with log in, reached out to alpha squad"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Implemented draft according to tutorial"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Looked into incident regarding broken customer view, opened MR -> "},{type:"text",marks:[{type:"strong"}],text:"ready for review"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"command to get runner info: "},{type:"text",marks:[{type:"code"}],text:"kubectl describe runner-a1oh34qc"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Did 2 reviews"}]}]}]}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(14)},{id:"FILE-1635227918518",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"General Todos"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Follow up with Scrum Master "},{type:"reminder",attrs:{expression:"in two hour",date:1635244200938,createdAt:1635237055938}}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Reply to email from HR"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Follow up on security topic"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Redeploy the dev frontend"}]}]}]}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(15)},{id:"FILE-1635227918519",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"WIP: Set up monitoring infra"}]},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"Remember: connectivity must be established first - check with team"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Steps"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"look into tutorial "}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"deploy a dummy container"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"figure out container connectivity"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"set up db"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"set up admin interface"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"set up log drains"}]}]}]}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(16)},{id:"FILE-1635227918520",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"WIP: Broken customer view"}]},{type:"paragraph",attrs:{},content:[{type:"text",text:"Ticket: "},{type:"text",marks:[{type:"link",attrs:{href:"https://incidents.company.com/2ksl49lkj",title:null,nolabel:!0}}],text:"https://incidents.company.com/2ksl49lkj"},{type:"text",text:" "}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{},content:[{type:"text",text:"Note: most likely related to this error:"}]},{type:"paragraph",attrs:{}},{type:"code_block",content:[{type:"text",text:"Uncaught TypeError: a.getCustomerId is not a function"}]},{type:"paragraph",attrs:{}}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(17)},{id:"FILE-1635227918521",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Reminders"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Ad Hoc"}]},{type:"paragraph",attrs:{},content:[{type:"text",text:"Check if connectivity is back "},{type:"reminder",attrs:{expression:"at 13:00",date:1635253200100,createdAt:1635237704100}}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Recurring"}]},{type:"paragraph",attrs:{},content:[{type:"text",text:"Track time "},{type:"reminder",attrs:{expression:"every day at 4 pm",date:1635264000671,repeatDescription:{frequency:1,timeUnit:"day"},createdAt:1635237567671}}]},{type:"paragraph",attrs:{},content:[{type:"text",text:"Standup "},{type:"reminder",attrs:{expression:"every day at 9:30",date:1635240600881,repeatDescription:{frequency:1,timeUnit:"day"},createdAt:1635237600881}}]},{type:"paragraph",attrs:{}}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(18)},{id:"FILE-1635424855139",document:{name:"",content:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Todos"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"renew ID"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"sell old iPhone"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"bake a cake"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"order cake tin online "},{type:"reminder",attrs:{expression:"at nine pm",date:1635454800616,createdAt:1635432471616}}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"groceries"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"butter"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"sugar"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"chocolate"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"flour"}]}]}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"check out the Snip homepage "},{type:"text",marks:[{type:"link",attrs:{href:"https://getsnip.io",title:null,nolabel:!0}}],text:"https://getsnip.io"},{type:"text",text:" "}]}]}]}]},language:"richtext",archived:!1},documentType:"snippet",version:0,updatedAt:new Date(19)}]},function(e,t,n){"use strict";var r=n(20).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useApplicationPaths=void 0;var i=n(1),o=n(5),a=n(333),s=n(335),c=(0,o.makeElectronSend)("requestUserDataPath");function u(e,t){var n="".concat(e,"/").concat(t),r=window.require("fs");return r.existsSync(n)||r.mkdirSync(n),n}t.useApplicationPaths=function(){if(!o.isElectron)return null;var e=(0,i.useState)(null),t=r(e,2),n=t[0],d=t[1];return(0,s.useElectronEvent)("provideUserDataPath",(0,i.useCallback)((function(e){d(function(e,t){return{cacheLocation:u(e,t?"snip-storage-dev":"snip-storage"),logsLocation:u(e,t?"snip-logs-dev":"snip-logs")}}(e,a.isLocalhost))}),[])),(0,i.useEffect)((function(){c()}),[]),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToNewestId=void 0;var r=n(160);t.resolveToNewestId=function(e,t){var n=e;return(0,r.resolveToNewestId)(n.store,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToOldestId=void 0;var r=n(871);t.resolveToOldestId=function(e,t){var n=e;return(0,r.resolveToOldestId)(n.store,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToOldestId=void 0,t.resolveToOldestId=function e(t,n){var r=t.newToOld[n];return r?e(t,r):n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderError=void 0;var r=n(0),i=n(91),o=n(121);t.renderError=function(e,t){var n,a;if((0,i.isKnownError)(e)){var s=t.map((function(t){return t(e.stack[e.stack.length-1],e.stack)})).reverse().find((function(e){return e}));if(s)return s;var c=null===(a=null===(n=e.stack.find((function(e){return e.originalError})))||void 0===n?void 0:n.originalError)||void 0===a?void 0:a.toString();if(c)return(0,r.jsx)(o.SimpleErrorView,{title:"Unexpected Error",description:c},void 0)}return(0,r.jsx)(o.SimpleErrorView,{title:"Unknown Error",description:"Unknown Error."},void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useReminderBackend=t.readReminderId=void 0;var r=n(1),i=n(453),o=n(454),a=n(99),s=n(455);function c(e){return"".concat(e.id)}function u(e){return Object.assign(Object.assign({},e),{id:a.DELETEABLE})}function d(e,t){return e.createdAt===t.createdAt&&e.date===t.date&&e.expression===t.expression&&e.id===t.id&&e.text===t.text}function l(){return{delete:!1,persist:!0}}t.readReminderId=c;var p=function(e,t){return Object.assign(Object.assign({},{delete:!1,persist:!0}),t)};t.useReminderBackend=function(){var e=(0,r.useMemo)((function(){return(0,i.makeBackendFunctionsWithIdMemory)((function(e){return(0,o.postReminder)(e.document)}),(function(e){return(0,o.patchReminder)(e.document)}),(function(e){return(0,o.deleteReminder)(e.document).then(u)}),o.getReminders,c,(function(e){return!0===e.permanent.delete}))}),[]);return(0,s.useSyncedBackend)({readId:c,backendFunctions:e,areEqual:d,getPermanent:p,makeDefaultPermanent:l,filterBeforeUpload:function(e){return!0===e.permanent.delete||e.permanent.persist}})}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.download=void 0;var o=n(434);t.download=function(e,t,n,a,s,c){return i(void 0,void 0,void 0,r.mark((function i(){var u;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.initSyncer)(t,n,(function(e){return e}),c,s,a);case 2:return u=r.sent,e({type:"mergeStore",store:u.store}),r.abrupt("return",[]);case 5:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";var r=n(20).default,i=n(55).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reducerFactory=void 0;var o=n(3),a=n(876),s=n(877),c=n(878),u=n(879),d=n(880),l=n(881),p=n(882);t.reducerFactory=function(e,t){i(e);var n=r(t,7),f=n[0],m=n[1],v=n[2],g=n[3],b=n[4],h=n[5],j=n[6];return function(e,t){switch(t.type){case"mergeStore":return(0,o.pipe)(e,(0,c.mergeStore)(t.store.store,m,v),(0,s.compile)());case"updateAfterSync":return(0,o.pipe)(e,(0,d.updateAfterSync)(t.results,h,b),(0,s.compile)());case"update":return(0,o.pipe)(e,(0,u.update)(t.document,g,v,j,f,t.updatePermanent,t.markDirty),(0,s.compile)());case"updateAll":return(0,o.pipe)(e,(0,l.updateAll)(t.documents,g,v,j,f,t.updatePermanent,t.markDirty),(0,s.compile)());case"clear":return(0,o.pipe)(e,(0,a.clear)(t.filter),(0,s.compile)());case"updatePermanent":return(0,o.pipe)(e,(0,p.updatePermanent)(t.id,t.updatePermanent,t.markDirty,v),(0,s.compile)())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=void 0;var r=n(58);t.clear=function(e){return function(t){var n=t.store.store.reduce((function(t,n){return e(n.item)?(0,r.del)(t,n.item.id):t}),t.store.store),i=Object.assign(Object.assign({},t.store),{store:n});return Object.assign(Object.assign({},t),{store:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compile=void 0;t.compile=function(){return function(e){return Object.assign(Object.assign({},e),{derivedState:Object.assign(Object.assign({},e.derivedState),{documents:e.store.store.map((function(e){return e.item.document})),documentWrappers:e.store.store.map((function(e){return e.item}))})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStore=void 0;var r=n(326);t.mergeStore=function(e,t,n){return function(i){var o=(0,r.mergeStores)(i.store.store,e,t,n).mergedStore,a=Object.assign(Object.assign({},i.store),{store:o});return Object.assign(Object.assign({},i),{store:a})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=void 0;var r=n(456);t.update=function(e,t,n,i,o,a,s){return function(c){return(0,r.updateSingleDocument)(c,e,t,n,i,o,a,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSync=void 0;var r=n(423);t.updateAfterSync=function(e,t,n){return function(i){var o=(0,r.updateAfterSyncSome)(i.store,e,t,n);return Object.assign(Object.assign({},i),{store:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAll=void 0;var r=n(456);t.updateAll=function(e,t,n,i,o,a,s){return function(c){return e.reduce((function(e,c){return(0,r.updateSingleDocument)(e,c,t,n,i,o,a,s)}),c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermanent=void 0;var r=n(98),i=n(57);t.updatePermanent=function(e,t,n,o){return function(a){var s=(0,r.get)(a.store,e);if(!s)return a;var c=t(s.permanent);if(c===s.permanent)return a;var u=s.dirty||!n||n(s),d=(0,i.save)(a.store,e,s.document,o,{dirty:u,config:{permanent:c}});return Object.assign(Object.assign({},a),{store:d})}}},function(e,t,n){"use strict";var r=n(32),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.upload=void 0;var o=n(5),a=n(432);t.upload=function(e,t,n,s,c){return i(void 0,void 0,void 0,r.mark((function i(){var u,d,l;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.syncSomeAndAwaitAll)(e.store,n,s,c);case 2:return u=r.sent,d=(0,o.getFulfilled)(u),l=(0,o.getRejected)(u),t({type:"updateAfterSync",results:d,syncErrors:l}),r.abrupt("return",l);case 7:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScheduleBackend=t.readScheduleEntryId=void 0;var r=n(1),i=n(453),o=n(454),a=n(99),s=n(455);function c(e){return Object.assign(Object.assign({},e),{deletable:!0})}function u(e){return e.deletable?a.DELETEABLE:"".concat(e.id,"-").concat(e.date)}function d(e,t){return e.date===t.date&&e.id===t.id}function l(){return{delete:void 0,persist:!0}}t.readScheduleEntryId=u;var p=function(e,t){return Object.assign(Object.assign({},{delete:void 0,persist:!0}),t)};t.useScheduleBackend=function(){var e=(0,r.useMemo)((function(){return(0,i.makeBackendFunctionsWithIdMemory)((function(e){return(0,o.postScheduleEntry)(e.document)}),(function(e){return Promise.resolve(e.document)}),(function(e){var t;return"flush"===(null===(t=e.permanent.delete)||void 0===t?void 0:t.mode)?(0,o.unschedule)(e.document).then(c):(0,o.unschedule)(e.document)}),o.getSchedule,u,(function(e){return void 0!==e.permanent.delete}))}),[]);return(0,s.useSyncedBackend)({readId:u,backendFunctions:e,areEqual:d,getPermanent:p,makeDefaultPermanent:l,filterBeforeUpload:function(e){return void 0!==e.permanent.delete||e.permanent.persist}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchResults=void 0;var r=n(33),i=n(457);t.getSearchResults=function(e,t){var n=(0,i.makeRegex)(t);return n?e.map((function(e){var t=e.snippet.language,i=(0,r.getPluginByLanguage)(t);return i?i.getSearchResults(n,e).map((function(n){return{snippetListEntry:e,searchResult:n,language:t}})):[]})).flat().slice(0,20):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSearchResult=void 0;var r=n(33);t.renderSearchResult=function(e){var t=(0,r.getPluginByLanguage)(e.language);return t?t.renderSearchResult(e.snippetListEntry,e.searchResult):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileQuickAccessSearchResults=void 0;var r=n(33),i=n(457);t.compileQuickAccessSearchResults=function(e,t){var n=(0,i.makeRegex)(t);return n?e.map((function(e){var t=e.snippet.language,i=(0,r.getPluginByLanguage)(t);return i?i.getQuickAccessSearchResults(n,e).map((function(n){return{snippetListEntry:e,searchResult:n,language:t}})):[]})).flat().slice(0,20):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderQuickAccessSearchResult=void 0;var r=n(33);t.renderQuickAccessSearchResult=function(e){var t=(0,r.getPluginByLanguage)(e.language);return t?t.renderQuickAccessSearchResult(e.snippetListEntry,e.searchResult):null}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(104),i=n.n(r),o=(n(465),n(1)),a=n.n(o),s=n(10),c=n(5),u=n(9),d=n(3);function l(e,t,n){Object(d.useEventBusSubscription)(e,Object(o.useCallback)((function(e){t.type===e.type&&n()}),[n]))}function p(e,t){var n=Object(o.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1];return l(e,t,Object(o.useCallback)((function(){return a(!0)}),[])),[i,a]}n(637);var f=n(28),m=n(0),v=f.getSearchResults;function g(e){var t=Object(o.useCallback)((function(t){var n;e.select(null===(n=t.filteredEntries[t.currentIndex])||void 0===n?void 0:n.searchResult.snippetId),e.onBlur()}),[]);return Object(m.jsx)(u.Selection,{onBlur:e.onBlur,entries:e.snippetList,filter:e.filter||f.getSearchResults,onConfirm:t,renderEntry:f.renderSearchResult})}function b(e){var t=p(Object(c.useObject)("eventBuses").menuEventBus,{type:"search-all"}),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(o.useCallback)((function(){return i(!1)}),[]);return r?Object(m.jsx)(u.Modal,{onClose:a,children:Object(m.jsx)(g,{snippetList:e.snippetList,onBlur:a,select:e.select,filter:e.filter})}):null}var h=n(16);n(889);function j(){var e=Object(c.useObject)("windowDimensions");return Object(o.useMemo)((function(){return{x:0,y:0,width:e.width,height:e.height}}),[e])}var y=n(30);function O(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){r({type:"addTag",path:[].concat(Object(y.a)(n),[e])})}}function x(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useFactory)(O,[e.path],[t]);return Object(m.jsx)(u.ConfirmableInputField,{label:"Set",initialValue:"",onConfirm:function(t){return e.popOutMenu.close((function(){return n(t)}))}})}function S(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(){return r({type:"deleteTag",path:n.tag.path})}}function w(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useFactory)(S,[e.tagListEntry],[t]);return Object(m.jsx)(u.ConfirmableInputField,{label:"Confirm",initialValue:"",onConfirm:function(t){return e.popOutMenu.close((function(){return n(t)}))},buttonOnly:!0})}var I=n(459),E=["successLabel","label"],k=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(d.useTimeout)(Object(o.useCallback)((function(){return i(!1)}),[]),2e3),c=r?e.successLabel:e.label,u=(e.successLabel,e.label,Object(I.a)(e,E));return Object(m.jsx)("button",Object(h.a)(Object(h.a)({},u),{},{onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),i(!0),a()},children:c}))},M=(n(890),["list","dashboard"]);function D(e){switch(e){case"list":return{type:"list",items:[]};case"dashboard":return{type:"dashboard",rootDefinition:{axis:"X",items:[]}}}}var _=function(e){var t=Object(c.useObject)("dispatch"),n=Object(o.useState)(e.currentDisplayMode.type),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(m.jsxs)("div",{className:"OriginSelector-outer",children:[Object(m.jsx)("select",{className:"CommonUI-button",value:i,onChange:function(e){return a(e.target.value)},children:M.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))}),Object(m.jsx)(k,{disabled:i===e.currentDisplayMode.type,className:"CommonUI-button-without-border",onMouseDown:function(e){return e.preventDefault()},successLabel:"Set!",label:"Set",onClick:function(){return t({type:"updateDisplayMode",tagId:e.tagId,displayMode:D(i)})}})]})};function P(e){return Object(m.jsx)(_,{currentDisplayMode:e.tagListEntry.tag.displayMode,tagId:e.tagListEntry.metaData.id})}n(891);var C=["folder","award","alarm","bank","bar-chart","basket","bell","bicycle","bookmark","briefcase","sun","bug","bucket","calculator","calendar","camera","camera-reels","cart","money","speech-bubble","check","clock","compass","cone","gaming","cpu","credit-card","cup","cup-straw","direction","directions","display","easel","envelope","glasses","flag","flower","gem","gender-female","gender-male","gender-trans","hash","location","gift","hammer","thumbs-down","thumbs-up","headphones","heart","house","lightbulb","microphone","moon","music-note","pencil","people","pie-chart","piggy-bank","power-plug","puzzle","snowflake","star","sun-glasses","telephone","tools","trash","tree","trophy","umbrella","wrench"];function T(e){var t=Object(c.useObject)("dispatch"),n=Object(o.useCallback)((function(n){t({type:"setTagIcon",id:e.tagListEntry.metaData.id,iconName:n})}),[e.tagListEntry.metaData.id]);return Object(m.jsx)("div",{className:"IconPicker",children:C.map((function(t){return Object(m.jsx)("div",{className:"IconPicker-item ".concat(e.tagListEntry.tag.iconName===t&&"IconPicker-item-selected"),onClick:function(){return n(t)},children:Object(m.jsx)(u.Icon,{iconName:t})},t)}))})}n(892);var N=function(e){var t=Object(c.useObject)("dispatch"),n=Object(o.useState)(e.currentOrigin),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(m.jsxs)("div",{className:"OriginSelector-outer",children:[Object(m.jsx)("select",{className:"CommonUI-button",value:i,onChange:function(e){return a(e.target.value)},children:f.originConfigs.map((function(e){return Object(m.jsx)("option",{value:e.origin,children:e.defaultConfig.displayName},e.origin)}))}),Object(m.jsx)(k,{disabled:i===e.currentOrigin,className:"CommonUI-button CommonUI-button-without-border AutoSizingMenuItem-dont-break",onMouseDown:function(e){return e.preventDefault()},successLabel:"Switched!",label:"Switch",onClick:function(){return t({type:"changeOrigin",id:e.id,origin:i})}})]})};function R(e){return Object(m.jsx)(N,{currentOrigin:e.tagListEntry.metaData.origin,id:e.tagListEntry.metaData.id})}function A(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){r({type:"renameTag",newLabelValue:e,path:n})}}function L(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useFactory)(A,[e.path],[t]);return Object(m.jsx)(u.ConfirmableInputField,{label:"Set",initialValue:e.value,onConfirm:function(t){return e.popOutMenu.close((function(){return n(t)}))}})}n(893);function B(e){switch(e){case null:case"rename":case"add":case"origins":case"archive":return"17.5em";case"display-mode":case"icon":return"20em"}}function F(e,t){return"icon"===t}function U(e){var t=Object(u.useActiveMenuItem)(e.popOutMenu),n=Object(s.a)(t,2),r=n[0],i=n[1],a=j();if(!e.popOutMenu.isOpen)return null;if(!e.entry)return null;var c=e.entry.data.id&&Object(f.resolveToNewestId)(e.appState,e.entry.data.id),d=c&&e.appState.derivedState.tagList.find((function(e){return e.metaData.id===c}));if(!d)return null;var l=e.entry.path,p=e.entry.name,v=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2.5em";return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:e,activeMenuItem:r,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:e,onClick:function(){return i(e)},onBackClick:function(e,t){t.stopPropagation(),i(null)},children:t})},renderBody:n,bodyHeight:o||void 0,collapse:F(0,r)})};return Object(m.jsxs)(u.PopOutMenu,{popOutMenu:e.popOutMenu,width:B(r),viewPort:a,children:[v("rename",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"rename"})," Rename"]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(L,{path:l,popOutMenu:e.popOutMenu,value:p})})})),v("add",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"plus-square-fill"})," Add Sub-Tag"]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(x,{path:l,popOutMenu:e.popOutMenu})})})),v("origins",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"origin-fill"}),"Origin: ".concat(d.metaData.origin)]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(R,{tagListEntry:d})})})),v("display-mode",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"tag-display-mode"}),"Display Mode: ".concat(d.tag.displayMode.type)]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(P,{tagListEntry:d})})})),v("archive",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"move-to-archive"})," Archive"]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(w,{tagListEntry:d,popOutMenu:e.popOutMenu})})})),v("icon",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"icon-picker"})," Change Icon"]}),(function(){return Object(m.jsx)(u.ScrollShadows,{children:Object(m.jsx)(T,{tagListEntry:d})})}),"15em")]})}var G="archive",z="everything";function W(e){var t=Object(c.useObject)("eventBuses").requestTagsSidebarFocusEventBus,n=Object(u.useRequestFocus)(t),r=Object(o.useMemo)((function(){var t=Object(d.compileTree)(e.appState.derivedState.tagList.filter((function(e){return!e.tag.archived})).map((function(e){return{path:e.tag.path,data:{id:e.metaData.id,origin:e.metaData.origin,iconName:e.tag.iconName}}})),{id:"derived",origin:"cloud",iconName:null},{id:"root",origin:"cloud",iconName:null}),n=[{name:"Everything",content:[],root:!1,data:{readonly:!0,id:z,origin:"cloud",iconName:"folder"}},{name:"Archive",content:[],root:!1,data:{readonly:!0,id:G,origin:"cloud",iconName:"archive"}}];return Object(h.a)(Object(h.a)({},t),{},{content:n.concat(t.content)})}),[e.appState.derivedState.tagList]),i=Object(u.usePopOutMenu)(),l=Object(o.useState)(null),p=Object(s.a)(l,2),f=p[0],v=p[1];return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsxs)("div",{className:"TagList-outer1",children:[Object(m.jsx)("div",{className:"App-top-bar-padding"}),Object(m.jsx)(u.TreeView,{ref:n,tree:r,currentPath:e.selectedPath,onSelect:function(t){t.data.id===z?e.onSelectPath([]):t.data.id===G?e.onSelectArchive():e.onSelectPath(t.path)},extraElements:{archive:{after:Object(m.jsx)("span",{className:"TagList-divider"})}},onSetCollapsedPath:function(t,n){return e.onToggleCollapsed(t.path,n)},collapsedPaths:e.collapsedPaths,indexOffset:e.selectedPath.length>0?0:e.showOnlyDeleted?1:0,navigateRight:e.navigateRight,onContextMenu:function(e,t){c.isMobile||(v(e),i.open(Object(h.a)({type:"fixed"},t)))}})]}),Object(m.jsx)(U,{entry:f,appState:e.appState,popOutMenu:i})]})}n(894);function H(e,t){var n=e.errors[t];return void 0!==n&&0<n.length}function q(e){return H(e,"upload")||H(e,"download")}function V(e){var t,n,r=H(e.syncState,"download")?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("h2",{children:"Errors during download:"}),null===(t=e.syncState.errors.download)||void 0===t?void 0:t.map((function(e,t){return Object(m.jsx)("div",{children:Object(f.renderError)(e,f.errorRenderers)},t)}))]}):null,i=H(e.syncState,"upload")?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("h2",{children:"Errors during upload:"}),null===(n=e.syncState.errors.upload)||void 0===n?void 0:n.map((function(e,t){return Object(m.jsx)("div",{children:Object(f.renderError)(e,f.errorRenderers)},t)}))]}):null;return Object(m.jsxs)("div",{className:"SyncStateDetails",children:[r,i]})}function K(e){return"idle"===e.state.name?q(e)?void 0:"SyncStateIndicator-success":"SyncStateIndicator-load"}n(895);function X(e){if("idle"===e.syncState.state.name)return q(e.syncState)?Object(m.jsx)(u.Icon,{iconName:"sync-state-error"}):Object(m.jsx)(u.Icon,{iconName:"sync-state-success"});switch(e.syncState.state.slotName){case"upload":return Object(m.jsx)(u.Icon,{iconName:"sync-state-upload"});case"download":return Object(m.jsx)(u.Icon,{iconName:"sync-state-download"})}throw"unexpected state: unknown slot name ".concat(e.syncState.state.slotName)}function Y(e){var t=j();return Object(m.jsx)(o.Fragment,{children:Object(m.jsxs)("span",{className:"App-top-bar-menu-wrapper SyncStateIndicator-outer",children:[e.popOutMenu.isOpen&&Object(m.jsx)(u.PopOutMenu,{popOutMenu:e.popOutMenu,viewPort:t,width:"30em",height:"30em",children:Object(m.jsx)(u.ScrollShadows,{children:Object(m.jsx)(V,Object(h.a)({},e))})}),Object(m.jsx)("span",{className:["App-top-bar-icon",K(e.syncState)].join(" "),onClick:function(){return"idle"===e.syncState.state.name&&q(e.syncState)&&e.popOutMenu.open({x:-10,y:20,type:"absolute"})},children:Object(m.jsx)(X,{syncState:e.syncState})})]})})}function $(e){e({type:"addTag",path:["Untitled"]})}n(896);function J(){var e=Object(c.useObject)("eventBuses").programmaticHorizontalScrollEventBus;return Object(m.jsxs)("div",{className:"SwipeRightIndicator",onClick:function(){return e.emit({type:"relative",direction:"right",amount:1})},children:[Object(m.jsx)("span",{children:"Swipe"}),Object(m.jsx)(u.Icon,{iconName:"arrow-right"})]})}n(897);function Q(e){var t=Object(u.useInteractionIndicator)(),n=Object(s.a)(t,2),r=n[0],i=n[1],o=void 0===e.delayAction||e.delayAction;return Object(m.jsx)("span",{className:"SmallAddIcon",onClick:function(){o||e.onClick(),i({postAction:o?function(){return e.onClick()}:void 0})},style:r.style,children:Object(m.jsx)(u.Icon,{iconName:"plus-square"})})}n(898);function Z(e){var t=Object(c.useObject)("dispatch");return Object(m.jsxs)("div",{className:"EmptyTagList",children:[Object(m.jsx)("span",{className:"App-scroll-past-end-empty-message",children:"No tags yet."}),!e.hideAdd&&Object(m.jsx)(Q,{onClick:function(){return $(t)}}),c.isMobile&&Object(m.jsx)(J,{})]})}n(899);var ee=Object(c.makeElectronSend)("windowsIcons");function te(){var e=Object(o.useState)("maximized"),t=Object(s.a)(e,2),n=t[0],r=t[1];return!c.isMocked&&Object(f.useElectronEvent)("announceMaximizedState",Object(o.useCallback)((function(e){r(e)}),[])),Object(o.useEffect)((function(){ee("requestStatus")}),[]),Object(m.jsxs)("div",{className:"WindowsIcons",children:[Object(m.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return ee("minimize")},children:Object(m.jsx)(u.Icon,{iconName:"windows-os-minimize"})}),"maximized"===n?Object(m.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return ee("unmaximize")},children:Object(m.jsx)(u.Icon,{iconName:"windows-os-unmaximize"})}):Object(m.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return ee("maximize")},children:Object(m.jsx)(u.Icon,{iconName:"windows-os-maximize"})}),Object(m.jsx)("div",{className:"WindowsIcons-button WindowsIcons-close-button",onClick:function(){return ee("close")},children:Object(m.jsx)(u.Icon,{iconName:"windows-os-close"})})]})}var ne=n(33),re=(n(900),Object(ne.getConfigsForButtons)().filter((function(e){return"richtext"===Object(s.a)(e,1)[0]}))),ie=Object(s.a)(re,1),oe=Object(s.a)(ie[0],3)[2];function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reminder,i=void 0!==r&&r,o=n.focus,a=void 0===o||o,s=n.scroll,u=void 0===s||s,d=n.displayModeInstructions,l=void 0===d?[]:d;t({type:"createSnippet",snippet:null===e?Object(f.bootstrapSnippet)("",oe.bootstrap(),"richtext"):e,postInstructions:[].concat(Object(y.a)(i?[{type:"reminder"}]:[]),Object(y.a)(a?[{type:"focus"}]:[]),Object(y.a)(c.isMobile&&u?[{type:"scroll"}]:[])),displayModeInstructions:l})}function se(){var e=Object(c.useObject)("dispatch");return Object(m.jsx)(Q,{onClick:function(){return ae(null,e)}})}var ce=function(){return Object(m.jsxs)("div",{className:"EmptySnippetList",children:[Object(m.jsx)("span",{className:"App-scroll-past-end-empty-message",children:"No snippets yet."}),Object(m.jsx)(se,{})]})};n(901);function ue(e,t){var n=Object(s.a)(e,3),r=n[0],i=n[1],o=n[2],a=Object(s.a)(t,1)[0];return function(e){var t=e.effect;switch(t.type){case"createSnippet":case"changeSnippetOrigin":return void a.emit({id:t.id,through:"programmatic"});case"deleteSnippet":if(r!==t.id)return;if(!o)return;var n=o.findIndex((function(e){return e.metaData.id===t.id})),s=i[Math.max(0,n)];return void(s&&a.emit({id:s.metaData.id,through:"programmatic"}))}}}function de(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(){return r({type:n.snippet.archived?"restoreSnippet":"deleteSnippet",id:n.metaData.id,snippet:n.snippet})}}function le(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useFactory)(de,[e.snippetListEntry],[t]);return Object(m.jsx)(u.ConfirmableInputField,{label:"Confirm",initialValue:"",onConfirm:function(t){return e.onConfirm((function(){return n(t)}))},buttonOnly:!0})}function pe(e){return Object(m.jsx)(N,{currentOrigin:e.snippetListEntry.metaData.origin,id:e.snippetListEntry.metaData.id})}function fe(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){r({type:"setSnippetName",snippetId:n,name:e})}}function me(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useFactory)(fe,[e.snippetId],[t]);return Object(m.jsx)(u.ConfirmableInputField,{label:"Set",initialValue:e.initialValue,onConfirm:function(t){return e.popOutMenu.close((function(){return n(t)}))}})}function ve(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useEventBus)(),r=Object(o.useMemo)((function(){return e.tagList.filter((function(e){return!1===e.tag.archived})).filter((function(t){return!e.snippetListEntry.metaData.resolvedTags.find((function(e){return e.id===t.metaData.id}))})).map((function(e){return{label:e.metaData.text,iconName:e.tag.iconName}}))}),[e.tagList,e.snippetListEntry.metaData.resolvedTags]),i=Object(o.useCallback)((function(n){return t({type:"addTagToSnippet",id:e.snippetListEntry.metaData.id,tag:n})}),[]);return Object(m.jsxs)("div",{className:"SnippetListContextMenu-tags",children:[Object(m.jsx)("div",{className:"SnippetListContextMenu-tags-list",children:e.snippetListEntry.metaData.resolvedTags.map((function(n){var r;return Object(m.jsxs)("div",{className:"AutoSizingMenuItem-body-row SnippetListContextMenu-tags-list-entry",children:[Object(m.jsx)(u.Icon,{iconName:(null===(r=e.tagList.find((function(e){return e.metaData.id===n.id})))||void 0===r?void 0:r.tag.iconName)||"hash"}),Object(m.jsx)("span",{className:"AutoSizingMenuItem-dont-break SnippetListContextMenu-tags-list-entry-label",children:n.text}),Object(m.jsx)("button",{className:"CommonUI-button CommonUI-button-without-border SnippetListContextMenu-tags-remove-button AutoSizingMenuItem-dont-break",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return t({type:"removeSnippetFromTag",snippetId:e.snippetListEntry.metaData.id,tagId:n.id})},children:"Unassign"})]},n.text)}))}),Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-column",children:Object(m.jsx)(u.Autocomplete,{className:"CommonUI-input CommonUI-input-without-border CommonUI-input-hidden CommonUI-input-centered AutoSizingMenuItem-dont-break",entries:r,requestFocus:n,closeOnConfirm:!1,resetOnConfirm:!0,onConfirm:i,placeholder:"Search or create new ..."})})]})}n(902);function ge(e){var t;return null===(t=f.originConfigs.find((function(t){return t.origin===e})))||void 0===t?void 0:t.defaultConfig.displayName}function be(e){switch(e){case null:case"archive":return"12.5em";case"rename":return"15em";case"tags":return"25em";case"origins":return"17.5em"}}function he(e,t){return"tags"===t}function je(e){var t=Object(u.useActiveMenuItem)(e.popOutMenu),n=Object(s.a)(t,2),r=n[0],i=n[1],a=j();if(!e.popOutMenu.isOpen)return null;var c=e.id&&Object(f.resolveToNewestId)(e.appState,e.id),d=c&&e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===c}));if(!d)return null;var l=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2.5em",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=a.allowOverflow,c=void 0!==s&&s;return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:e,activeMenuItem:r,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:e,onClick:function(){return i(e)},onBackClick:function(e,t){t.stopPropagation(),i(null)},children:t})},renderBody:n,bodyHeight:o||void 0,collapse:he(0,r),allowOverflow:c})};return Object(m.jsxs)(u.PopOutMenu,{popOutMenu:e.popOutMenu,width:be(r),viewPort:a,children:[l("rename",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"rename"})," Rename"]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(me,{snippetId:d.metaData.id,initialValue:d.snippet.name,popOutMenu:e.popOutMenu})})})),l("tags",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"hash"})," Assign Tags"]}),(function(){return Object(m.jsx)(ve,{snippetListEntry:d,tagList:e.appState.derivedState.tagList})}),null,{allowOverflow:!0}),l("origins",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"origin-fill"}),"Origin: ".concat(ge(d.metaData.origin))]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(pe,{snippetListEntry:d})})})),l("archive",d.snippet.archived?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"restore-from-archive"})," Restore"]}):Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"move-to-archive"})," Archive"]}),(function(){return Object(m.jsx)("div",{className:"AutoSizingMenuItem-body-row",children:Object(m.jsx)(le,{snippetListEntry:d,onConfirm:function(t){return e.popOutMenu.close(t)}})})}))]})}function ye(e,t){return Math.max(0,t.findIndex((function(t){return t.metaData.id===e.selectedSnippetId})))}function Oe(e,t,n){t[n]&&e.selectedSnippetIdEventBus.emit({id:t[n].metaData.id,through:"selection"})}function xe(e,t,n){var r=ye(e,t);n<0?Oe(e,t,0===r?t.length-1:r-1):n>0&&(r===t.length-1?Oe(e,t,0):Oe(e,t,r+1))}function Se(e){var t=Object(u.useRequestFocus)(e.requestFocus),n=Object(o.useMemo)((function(){return Object(d.buildHandler)(function(e,t){return[Object(d.buildKeyboardEventHandlerChainItem)(d.KEY_CODES.UP_ARROW,(function(n){Object(d.preventDefault)(n),xe(e,t,-1)})),Object(d.buildKeyboardEventHandlerChainItem)(d.KEY_CODES.DOWN_ARROW,(function(n){Object(d.preventDefault)(n),xe(e,t,1)})),Object(d.buildKeyboardEventHandlerChainItem)(d.KEY_CODES.LEFT_ARROW,(function(t){Object(d.preventDefault)(t),e.navigateLeft()})),Object(d.buildKeyboardEventHandlerChainItem)(d.KEY_CODES.RIGHT_ARROW,(function(t){Object(d.preventDefault)(t),e.navigateRight()}))]}(e,e.filteredSnippetList))}),[e,e.filteredSnippetList]),r=Object(u.usePopOutMenu)(),i=Object(o.useState)(null),l=Object(s.a)(i,2),p=l[0],f=l[1],v=Object(d.useRefsCallback)(),g=v.refs,b=v.callback;Object(d.useScrollIntoView)({dependency:e.selectedSnippetId,condition:e.enableScrollIntoView,index:ye(e,e.filteredSnippetList),refs:g});var j=e.filteredSnippetList.map((function(t,n){return Object(m.jsx)("div",{ref:function(e){return e&&b(e,n)},className:"SnippetList-entryOuter ".concat(t.metaData.id===e.selectedSnippetId?"SnippetList-entryOuterSelected":""),children:Object(ne.renderSnippet)({snippetListEntry:t,settings:e.settings,setSelectedSnippetId:function(t){return e.selectedSnippetIdEventBus.emit({id:t,through:"selection"})},onContextMenu:function(e,t){c.isMobile||(f(e.metaData.id),r.open(Object(h.a)({type:"fixed"},t)))}})},"".concat(e.settings.themeName,"-").concat(n))})),y=Object(d.usePrevious)(e.filteredSnippetList),O=Object(d.useFactory)(ue,[e.selectedSnippetId,e.filteredSnippetList,y],[e.selectedSnippetIdEventBus]);return Object(d.useEventBusSubscription)(e.appEffectEventBus,O),Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{className:"SnippetList-listOuter",ref:t,tabIndex:0,onKeyDown:n,children:Object(m.jsx)("div",{"keyboard-aware-element":"true",className:"SnippetList-listInner",children:j})}),Object(m.jsx)(je,{id:p,appState:e.appState,popOutMenu:r})]})}function we(e,t){switch(t.type){case"start":return{query:"",currentIndex:0};case"changeQuery":var n;return Object(h.a)(Object(h.a)({},e),{},{query:t.query,currentIndex:null!==(n=null===e||void 0===e?void 0:e.currentIndex)&&void 0!==n?n:0});case"bumpCurrentIndex":if(!e)throw"unexpected state";return Object(h.a)(Object(h.a)({},e),{},{currentIndex:e.currentIndex+1});case"stop":return null}}var Ie=c.isMocked?0:125;function Ee(e,t,n){var r=function(){var e=Object(o.useReducer)(we,null),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(o.useCallback)((function(e){r({type:"changeQuery",query:e.target.value})}),[]),a=Object(o.useCallback)((function(e){e.keyCode===d.KEY_CODES.ENTER||e.keyCode===d.KEY_CODES.TAB?(e.preventDefault(),r({type:"bumpCurrentIndex"})):e.keyCode===d.KEY_CODES.ESCAPE&&r({type:"stop"})}),[]),c=Object(o.useCallback)((function(){r({type:"stop"})}),[]);return[n,r,i,a,c]}(),i=Object(s.a)(r,5),a=i[0],u=i[1],p=i[2],f=i[3],m=i[4],v=Object(ne.useEditorInstances)(e);l(t,{type:"search"},Object(o.useCallback)((function(){return u({type:"start"})}),[]));var g=function(e){var t=Object(d.useStartAnimation)().startAnimation;return Object(o.useCallback)((function(n){if(e){var r=e.getBoundingClientRect(),i=c.isMobile?r.height/2:100,o=function(n,r){return t(n,Math.max(0,r),Ie,(function(t){e.scrollTop=Math.max(0,t)}))};n.top-100<r.y?o(e.scrollTop,e.scrollTop-(r.y-n.top)-100):r.y+r.height<n.bottom+i&&o(e.scrollTop,e.scrollTop+(n.bottom-(r.y+r.height))+i)}}),[e])}(n);return Object(d.useStateStaysDefined)(a,(function(e){if(v.forEach((function(e){var t;return null===(t=e.highlightOccurences)||void 0===t?void 0:t.call(e,[],0)})),!(e.query.length<2)){var t=v.map((function(t){return{editorInstance:t,occurences:t.findOccurences([e.query])}})),n=t.filter((function(e){return 0<e.occurences.length})).map((function(e){return[e.occurences.map((function(t,n){return{id:e.editorInstance.id,index:n,occurence:t}}))]})).flat().flat().sort((function(e,t){return e.occurence.coordinates.top===t.occurence.coordinates.top?e.occurence.coordinates.left-t.occurence.coordinates.left:e.occurence.coordinates.top-t.occurence.coordinates.top}));if(0!==n.length){var r=n[e.currentIndex%n.length];t.forEach((function(e){return e.editorInstance.highlightOccurences(e.occurences,-1)}));var i=t.find((function(e){return e.editorInstance.id===r.id}));null===i||void 0===i||i.editorInstance.highlightOccurences(i.occurences,r.index),g(r.occurence.coordinates)}}})),Object(d.useStateChangesToNull)(a,(function(){v.forEach((function(e){return e.highlightOccurences([],0)}))})),[a,p,f,m]}n(903);function ke(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var n,r;e.active?null===(n=t.current)||void 0===n||n.focus():null===(r=t.current)||void 0===r||r.blur()}),[e.active]),Object(m.jsx)("div",{className:["SearchBar",e.active?"SearchBar-active":""].join(" "),children:Object(m.jsx)("input",Object(h.a)({ref:t},e.inputAttributes))})}function Me(){return Date.now()}n(904);function De(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){var t=e.effect;switch(t.type){case"renameSnippet":return void r();case"snippetChanges":return void(n&&t.ids.includes(n.metaData.id)&&r())}}}var _e=c.isMocked?0:125,Pe="".concat(_e/1e3,"s"),Ce=c.isMocked?0:333,Te="".concat(Ce/1e3,"s"),Ne=c.isMocked?0:500,Re="".concat(Ne/1e3,"s"),Ae=[{terminal:!0,target:"initial",config:{duration:0,data:{open:!1,panelInnerStyle:{transform:"translateY(calc(-100% - 2em))"},panelOuterStyle:{}}}},{config:function(e){var t="no-backdrop"===e?{outerDuration:0,outerDurationCss:"0s"}:{outerDuration:_e,outerDurationCss:Pe};return{duration:t.outerDuration,data:{open:!0,panelInnerStyle:{transform:"translateY(calc(-100% - 2em))"},panelOuterStyle:{animationName:"open-mobile-menu-panel-outer",animationFillMode:"forwards",animationDuration:t.outerDurationCss}}}}},{target:"open",config:{duration:Ce,data:{open:!0,panelInnerStyle:{animationName:"open-mobile-menu-panel-inner",animationDuration:Te},panelOuterStyle:{}}}},{terminal:!0,target:"open",config:{duration:0,data:{open:!0,panelInnerStyle:{},panelOuterStyle:{}}}},{config:{duration:Ne,data:{open:!0,panelInnerStyle:{animationName:"close-mobile-menu-panel-inner",animationDuration:Re},panelOuterStyle:{animationName:"close-mobile-menu-panel-outer",animationDuration:Re}}}}];function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(d.useAnimationSteps)(Ae),r=Object(s.a)(n,2),i=r[0],a=r[1],u=Object(c.useObject)("windowDimensions");Object(o.useEffect)((function(){return e.emit({lock:i.open,reason:"useMobileMenuPanel state change"}),function(){return e.emit({lock:!1,reason:"useMobileMenuPanel teardown"})}}),[i.open]);var l=Object(o.useMemo)((function(){return t.noBackdrop?{height:0}:{height:u.height}}),[u.height]),p=Object(d.useMergedCSSProperties)([i.panelOuterStyle,l]);return{open:Object(o.useCallback)((function(e){return a({type:"start",target:"open",path:t.noBackdrop?"no-backdrop":"default",postAction:e})}),[]),close:Object(o.useCallback)((function(e){return a({type:"advance",target:"initial",postAction:e})}),[]),panelOuterStyle:p,panelInnerStyle:i.panelInnerStyle,isOpen:i.open}}n(905);function Be(e){var t=Object(u.useInteractionIndicator)(),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(m.jsxs)("div",{onClick:function(){i(),e.open()},className:"MobileMenuBarItem",style:r.style,children:[Object(m.jsx)(u.Icon,{iconName:e.iconName}),Object(m.jsx)("span",{className:"MobileMenuBarItem-label",children:e.label})]})}n(906),n(907);function Fe(e){var t,n=Object(c.useObject)("mobileMenuPanelTargetRef"),r=e.isOpen||e.renderAlways?Object(m.jsx)("div",{onPointerUp:function(){return e.close()},className:["MobileMenuPanel-outer",null!==(t=e.classNameOuter)&&void 0!==t?t:""].join(" "),style:e.panelOuterStyle,children:Object(m.jsx)("div",{onPointerUp:function(e){return e.stopPropagation()},className:["MobileMenuPanel-inner",e.noTopPadding?"MobileMenuPanel-inner-no-top-padding":"",e.fullHeight?"MobileMenuPanel-inner-full-height":""].join(" "),style:e.panelInnerStyle,children:e.children})}):null;return n.current?i.a.createPortal(r,n.current):r}function Ue(e){return e.snippet.archived,"move-to-archive"}function Ge(e){var t,n=Le(Object(c.useObject)("eventBuses").lockHorizontalScrollEventBus);return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(Be,Object(h.a)({label:(t=e.snippetListEntry,t.snippet.archived?"Restore":"Archive"),iconName:Ue(e.snippetListEntry)},n)),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},n),{},{classNameOuter:"MobileSnippetMenu-archive",children:Object(m.jsx)("div",{className:"MobileMenuPanel-padding",children:Object(m.jsx)(le,{snippetListEntry:e.snippetListEntry,onConfirm:function(e){return n.close(e)}})})}))]})}function ze(e){var t=Le(Object(c.useObject)("eventBuses").lockHorizontalScrollEventBus);return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(Be,Object(h.a)({label:e.label,iconName:e.iconName},t)),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},t),{},{classNameOuter:e.classNameOuter,children:e.children}))]})}function We(e){return Object(m.jsx)(ze,{label:"Assign Tags",iconName:"hash",classNameOuter:"MobileSnippetMenu-tags",children:Object(m.jsx)("div",{className:"MobileMenuPanel-padding",children:Object(m.jsx)(ve,{snippetListEntry:e.snippetListEntry,tagList:e.tagList})})})}n(908);function He(e){var t=Object(o.useRef)(null);Object(d.useAutoFocus)(t,_e);var n=Object(o.useState)(e.value),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(o.useEffect)((function(){return a(e.value)}),[e.value]),Object(m.jsx)(o.Fragment,{children:Object(m.jsx)("div",{className:"MobileMenuPanel-row",children:Object(m.jsx)("div",{className:"MobileMenuPanel-row-cell",children:Object(m.jsx)("input",{ref:t,value:i,onChange:function(e){return a(e.target.value)},onBlur:function(){return e.onBlur(i)},className:"CommonUI-input MobileMenuInputField-input",onKeyPress:function(n){var r;"Enter"===n.key&&(e.onConfirm(i),null===(r=t.current)||void 0===r||r.blur())}})})})})}function qe(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){return r({type:"setSnippetName",snippetId:n,name:e})}}function Ve(e){var t=Object(c.useObject)("dispatch"),n=Le(Object(c.useObject)("eventBuses").lockHorizontalScrollEventBus),r=Object(d.useFactory)(qe,[e.snippetListEntry.metaData.id],[t]),i=Object(o.useCallback)((function(e){n.close((function(){return r(e)}))}),[r]);return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(Be,Object(h.a)({label:"Rename",iconName:"rename"},n)),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},n),{},{classNameOuter:"MobileSnippetMenu-rename",children:Object(m.jsx)("div",{className:"MobileMenuPanel-padding",children:Object(m.jsx)(He,{value:e.snippetListEntry.snippet.name,onConfirm:i,onBlur:i})})}))]})}function Ke(e){var t=Object(o.useRef)(null);return Object(d.useScrollReset)(t,e.snippetListEntry.metaData.id),Object(m.jsxs)("div",{className:"MobileMenuBar",children:[Object(m.jsx)("div",{className:"MobileMenuBar-label-row",children:e.snippetListEntry.metaData.title}),Object(m.jsxs)("div",{ref:t,className:"MobileMenuBar-button-row",children:[Object(m.jsx)(Ve,Object(h.a)({},e)),Object(m.jsx)(We,Object(h.a)({},e)),Object(m.jsx)(Ge,Object(h.a)({},e))]})]})}n(909);function Xe(e){var t=Le(Object(c.useObject)("eventBuses").lockHorizontalScrollEventBus);return e.currentTagListEntry?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(Be,Object(h.a)({label:"Change Icon",iconName:"icon-picker"},t)),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsxs)("div",{className:"MobileTagMenu-change-icon",children:[Object(m.jsxs)("div",{className:"MobileTagMenu-change-icon-current-icon-row",children:[Object(m.jsx)(u.Icon,{iconName:e.currentTagListEntry.tag.iconName}),Object(m.jsx)("span",{children:e.currentTagListEntry.metaData.text})]}),Object(m.jsx)(u.ScrollShadows,{children:Object(m.jsx)(T,{tagListEntry:e.currentTagListEntry})})]})}))]}):null}function Ye(){var e=Object(c.useObject)("dispatch");return Object(m.jsx)(Be,{label:"New Note",iconName:"plus-square",open:function(){return ae(null,e)}})}function $e(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){return n&&r({type:"renameTag",newLabelValue:e,path:n.tag.path})}}function Je(e){var t=Object(c.useObject)("dispatch"),n=Le(Object(c.useObject)("eventBuses").lockHorizontalScrollEventBus),r=Object(d.useFactory)($e,[e.currentTagListEntry],[t]),i=Object(o.useCallback)((function(e){n.close((function(){return r(e)}))}),[r]);return e.currentTagListEntry?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(Be,Object(h.a)({label:"Rename Tag",iconName:"rename"},n)),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},n),{},{children:Object(m.jsx)("div",{className:"MobileMenuPanel-padding",children:Object(m.jsx)(He,{value:e.currentTagListEntry.tag.path[e.currentTagListEntry.tag.path.length-1],onConfirm:i,onBlur:i})})}))]}):null}function Qe(e){var t,n,r=Object(o.useRef)(null);return Object(d.useScrollReset)(r,null===(t=e.currentTagListEntry)||void 0===t?void 0:t.metaData.id),Object(m.jsxs)("div",{className:"MobileMenuBar",children:[Object(m.jsxs)("div",{className:"MobileMenuBar-label-row",children:[e.currentTagListEntry&&Object(m.jsx)(u.Icon,{iconName:e.currentTagListEntry.tag.iconName}),null===(n=e.currentTagListEntry)||void 0===n?void 0:n.metaData.text]}),Object(m.jsxs)("div",{ref:r,className:"MobileMenuBar-button-row",children:[Object(m.jsx)(Je,Object(h.a)({},e)),Object(m.jsx)(Ye,{}),Object(m.jsx)(Xe,Object(h.a)({},e))]})]})}n(910);function Ze(){return Object(m.jsx)("div",{className:"EmptySnippetEditor",children:"No snippet selected."})}n(911);var et={scrollTop:0,scrollLeft:0};function tt(e){var t=Object(ne.getPluginByLanguage)(e.snippetListEntry.snippet.language),n=null===t||void 0===t?void 0:t.mobileToolbar;if(!n)return null;var r=Object(c.useObject)("eventBuses"),i=r.lockHorizontalScrollEventBus,o=r.toolbarEventBus,a=r.selectionInfoEventBus,s=r.requestEditorFocusEventBus,u=Le(i,{noBackdrop:!0}),d=Object(m.jsx)(n,{toolbarEventBus:o,requestEditorFocusEventBus:s,selectionInfoEventBus:a,scrollInfo:et,viewPortDimensions:e.viewPortDimensions,hasFocus:e.hasFocus,onOpen:function(){return u.open()},onClose:function(){return u.close()}});return Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},u),{},{renderAlways:!0,children:Object(m.jsx)("div",{className:"MobileToolbarContainer-wrapper",children:d})}))}function nt(e){var t=Object(ne.getPluginByLanguage)(e.snippetListEntry.snippet.language),n=null===t||void 0===t?void 0:t.toolbar;if(!n)return null;var r=Object(c.useObject)("eventBuses"),a=r.toolbarEventBus,s=r.selectionInfoEventBus,u=r.requestEditorFocusEventBus,l=Object(d.useStateFromEventBus)(s),p=Object(o.useMemo)((function(){return{scrollTop:e.getScrollTop(),scrollLeft:e.getScrollLeft()}}),[l]),f=Object(m.jsx)(n,{toolbarEventBus:a,requestEditorFocusEventBus:u,selectionInfoEventBus:s,scrollInfo:p,viewPortDimensions:e.viewPortDimensions,hasFocus:e.hasFocus});return e.target?i.a.createPortal(f,e.target):f}var rt=c.isMocked?0:50;function it(e){var t=Object(s.a)(e,3),n=t[0],r=t[1],i=t[2];return n.derivedState.snippetList.filter(function(e,t,n){return t?function(e){return!0===e.snippet.archived}:0===e.length?function(e){return!1===e.snippet.archived}:function(t){return!1===t.snippet.archived&&t.metaData.resolvedTags.some((function(t){var r=n.find((function(e){return e.metaData.id===t.id})),i=r&&r.tag.path;return i&&Object(d.isExactPath)(e,i)}))}}(r,i,n.derivedState.tagList))}var ot=[{terminal:!0,target:"initial",config:{duration:0,data:{open:!1,style:{}}}},{terminal:!0,target:"open",config:{duration:0,data:{open:!0,style:{animationName:"open-snippet-reference-preview-modal",animationFillMode:"forwards",animationDuration:"".concat(.5,"s")}}}},{config:{duration:150,data:{open:!0,style:{animationName:"close-snippet-reference-preview-modal",animationFillMode:"forwards",animationDuration:"".concat(.15,"s")}}}}];function at(e){var t=Object(c.useObject)("dispatch"),n=Object(d.useEventBus)(),r=Object(d.useEventBus)(),i=Object(d.useEventBus)(),a=Object(d.useEventBus)(),u=Object(d.useEventBus)(),l=Object(d.useEventBus)();Object(d.useEventBusSubscription)(u,Object(o.useCallback)((function(t){if("copyToClipboard"===t.type)e.toolbarEventBus.emit({type:"copyToClipboard",text:t.text})}),[])),Object(o.useEffect)((function(){a.emit({id:e.snippetId})}),[e.snippetId]);var p=Object(d.useStateFromEventBus)(n);!function(e,t,n){var r=Object(o.useState)(!1),i=Object(s.a)(r,2),a=i[0],c=i[1];Object(d.useEventBusSubscription)(n,Object(o.useCallback)((function(t){t.hasFocus&&(e.emit({type:"dispatch",cb:function(e,t){return Object(ne.startMarkInteraction)(e,t,ne.snippetReferenceMarkPluginKey)}}),c(!0))}),[])),Object(d.useEventBusSubscription)(t,Object(o.useCallback)((function(t){if("toolbarStateChange"===t.type){if(!a||"active"===t.state)return;e.emit({type:"dispatch",cb:function(e,t){return Object(ne.endMarkInteraction)(e,t,ne.snippetReferenceMarkPluginKey)}}),c(!1)}}),[a]))}(e.toolbarEventBus,u,n);var f=Object(d.useStateFromEventBus)(l),v=Object(o.useRef)(null),g=Object(o.useMemo)((function(){var e,t,n,r;return{scrollTop:null!==(e=null===(t=v.current)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0,scrollLeft:null!==(n=null===(r=v.current)||void 0===r?void 0:r.scrollLeft)&&void 0!==n?n:0}}),[f]),b=Object(d.useDimensions)(v,{doPostEvaluation:!0}),h=Object(o.useMemo)((function(){return e.appState.derivedState.snippetList.find((function(t){return t.metaData.id===e.snippetId}))}),[e.snippetId]);if(!h)return null;var j=Object(ne.getPluginByLanguage)(h.snippet.language),y=null===j||void 0===j?void 0:j.toolbar;if(!y)return null;var O=Object(m.jsx)(ne.SnippetEditor,{dispatch:t,snippetListEntry:h,settings:e.appState.settings,allowReadMode:!1,onEscape:function(){return null},onDragEvent:function(){return null},toolbarEventBus:u,focusChangeEventBus:n,requestEditorFocusEventBus:r,selectionInfoEventBus:l,editorInstancesEventBus:i,lastActiveSnippetIdEventBus:a}),x=Object(m.jsx)(y,{toolbarEventBus:u,requestEditorFocusEventBus:r,selectionInfoEventBus:l,scrollInfo:g,viewPortDimensions:b,hasFocus:(null===p||void 0===p?void 0:p.hasFocus)||!1});return Object(m.jsxs)("div",{ref:v,className:"SnippetReferencePreviewModal-preview-wrapper",children:[O,x]})}n(912);function st(e,t){switch(t.type){case"updateSelectionInfo":return Object(h.a)(Object(h.a)({},e),{},{selectionInfo:t.selectionInfo});case"updateId":return Object(h.a)(Object(h.a)({},e),{},{id:t.id,isItemActive:!0});case"hide":return Object(h.a)(Object(h.a)({},e),{},{isItemActive:!1})}}var ct={id:null,selectionInfo:null,isItemActive:!1};function ut(e){var t=Object(d.useAnimationSteps)(ot),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useObject)("eventBuses"),l=a.toolbarEventBus,p=a.selectionInfoEventBus,f=a.navigateToSnippetEventBus,v=Object(o.useReducer)(st,ct),g=Object(s.a)(v,2),b=g[0],h=g[1],j=Object(d.useDebouncedMemo)((function(){return b}),0,[b]);Object(d.useEventBusSubscription)(p,Object(o.useCallback)((function(e){return h({type:"updateSelectionInfo",selectionInfo:e})}),[])),Object(d.useEventBusSubscription)(l,Object(o.useCallback)((function(e){if("snippetReference"===e.type)if("preview"===e.action.type)switch(e.action.action.type){case"show":return void h({type:"updateId",id:e.action.action.snippetId});case"hide":return void h({type:"hide"})}}),[]));var y=Object(o.useState)(null),O=Object(s.a)(y,2),x=O[0],S=O[1];return Object(o.useEffect)((function(){if(b.isItemActive){var t=b.selectionInfo?b.selectionInfo.bounds.top+b.selectionInfo.bounds.height:null,n=null!==t?e.autoScroll(t,(function(e){return.333*e-10}),(function(){return i({type:"start",target:"open"})})):null;S(n)}else i({type:"advance",target:"initial"}),null===x||void 0===x||x.cancel()}),[j.isItemActive]),r.open&&b.id?Object(m.jsx)("div",{style:r.style,className:"SnippetReferencePreviewModal-outer",children:Object(m.jsxs)("div",{className:"SnippetReferencePreviewModal-inner",children:[Object(m.jsx)(at,{snippetId:b.id,appState:e.appState,toolbarEventBus:l}),Object(m.jsxs)("div",{className:"SnippetReferencePreviewModal-toolbar",children:[Object(m.jsx)(u.Tooltip,{renderContent:function(){return Object(m.jsx)("div",{className:"CommonUI-tooltip-content",children:"Go to Snippet"})},children:Object(m.jsx)("button",{className:"CommonUI-button",onClick:function(){return b.id&&f.emit(b.id)},onMouseDown:function(e){return e.preventDefault()},children:Object(m.jsx)(u.Icon,{iconName:"visit-link"})})}),Object(m.jsx)(u.Tooltip,{renderContent:function(){return Object(m.jsx)("div",{className:"CommonUI-tooltip-content",children:"Drop Reference"})},children:Object(m.jsx)("button",{className:"CommonUI-button",onClick:function(){l.emit({type:"dispatch",cb:function(e,t){return Object(ne.removeMark)(e,t,e.schema.marks.snippetReference,ne.snippetReferenceMarkPluginKey)}})},onMouseDown:function(e){return e.preventDefault()},children:Object(m.jsx)(u.Icon,{iconName:"trash"})})})]})]},b.id)}):null}var dt=c.isMocked?0:333;function lt(e,t){return Object(o.useMemo)((function(){return function(e,t){return function(n,r,i){n=Math.round(n);var o=e.current;if(!o)return null;var a=o.getBoundingClientRect().height,s=Math.round(r(a));if(s<n){var c=n-s,u=o.scrollTop,l=o.scrollTop+c;return Object(d.startAnimation)(u,l,t,(function(e){o.scrollTop=e}),(function(){return null===i||void 0===i?void 0:i()}))}return null===i||void 0===i||i(),null}}(e,t)}),[])}function pt(e){var t,n=Object(o.useRef)(null),r=function(){var e=Object(o.useState)(Me()),t=Object(s.a)(e,2),n=t[0],r=t[1];return[n,Object(o.useCallback)((function(){return r(Me())}),[])]}(),i=Object(s.a)(r,2),a=i[0],p=i[1],v=Object(d.useFactory)(it,[e.appState,e.appState.settings.selectedTagPath,e.appState.settings.showOnlyDeleted],[]),g=Object(c.useObject)("dispatch"),b=Object(d.useEventBus)(),h=Object(d.useStateFromEventBus)(b),j=Object(c.useObject)("eventBuses"),y=j.menuEventBus,O=j.navigateToSnippetEventBus,x=j.requestEditorFocusEventBus,S=j.requestTagsSidebarFocusEventBus,w=j.requestSnippetListFocusEventBus,I=j.focusChangeEventBus,E=j.programmaticHorizontalScrollEventBus,k=j.lockHorizontalScrollEventBus,M=j.toolbarEventBus,D=j.lastActiveSnippetIdEventBus,_=j.selectionInfoEventBus,P=j.editorInstancesEventBus;Object(d.useEventBusSubscription)(b,Object(o.useCallback)((function(e){"selection"===(null===e||void 0===e?void 0:e.through)&&E.emit({type:"absolute",target:"editor"})}),[]));var C=function(e,t,n,r){var i=r[0]||null;if(null!==e&&(void 0===t||Object(f.hasAnyItems)(t.tag,[e]))){var o=n.find((function(t){return t.metaData.id===e}));if(o)return o}return i}(h?Object(f.resolveToNewestId)(e.appState,h.id):null,e.currentTagListEntry,e.appState.derivedState.snippetList,v);Object(o.useEffect)((function(){C&&D.emit({id:C.metaData.id})}),[null===C||void 0===C?void 0:C.metaData.id]);var T=C?Object(f.resolveToOldestId)(e.appState,C.metaData.id):null;Object(d.useEventBusSubscription)(O,Object(o.useCallback)((function(e){b.emit({id:e,through:"searchConfirmation"}),w.emit()}),[]));var N=Object(d.useFactory)(De,[C],[p]);Object(d.useEventBusSubscription)(e.appEffectEventBus,N);var R,A,L,B=Object(c.useObject)("windowDimensions"),F=c.isMobile?void 0:(R=B.width,A=e.isExpanded,L=e.appState.settings.sidebarWidths,Object(o.useMemo)((function(){return R-Object.entries(L).reduce((function(e,t){var n=Object(s.a)(t,2),r=n[0],i=n[1];return e+(A(r)?1:0)*i}),0)}),[R,A,L]));l(y,{type:"toggle-snippet-list"},Object(o.useCallback)((function(){return g({type:"updateSettings",action:{type:"toggleSidebar",sidebar:"snippetList"}})}),[]));var U="".concat(T,"-").concat(a,"-").concat(e.appState.settings.themeName),G=Object(d.useStateFromEventBus)(I),z=lt(n,dt);c.isMobile&&function(e,t){Object(d.useEventBusSubscription)(t,Object(o.useMemo)((function(){var t=Object(d.debounce)(e,rt),n=Object(s.a)(t,1)[0];return function(e){e&&n(e.bounds.top+e.bounds.height,(function(e){return.5*e})).catch((function(){return null}))}}),[]))}(z,_);var W=Object(d.useDimensions)(n),H=Ee(P,y,n.current),q=Object(s.a)(H,4),V=q[0],K=q[1],X=q[2],Y=q[3];return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.ResizableSidePanel,{expandedState:e.isExpanded("snippetList")?1:0,size:e.appState.settings.sidebarWidths.snippetList,onStopResize:function(e){return g({type:"updateSettings",action:{type:"setSidebarWidth",sidebar:"snippetList",value:e}})},direction:"horizontal",className:"ListLayout-snippet-list",children:e.appState.derivedState.snippetList.length>0?Object(m.jsxs)(u.ScrollShadows,{bypassOnMobile:!0,scrollPastEnd:{children:Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("div",{className:"App-scroll-past-end-message",children:"End of snippet list."}),Object(m.jsx)(se,{})]})},scrollResetDep:null===(t=e.currentTagListEntry)||void 0===t?void 0:t.metaData.id,children:[Object(m.jsx)("div",{className:"App-top-bar-padding App-top-bar-padding-background-color-2 App-top-bar-padding-border-right",children:c.isMobile&&Object(m.jsx)(Qe,{currentTagListEntry:e.currentTagListEntry})}),Object(m.jsx)(Se,{appState:e.appState,settings:e.appState.settings,listEntryIcon:(e.appState.settings.showOnlyDeleted,"dots-horizontal"),selectedSnippetId:(null===C||void 0===C?void 0:C.metaData.id)||null,selectedSnippetIdEventBus:b,navigateLeft:function(){return e.isExpanded("tags")&&S.emit()},navigateRight:function(){return x.emit({type:"any"})},requestFocus:w,enableScrollIntoView:!c.isMobile,appEffectEventBus:e.appEffectEventBus,filteredSnippetList:v})]}):Object(m.jsx)(ce,{})}),Object(m.jsxs)("div",{className:"ListLayout-editor-container-outer",children:[Object(m.jsxs)("div",{ref:n,className:"ListLayout-editor-container",children:[Object(m.jsx)("div",{className:"App-top-bar-padding",children:c.isMobile&&C&&Object(m.jsx)(Ke,{snippetListEntry:C,tagList:e.appState.derivedState.tagList})}),C?Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(ne.SnippetEditor,{dispatch:g,snippetListEntry:C,settings:e.appState.settings,allowReadMode:!1,onEscape:e.onEscape,onDragEvent:function(e){return k.emit({lock:"start"===e,reason:"ListLayout SnippetEditor.onDragEvent ".concat(e)})},availableEditorWidth:F,toolbarEventBus:M,focusChangeEventBus:I,requestEditorFocusEventBus:x,selectionInfoEventBus:_,editorInstancesEventBus:P,lastActiveSnippetIdEventBus:D}),Object(m.jsx)(u.ScrollPastEndPadding,{viewPortDimensions:W,children:Object(m.jsx)("div",{className:"App-scroll-past-end-message",children:"End of document."})})]}):Object(m.jsx)(Ze,{}),c.isMobile&&C&&Object(m.jsx)(tt,{viewPortDimensions:W,snippetListEntry:C,hasFocus:(null===G||void 0===G?void 0:G.hasFocus)||!1}),!c.isMobile&&C&&Object(m.jsx)(nt,{viewPortDimensions:W,snippetListEntry:C,getScrollTop:function(){var e,t;return null!==(e=null===(t=n.current)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0},getScrollLeft:function(){var e,t;return null!==(e=null===(t=n.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==e?e:0},target:void 0,hasFocus:(null===G||void 0===G?void 0:G.hasFocus)||!1})]}),Object(m.jsx)(ke,{active:null!==V,inputAttributes:{onChange:K,onKeyDown:X,onBlur:Y,value:(null===V||void 0===V?void 0:V.query)||""}}),!c.isMobile&&Object(m.jsx)(ut,{appState:e.appState,autoScroll:z})]},U)]})}n(913);var ft=n(34);function mt(e,t){if("generate"===t.type){var n=Me();return Object(h.a)(Object(h.a)({},e),t.ids.reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(ft.a)({},t,n))}),{}))}}function vt(e){return Object(h.a)(Object(h.a)({},e),{},{isRootGroup:!0})}function gt(e,t){return Object(h.a)(Object(h.a)({},e),{},{parents:e.identifier===t?e.parents:[].concat(Object(y.a)(e.parents),[t]),items:e.items.map((function(e){return Object(d.isGroup)(e)?gt(e,t):e}))})}function bt(e,t){var n=e.items.reduce((function(e,t){if(Object(c.isDashboardGroupDefinition)(t)){var n=bt(t,e.currentIndex),r=Object(s.a)(n,2),i=r[0],o=r[1];return{items:[].concat(Object(y.a)(e.items),[i]),currentIndex:o}}return{items:[].concat(Object(y.a)(e.items),[t]),currentIndex:e.currentIndex}}),{items:[],currentIndex:t}),r={identifier:n.currentIndex,parents:[],axis:e.axis,items:n.items,isRootGroup:!1,size:e.size,metadata:e.metadata};return[r=gt(r,r.identifier),n.currentIndex+1]}function ht(e){if("dashboard"!==e.type)throw"unexpected state";var t=bt(e.rootDefinition,0);return vt(Object(s.a)(t,1)[0])}function jt(e,t){var n=Object(s.a)(t,1)[0];return function(e){var t=e.state,r=e.effect;switch(r.type){case"createSnippet":return void n([r.id]);case"renameSnippet":var i=Object(f.resolveToOldestId)(t,r.id);return void n([i]);case"snippetChanges":return void n(r.ids.map((function(e){return Object(f.resolveToOldestId)(t,e)})))}}}function yt(e){return{axis:e.axis,items:e.items.map((function(e){return Object(d.isGroup)(e)?yt(e):e})),size:e.size,metadata:e.metadata}}function Ot(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){r({type:"updateDisplayMode",tagId:n,displayMode:{type:"dashboard",rootDefinition:yt(e)}})}}function xt(e){var t=bt(yt(e),0);return vt(Object(s.a)(t,1)[0])}function St(e,t,n,r){return xt(Object(h.a)(Object(h.a)({},e),{},{items:e.identifier===n?"start"===r?[t].concat(Object(y.a)(e.items)):[].concat(Object(y.a)(e.items),[t]):e.items.map((function(e){return Object(d.isGroup)(e)?St(e,t,n,r):e}))}))}function wt(e,t){return Math.max.apply(Math,[e.identifier,t].concat(Object(y.a)(e.items.map((function(e){return Object(d.isGroup)(e)?wt(e,t):-1})))))}function It(e){return e.items.map((function(e){return Object(d.isGroup)(e)?It(e):[e]})).flat()}n(914);var Et="createSnippetSidebarFocusable",kt=function(e){return Object(m.jsxs)("button",{id:"".concat(Et,"-").concat(e.label),className:"NewWizard-button",onClick:e.action,onKeyDown:function(t){t.keyCode===d.KEY_CODES.ENTER&&(t.preventDefault(),e.action(t))},tabIndex:0,children:[Object(m.jsx)(u.Icon,{iconName:e.iconName}),e.label]})};function Mt(e){var t=Object(o.useRef)(null),n=Object(c.useObject)("dispatch");Object(o.useEffect)((function(){setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),250)}),[]);var r=Object(ne.getConfigsForInputs)(),i=Object(ne.getConfigsForButtons)();return Object(m.jsxs)("div",{className:"NewWizard-main",children:[Object(m.jsx)("h2",{children:"Create from text"}),Object(m.jsx)("div",{className:"NewWizard-input-section",children:r.map((function(r,i){var o=Object(s.a)(r,2),a=o[0],c=o[1];return Object(m.jsx)("textarea",Object(h.a)({id:"".concat(Et,"-").concat(i),placeholder:c.placeholder,className:"CommonUI-input NewWizard-input",onChange:function(t){return ae(Object(f.bootstrapSnippet)("",c.bootstrap(t.target.value),a),n,{displayModeInstructions:e.displayModeInstructions})},value:"",tabIndex:0},0===i?{ref:t}:{}),i)}))}),Object(m.jsx)("h2",{children:"Create new"}),Object(m.jsx)("div",{className:"NewWizard-button-section",children:i.map((function(t,r){var i=Object(s.a)(t,3),o=i[0],a=i[1],c=i[2];return Object(m.jsx)(kt,{label:c.label,iconName:a,action:function(){return ae(Object(f.bootstrapSnippet)("",c.bootstrap(),o),n,{displayModeInstructions:e.displayModeInstructions})}},r)}))})]})}function Dt(e,t,n){var r=bt({axis:n,items:[]},wt(e,-1)+1);return St(e,Object(s.a)(r,1)[0],t,"end")}n(915);function _t(e,t){var n=e.items.findIndex((function(e){return e===t}));if(-1!==n)return[n];var r=e.items.map((function(e){return Object(d.isGroup)(e)?_t(e,t):[]})),i=r.findIndex((function(e){return e.length>0}));return-1!==i?[i].concat(Object(y.a)(r[i])):[]}function Pt(e){return"new-wizard"===e}function Ct(e){switch(e){case null:case"generic":return"12.5em";case"new-wizard":return"22em"}}function Tt(e){var t=Object(s.a)(e.activeMenuItem,2),n=t[0],r=t[1],i=j(),a=Object(c.useObject)("dispatch"),d=Object(o.useMemo)((function(){return _t(e.rootGroup,e.group)}),[e.rootGroup,e.group]);if(!e.popOutMenu.isOpen)return null;var l=function(t,r){return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:"generic",activeMenuItem:n,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:"generic",onClick:function(){return e.popOutMenu.close((function(){return r()}))},onBackClick:function(){},children:t})},renderBody:function(){return null},collapse:Pt(n)})};return Object(m.jsxs)(u.PopOutMenu,{popOutMenu:e.popOutMenu,width:Ct(n),viewPort:i,children:[l(Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"plus-square-fill"}),"Add Existing ..."]}),(function(){return e.setIsDoingAdd({targetGroupIdentifier:e.group.identifier})})),l(Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"plus-square-fill"}),"New"]}),(function(){return ae(null,a,{displayModeInstructions:[{type:"dashboard-group-target",targetGroupPath:d}]})})),function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2em";return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:e,activeMenuItem:n,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:e,onClick:function(){return r(e)},onBackClick:function(e,t){t.stopPropagation(),r(null)},children:t})},renderBody:i,bodyHeight:o||void 0,collapse:Pt(n)})}("new-wizard",Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"plus-square-fill"}),"New ..."]}),(function(){return Object(m.jsx)(Mt,{displayModeInstructions:[{type:"dashboard-group-target",targetGroupPath:d}]})}),"22em"),l(Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"vertical-group"}),"New Y-Group"]}),(function(){return e.dispatchAfterGroupChange(Dt(e.rootGroup,e.group.identifier,"Y"))})),l(Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:"horizontal-group"}),"New X-Group"]}),(function(){return e.dispatchAfterGroupChange(Dt(e.rootGroup,e.group.identifier,"X"))}))]})}function Nt(e){return e.isDoingAdd?Object(m.jsx)(u.Modal,{onClose:e.onClose,children:Object(m.jsx)(g,{snippetList:e.snippetList,onBlur:e.onClose,select:e.select,filter:e.filter})}):null}n(916);function Rt(e){var t=function(){var e=Object(u.usePopOutMenu)();return{popOutMenu:e,activeMenuItem:Object(u.useActiveMenuItem)(e)}}(),n=t.popOutMenu,r=t.activeMenuItem,i=Object(o.useState)(!1),a=Object(s.a)(i,2),c=a[0],d=a[1],l=Object(o.useMemo)((function(){return c?It(e.rootGroup).map((function(e){return e.item})):[]}),[c]);return Object(m.jsxs)("span",{className:"AddToGroupSection-add-icon-wrapper-outer",children:[Object(m.jsx)(Tt,{rootGroup:e.rootGroup,group:e.group,popOutMenu:n,activeMenuItem:r,dispatchAfterGroupChange:e.dispatchAfterGroupChange,setIsDoingAdd:d}),Object(m.jsx)("span",{className:"AddToGroupSection-add-icon-wrapper",onClick:function(){return n.open({x:0,y:25,type:"absolute"})},children:Object(m.jsx)(u.Icon,{iconName:"plus-square"})}),Object(m.jsx)(Nt,{onClose:function(){return d(!1)},isDoingAdd:!1!==c,select:function(t){return c&&e.dispatchAfterGroupChange(St(e.rootGroup,{item:t},c.targetGroupIdentifier,"end"))},snippetList:e.appState.derivedState.snippetList,filter:function(e,t){return v(e.filter((function(e){return!l.includes(e.metaData.id)})),t)}})]})}function At(e,t){if(e.identifier===t)throw"unexpected state";return Object(h.a)(Object(h.a)({},e),{},{items:e.items.filter((function(e){return!Object(d.isGroup)(e)||e.identifier!==t})).map((function(e){return Object(d.isGroup)(e)?At(e,t):e}))})}function Lt(e,t){return xt(At(e,t))}n(917);function Bt(e){return Object(m.jsxs)("span",{className:"DeleteGroupSection",onClick:function(){return t=e.group,e.dispatchAfterGroupChange(Lt(e.rootGroup,t.identifier));var t},children:["This group is empty.",Object(m.jsx)("button",{className:"CommonUI-button CommonUI-button-without-border",children:"Delete"})]})}function Ft(e,t,n){var r;return e.identifier===n?Object(h.a)(Object(h.a)({},e),{},{metadata:Object(h.a)(Object(h.a)({},e.metadata),{},{title:Object(h.a)(Object(h.a)({},null===(r=e.metadata)||void 0===r?void 0:r.title),{},{text:t})})}):Object(h.a)(Object(h.a)({},e),{},{items:e.items.map((function(e){return Object(d.isGroup)(e)?Ft(e,t,n):e}))})}n(918);function Ut(e){var t,n,r=Object(o.useRef)(null),i=Object(o.useState)((null===(t=e.group.metadata)||void 0===t?void 0:t.title.text)||""),a=Object(s.a)(i,2),c=a[0],u=a[1],l=function(){e.dispatchAfterGroupChange(Ft(e.rootGroup,c,e.group.identifier))},p=Object(d.useOnEnter)(Object(o.useCallback)((function(){var e;return null===(e=r.current)||void 0===e?void 0:e.blur()}),[]));return Object(m.jsx)("div",{className:["SetGroupTitleSection",null!==(n=e.group.metadata)&&void 0!==n&&n.title.text||e.isEditingLayout?"SetGroupTitleSection-open":"SetGroupTitleSection-closed"].join(" "),children:Object(m.jsx)("input",{ref:r,value:c,onChange:function(e){return u(e.target.value)},onKeyDown:p,onBlur:function(){return l()},className:"CommonUI-input CommonUI-input-without-border",placeholder:"Set Title ..."})})}n(919);function Gt(e){var t=Object(o.useRef)(null),n=Object(o.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1],c=Object(o.useCallback)((function(){return a(!0)}),[]),u=Object(o.useCallback)((function(){return a(!1)}),[]);return Object(m.jsxs)("div",{className:["InnerGroupFragment",i?"InnerGroupFragment-active":""].join(" "),ref:t,children:[!e.group.isRootGroup&&Object(m.jsx)("div",Object(h.a)({className:"InnerGroupFragment-drag-handle",onMouseEnter:c,onMouseLeave:u},e.mouseDownHandler)),!e.group.isRootGroup&&Object(m.jsx)(Ut,{rootGroup:e.rootGroup,group:e.group,isEditingLayout:e.isEditingLayout,dispatchAfterGroupChange:e.dispatchAfterGroupChange},"".concat(e.group.identifier,"-").concat(e.itemIndex)),e.innerGroupRendered,0===e.group.items.length&&Object(m.jsx)(Bt,{rootGroup:e.rootGroup,group:e.group,dispatchAfterGroupChange:e.dispatchAfterGroupChange}),1===e.group.parents.length&&Object(m.jsx)(Rt,{appState:e.appState,rootGroup:e.rootGroup,group:e.group,dispatchAfterGroupChange:e.dispatchAfterGroupChange})]})}function zt(e){var t=function(){var e=Object(o.useReducer)(mt,{}),t=Object(s.a)(e,2),n=t[0],r=t[1];return[n,Object(o.useCallback)((function(e){return r({type:"generate",ids:e})}),[])]}(),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(d.useFactory)(jt,[],[i]);Object(d.useEventBusSubscription)(e.appEffectEventBus,a);var p=Object(o.useState)(Object(o.useMemo)((function(){return ht(e.tagListEntry.tag.displayMode)}),[])),v=Object(s.a)(p,2),g=v[0],b=v[1],j=Object(c.useObject)("dispatch"),y=Object(d.useFactory)(Ot,[e.tagListEntry.metaData.id],[j]);Object(o.useEffect)((function(){b(ht(e.tagListEntry.tag.displayMode))}),[e.tagListEntry.tag.displayMode]);var O=Object(d.useToggle)(),x=Object(s.a)(O,2),S=x[0],w=x[1],I=Object(c.useObject)("eventBuses"),E=I.menuEventBus,k=I.requestEditorFocusEventBus,M=I.focusChangeEventBus,D=I.lockHorizontalScrollEventBus,_=I.toolbarEventBus,P=I.lastActiveSnippetIdEventBus,C=I.selectionInfoEventBus,T=I.editorInstancesEventBus;l(E,{type:"reveal-layout"},Object(o.useCallback)((function(){return w()}),[]));var N=Object(u.usePopOutMenu)(),R=Object(o.useState)(null),A=Object(s.a)(R,2),L=A[0],B=A[1],F=Object(d.useStateFromEventBus)(M),U=Object(o.useRef)(null),G=lt(U,dt),z=Object(d.useDimensions)(U),W=Ee(T,E,U.current),H=Object(s.a)(W,4),q=H[0],V=H[1],K=H[2],X=H[3],Y=Object(m.jsxs)("div",{className:"DashboardLayout-top-row",children:[Object(m.jsxs)("span",{className:"DashboardLayout-layout-editor-buttons",children:[Object(m.jsx)(u.Tooltip,{renderContent:function(){return Object(m.jsx)("div",{className:"CommonUI-tooltip-content",children:S?"Hide Layout":"Reveal Layout"})},anchorPositioning:"bottom-right-left-aligned",children:Object(m.jsx)("span",{onClick:function(){return w()},children:Object(m.jsx)(u.Icon,{iconName:S?"hide-layout":"reveal-layout"})})}),Object(m.jsx)(u.Tooltip,{renderContent:function(){return Object(m.jsx)("div",{className:"CommonUI-tooltip-content",children:"Add Column"})},anchorPositioning:"bottom-center",children:Object(m.jsx)("span",{onClick:function(){return y(function(e){var t=bt({axis:"Y",items:[]},wt(e,-1)+1);return St(e,Object(s.a)(t,1)[0],e.identifier,"end")}(g))},children:Object(m.jsx)(u.Icon,{iconName:"vertical-group"})})})]}),q&&Object(m.jsx)(ke,{active:!0,inputAttributes:{onChange:V,onKeyDown:K,onBlur:X,value:(null===q||void 0===q?void 0:q.query)||""}})]}),$=Object(o.useCallback)((function(e){return y(e)}),[y]);return Object(m.jsxs)("div",{className:["DashboardLayout",S?"DashboardLayout-is-editing-layout":""].join(" "),children:[Object(m.jsxs)("div",{className:"DashboardLayout-scroll-container",ref:U,children:[Y,Object(m.jsx)(u.InterGroupDrag,{rootGroup:g,renderItemOuterKey:function(t){var n=Object(f.resolveToOldestId)(e.appState,t.item);return"".concat(n,"-").concat(r[n],"-").concat(e.appState.settings.themeName)},renderInnerGroupFragment:function(t,n,r,i){return Object(m.jsx)(Gt,{rootGroup:g,isEditingLayout:S,dispatchAfterGroupChange:y,appState:e.appState,group:t,itemIndex:n,innerGroupRendered:r,mouseDownHandler:i})},renderItem:function(t,n,r){var i=Object(f.resolveToNewestId)(e.appState,n.item),o=e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===i}));return o&&Object(m.jsxs)("div",{className:"CommonUI-delayed-hover-item-container",children:[Object(m.jsxs)("div",Object(h.a)(Object(h.a)({className:"DashboardLayout-item-top-bar"},r),{},{children:[Object(m.jsx)("div",{className:"DashboardLayout-item-drag-handle"}),Object(m.jsx)("span",{className:"CommonUI-delayed-hover-item-wrapper",onClick:function(e){B(n.item),N.open({type:"fixed",x:e.clientX,y:e.clientY})},onMouseDown:function(e){return e.stopPropagation()},children:Object(m.jsx)(u.Icon,{iconName:"three-dots-horizontal"})})]})),Object(m.jsx)(ne.SnippetEditor,{dispatch:j,snippetListEntry:o,settings:e.appState.settings,allowReadMode:!1,onEscape:e.onEscape,onDragEvent:function(e){return D.emit({lock:"start"===e,reason:"DashboardLayout SnippetEditor.onDragEvent ".concat(e)})},toolbarEventBus:_,focusChangeEventBus:M,requestEditorFocusEventBus:k,selectionInfoEventBus:C,editorInstancesEventBus:T,lastActiveSnippetIdEventBus:P})]})},onGroupChange:$,onResizeEnd:function(){return null},animationDuration:.15,handleMouseDown:!1}),F&&Object(m.jsx)(nt,{viewPortDimensions:z,snippetListEntry:F.snippetListEntry,getScrollTop:function(){var e,t;return null!==(e=null===(t=U.current)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0},getScrollLeft:function(){var e,t;return null!==(e=null===(t=U.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==e?e:0},target:void 0,hasFocus:F.hasFocus}),Object(m.jsx)(u.ScrollPastEndPadding,{viewPortDimensions:z})]}),Object(m.jsx)(je,{id:L,appState:e.appState,popOutMenu:N}),Object(m.jsx)(ut,{appState:e.appState,autoScroll:G})]})}function Wt(e){var t=Object(c.useObject)("eventBuses"),n=t.menuEventBus,r=Le(t.lockHorizontalScrollEventBus);return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("div",{onClick:function(){"editor"===e.currentSection?n.emit({type:"search"}):r.open()},className:"MobileToolbarItem MobileBottomToolbar-search-button",children:Object(m.jsx)(u.Icon,{iconName:"magnifying-glass"})}),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},r),{},{children:Object(m.jsx)(g,{snippetList:e.snippetList,onBlur:function(){return r.close()},select:e.select})}))]})}function Ht(e,t){return e.findIndex((function(e){return e.identifier===t}))}function qt(e,t){return e[t].identifier}n(920),n(921);function Vt(e){var t,n,r=Object(u.useInteractionIndicator)(),i=Object(s.a)(r,2),o=i[0],a=i[1];return Object(m.jsx)("div",{onClick:function(){a({path:"no-color"}),e.programmaticHorizontalScrollEventBus.emit({type:"absolute",target:e.section.identifier})},className:(t=qt(e.sections,e.index),n=e.isScrollingProgrammatically?e.isScrollingProgrammatically.target:e.currentSection,t===n?"MobileToolbarItem MobileToolbarItem-active":"MobileToolbarItem"),style:o.style,children:e.section.label})}function Kt(e){var t,n,r,i,a,s=Object(o.useRef)(null),c=Object(d.useDimensions)(s),u=(n=null!==(t=null===c||void 0===c?void 0:c.width)&&void 0!==t?t:0,r=e.sections,i=e.currentSection,a=e.isScrollingProgrammatically,Object(o.useMemo)((function(){var e=n/r.length,t=a?a.duration/1e3:.25;return{left:Ht(r,a?a.target:i)*e,width:e,transition:"left ".concat(t,"s")}}),[i,n,a]));return Object(m.jsx)(o.Fragment,{children:Object(m.jsx)("div",{className:e.className,children:Object(m.jsxs)("div",{className:"MobileToolbar-outer",children:[Object(m.jsx)("div",{className:"MobileToolbar-position-indicator",style:u}),Object(m.jsx)("div",{ref:s,className:"MobileToolbarItem-container",children:e.sections.map((function(t,n){return Object(m.jsx)(Vt,Object(h.a)(Object(h.a)({},e),{},{section:t,index:n}),n)}))}),e.children]})})})}n(922);var Xt=[{identifier:"settings",label:Object(m.jsx)(u.Icon,{iconName:"settings"})},{identifier:"tag-list",label:Object(m.jsx)(u.Icon,{iconName:"mobile-toolbar-tag-list"})},{identifier:"snippet-list",label:Object(m.jsx)(u.Icon,{iconName:"mobile-toolbar-snippet-list"})},{identifier:"editor",label:Object(m.jsx)(u.Icon,{iconName:"mobile-toolbar-editor"})}];function Yt(e){return Object(m.jsx)(Kt,Object(h.a)(Object(h.a)({},e),{},{className:"MobileBottomToolbar",sections:Xt,children:Object(m.jsx)(Wt,Object(h.a)({},e))}))}n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(931),n(932);var $t={candy:{className:"Theme-candy",displayName:"Candy"},carbon:{className:"Theme-carbon",displayName:"Carbon"},grape:{className:"Theme-grape",displayName:"Grape"},lava:{className:"Theme-lava",displayName:"Lava"},mint:{className:"Theme-mint",displayName:"Mint"},silver:{className:"Theme-silver",displayName:"Silver"},solarizedLight:{className:"Theme-solarized-light",displayName:"Solarized Light"}};function Jt(e){var t;return c.isScreenshotMode?"":(null===(t=$t[e])||void 0===t?void 0:t.className)||"Theme-candy"}var Qt=Object.entries($t);function Zt(){var e=Object(c.useObject)("settings"),t=Object(c.useObject)("dispatch");return Object(m.jsx)("select",{className:"CommonUI-input",value:e.themeName,onChange:function(e){return t({type:"updateSettings",action:{type:"setThemeName",value:e.target.value}})},children:Qt.map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)("option",{value:n,children:r.displayName},n)}))})}function en(){return Object(m.jsxs)("div",{className:"GeneralPage-version-section",children:[Object(m.jsx)("span",{className:"GeneralPage-version-section-span",children:c.version}),Object(m.jsxs)("span",{className:"GeneralPage-version-section-release-notes-span",children:["(",Object(m.jsx)("button",{className:"CommonUI-button CommonUI-button-without-border GeneralPage-version-section-link",onClick:function(){return Object(c.openLinkProgrammatically)("https://github.com/snip-app/client/releases/tag/v".concat(c.version))},children:"Release Notes"}),")"]})]})}var tn=f.originConfigs.find((function(e){return"cloud"===e.origin}));function nn(e){var t=Object(c.useObject)("eventBuses"),n=t.lockHorizontalScrollEventBus,r=t.errorRendererEventBus,i=Object(c.useObject)("settings"),a=Object(c.getOriginSettings)(i,"cloud",null===tn||void 0===tn?void 0:tn.defaultConfig),s=Le(n),u=Le(n);!function(e,t,n){Object(d.useEventBusSubscription)(e,Object(o.useCallback)((function(e){"request-settings-page"===e.type&&"origin"===e.args.page&&t.close((function(){return n.open()}))}),[]))}(r,u,s);var l=Object(o.useMemo)((function(){return q(e.syncState)}),[e.syncState]),p="idle"===e.syncState.state.name;return Object(m.jsxs)("div",{className:"MobileSettingsPanel-row MobileSettingsPanel-sync-state-row",children:[Object(m.jsxs)("div",{className:"MobileSettingsPanel-tile MobileSettingsPanel-login-tile",children:[Object(m.jsx)("button",{className:"CommonUI-button CommonUI-button-without-border",onClick:function(){return s.open()},children:"Account"}),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},s),{},{children:Object(m.jsx)("div",{className:"MobileSettingsPanel-snip-cloud-panel-wrapper",children:a&&(null===tn||void 0===tn?void 0:tn.renderSettingsPage(a))})}))]}),Object(m.jsxs)("div",{className:"MobileSettingsPanel-tile MobileSettingsPanel-login-tile",children:[p&&!l?Object(m.jsx)("span",{children:"Synced"}):Object(m.jsx)("span",{className:K(e.syncState),onClick:function(){return u.open()},children:Object(m.jsx)(X,{syncState:e.syncState})}),Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},u),{},{noTopPadding:!0,children:Object(m.jsx)("div",{className:"MobileSettingsPanel-sync-state-wrapper",children:Object(m.jsx)(V,{syncState:e.syncState})})}))]})]})}function rn(e){var t=Object(u.useInteractionIndicator)(),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(m.jsx)("div",{className:"MobileSettingsPanel-create-row-button",children:Object(m.jsxs)("div",{className:"MobileSettingsPanel-create-row-button-inner",style:r.style,children:[Object(m.jsx)(u.Icon,{iconName:e.iconName}),Object(m.jsx)("span",{onClick:function(){i(),e.onClick()},children:e.children})]})})}function on(){var e=Object(c.useObject)("dispatch");return Object(m.jsxs)("div",{className:"MobileSettingsPanel-create-row",children:[Object(m.jsx)(rn,{onClick:function(){e({type:"updateSettings",action:{type:"selectTagPath",path:[]}}),ae(null,e)},iconName:"plus-square",children:"New Note"}),Object(m.jsx)(rn,{onClick:function(){e({type:"updateSettings",action:{type:"selectTagPath",path:[]}}),ae(null,e,{focus:!1,reminder:!0})},iconName:"reminder",children:"Reminder"})]})}function an(e){var t=0===e.appState.derivedState.tagList.length&&0===e.appState.derivedState.snippetList.length;return Object(m.jsx)(u.SidePanel,{state:1,size:220,direction:"horizontal",children:Object(m.jsxs)("div",{className:"MobileSettingsPanel",children:[Object(m.jsxs)("div",{className:"MobileSettingsPanel-row",children:[Object(m.jsxs)("div",{className:"MobileSettingsPanel-tile",children:[Object(m.jsx)("span",{className:"MobileSettingsPanel-title",children:"Theme"}),Object(m.jsx)(Zt,{})]}),Object(m.jsxs)("div",{className:"MobileSettingsPanel-tile",children:[Object(m.jsx)("span",{className:"MobileSettingsPanel-title",children:"Version"}),Object(m.jsx)(en,{})]})]}),!t&&Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(nn,Object(h.a)({},e)),Object(m.jsx)(on,{})]}),Object(m.jsx)(J,{})]})})}n(933),n(934),n(935),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956);function sn(e){var t=Object(c.useObject)("eventBuses").toolbarEventBus;return Object(m.jsx)(u.Selection,{onBlur:e.onClose,entries:e.snippetList,filter:f.compileQuickAccessSearchResults,onConfirm:function(n){n.filteredEntries[n.currentIndex]&&t.emit({type:"copyToClipboard",text:n.filteredEntries[n.currentIndex].searchResult.text}),e.onClose()},renderEntry:f.renderQuickAccessSearchResult})}function cn(e){var t=p(Object(c.useObject)("eventBuses").menuEventBus,{type:"quick-access"}),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(o.useCallback)((function(){return i(!1)}),[]);return r?Object(m.jsx)(u.Modal,{onClose:a,children:Object(m.jsx)(sn,{snippetList:e.snippetList,onClose:a})}):null}n(957);var un=c.isMac?function(){return{check:function(e){return e.metaKey},explain:"Cmd"}}:"electron"===c.mode.type?function(){return{check:function(e){return e.ctrlKey},explain:"Ctrl"}}:function(){return{check:function(e){return e.altKey},explain:"Alt"}},dn={",":"Comma"},ln=function(e){return{check:function(t){return t.code===(dn[e]?dn[e]:"Key".concat(e.toUpperCase()))},explain:e}},pn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{check:function(e){return t.every((function(t){return t.check(e)}))},explain:t.map((function(e){return e.explain}))}},fn=[{menuEvents:[{type:"toggle-tags"}],checker:pn(un(),ln("t"))},{menuEvents:[{type:"reveal-layout"},{type:"toggle-snippet-list"}],checker:pn(un(),ln("l"))},{menuEvents:[{type:"new-wizard"}],checker:pn(un(),{check:function(e){return e.shiftKey},explain:"Shift"},ln("n"))},{menuEvents:[{type:"new"}],checker:pn(un(),ln("n"))},{menuEvents:[{type:"quick-access"}],checker:pn(un(),ln("k"))},{menuEvents:[{type:"search-all"}],checker:pn(un(),{check:function(e){return e.shiftKey},explain:"Shift"},ln("f"))},{menuEvents:[{type:"search"}],checker:pn(un(),ln("f"))},{menuEvents:[{type:"preferences"}],checker:pn(un(),ln(","))}];function mn(e){switch(e){case null:return"25em";case"generic":return"20em";case"new-wizard":return"22em"}}function vn(e){return"new-wizard"===e}function gn(e){var t;return(null===(t=fn.find((function(t){return t.menuEvents.find((function(t){return t.type===e.type}))})))||void 0===t?void 0:t.checker.explain)||[]}function bn(e){switch(e.type){case"toggle-tags":return{menuEvent:e,iconName:"toggle-sidebar",shortcut:gn(e),title:"Toggle Tags"};case"toggle-snippet-list":return{menuEvent:e,iconName:"toggle-sidebar",shortcut:gn(e),title:"Toggle Snippet List"};case"reveal-layout":return{menuEvent:e,iconName:"reveal-layout",shortcut:gn(e),title:"Reveal Layout"};case"new-wizard":return{menuEvent:e,iconName:"plus-square-fill",shortcut:gn(e),title:"New ..."};case"new":return{menuEvent:e,iconName:"plus-square-fill",shortcut:gn(e),title:"New"};case"quick-access":return{menuEvent:e,iconName:"magnifying-glass",shortcut:gn(e),title:"Quick Access"};case"search-all":return{menuEvent:e,iconName:"magnifying-glass",shortcut:gn(e),title:"Search All"};case"search":return{menuEvent:e,iconName:"magnifying-glass",shortcut:gn(e),title:"Search"};case"preferences":return{menuEvent:e,iconName:"settings",shortcut:gn(e),title:"Preferences"}}}function hn(e){var t=Object(s.a)(e.activeMenuItem,2),n=t[0],r=t[1],i=j(),a=Object(o.useMemo)((function(){return e.availableMenuEvents.map(bn)}),[e.availableMenuEvents]);if(!e.popOutMenu.isOpen)return null;var c=function(e){return Object(m.jsx)(u.ShortcutIndicator,{shortcut:e.shortcut})},d=function(e){return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(u.Icon,{iconName:e.iconName}),Object(m.jsx)("span",{className:"AppContextMenu-item-main-text",children:e.title}),c(e)]})};return Object(m.jsx)(u.PopOutMenu,{popOutMenu:e.popOutMenu,width:mn(n),viewPort:i,children:a.map((function(t){return"new-wizard"===t.menuEvent.type?function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2em";return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:e,activeMenuItem:n,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:e,onClick:function(){return r(e)},onBackClick:function(e,t){t.stopPropagation(),r(null)},children:d(i)})},renderBody:t,bodyHeight:o||void 0,collapse:vn(n)},i.menuEvent.type)}("new-wizard",(function(){return Object(m.jsx)(Mt,{})}),t,"22em"):function(t){return Object(m.jsx)(u.AutoSizingMenuItem,{menuItem:"generic",activeMenuItem:n,renderLabel:function(){return Object(m.jsx)(u.AutoSizingMenuItemLabel,{menuItem:"generic",onClick:function(){return e.popOutMenu.close((function(){return e.menuEventBus.emit(t.menuEvent)}))},onBackClick:function(){},children:d(t)})},renderBody:function(){return null},collapse:vn(n)},t.menuEvent.type)}(t)}))})}function jn(e){var t=Object(c.useObject)("eventBuses").menuEventBus;return Object(m.jsx)(o.Fragment,{children:Object(m.jsxs)("span",{className:"App-top-bar-menu-wrapper AppContextMenuIcon-outer",children:[Object(m.jsx)(hn,{appState:e.appState,settings:e.settings,popOutMenu:e.popOutMenu,activeMenuItem:e.activeMenuItem,availableMenuEvents:e.availableMenuEvents,menuEventBus:t}),Object(m.jsx)("span",{className:"App-top-bar-icon",onClick:function(){return e.popOutMenu.open({x:-10,y:20,type:"absolute"})},children:Object(m.jsx)(u.Icon,{iconName:"menu"})})]})})}function yn(){return{width:window.innerWidth,height:window.innerHeight}}var On=["snippetList","tags"];function xn(e){return null!==e}function Sn(e,t,n,r){return function(e,t){return void 0!==e.find((function(e){return e.type===t.type}))}(e,t)?[{label:n,accelerator:r,menuEvent:t}]:[]}var wn=Object(c.makeElectronSend)("setMenu");function In(e,t){Object(o.useEffect)((function(){wn(function(e){return[{label:"Snip",submenu:[{role:"about"},{type:"separator"}].concat(Object(y.a)(Sn(e,{type:"preferences"},"Preferences...","CommandOrControl+,")),[{type:"separator"},{role:"services"},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{role:"quit"}])},,{label:"File",submenu:[{role:"close"}].concat(Object(y.a)(Sn(e,{type:"new"},"New","CommandOrControl+N")),Object(y.a)(Sn(e,{type:"new-wizard"},"New...","CommandOrControl+Shift+N")),[{type:"separator"}],Object(y.a)(Sn(e,{type:"quick-access"},"Quick Access...","CommandOrControl+K")),Object(y.a)(Sn(e,{type:"search-all"},"Search All...","CommandOrControl+Shift+F")),Object(y.a)(Sn(e,{type:"search"},"Search...","CommandOrControl+F")))},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"toggleSpellChecker"},{role:"pasteAndMatchStyle"},{role:"delete"},{role:"selectAll"},{type:"separator"},{label:"Speech",submenu:[{role:"startspeaking"},{role:"stopspeaking"}]},,]},{label:"View",submenu:[].concat(Object(y.a)(Sn(e,{type:"toggle-tags"},"Toggle Tags","CommandOrControl+T")),Object(y.a)(Sn(e,{type:"toggle-snippet-list"},"Toggle Snippet List","CommandOrControl+L")),Object(y.a)(Sn(e,{type:"reveal-layout"},"Reveal Layout","CommandOrControl+L")),[{type:"separator"},{role:"reload"},{role:"forcereload"},{role:"toggledevtools"},{type:"separator"},{role:"resetzoom"},{role:"zoomin"},{role:"zoomout"},{type:"separator"},{role:"togglefullscreen"}])},{label:"Window",submenu:[{role:"minimize"},{role:"zoom"},{type:"separator"},{role:"front"},{type:"separator"},{role:"window"}]},{role:"help",submenu:[{label:"Learn More",click:""}]}]}(t))}),[t]),Object(f.useElectronEvent)("runElectronMenuItem",Object(o.useCallback)((function(t){return e.emit(t)}),[]))}function En(e,t){c.isMac?In(e,t):function(e){Object(o.useEffect)((function(){window.addEventListener("keydown",(function(t){var n=fn.find((function(e){return e.checker.check(t)}));n&&(t.preventDefault(),n.menuEvents.forEach((function(t){return e.emit(t)})))}))}),[])}(e)}var kn=f.isLocalhost?"snip-settings-dev":"snip-settings";function Mn(e,t){Object(o.useEffect)((function(){var e=function(){var e=localStorage.getItem(kn);return e?JSON.parse(e):null}();t({type:"updateSettings",action:{type:"initialize",settings:e}})}),[]),Object(o.useEffect)((function(){return function(e){localStorage.setItem(kn,JSON.stringify(e))}(e)}),[e])}function Dn(e,t){return void 0!==(null===t||void 0===t?void 0:t.find((function(t){return t.type===e})))}var _n=c.isMocked?0:333;function Pn(e,t){var n=Object(s.a)(e,3),r=n[0],i=n[1],o=n[2],a=Object(s.a)(t,2),c=a[0],u=a[1],l=o,p=function(e,t){var n=Ht(r,i)*l,o=n+e*l,a=Math.round(Math.abs(n-o)/l);if(0!==a){var s=a*_n;setTimeout((function(){u({target:qt(r,Ht(r,i)+e),duration:s}),Object(d.startAnimation)(n,o,s,(function(e){c.current&&(c.current.scrollLeft=e)}),(function(){u(!1),null===t||void 0===t||t()}))}),100)}};return function(e){switch(e.type){case"absolute":return void p(Ht(r,e.target)-Ht(r,i),e.postAction);case"relative":p(e.amount*("left"===e.direction?-1:1),e.postAction)}}}function Cn(e,t,n){var r,i=Object(d.useDimensions)(n),a=null!==(r=null===i||void 0===i?void 0:i.width)&&void 0!==r?r:0,u=function(e,t,n,r){var i=Object(o.useRef)(10);Object(o.useEffect)((function(){i.current=r}),[r]);var a=Object(o.useState)(e),c=Object(s.a)(a,2),u=c[0],d=c[1],l=Object(o.useCallback)((function(){var e,r,o=null===(e=t[Math.round(((null===(r=n.current)||void 0===r?void 0:r.scrollLeft)||0)/i.current)])||void 0===e?void 0:e.identifier;o&&d(o)}),[]);return Object(o.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.addEventListener("scroll",l)}),[n.current]),u}(e,t,n,a),l=Object(o.useState)(!1),p=Object(s.a)(l,2),f=p[0],m=p[1],v=c.isMobile?Object(d.useFactory)(Pn,[t,u,a],[n,m]):function(){},g=Object(d.useEventBus)();return Object(d.useEventBusSubscription)(g,v),[g,f,u]}var Tn=n(458);function Nn(e,t){Object(Tn.a)(e);var n=Object(s.a)(t,2),r=n[0],i=n[1];return function(e){r.emit({lock:e.hasFocus,reason:"focusChange"}),e.hasFocus&&i.emit({id:e.snippetListEntry.metaData.id})}}function Rn(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,2),i=r[0],o=r[1];return function(){return 1===n.snippetList?i.emit():1===n.tags?o.emit():void 0}}function An(e,t){var n=Object(s.a)(e,1)[0],r=Object(s.a)(t,1)[0];return function(e){var t=function(e,t){var n=e.find((function(e){return e.metaData.id===t}));return n&&n.metaData.resolvedTags[0]&&n.metaData.resolvedTags[0].path}(n,e)||[];r(t)}}function Ln(e,t,n){var r=function(e,t){return Object(o.useCallback)((function(n){e({type:"updateSettings",action:{type:"selectTagPath",path:n}}),t.emit({type:"absolute",target:"editor"})}),[])}(t,n),i=Object(d.useEventBus)({replay:{bufferSize:1,windowTime:500}});return Object(d.useEventBusSubscription)(i,Object(d.useFactory)(An,[e.derivedState.snippetList],[r])),i}function Bn(e,t,n){var r=function(e){var t=Object(d.useEventBus)({replay:{bufferSize:1}}),n=Object(d.useStateFromEventBus)(t);return Object(o.useEffect)((function(){if(n){var r=Object(f.resolveToNewestId)(e,n.id);r!==n.id&&t.emit({id:r})}}),[e,n]),t}(t),i=function(){var e=Object(d.useEventBus)();return Object(o.useEffect)((function(){e.emit({lock:!1,reason:"initial"})}),[]),e}(),a=Object(d.useEventBus)(),c=Object(d.useEventBus)(),u=Cn("settings",Xt,e),l=Object(s.a)(u,3),p=l[0],m=l[1],v=l[2],g=Object(d.useEventBus)(),b=function(e,t){var n=Object(d.useEventBus)();return Object(d.useEventBusSubscription)(n,Object(d.useFactory)(Nn,[],[e,t])),n}(i,r),h=Object(d.useEventBus)({replay:{bufferSize:1,windowTime:500}}),j=function(e,t,n){var r=Object(d.useEventBus)();return Object(d.useEventBusSubscription)(r,Object(d.useFactory)(Rn,[e.settings.sidebarToggles],[t,n])),r}(t,a,c),y=Object(d.useEventBus)({replay:{bufferSize:1,windowTime:500}}),O=Ln(t,n,p),x=Object(d.useEventBus)({replay:{bufferSize:1,windowTime:500}}),S=Object(d.useEventBus)(),w=Object(d.useEventBus)();return[Object(o.useMemo)((function(){return{programmaticHorizontalScrollEventBus:p,focusChangeEventBus:b,lastActiveSnippetIdEventBus:r,lockHorizontalScrollEventBus:i,menuEventBus:h,onEscapeEventBus:j,requestEditorFocusEventBus:y,requestSnippetListFocusEventBus:a,requestTagsSidebarFocusEventBus:c,navigateToSnippetEventBus:O,toolbarEventBus:x,selectionInfoEventBus:S,editorInstancesEventBus:g,errorRendererEventBus:w}}),[]),m,v]}var Fn=Object(c.makeElectronSend)("copyToClipboard");function Un(){var e=Object(o.useRef)(null),t=Object(o.useRef)(null);Object(o.useEffect)((function(){document.addEventListener("contextmenu",(function(e){return e.preventDefault()}))}),[]);var n,r=function(){var e=Object(o.useState)(yn()),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e=function(){return r(yn)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),i=Object(d.useDimensions)(e),a=Object(d.useEventBus)(),p=Object(f.useAppState)(a),m=Object(s.a)(p,4),v=m[0],g=m[1],b=m[2],h=m[3],j=Bn(e,v,g),O=Object(s.a)(j,3),x=O[0],S=O[1],w=O[2];n=x.toolbarEventBus,Object(d.useEventBusSubscription)(n,Object(o.useCallback)((function(e){"copyToClipboard"===e.type&&(c.isMobile?Object(c.postClientWebViewMessage)({type:"copyToClipboard",text:e.text}):Fn(e.text))}),[])),function(e,t,n,r,i){Object(d.useEventBusSubscription)(e,Object(o.useCallback)((function(e){var o=e.effect;if("createSnippet"!==o.type);else{t.emit({id:o.id});var a=Dn("focus",o.postInstructions),s=Dn("reminder",o.postInstructions),c=function(){a&&n.emit({type:"specific",id:o.id}),s&&i.emit({type:"reminder",action:{type:"requestEditor"}})};Dn("scroll",o.postInstructions)?r.emit({type:"absolute",target:"editor",postAction:c}):c()}}),[]))}(a,x.lastActiveSnippetIdEventBus,x.requestEditorFocusEventBus,x.programmaticHorizontalScrollEventBus,x.toolbarEventBus),function(e,t){Object(d.useEventBusSubscription)(e,Object(o.useCallback)((function(e){"snippetReference"===e.type&&"navigate"===e.action.type&&t.emit(e.action.snippetId)}),[]))}(x.toolbarEventBus,x.navigateToSnippetEventBus),Mn(v.settings,g);var I,E=(I=v.settings.sidebarToggles,Object(o.useMemo)((function(){return On.map((function(e){return 1===I[e]?e:null})).filter(xn)}),[I])),k=function(e,t,n,r){var i=Object(o.useMemo)((function(){return t.reduce((function(t,r){var i=t.total,o=t.allowedSidebars;return(i+=n[r])<e?{total:i,allowedSidebars:[].concat(Object(y.a)(o),[r])}:{total:i,allowedSidebars:o}}),{total:200,allowedSidebars:[]})}),[e,t,n,r]),a=i.allowedSidebars;return Object(o.useCallback)((function(e){return!!c.isMobile||a.includes(e)&&1===r[e]}),[r,a])}(r.width,E,v.settings.sidebarWidths,v.settings.sidebarToggles),M=function(){var e=Object(u.usePopOutMenu)(),t=Object(u.useActiveMenuItem)(e);return{popOutMenu:e,activeMenuItem:t,openMenuItem:Object(u.useOpenMenuItem)(e,t)}}(),D=M.popOutMenu,_=M.activeMenuItem,P=M.openMenuItem,C=Object(u.usePopOutMenu)();!function(e,t,n){l(e,{type:"toggle-tags"},Object(o.useCallback)((function(){return t({type:"updateSettings",action:{type:"toggleSidebar",sidebar:"tags"}})}),[])),l(e,{type:"new"},Object(o.useCallback)((function(){return ae(null,t)}),[])),l(e,{type:"new-wizard"},Object(o.useCallback)((function(){return n({x:0,y:0,type:"absolute"},"new-wizard")}),[]))}(x.menuEventBus,g,P);var T=v.derivedState.tagList.find((function(e){return Object(d.isExactPath)(e.tag.path,v.settings.selectedTagPath)})),N=(null===T||void 0===T?void 0:T.tag.displayMode.type)||"list",R=function(e){return Object(o.useMemo)((function(){return[{type:"new"},{type:"new-wizard"},{type:"toggle-tags"}].concat(Object(y.a)("dashboard"===e?[{type:"reveal-layout"}]:[{type:"toggle-snippet-list"}]),[{type:"quick-access"},{type:"search-all"},{type:"search"},{type:"preferences"}])}),[e])}(N);En(x.menuEventBus,R);var A=function(e,t){return Object(o.useCallback)((function(n){e({type:"updateSettings",action:{type:"selectTagPath",path:n}}),t.emit({type:"absolute",target:"snippet-list"})}),[])}(g,x.programmaticHorizontalScrollEventBus),L=function(e,t){return Object(o.useCallback)((function(){e({type:"updateSettings",action:{type:"selectArchive"}}),t.emit({type:"absolute",target:"snippet-list"})}),[])}(g,x.programmaticHorizontalScrollEventBus),B=Object(o.useCallback)((function(){return x.onEscapeEventBus.emit()}),[]),F=Object(d.useStateFromEventBus)(x.lockHorizontalScrollEventBus),U=function(e,t,n){Object(d.useEventBusSubscription)(e,Object(o.useCallback)((function(e){"request-settings-page"===e.type&&"origin"===e.args.page&&t.close((function(){return n.emit({type:"preferences",args:{page:"origin",origin:e.args.origin}})}))}),[]))}(x.errorRendererEventBus,C,x.menuEventBus),G=Object(o.useMemo)((function(){return[{name:"dispatch",object:g},{name:"settings",object:v.settings},{name:"windowDimensions",object:r},{name:"mobileMenuPanelTargetRef",object:t},{name:"eventBuses",object:x},{name:"applicationPaths",object:h}]}),[v.settings,r,h]);return{appState:v,syncState:b,appContextMenu:D,syncStateMenu:C,activeMenuItem:_,availableMenuEvents:R,currentTagListEntry:T,currentDisplayModeType:N,dispatch:g,appEffectEventBus:a,onEscape:B,isExpanded:k,objects:G,lockHorizontalScroll:F,isScrollingProgrammatically:S,appRef:e,onSelectTagPath:A,onSelectArchive:L,windowDimensions:r,currentSection:w,onErrorRendererEvent:U,appDimensions:i,mobileMenuPanelTargetRef:t,eventBuses:x}}n(958);function Gn(e,t,n,r,i){return Object(m.jsx)(u.DefaultVerticalTabNode,{iconName:t,onSelect:function(){return r(e)},isSelected:i===e,children:n},n)}n(959);var zn=Object(c.makeElectronSend)("reloadRequest");function Wn(){var e=Object(c.useObject)("settings"),t=Object(c.useObject)("dispatch"),n=Object(o.useState)(e.scrollbarStylingToggle),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(m.jsxs)("div",{className:"GeneralPage-scrollbar-styling-section",children:[Object(m.jsxs)("select",{className:"CommonUI-button GeneralPage-scrollbar-styling-dropdown",onChange:function(e){return a(Object(d.parseOffOrOn)(e.target.value))},value:i,children:[Object(m.jsx)("option",{value:"0",children:"Disable"}),Object(m.jsx)("option",{value:"1",children:"Enable"})]}),Object(m.jsx)("button",{className:"CommonUI-button CommonUI-button-without-border",disabled:i===e.scrollbarStylingToggle,onClick:function(){t({type:"updateSettings",action:{type:"toggleScrollbarStyling",value:i}}),setTimeout((function(){c.isElectron?zn():window.location.reload()}),500)},children:"Set & Reload"})]})}function Hn(){var e=Object(c.useObject)("applicationPaths");return e&&Object(m.jsx)("pre",{children:Object(m.jsx)("code",{children:e.cacheLocation})})}function qn(){return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("h2",{children:"Theme"}),Object(m.jsx)(Zt,{}),Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("h2",{children:"Scrollbar styling"}),Object(m.jsx)(Wn,{})]}),Object(m.jsx)("h2",{children:"Version"}),Object(m.jsx)(en,{}),Object(m.jsx)("h2",{children:"Cache Location"}),Object(m.jsx)(Hn,{})]})}n(960);window.enableCloud=function(){return localStorage.setItem("enableCloud","true")};var Vn=localStorage.getItem("enableCloud"),Kn=f.originConfigs.filter((function(e){return"noop"!==e.origin}));function Xn(e,t){return e.origin===t.currentOrigin?"Already set":t.selectButtonTitle}function Yn(e){var t=Object(o.useState)(Kn[0]),n=Object(s.a)(t,2),r=n[0],i=n[1];Object(d.useEventBusSubscription)(e.menuEventBus,Object(o.useCallback)((function(e){var t;if("preferences"===e.type)if("origin"===(null===(t=e.args)||void 0===t?void 0:t.page)){var n=Kn.find((function(t){var n;return t.origin===(null===(n=e.args)||void 0===n?void 0:n.origin)}));n&&i(n)}}),[]));var l=function(e,t){var n=Object(c.useObject)("settings");return"noop"===e?t:Object(c.getOriginSettings)(n,e,t)}(r.origin,r.defaultConfig),p=Object(c.useObject)("dispatch"),v=function(e,t){var n=Object(o.useState)({ready:"pending"}),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(o.useEffect)((function(){a({ready:"pending"})}),[e,t]),Object(d.useDebouncedEffect)((function(){t.checkReadyness(e).then((function(e){return a(e)}))}),1e3,[e,t]),i}(l,r),g=Kn.map((function(e){return Gn(e,e.iconName,e.defaultConfig.displayName,i,r)})),b=r.origin,j="cloud"!==r.origin||Vn?Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsxs)("div",{className:"Settings-top-section",children:[l.enabled&&Object(m.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(m.jsx)(k,{label:Xn(r,e),successLabel:"Set!",disabled:r.origin===e.currentOrigin,className:"CommonUI-button-without-border",onClick:function(){return e.onSelect(r)}},b)}),Object(m.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(m.jsx)(k,{label:l.enabled?"Disable":"Enable",successLabel:l.enabled?"Enabled!":"Disabled!",className:"CommonUI-button-without-border",onClick:function(){return p({type:"updateSettings",action:{type:"setOriginSettings",origin:r.origin,settings:Object(h.a)(Object(h.a)({},l),{},{enabled:!l.enabled})}})},children:l.enabled?"Disable":"Enable"},b)})]}),l.enabled&&Object(m.jsx)("div",{className:"OriginConfigurator-settings-page",children:r.renderSettingsPage(l)})]}):Object(m.jsx)("div",{className:"OriginConfigurator-coming-soon",children:"Coming Soon"});return Object(m.jsx)(f.OriginReadynessContext.Provider,{value:v,children:Object(m.jsx)(u.DefaultSettingsLayout,{className:"OriginConfigurator-outer",tabList:g,currentPage:j})})}function $n(e,t,n,r){switch(e){case"general":return Object(m.jsx)(u.DefaultSettingsPage,{children:Object(m.jsx)(qn,{})});case"origin":return Object(m.jsx)(a.a.Fragment,{children:Object(m.jsx)(Yn,{currentOrigin:n.defaultOrigin,selectButtonTitle:"Set as default",onSelect:function(e){return t({type:"updateSettings",action:{type:"setDefaultOrigin",origin:e.origin}})},menuEventBus:r})})}}function Jn(){var e=Object(c.useObject)("dispatch"),t=Object(c.useObject)("eventBuses").menuEventBus,n=Object(c.useObject)("settings"),r=Object(o.useState)("general"),i=Object(s.a)(r,2),a=i[0],l=i[1],p=[Gn("general","settings","General",l,a),Gn("origin","origin","Origins",l,a)];return Object(d.useEventBusSubscription)(t,Object(o.useCallback)((function(e){var t;if("preferences"===e.type)if("origin"===(null===(t=e.args)||void 0===t?void 0:t.page))l("origin")}),[])),Object(m.jsx)(u.DefaultSettingsLayout,{className:"Settings-outer",tabList:p,currentPage:$n(a,e,n,t)})}n(961);function Qn(){var e=Object(u.useModalAnimationSteps)(),t=Object(s.a)(e,2),n=t[0],r=t[1];l(Object(c.useObject)("eventBuses").menuEventBus,{type:"preferences"},Object(o.useCallback)((function(){return r({type:"start"})}),[]));var i=Object(o.useCallback)((function(){return r({type:"advance",target:"initial"})}),[]);return n.open?Object(m.jsx)("div",{className:"AppSettingsModal CommonUI-modal-outer",style:n.panelOuterStyle,onClick:i,children:Object(m.jsxs)("div",{className:"CommonUI-modal-inner",style:n.panelInnerStyle,onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[Object(m.jsx)(Jn,{}),Object(m.jsx)("span",{className:"CommonUI-modal-close-button",onClick:i,children:Object(m.jsx)(u.Icon,{iconName:"close"})})]})}):null}n(962);var Zn=n(47);n(963);function er(e){var t=Object(u.useEditedReminderContext)(),n=Object(s.a)(t,2),r=(n[0],n[1]),i=Object(u.useInteractionIndicator)(),o=Object(s.a)(i,2),a=o[0],c=o[1];return Object(m.jsx)("div",{className:"QuickSelectOption",style:a.style,onMouseDown:function(){c(),r({type:"setExpression",value:e.expression})},children:e.label})}n(964);var tr=[{identifier:"date-picker",label:"Set Date"},{identifier:"time-picker",label:"Set Time"},{identifier:"repeat-pattern",label:"Set Repeat"}];function nr(e){return Object(m.jsx)(Kt,{className:"MainSectionToolbar",programmaticHorizontalScrollEventBus:e.programmaticHorizontalScrollEventBus,isScrollingProgrammatically:e.isScrollingProgrammatically,currentSection:e.currentSection,sections:tr})}n(965);var rr=Object(c.makeRange)(12),ir=Object(c.makeRange)(12).map((function(e){return 5*e}));function or(e){return"0".concat(e).slice(-2)}var ar=["am","pm"];function sr(){var e=Object(u.useEditedReminderContext)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(o.useMemo)((function(){var e=new Date(n.reminder.date);return{hours:e.getUTCHours(),minutes:e.getUTCMinutes()}}),[n.reminder.date]),a=i.hours,c=i.minutes,d=Object(o.useState)("am"),l=Object(s.a)(d,2),p=l[0],f=l[1];return Object(o.useEffect)((function(){f(a<12?"am":"pm")}),[a]),Object(m.jsx)("div",{className:"TimePicker",children:Object(m.jsxs)("div",{className:"TimePicker-digit-column-section",children:[Object(m.jsxs)("div",{className:"TimePicker-digit-column",children:[Object(m.jsx)("div",{children:"Hours"}),Object(m.jsx)("div",{className:"TimePicker-am-pm-box",children:ar.map((function(e){return Object(m.jsx)("span",{className:["TimePicker-am-pm-box-item",p===e?"TimePicker-am-pm-box-item-active":""].join(" "),onMouseDown:function(){return f(e)},children:e.toUpperCase()},e)}))}),rr.map((function(e){return"am"===p?e:e+12})).map((function(e){return Object(m.jsx)("div",{className:["TimePicker-digit",a===e?"TimePicker-digit-selected":""].join(" "),onMouseDown:function(){return r({type:"updateTime",hours:e})},children:or(e)},e)}))]}),Object(m.jsxs)("div",{className:"TimePicker-digit-column TimePicker-time-column",children:[or(a),":",or(c)]}),Object(m.jsxs)("div",{className:"TimePicker-digit-column",children:[Object(m.jsx)("div",{children:"Minutes"}),Object(m.jsx)("div",{className:"TimePicker-am-pm-box"}),ir.map((function(e){return Object(m.jsx)("div",{className:["TimePicker-digit",c===e?"TimePicker-digit-selected":""].join(" "),onMouseDown:function(){return r({type:"updateTime",minutes:e})},children:or(e)},e)}))]})]})})}var cr=new Intl.DateTimeFormat([],{year:"2-digit",month:"short",day:"numeric",hour:"numeric",minute:"numeric"});function ur(e){var t=Object(u.useInteractionIndicator)(),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(m.jsx)("button",{className:"CommonUI-button ReminderEditor-action-button",onMouseDown:function(){i({postAction:function(){return e.onMouseDown()}})},style:r.style,children:e.label})}function dr(e){var t=Object(u.useEditedReminder)(),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(o.useMemo)((function(){return(e=r.reminder,e.repeatDescription?Object(Zn.compileRepeatDatesBetween)(Date.now(),1/0,e.date,e.repeatDescription,3):[e.date]).map((function(e){return cr.format(Object(c.adjustByTimezoneOffset)(e))}));var e}),[r.reminder]),d=Object(o.useRef)(null),l=Cn("date-picker",tr,d),p=Object(s.a)(l,3),f=p[0],v=p[1],g=p[2];return Object(m.jsx)(u.EditedReminderContext.Provider,{value:t,children:Object(m.jsxs)("div",{className:"ReminderEditor",children:[Object(m.jsx)("div",{className:"ReminderEditor-input-section",children:Object(m.jsx)("input",{className:"CommonUI-input CommonUI-input-without-border CommonUI-input-centered",value:r.expression,onChange:function(e){return i({type:"setExpression",value:e.target.value})}})}),Object(m.jsxs)("div",{className:["ReminderEditor-main-section",v?"App-is-scrolling-horizontally":""].join(" "),ref:d,children:[Object(m.jsxs)("div",{className:"ReminderEditor-date-picker-and-quick-select-section",children:[Object(m.jsxs)("div",{className:"ReminderEditor-quick-select-section",children:[Object(m.jsxs)("div",{className:"ReminderEditor-quick-select-section-row",children:[Object(m.jsx)(er,{label:"in 1h",expression:"in 1 hour"}),Object(m.jsx)(er,{label:"in 2h",expression:"in 2 hours"}),Object(m.jsx)(er,{label:"in 3h",expression:"in 3 hours"}),Object(m.jsx)(er,{label:"in 4h",expression:"in 4 hours"}),Object(m.jsx)(er,{label:"in 5h",expression:"in 5 hours"})]}),Object(m.jsxs)("div",{className:"ReminderEditor-quick-select-section-row",children:[Object(m.jsx)(er,{label:"in 1d",expression:"in 1 day"}),Object(m.jsx)(er,{label:"in 2d",expression:"in 2 days"}),Object(m.jsx)(er,{label:"in 3d",expression:"in 3 days"}),Object(m.jsx)(er,{label:"in 4d",expression:"in 4 days"}),Object(m.jsx)(er,{label:"in 5d",expression:"in 5 days"})]}),Object(m.jsxs)("div",{className:"ReminderEditor-quick-select-section-row",children:[Object(m.jsx)(er,{expression:"in 1 week",label:"in 1w"}),Object(m.jsx)(er,{expression:"in 2 weeks",label:"in 2w"}),Object(m.jsx)(er,{expression:"in 3 weeks",label:"in 3w"}),Object(m.jsx)(er,{expression:"in 4 weeks",label:"in 4w"}),Object(m.jsx)(er,{expression:"in 5 weeks",label:"in 5w"})]}),Object(m.jsxs)("div",{className:"ReminderEditor-quick-select-section-row",children:[Object(m.jsx)(er,{expression:"in 1 month",label:"in 1m"}),Object(m.jsx)(er,{expression:"in 2 months",label:"in 2m"}),Object(m.jsx)(er,{expression:"in 3 months",label:"in 3m"}),Object(m.jsx)(er,{expression:"in 4 months",label:"in 4m"}),Object(m.jsx)(er,{expression:"in 5 months",label:"in 5m"})]})]}),Object(m.jsx)(u.DatePicker,{})]}),Object(m.jsx)(sr,{}),Object(m.jsx)(u.RepeatEditor,{})]}),c.isMobile&&Object(m.jsx)(nr,{programmaticHorizontalScrollEventBus:f,isScrollingProgrammatically:v,currentSection:g}),Object(m.jsxs)("div",{className:"ReminderEditor-target-date-section",children:[Object(m.jsx)(ur,{label:"Cancel",onMouseDown:function(){return e.onCancel()}}),Object(m.jsxs)("div",{className:"ReminderEditor-target-date-section-dates",children:[Object(m.jsx)("div",{className:"ReminderEditor-upcoming-reminders",children:1===a.length?"Target Date:":"Next 3 Dates"}),a.map((function(e){return Object(m.jsx)("div",{className:"ReminderEditor-target-date",children:e},e)})),1<a.length&&Object(m.jsx)("div",{className:"ReminderEditor-target-date ReminderEditor-target-date-etc",children:"Etc."})]}),Object(m.jsx)(ur,{label:"Set",onMouseDown:function(){return e.onConfirm(r.reminder)}})]})]})})}n(966);function lr(e,t,n){t.emit({type:"dispatch",cb:function(t,n){Object(ne.insertReminder)(t,n,{expression:e.expression,date:e.date,createdAt:e.createdAt,repeatDescription:e.repeatDescription},null)}}),n.emit({type:"lastActive"})}function pr(){var e=Object(u.useModalAnimationSteps)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useObject)("eventBuses"),a=i.toolbarEventBus,l=i.requestEditorFocusEventBus;Object(d.useEventBusSubscription)(a,Object(o.useCallback)((function(e){if("reminder"!==e.type);else if("requestEditor"===e.action.type)r({type:"start"})}),[]));var p=Object(o.useCallback)((function(){return r({type:"advance",target:"initial",path:"quick"})}),[]),f=Object(o.useCallback)((function(e){r({type:"advance",target:"initial",path:"bouncy",postAction:function(){return lr(e,a,l)}})}),[]);return n.open?Object(m.jsx)("div",{className:"ReminderEditorModal CommonUI-modal-outer",style:n.panelOuterStyle,onClick:p,children:Object(m.jsx)("div",{className:"CommonUI-modal-inner",style:n.panelInnerStyle,onClick:function(e){e.preventDefault(),e.stopPropagation()},children:Object(m.jsx)(dr,{onConfirm:f,onCancel:p})})}):null}n(967);function fr(){var e=Object(c.useObject)("eventBuses"),t=e.lockHorizontalScrollEventBus,n=e.toolbarEventBus,r=e.requestEditorFocusEventBus,i=Le(t);Object(d.useEventBusSubscription)(n,Object(o.useCallback)((function(e){if("reminder"!==e.type);else if("requestEditor"===e.action.type)i.open()}),[]));var a=Object(o.useCallback)((function(){return i.close()}),[]),s=Object(o.useCallback)((function(e){return i.close((function(){return lr(e,n,r)}))}),[]);return Object(m.jsx)(o.Fragment,{children:Object(m.jsx)(Fe,Object(h.a)(Object(h.a)({},i),{},{noTopPadding:!0,fullHeight:!0,children:Object(m.jsx)("div",{className:"MobileReminderEditorPanel",children:Object(m.jsx)(dr,{onCancel:a,onConfirm:s,keyboardOnConfirm:!0})})}))})}function mr(e){var t=Object(o.useState)({isOpen:!1}),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useObject)("eventBuses"),l=a.toolbarEventBus,p=a.requestEditorFocusEventBus,f=a.lastActiveSnippetIdEventBus;Object(d.useEventBusSubscription)(l,Object(o.useCallback)((function(e){if("snippetReference"!==e.type);else if("requestCreateModal"===e.action.type)i({isOpen:!0,titleMode:e.action.titleMode})}),[]));var b=Object(d.useStateFromEventBus)(f),h=Object(o.useCallback)((function(){var e;i({isOpen:!1}),l.emit({type:"dispatch",cb:function(e,t){return Object(ne.endMarkInteraction)(e,t,ne.snippetReferenceMarkPluginKey)}});var t=null!==(e=null===b||void 0===b?void 0:b.id)&&void 0!==e?e:null;null!==t&&p.emit({type:"specific",id:t})}),[b]),j=Object(o.useCallback)((function(e,t){return v(e.filter((function(e){return e.metaData.id!==(null===b||void 0===b?void 0:b.id)})),t)}),[null===b||void 0===b?void 0:b.id]);return r.isOpen?Object(m.jsx)(u.Modal,{onClose:h,children:Object(m.jsx)(g,{snippetList:e.snippetList,onBlur:h,select:function(t){var n,i="from-selected-text"===r.titleMode?null:(null===(n=e.snippetList.find((function(e){return e.metaData.id===t})))||void 0===n?void 0:n.metaData.title)||"Untitled";l.emit({type:"dispatch",cb:function(e,n){Object(ne.insertSnippetReferenceMark)(e,n,t,i)}}),p.emit({type:"lastActive"})},filter:j})}):null}var vr="electron"===c.mode.type&&"windows"===c.mode.os||"browser"===c.mode.type&&"mock"===c.mode.mode.type&&"windows"===c.mode.mode.os.type;function gr(){var e,t,n=Un(),r=1400<=n.windowDimensions.width,i=!c.isMobile&&n.appState.settings.shrinkInFullScreen&&r,a=vr?Object(m.jsx)(te,{}):null,s=c.isMobile?null:Object(m.jsxs)("div",{className:"App-full-screen-aware-top-row App-full-screen-aware-top-row-right",children:[Object(m.jsx)(Y,{syncState:n.syncState,popOutMenu:n.syncStateMenu}),Object(m.jsx)(jn,{appState:n.appState,settings:n.appState.settings,popOutMenu:n.appContextMenu,activeMenuItem:n.activeMenuItem,availableMenuEvents:n.availableMenuEvents}),!i&&a]}),d=!c.isMobile&&n.currentTagListEntry&&"dashboard"===n.currentDisplayModeType?Object(m.jsx)(zt,{appState:n.appState,tagListEntry:n.currentTagListEntry,appEffectEventBus:n.appEffectEventBus,onEscape:n.onEscape}):Object(m.jsx)(pt,{appState:n.appState,appEffectEventBus:n.appEffectEventBus,isExpanded:n.isExpanded,onEscape:n.onEscape,currentTagListEntry:n.currentTagListEntry}),l=null===(e=n.currentTagListEntry)||void 0===e?void 0:e.metaData.id;return Object(m.jsx)(c.AppContext.Provider,{value:n.objects,children:Object(m.jsxs)("div",{className:["App-full-screen-wrapper",Jt(n.appState.settings.themeName),i?"App-main-shrink":"",c.isMobile?"MobileMode":""].join(" "),children:[Object(m.jsxs)("div",{className:["App","App-main","ClassicSnippetLayout",null!==(t=n.lockHorizontalScroll)&&void 0!==t&&t.lock?"App-lock-horizontal-scroll":"",n.appState.settings.scrollbarStylingToggle?"App-scrollbarStyling":"",n.isScrollingProgrammatically?"App-is-scrolling-horizontally":""].join(" "),ref:n.appRef,children:[r&&Object(m.jsx)("div",{className:"App-full-screen-toggler",onClick:function(){return n.dispatch({type:"updateSettings",action:{type:"toggleShrinkInFullScreen"}})},children:Object(m.jsx)(u.Icon,{iconName:n.appState.settings.shrinkInFullScreen?"expand-in-fullscreen":"shrink-in-fullscreen"})}),Object(m.jsx)("div",{className:"App-verticalDivider",children:Object(m.jsxs)("div",{className:"App-horizontalDivider",children:[Object(m.jsx)("div",{className:"App-loadingIndicator"}),c.isMobile&&Object(m.jsx)(an,{appState:n.appState,syncState:n.syncState}),Object(m.jsx)(u.ResizableSidePanel,{expandedState:n.isExpanded("tags")?1:0,size:n.appState.settings.sidebarWidths.tags,onStopResize:function(e){return n.dispatch({type:"updateSettings",action:{type:"setSidebarWidth",sidebar:"tags",value:e}})},direction:"horizontal",className:"App-tag-list",children:0<n.appState.derivedState.tagList.length?Object(m.jsx)(u.ScrollShadows,{bypassOnMobile:!0,scrollPastEnd:{children:Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("div",{className:"App-scroll-past-end-message",children:"End of tag list."}),Object(m.jsx)(Q,{onClick:function(){return $(n.dispatch)}})]})},children:Object(m.jsx)(W,{appState:n.appState,selectedPath:n.appState.settings.selectedTagPath,onSelectPath:n.onSelectTagPath,onSelectArchive:n.onSelectArchive,showOnlyDeleted:n.appState.settings.showOnlyDeleted,onDelete:function(e){return n.dispatch({type:"deleteTag",path:e})},onToggleCollapsed:function(e,t){return n.dispatch({type:"updateSettings",action:{type:"setCollapsedTagPath",path:e,collapsed:t}})},collapsedPaths:n.appState.settings.collapsedPaths,resolveToNewestId:function(e){return Object(f.resolveToNewestId)(n.appState,e)},navigateRight:function(){return n.isExpanded("snippetList")?n.eventBuses.requestSnippetListFocusEventBus.emit():n.eventBuses.requestEditorFocusEventBus.emit({type:"any"})}})}):Object(m.jsx)(Z,{hideAdd:0===n.appState.derivedState.snippetList.length})}),Object(m.jsx)(o.Fragment,{children:d},l)]})}),Object(m.jsx)("div",{className:"App-drag-handle"}),s,Object(m.jsx)(cn,{snippetList:n.appState.derivedState.snippetList}),Object(m.jsx)(b,{select:function(e){return n.eventBuses.navigateToSnippetEventBus.emit(e)},snippetList:n.appState.derivedState.snippetList}),Object(m.jsx)(mr,{snippetList:n.appState.derivedState.snippetList}),!c.isMobile&&Object(m.jsx)(pr,{}),c.isMobile&&Object(m.jsx)(fr,{}),Object(m.jsx)("div",{id:"modal-root"}),!c.isMobile&&Object(m.jsx)(Qn,{})]}),i&&Object(m.jsx)("div",{className:"App-top-right-control-elements",children:a}),c.isMobile&&Object(m.jsx)(Yt,{onAddSnippet:function(e){return ae(Object(f.bootstrapSnippet)("",e.content,e.language),n.dispatch)},programmaticHorizontalScrollEventBus:n.eventBuses.programmaticHorizontalScrollEventBus,select:function(e){return n.eventBuses.navigateToSnippetEventBus.emit(e)},snippetList:n.appState.derivedState.snippetList,currentSection:n.currentSection,isScrollingProgrammatically:n.isScrollingProgrammatically}),Object(m.jsx)("div",{ref:n.mobileMenuPanelTargetRef}),c.isMobile&&Object(m.jsx)("input",{className:"App-mobile-ios-input-focus-fix"})]})})}n(968);function br(e){return Object(h.a)(Object(h.a)({},e),{},{isRootGroup:!0})}var hr=function(e,t,n){return{item:{identifier:e,height:t},size:n}},jr={"dragging-large-item-out-of-x":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[{axis:"X",items:[hr("01",60),hr("02",140)]}]}]},0)[0]),width:600},"dragging-large-item-into-x-and-out-again":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("02",140),{axis:"X",items:[hr("01",60)]}]}]},0)[0]),width:600},"dragging-wide-item-into-x":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[{axis:"X",items:[hr("01",60)]},hr("02",140)]}]},0)[0]),width:600},"dragging-sibling-over-group":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("01",100),{axis:"X",items:[{axis:"Y",items:[hr("03",40)]},{axis:"Y",items:[hr("05",40)]},{axis:"Y",items:[hr("04",40)]}]},hr("02",100)]}]},0)[0]),width:600},"x-and-y-mix":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("01",60),{axis:"Y",items:[hr("03",30),{axis:"X",items:[hr("04",20),hr("05",30)]}]},hr("02",40)]}]},0)[0]),width:600},"side-by-side":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("01",60),{axis:"Y",items:[hr("03",30),{axis:"X",items:[hr("04",20),hr("05",30)]}]},hr("02",40)]},{axis:"Y",items:[hr("06",40),hr("07",30),hr("08",50)]}]},0)[0]),width:600},"dragging-between-same-level":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[{axis:"Y",items:[hr("01",20),hr("02",40)]},hr("05",40),{axis:"Y",items:[{axis:"X",items:[hr("03",60),hr("04",30)]}]}]},{axis:"Y",items:[hr("06",30),hr("07",40)]}]},0)[0]),width:600},"resizable-items":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("01",40),hr("02",40),{axis:"X",items:[hr("03",30),hr("04",60,80),hr("05",30),hr("06",30,200)]}]}]},0)[0]),width:600},"stacked-y-group":{rootGroup:br(bt({axis:"X",items:[{axis:"Y",items:[hr("01",25),hr("02",25),hr("03",25),hr("04",25),hr("05",25),hr("06",25),hr("07",25),hr("08",25),hr("09",25),hr("10",25),hr("11",25)]}]},0)[0]),width:600}},yr=new URLSearchParams(document.location.search),Or=yr.get("layout")||"parentX",xr=yr.get("animationDuration"),Sr=xr?parseInt(xr):.15,wr=jr[Or];function Ir(){var e=Object(o.useState)(wr.rootGroup),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)("div",{className:"InterGroupDragSandbox",children:Object(m.jsx)("div",{style:{width:wr.width},children:Object(m.jsx)(u.InterGroupDrag,{rootGroup:n,renderInnerGroupFragment:function(e,t,n){return e.isRootGroup?n:Object(m.jsxs)("div",{className:"InterGroupDragSandbox-group-wrapper",children:[Object(m.jsx)("div",{className:"InterGroupDragSandbox-debug-group-info",children:"(".concat(e.identifier," | ").concat(e.axis,")")}),n]})},renderItem:function(e,t){return Object(m.jsx)("div",{className:"InterGroupDragSandbox-item",style:{height:t.item.height},children:Object(m.jsx)("span",{children:t.item.identifier})})},onGroupChange:function(e){return r(e)},onResizeEnd:function(e){return r(e)},debug:{renderInfoAttributes:!0,renderMouseCoordinates:!0},animationDuration:Sr,handleMouseDown:!0})})})}var Er=[{name:"InterGroupDrag",sandbox:Object(m.jsx)(Ir,{})}];var kr=n(6),Mr=n(7),Dr=n(27),_r=n(26),Pr=(n(969),function(e){Object(Dr.a)(n,e);var t=Object(_r.a)(n);function n(e){var r;return Object(kr.a)(this,n),(r=t.call(this,e)).state={hasError:!1,error:null},r}return Object(Mr.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e,t;return this.state.hasError?Object(m.jsxs)("div",{className:"ErrorBoundary",children:[Object(m.jsx)("h1",{children:"An error occured."}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(){return window.location.reload()},children:"Reload"}),Object(m.jsx)("h2",{children:"Error:"}),Object(m.jsx)("pre",{children:Object(m.jsx)("code",{children:null===(e=this.state.error)||void 0===e?void 0:e.toString()})}),Object(m.jsx)("h2",{children:"Stack Trace:"}),Object(m.jsx)("pre",{children:Object(m.jsx)("code",{children:null===(t=this.state.error.stack)||void 0===t?void 0:t.toString()})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component)),Cr=["tag-list","snippet-list","snippet-editor","themes","logo","client","available-for-mac-os"],Tr=["IPhoneX","IPhone6","IPad"];function Nr(){var e=new URLSearchParams(document.location.search);if(!("true"===e.get("screenshotMode")))throw"unexpected state: not in screenshot mode";var t=e.get("scene");if(!t||!Cr.includes(t))throw"unexpected state: scene is invalid";var n=e.get("device");if(n&&!Tr.includes(n))throw"unexpected state: device is invalid";return{scene:t,device:n}}n(970);function Rr(e){return Object(m.jsxs)("div",{className:"IPhone6-device-outer",children:[Object(m.jsx)("div",{className:"IPhone6-device",children:e.children}),Object(m.jsx)("div",{className:"IPhone6-device-silent-mode-button"}),Object(m.jsx)("div",{className:"IPhone6-device-volume-button-top"}),Object(m.jsx)("div",{className:"IPhone6-device-volume-button-bottom"}),Object(m.jsx)("div",{className:"IPhone6-device-lock-button"})]})}n(971);function Ar(e){return Object(m.jsxs)("div",{className:"IPhoneX-device-outer",children:[Object(m.jsx)("div",{className:"IPhoneX-device",children:e.children}),Object(m.jsx)("div",{className:"IPhoneX-device-notch"}),Object(m.jsx)("div",{className:"IPhoneX-device-bottom-slider"}),Object(m.jsx)("div",{className:"IPhoneX-device-silent-mode-button"}),Object(m.jsx)("div",{className:"IPhoneX-device-volume-button-top"}),Object(m.jsx)("div",{className:"IPhoneX-device-volume-button-bottom"}),Object(m.jsx)("div",{className:"IPhoneX-device-lock-button"})]})}n(972);function Lr(e){var t=Nr();if(!t.device)throw"unexpected state: no device specified";switch(t.device){case"IPhone6":return Object(m.jsx)(Rr,{children:e.children});case"IPhoneX":case"IPad":return Object(m.jsx)(Ar,{children:e.children})}}function Br(e){Object(o.useEffect)((function(){setTimeout((function(){document.querySelectorAll(".App").forEach((function(t){var n=t.getBoundingClientRect().width;t.scrollLeft=Math.floor(n*e)}))}),1e3)}),[])}n(973);function Fr(e){return Br(2),Object(m.jsx)("div",{className:"Theme-candy Screenshots-background SnippetListScene ScreenshotDevice",children:Object(m.jsx)(Lr,{children:e.children})})}n(974);function Ur(e){var t,n;return Br(1),t=".App-tag-list .ScrollShadows-inner",n=35,Object(o.useEffect)((function(){setTimeout((function(){document.querySelectorAll(t).forEach((function(e){e.scrollTop=n}))}),1250)}),[]),Object(m.jsxs)("div",{className:"ThemesScene ScreenshotDevice",children:[Object(m.jsx)("div",{className:"Theme-candy ThemesScene-device-wrapper",children:Object(m.jsx)(Lr,{children:e.children})}),Object(m.jsx)("div",{className:"Theme-lava ThemesScene-device-wrapper",children:Object(m.jsx)(Lr,{children:e.children})}),Object(m.jsx)("div",{className:"Theme-mint ThemesScene-device-wrapper",children:Object(m.jsx)(Lr,{children:e.children})}),Object(m.jsx)("div",{className:"Theme-grape ThemesScene-device-wrapper",children:Object(m.jsx)(Lr,{children:e.children})})]})}n(975);function Gr(e){return Br(1),Object(m.jsx)("div",{className:"Theme-candy Screenshots-background TagListScene ScreenshotDevice",children:Object(m.jsx)(Lr,{children:e.children})})}n(976);function zr(e){var t=new URLSearchParams(document.location.search),n=t.get("theme")||"candy",r=t.get("noBackground")||!1;return Br(3),Object(o.useEffect)((function(){setTimeout((function(){var e=document.querySelector("span.Reminders-node");e&&(e.innerText="Today at 9:00 PM")}),1e3)}),[]),Object(m.jsx)("div",{className:["Theme-".concat(n),r?"Screenshots-no-background":"Screenshots-background","SnippetEditorScene","ScreenshotDevice"].join(" "),children:Object(m.jsx)(Lr,{children:e.children})})}n(977);function Wr(){var e=new URLSearchParams(document.location.search).get("logoSceneMode");return Object(m.jsx)("div",{className:["LogoScene","LogoScene-".concat(e)].join(" "),children:Object(m.jsx)("div",{className:"LogoScene-container",children:Object(m.jsxs)("svg",{className:"Logo-outer",viewBox:"0 0 757 757",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsxs)("defs",{children:[Object(m.jsxs)("linearGradient",{id:"xmyGradient",gradientTransform:"rotate(38)",children:[Object(m.jsx)("stop",{offset:"85%","stop-color":"#61aeee"}),Object(m.jsx)("stop",{offset:"100%","stop-color":"#3388d0"})]}),Object(m.jsxs)("linearGradient",{id:"myGradient",gradientTransform:"rotate(13)",children:[Object(m.jsx)("stop",{offset:"72%","stop-color":"#61aeee"}),Object(m.jsx)("stop",{offset:"100%","stop-color":"#469de6"})]}),Object(m.jsxs)("radialGradient",{id:"xmyGradient",cx:"0%",cy:"0%",r:"100%",children:[Object(m.jsx)("stop",{offset:"33%","stop-color":"#61aeee"}),Object(m.jsx)("stop",{offset:"100%","stop-color":"#4398df"})]})]}),Object(m.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(m.jsxs)("g",{id:"Group-3-Copy-11",transform:"translate(-107.000000, -107.000000)",children:[Object(m.jsx)("path",{d:"M402.083601,849.303898 L402.07584,849.286408 C379.422808,859.095469 281.064195,864 107,864 L107,107 L864.002478,107 L864.002478,195 C864.002478,433.67311 679.882777,751.487061 402.083601,849.303898 Z",id:"Path",className:"Logo-top"}),Object(m.jsx)("path",{d:"M439.521275,642.625705 C440.296321,642.625705 838.099595,539.385877 864.002478,195 C864.002478,447.465465 667.809273,781.104091 362.82351,856.621312 C546.199546,797.36208 536.378514,660.859803 439.521275,642.625705 Z",id:"Rectangle-Copy-11",className:"Logo-fold-shadow"}),Object(m.jsx)("path",{d:"M485.5,575.13328 C486.275046,575.13328 833.567085,529.5 864.002478,195 C864.002478,447.465465 680.537523,821.13297 362.82351,856.621312 C577.654922,794.916678 581.554244,647.479982 485.5,575.13328 Z",id:"Rectangle-Copy-13",className:"Logo-fold"})]})})]})})})}n(978);function Hr(e){var t=new URLSearchParams(document.location.search).get("clientSceneTheme")||"silver";return Object(m.jsx)("div",{className:"Theme-".concat(t," ClientScene ScreenshotDevice"),children:e.children})}n(979);function qr(e){return Object(m.jsxs)("div",{className:"MacBook with-glare",children:[Object(m.jsx)("div",{className:"mb-display-position",children:Object(m.jsx)("div",{className:"mb-display",children:Object(m.jsx)("div",{className:"mb-screen-position",children:Object(m.jsx)("div",{className:"mb-screen",children:e.children})})})}),Object(m.jsx)("div",{className:"mb-body"}),Object(m.jsx)("div",{className:"mb-bottom-cover"})]})}n(980);function Vr(e){return Object(o.useEffect)((function(){setTimeout((function(){var e=document.querySelector("span.Reminders-node");e&&(e.innerText="Today at 9:00 PM")}),1e3)}),[]),Object(m.jsxs)("div",{className:"Theme-candy Screenshots-background AvailableForMacOsScene ScreenshotDevice",children:[Object(m.jsxs)("h1",{children:["Also available on ",Object(m.jsx)("span",{children:"macOS"})]}),Object(m.jsx)("div",{className:"AvailableForMacOsScene-macbook-container",children:Object(m.jsx)(qr,{children:e.children})})]})}n(981);function Kr(e){switch(Nr().scene){case"tag-list":return Object(m.jsx)(Gr,{children:e.children});case"snippet-list":return Object(m.jsx)(Fr,{children:e.children});case"snippet-editor":return Object(m.jsx)(zr,{children:e.children});case"themes":return Object(m.jsx)(Ur,{children:e.children});case"logo":return Object(m.jsx)(Wr,{});case"client":return Object(m.jsx)(Hr,{children:e.children});case"available-for-mac-os":return Object(m.jsx)(Vr,{children:e.children})}}function Xr(e){i.a.render(Object(m.jsx)(Pr,{children:e}),document.getElementById("root"))}function Yr(){return Object(m.jsx)(gr,{})}var $r=function(){var e,t=new URLSearchParams(document.location.search).get("sandbox");return null===t?null:(null===(e=Er.find((function(e){return e.name===t})))||void 0===e?void 0:e.sandbox)||null}();$r?Xr($r):c.isScreenshotMode?Xr(Object(m.jsx)(Kr,{children:Object(m.jsx)(Yr,{})})):Xr(Object(m.jsx)(Yr,{}))}],[[982,1,2]]]);