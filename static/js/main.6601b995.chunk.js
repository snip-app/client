(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorRenderers=t.isMockedWindows=t.forceMobile=t.isInMockedMode=t.noopOriginConfig=t.renderError=t.OriginReadynessContext=t.originConfigs=t.useSettings=t.renderSnippet=t.findOccurencesAndCompileSearchResults=t.renderSubSnippet=t.filterSubSnippets=t.extractSubSnippets=t.resolvePossiblyOldId=t.isWindows=t.isMac=t.isElectron=t.ChangePasswordForm=t.ForgotPasswordForm=t.SignInForm=t.SignUpForm=t.getConfigsForButtons=t.getConfigsForInputs=t.getConfigForNew=t.SnippetEditor=t.useAppState=t.getElectron=t.bootstrapSnippet=void 0;var r=n(68),i=n(138),o=n(120),a=n(139),s=n(62);Object.defineProperty(t,"bootstrapSnippet",{enumerable:!0,get:function(){return s.bootstrapSnippet}});var u=n(89);Object.defineProperty(t,"getElectron",{enumerable:!0,get:function(){return u.getElectron}});var c=n(218);Object.defineProperty(t,"useAppState",{enumerable:!0,get:function(){return c.useMegaSyncedAppState}});var l=n(371);Object.defineProperty(t,"SnippetEditor",{enumerable:!0,get:function(){return l.SnippetEditor}});var d=n(54);Object.defineProperty(t,"getConfigForNew",{enumerable:!0,get:function(){return d.getConfigForNew}}),Object.defineProperty(t,"getConfigsForInputs",{enumerable:!0,get:function(){return d.getConfigsForInputs}}),Object.defineProperty(t,"getConfigsForButtons",{enumerable:!0,get:function(){return d.getConfigsForButtons}});var p=n(203);Object.defineProperty(t,"SignUpForm",{enumerable:!0,get:function(){return p.SignUpForm}});var f=n(202);Object.defineProperty(t,"SignInForm",{enumerable:!0,get:function(){return f.SignInForm}});var h=n(201);Object.defineProperty(t,"ForgotPasswordForm",{enumerable:!0,get:function(){return h.ForgotPasswordForm}});var m=n(200);Object.defineProperty(t,"ChangePasswordForm",{enumerable:!0,get:function(){return m.ChangePasswordForm}});var g=n(33);Object.defineProperty(t,"isElectron",{enumerable:!0,get:function(){return g.isElectron}}),Object.defineProperty(t,"isMac",{enumerable:!0,get:function(){return g.isMac}}),Object.defineProperty(t,"isWindows",{enumerable:!0,get:function(){return g.isWindows}});var v=n(176);Object.defineProperty(t,"resolvePossiblyOldId",{enumerable:!0,get:function(){return v.resolvePossiblyOldId}});var y=n(376);Object.defineProperty(t,"extractSubSnippets",{enumerable:!0,get:function(){return y.extractSubSnippets}});var b=n(377);Object.defineProperty(t,"filterSubSnippets",{enumerable:!0,get:function(){return b.filterSubSnippets}});var O=n(379);Object.defineProperty(t,"renderSubSnippet",{enumerable:!0,get:function(){return O.renderSubSnippet}});var _=n(140);Object.defineProperty(t,"findOccurencesAndCompileSearchResults",{enumerable:!0,get:function(){return _.findOccurencesAndCompileSearchResults}});var S=n(380);Object.defineProperty(t,"renderSnippet",{enumerable:!0,get:function(){return S.renderSnippet}});var w=n(381);Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return w.useSettings}});var E=n(100);Object.defineProperty(t,"originConfigs",{enumerable:!0,get:function(){return E.originConfigs}}),Object.defineProperty(t,"OriginReadynessContext",{enumerable:!0,get:function(){return E.OriginReadynessContext}});var x=n(382);Object.defineProperty(t,"renderError",{enumerable:!0,get:function(){return x.renderError}});var j=n(199);Object.defineProperty(t,"noopOriginConfig",{enumerable:!0,get:function(){return j.noopOriginConfig}});var P=n(59);Object.defineProperty(t,"isInMockedMode",{enumerable:!0,get:function(){return P.isInMockedMode}}),Object.defineProperty(t,"forceMobile",{enumerable:!0,get:function(){return P.forceMobile}}),Object.defineProperty(t,"isMockedWindows",{enumerable:!0,get:function(){return P.isMockedWindows}}),t.errorRenderers=[r.fileStorageErrorRenderer,i.cloudOriginErrorRenderer,a.fileOriginErrorRenderer,o.originErrorRenderer]},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.useDimensions=t.trackScrollTop=t.useScrollTop=t.useReducerWithEffects=t.parseOffOrOn=t.useToggle=t.useFactory=t.useScrollIntoViewForSelection=t.makeDefaultSelectionKeyHandlerChain=t.useSelection=t.cyclicCounter=t.drag=t.onStartDrag=t.useAutoFocusingInputField=t.useEditableLabel=t.makeEditableLabelInputFieldBindings=t.makeEditableLabelLabelBindings=t.treeView=t.findIndex=t.makeDefaultTreeViewKeyHandlerChain=t.makeTreeViewWrapperBindings=t.makeInputFieldBindings=t.useInputField=t.isExactPath=t.isSubPath=t.compileTree=t.useStateChangeEffect=t.buildTransitionMap=t.useStateMachine=t.useScrollIntoView=t.useRefsCallback=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.pipe=t.adapt=t.preventDefault=t.buildKeyboardEventHandlerChainItem=t.buildHandler=t.normalizeCounter=t.KEY_CODES=void 0;var o=n(82);Object.defineProperty(t,"KEY_CODES",{enumerable:!0,get:function(){return o.KEY_CODES}}),Object.defineProperty(t,"normalizeCounter",{enumerable:!0,get:function(){return o.normalizeCounter}}),Object.defineProperty(t,"buildHandler",{enumerable:!0,get:function(){return o.buildHandler}}),Object.defineProperty(t,"buildKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.buildKeyboardEventHandlerChainItem}}),Object.defineProperty(t,"preventDefault",{enumerable:!0,get:function(){return o.preventDefault}}),Object.defineProperty(t,"adapt",{enumerable:!0,get:function(){return o.adapt}}),Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return o.pipe}}),Object.defineProperty(t,"adaptHandlerChainItem",{enumerable:!0,get:function(){return o.adaptHandlerChainItem}}),Object.defineProperty(t,"adaptKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.adaptKeyboardEventHandlerChainItem}});var a=n(224);Object.defineProperty(t,"useRefsCallback",{enumerable:!0,get:function(){return a.useRefsCallback}});var s=n(143);Object.defineProperty(t,"useScrollIntoView",{enumerable:!0,get:function(){return s.useScrollIntoView}});var u=n(225);Object.defineProperty(t,"useStateMachine",{enumerable:!0,get:function(){return u.useStateMachine}}),Object.defineProperty(t,"buildTransitionMap",{enumerable:!0,get:function(){return u.buildTransitionMap}});var c=n(123);Object.defineProperty(t,"useStateChangeEffect",{enumerable:!0,get:function(){return c.useStateChangeEffect}});var l=n(124);Object.defineProperty(t,"compileTree",{enumerable:!0,get:function(){return l.compileTree}}),Object.defineProperty(t,"isSubPath",{enumerable:!0,get:function(){return l.isSubPath}}),Object.defineProperty(t,"isExactPath",{enumerable:!0,get:function(){return l.isExactPath}});var d=n(227);Object.defineProperty(t,"useInputField",{enumerable:!0,get:function(){return d.useInputField}}),Object.defineProperty(t,"makeInputFieldBindings",{enumerable:!0,get:function(){return d.makeInputFieldBindings}});var p=n(144),f=n(145),h=n(146),m=n(146);Object.defineProperty(t,"makeTreeViewWrapperBindings",{enumerable:!0,get:function(){return m.makeTreeViewWrapperBindings}}),Object.defineProperty(t,"makeDefaultTreeViewKeyHandlerChain",{enumerable:!0,get:function(){return m.makeDefaultTreeViewKeyHandlerChain}}),Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return m.findIndex}});var g=n(228);t.treeView={useTreeView:h.useTreeView,makeTreeViewEntryBindings:g.makeTreeViewEntryBindings,makeExpandedIconBindings:g.makeExpandedIconBindings,compileEntries:p.compileEntries,updateCollapsedPaths:p.updateCollapsedPaths,makeLeftNavigationHandler:f.makeLeftNavigationHandler,makeRightNavigationHandler:f.makeRightNavigationHandler,makeVerticalNavigationHandler:f.makeVerticalNavigationHandler,makeTreeViewWrapperBindings:h.makeTreeViewWrapperBindings,makeDefaultTreeViewKeyHandlerChain:h.makeDefaultTreeViewKeyHandlerChain};var v=n(147);Object.defineProperty(t,"makeEditableLabelLabelBindings",{enumerable:!0,get:function(){return v.makeEditableLabelLabelBindings}}),Object.defineProperty(t,"makeEditableLabelInputFieldBindings",{enumerable:!0,get:function(){return v.makeEditableLabelInputFieldBindings}});var y=n(147);Object.defineProperty(t,"useEditableLabel",{enumerable:!0,get:function(){return y.useEditableLabel}});var b=n(229);Object.defineProperty(t,"useAutoFocusingInputField",{enumerable:!0,get:function(){return b.useAutoFocusingInputField}});var O=n(150);Object.defineProperty(t,"onStartDrag",{enumerable:!0,get:function(){return O.onStartDrag}});var _=n(150);t.drag={useDrag:_.useDrag};var S=n(149);t.cyclicCounter={useCyclicCounter:S.useCyclicCounter};var w=n(230);Object.defineProperty(t,"useSelection",{enumerable:!0,get:function(){return w.useSelection}}),Object.defineProperty(t,"makeDefaultSelectionKeyHandlerChain",{enumerable:!0,get:function(){return w.makeDefaultSelectionKeyHandlerChain}}),Object.defineProperty(t,"useScrollIntoViewForSelection",{enumerable:!0,get:function(){return w.useScrollIntoViewForSelection}});var E=n(91);Object.defineProperty(t,"useFactory",{enumerable:!0,get:function(){return E.useFactory}});var x=n(148);Object.defineProperty(t,"useToggle",{enumerable:!0,get:function(){return x.useToggle}}),Object.defineProperty(t,"parseOffOrOn",{enumerable:!0,get:function(){return x.parseOffOrOn}});var j=n(151);Object.defineProperty(t,"useReducerWithEffects",{enumerable:!0,get:function(){return j.useReducerWithEffects}});var P=n(231);Object.defineProperty(t,"useScrollTop",{enumerable:!0,get:function(){return P.useScrollTop}}),Object.defineProperty(t,"trackScrollTop",{enumerable:!0,get:function(){return P.trackScrollTop}});var T=n(232);Object.defineProperty(t,"useDimensions",{enumerable:!0,get:function(){return T.useDimensions}}),i(n(233),t),i(n(125),t),i(n(234),t),i(n(235),t)},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(219),t),i(n(220),t),i(n(221),t),i(n(222),t),i(n(223),t)},,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.useRequestFocus=t.useInterval=t.useTimeout=t.useObservable=t.TreeView=t.SwitchedEditableLabel=t.SidePanel=t.Selection=t.ScrollShadows=t.ResizableSidePanel=t.Modal=t.Blurable=t.AutoFocusingInputField=t.Autocomplete=void 0,n(322);var o=n(323);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return o.Autocomplete}});var a=n(182);Object.defineProperty(t,"AutoFocusingInputField",{enumerable:!0,get:function(){return a.AutoFocusingInputField}});var s=n(183);Object.defineProperty(t,"Blurable",{enumerable:!0,get:function(){return s.Blurable}});var u=n(184);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return u.Modal}});var c=n(327);Object.defineProperty(t,"ResizableSidePanel",{enumerable:!0,get:function(){return c.ResizableSidePanel}});var l=n(187);Object.defineProperty(t,"ScrollShadows",{enumerable:!0,get:function(){return l.ScrollShadows}});var d=n(331);Object.defineProperty(t,"Selection",{enumerable:!0,get:function(){return d.Selection}});var p=n(185);Object.defineProperty(t,"SidePanel",{enumerable:!0,get:function(){return p.SidePanel}});var f=n(188);Object.defineProperty(t,"SwitchedEditableLabel",{enumerable:!0,get:function(){return f.SwitchedEditableLabel}});var h=n(333);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return h.TreeView}});var m=n(98);Object.defineProperty(t,"useObservable",{enumerable:!0,get:function(){return m.useObservable}});var g=n(335);Object.defineProperty(t,"useTimeout",{enumerable:!0,get:function(){return g.useTimeout}});var v=n(336);Object.defineProperty(t,"useInterval",{enumerable:!0,get:function(){return v.useInterval}});var y=n(181);Object.defineProperty(t,"useRequestFocus",{enumerable:!0,get:function(){return y.useRequestFocus}});var b=n(186);Object.defineProperty(t,"makeEventListenerManager",{enumerable:!0,get:function(){return b.makeEventListenerManager}}),i(n(189),t),i(n(337),t),i(n(339),t),i(n(340),t)},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSyncSome=t.syncSomeAndAwaitAll=t.syncSome=t.initSyncer=t.initIdMappedDocumentStore=t.updateQueuedForSyncAfterSync=t.syncNext=t.getAllDirties=t.download=t.get=t.save=t.DELETEABLE=void 0;var a=n(121),s=n(63),u=n(33),c=n(11),l=n(141);function d(e,t,n,s,u,c){return i(this,void 0,void 0,(function(){var i,l;return o(this,(function(o){switch(o.label){case 0:return[4,t()];case 1:return i=o.sent(),l=i.results.reduce((function(e,t){return a.saveSynced(e,n(t),s(t),{updatedAt:c(t),config:(r=u(t),{permanent:r})});var r}),e.store),[2,{store:r(r({},e),{store:l}),errors:i.errors}]}}))}))}function p(e,t){return s.getAll(e).filter((function(e){return e.dirty&&t(e)}))}function f(e,t,n,r,i){var o,a,c=function(e,t,n){var r=p(e,t).sort((function(e,t){return u.sortByUpdatedAt(e,t)})).map((function(e){return e.id})).find((function(e){return!n.includes(e)}));return r?s.get(e,r):void 0}(e.store,r,i);if(c){var l=c.internalVersion;a=i.concat(c.id),o=t(c).then((function(e){return{originalId:c.id,returnedId:n(e),internalVersionBeforeUpdate:l,payload:e}}))}else a=i,o=void 0;return{queuedForSync:a,promise:o}}function h(e){return{store:e,idMapping:{}}}function m(e,t,n,r,i,o,a){var s=f(e,t,n,r,o);return a>9999||void 0===s.promise?i:m(e,t,n,r,i.concat(s.promise),s.queuedForSync,a+1)}function g(e,t,n,r){return m(e,t,n,r,[],[],1)}t.DELETEABLE="<deleteable>",t.save=function(e,t,n,i){var o=e.idMapping[t]||t,s=a.saveDirty(e.store,o,n,r(r({},i||{}),{updatedAt:(null===i||void 0===i?void 0:i.updatedAt)?i.updatedAt:new Date}));return r(r({},e),{store:s})},t.get=function(e,t){return s.get(e.store,e.idMapping[t]?e.idMapping[t]:t)},t.download=d,t.getAllDirties=p,t.syncNext=f,t.updateQueuedForSyncAfterSync=function(e,t){return e.filter((function(e){return e!==t}))},t.initIdMappedDocumentStore=h,t.initSyncer=function(e,t,n,r,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,d(h(new Array),e,t,n,r,a)];case 1:return[2,i.sent()]}}))}))},t.syncSome=g,t.syncSomeAndAwaitAll=function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return i=g(e,t,n,r),[4,c.allSettled(i)];case 1:return[2,o.sent()]}}))}))},t.updateAfterSyncSome=function(e,n,i,o){return n.reduce((function(e,n){if(n.returnedId===t.DELETEABLE)return r(r({},e),{store:s.del(e.store,n.originalId)});var u=s.get(e.store,n.originalId);n.originalId!==n.returnedId&&(u=r(r({},u),{id:n.returnedId}),e=r(r({},e),{store:s.save(e.store,u.id,u)}),e=r(r({},e),{store:s.del(e.store,n.originalId)}),e=l.setUpIdMapping(e,n.originalId,n.returnedId));var c=a.saveAfterSync(e.store,n.returnedId,n.internalVersionBeforeUpdate,o(n.payload),i(n.payload,u.permanent));return r(r({},e),{store:c})}),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=t.isMac=t.isElectron=t.sortByUpdatedAt=void 0,t.sortByUpdatedAt=function(e,t){return e.updatedAt===t.updatedAt?0:e.updatedAt<t.updatedAt?1:-1},t.isElectron=function(){return void 0!==(window&&window.process&&window.process.versions.electron)},t.isMac=function(){return window&&window.process&&"darwin"===window.process.platform},t.isWindows=function(){return window&&window.process&&"win32"===window.process.platform}},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildUpArrowKeyMap=t.buildEscapeKeyMap=t.prepareMenuItemIterator=t.buildListItemKeyMap=t.makeUniversalLiftAndSinkCommand=t.getListItemTypes=t.getTextFromDoc=t.initDoc=t.docJsonFromString=t.createProseMirrorDocJson=t.docToJson=t.completeSchema=void 0;var i=n(42),o=n(42),a=n(3),s=n(3),u=n(127),c=n(157),l=n(158),d=n(36),p=n(94),f=n(128),h=n(159),m=n(264),g=u.schema.spec.nodes;g=f.appendCustomParagraphNode(g),g=(g=o.addListNodes(g,"paragraph block*","block")).append(r(r({},l.todoListNodes),{resizableImage:c.resizableImage})),g=m.appendReminderNode(g);var v=u.schema.spec.marks;function y(e){return JSON.parse(JSON.stringify(e.toJSON()))}function b(e){return{content:e.split("\n").map(O),type:"doc"}}function O(e){var t={content:[{text:e,type:"text"}],type:"paragraph"};return""===e&&delete t.content,t}function _(e,t){return a.Node.fromJSON(e,t)}function S(e,t){var n,r={};return e.forEach((function(e){return e&&(r[e.name]=t(e))})),n=r,function(e,t){for(var r=e.selection.$from,i=r.depth;i>0;i--)if(n[r.node(i).type.name])return n[r.node(i).type.name](e,t);return!1}}function w(e){return[e.nodes.list_item,e.nodes.todo_item].filter((function(e){return void 0!==e}))}function E(e){return{universalLift:S(e,i.liftListItem),universalSink:S(e,i.sinkListItem)}}v=p.customizeLinkMark(v),v=h.appendCustomMarks(v),t.completeSchema=new s.Schema({nodes:g,marks:v}),t.docToJson=y,t.createProseMirrorDocJson=b,t.docJsonFromString=function(e,t){return y(function(e,t){return _(e,b(t))}(e,t))},t.initDoc=_,t.getTextFromDoc=function(e){return e.textBetween(0,e.content.size,"\n\n")},t.getListItemTypes=w,t.makeUniversalLiftAndSinkCommand=E,t.buildListItemKeyMap=function(e){var t=E(w(e)),n=t.universalLift,r=t.universalSink;return d.keymap({Tab:r,"Shift-Tab":n})},t.prepareMenuItemIterator=function(e,t){var n={};t.forEach((function(e){var t=e.spec;return n[t.class]={}}));var r=["active","enable","select"],i={active:"isActive",enable:"isEnabled",select:"isSelectable"};return function(o){return t.forEach((function(t){var a=t.spec;r.forEach((function(t){return a[t]&&function(t,r,o){var a=n[t],s=i[r];a[s]!==o&&(a[s]=o,e({event:"menuItemStateChange",content:n}))}(a.class,t,!!a[t](o))}))}))}},t.buildEscapeKeyMap=function(e){return d.keymap({Escape:e})},t.buildUpArrowKeyMap=function(e){return d.keymap({ArrowUp:e})}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootstrapContent=t.bootstrapContentFromInput=t.getConfigForNew=t.getConfigsForButtons=t.getConfigsForInputs=t.getPluginByLanguage=t.getPluginByExtension=t.plugins=void 0;var r=n(236),i=n(262),o=n(290),a=n(304);function s(e){return t.plugins.find((function(t){return t.testLanguage(e)}))}function u(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaButton})).map((function(e){return[e.language,e.icon,e.createSnippetConfig.viaButton]}))}t.plugins=[r.CodeMirrorPlugin,i.RichTextPlugin,o.TodoListPlugin,a.PostItPlugin],t.getPluginByExtension=function(e){return t.plugins.find((function(t){return null!==t.testExtension(e)}))},t.getPluginByLanguage=s,t.getConfigsForInputs=function(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaInput})).map((function(e){return[e.language,e.createSnippetConfig.viaInput]}))},t.getConfigsForButtons=u,t.getConfigForNew=function(){return u().find((function(e){return e[0]===i.LANGUAGE}))},t.bootstrapContentFromInput=function(e,t){var n,r=s(e);if(!r)throw"no plugin found for language "+e;return null===(n=r.createSnippetConfig.viaInput)||void 0===n?void 0:n.bootstrap(t)},t.bootstrapContent=function(e){var t,n=s(e);if(!n)throw"no plugin found for language "+e;return null===(t=n.createSnippetConfig.viaButton)||void 0===t?void 0:t.bootstrap()}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function o(e){return e&&e.isKnownError}Object.defineProperty(t,"__esModule",{value:!0}),t.errorWithDetails=t.isKnownError=void 0,t.isKnownError=o,t.errorWithDetails=function(e,t){var n=o(e)?e:{isKnownError:!0,stack:e?[{originalError:e}]:[]};return r(r({},n),{stack:i(i([],n.stack),[t])})}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInMockedMode=t.isMockedWindows=t.forceMobile=t.dataSetName=void 0;var r=["initial","empty","samples","quickAccess","error","delay"];t.dataSetName=function(){var e=new URLSearchParams(document.location.search).get("mock");if(null===e)return null;if(r.includes(e))return e;throw"invalid data set name"}(),t.forceMobile="true"===new URLSearchParams(document.location.search).get("forceMobile"),t.isMockedWindows="true"===new URLSearchParams(document.location.search).get("mockWindows"),t.isInMockedMode=null!==t.dataSetName},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVERY_HOUR=t.ONE_WEEK=t.deserializeJson=t.serializeJson=t.debounce=t.shouldComponentUpdateForSnippet=void 0,t.shouldComponentUpdateForSnippet=function(e,t){return e.content!==t.content||e.language!==t.language||e.name!==t.name},t.debounce=function(e,t){var n;void 0===t&&(t=100);var r=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(null,r)}),t)};return r.cancel=function(){clearTimeout(n)},r},t.serializeJson=function(e){return JSON.stringify(e)},t.deserializeJson=function(e){return JSON.parse(e)},t.ONE_WEEK=6048e5,t.EVERY_HOUR=36e5},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSearchRelevance=t.findOccurences=t.bootstrapSnippet=t.generateLocalId=t.LOCAL_ID_PREFIX=void 0;var r=n(59);t.LOCAL_ID_PREFIX="LOCAL-";var i=r.isInMockedMode?0:(new Date).getTime();t.generateLocalId=function(){return""+t.LOCAL_ID_PREFIX+i++};t.bootstrapSnippet=function(e,t,n,r,i){return{version:0,updatedAt:new Date,name:t,content:n,language:r,tags:i,archived:!1}},t.findOccurences=function(e,t){var n,r=[];try{n=new RegExp(t.join("|"),"g")}catch(a){return r}for(var i,o=0;(i=n.exec(e))&&o++<1e3;)r.push({start:i.index,end:i.index+i[0].length,searchTerm:i[0]});return r},t.calculateSearchRelevance=function(e,t){for(var n=e.length,r=null,i=-1,o=function(e){var o=t.findIndex((function(t){return t===e.searchTerm}));if(o<=i)i=o;else if(-1!==i&&o-i===1){var a=e.start-(r&&r.end||0);a<4?n=n+1e3-a:n+=Math.max(0,100-a),i=o}else i=o;r=e},a=0,s=e;a<s.length;a++){o(s[a])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.getAllIndexed=t.getAll=t.get=t.save=void 0,t.save=function(e,t,n){return e.filter((function(e){return e.id!==t})).concat({id:t,item:n})},t.get=function(e,t){var n=e.find((function(e){return e.id===t}));return n&&n.item},t.getAll=function(e){return e.map((function(e){return e.item}))},t.getAllIndexed=function(e){return e},t.del=function(e,t){return e.filter((function(e){return e.id!==t}))}},,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileStorageErrorRenderer=t.extractFileStorageErrorTitleAndDescription=t.isFileStorageError=t.compileFileNotAccessibleErrorDetails=t.compileNotParsableErrorDetails=t.compileFileStorageNotSupportedErrorDetails=t.compileDirectoryNotAccessibleErrorDetails=void 0;var i=r(n(1)),o=n(69);function a(e){return!!e&&"file-storage"===e.layer}function s(e){if(!a(e))return null;switch(e.type){case"directory-not-accessible":return{title:"Unable to access directory",description:e.directory?'Directory "'+e.directory+'" is not accessible. This might be a permission problem.':"No directory specified."};case"not-supported":return{title:"File System not supported",description:"File System access is available on the Desktop Client only."};case"not-parsable":return{title:"Parsing file failed",description:"Unable to parse file "+e.filename+"."};case"file-not-accessible":return{title:"Unable to access file",description:"Error during '"+e.operation+"' operation. This might be a permission problem."}}}t.compileDirectoryNotAccessibleErrorDetails=function(e){return{layer:"file-storage",type:"directory-not-accessible",directory:e}},t.compileFileStorageNotSupportedErrorDetails=function(){return{layer:"file-storage",type:"not-supported"}},t.compileNotParsableErrorDetails=function(e){return{layer:"file-storage",type:"not-parsable",filename:e}},t.compileFileNotAccessibleErrorDetails=function(e,t){return{layer:"file-storage",type:"file-not-accessible",operation:e,filename:t}},t.isFileStorageError=a,t.extractFileStorageErrorTitleAndDescription=s;t.fileStorageErrorRenderer=function(e){var t=s(e);return t?i.default.createElement(o.SimpleErrorView,{title:t.title,description:t.description}):null}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleErrorView=void 0;var i=r(n(1));n(217);t.SimpleErrorView=function(e){return i.default.createElement("div",{className:"SimpleErrorView-outer"},i.default.createElement("strong",null,e.title),i.default.createElement("div",null,e.description))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.compileRepeatDatesBetween=t.compileNextRepeatDate=t.compileSingle=t.mergeDescriptions=t.normalizeWeirdDayFormat=t.initDescription=t.timeUnitToMilliseconds=void 0;var o=n(9);t.timeUnitToMilliseconds={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},t.initDescription=function(){return{dateDescription:{}}};var a=[["getHours","getUTCHours"],["getMinutes","getUTCMinutes"],["getSeconds","getUTCSeconds"],["getDate","getUTCDate"],["getMonth","getUTCMonth"],["getDay","getUTCDay"],["getFullYear","getUTCFullYear"],["setHours","setUTCHours"],["setMinutes","setUTCMinutes"],["setSeconds","setUTCSeconds"],["setDate","setUTCDate"],["setMonth","setUTCMonth"],["setDay","setUTCDay"],["setFullYear","setUTCFullYear"]];function s(e,t){return new Proxy(e,{get:function(e,n){var r=a.find((function(e){return e[0]===n}));if(!r)throw"Tried to call unknown method "+n;var i=r[0],o=r[1];return"utc"===t?e[o].bind(e):e[i].bind(e)}})}function u(e){return o.normalizeCounter(e-1,7)}function c(e,n,r){var i=u(s(new Date(n),r).getDay());return{shift:(0<=e-i?e-i:7-i+e)*t.timeUnitToMilliseconds.day,diff:e-i}}function l(e,t){if(e&&t){if("week"===e.timeUnit&&"month"===t.timeUnit)return{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:e.target[0],n:e.frequency}};if("week"===e.timeUnit&&"week"===t.timeUnit)return r(r(r({},e),t),{target:i(i([],e.target?e.target:[]),t.target?t.target:[])});if(e.timeUnit!==t.timeUnit)throw"Expected timeUnits of repeat patterns to match!";return r(r({},e),t)}return e||(t||void 0)}function d(e,t,n,r){var i=t-e;if(i<0)return e;var o=Math.floor(i/r);return e+(Math.floor(o/n.frequency)+1)*n.frequency*r}function p(e,n,r,i){var o=new Date(e);s(o,i).setDate(1);var a=c(n,o.getTime(),i).shift;return a+=(r-1)*t.timeUnitToMilliseconds.week,o.getTime()+a}function f(e,t,n){var r=new Date(t),i=s(new Date(e),n),o=s(r,n);return o.setSeconds(i.getSeconds()),o.setMinutes(i.getMinutes()),o.setHours(i.getHours()),r.getTime()}function h(e,t,n){var r=new Date(t),i=s(r,n),o=s(new Date(e),n);return i.setFullYear(o.getFullYear()+1),r.getTime()}function m(e,t,n,r){switch(void 0===r&&(r="local"),n.timeUnit){case"second":return d(e,t,n,1e3);case"minute":return d(e,t,n,6e4);case"hour":return d(e,t,n,36e5);case"day":return d(e,t,n,864e5);case"week":return n.target&&n.target.length>0?n.target.map((function(t){return c(t,e,r)})).map((function(t){var n=t.shift;return e+n})).map((function(e){return d(e,t,n,6048e5)})).filter((function(e){return t<e})).sort((function(e,t){return e-t}))[0]:d(e,t,n,6048e5);case"month":if(!n.target)return d(e,t,n,2592e6);switch(n.target.type){case"nth-weekday":var i=f(e,t,r),o=p(i,n.target.weekday,n.target.n,r);if(o<=t){var a=new Date(i),u=s(a,r);u.setDate(1),u.setMonth(u.getMonth()+1);var l=p(a.getTime(),n.target.weekday,n.target.n,r);return f(e,l,r)}return f(e,o,r)}throw"unexpected target type";case"year":if(!n.target)return t<e?e:h(t,e,r);switch(n.target.type){case"date-and-month":var m=function(e,t,n,r){var i=new Date(e),o=s(i,r);return o.setDate(t),o.setMonth(n),i.getTime()}(e,n.target.date,n.target.month,r);return t<m?m:h(t,m,r)}}}t.normalizeWeirdDayFormat=u,t.mergeDescriptions=function(e,t){return r(r(r({},e),t),{dateDescription:r(r({},e.dateDescription),t.dateDescription),repeatDescription:l(e.repeatDescription,t.repeatDescription)})},t.compileSingle=function(e,n,r){var i,a,u,l,d;void 0===r&&(r="local");var p=new Date(e),f=s(p,r),h=null!==(i=n.dateDescription.hours)&&void 0!==i?i:f.getHours();h=n.dateDescription.timeOfDay?o.normalizeCounter(h,12):o.normalizeCounter(h,24),h="PM"===n.dateDescription.timeOfDay?h+12:h;var m=null!==(a=n.dateDescription.minutes)&&void 0!==a?a:f.getMinutes(),g=null!==(u=n.dateDescription.seconds)&&void 0!==u?u:f.getSeconds(),v=null!==(l=n.dateDescription.date)&&void 0!==l?l:f.getDate(),y=null!==(d=n.dateDescription.month)&&void 0!==d?d:f.getMonth(),b=new Date(p),O=s(b,r);return O.setHours(h),O.setMinutes(m),O.setSeconds(g),O.setDate(v),O.setMonth(y),b.getTime()+function(e,n,r){var i=void 0!==e.dateDescription.weekday?c(e.dateDescription.weekday,n,r):{shift:0,diff:0},o=i.shift,a=i.diff;return e.dateDescription.nextWeekday&&0===a&&(o+=t.timeUnitToMilliseconds.week),e.dateDescription.nextWeek&&0<=a&&(o+=t.timeUnitToMilliseconds.week),e.dateDescription.tomorrow&&(o+=t.timeUnitToMilliseconds.day),e.dateDescription.shift&&e.dateDescription.shiftTimeUnit&&(o+=e.dateDescription.shift*t.timeUnitToMilliseconds[e.dateDescription.shiftTimeUnit]),o}(n,e,r)},t.compileNextRepeatDate=m,t.compileRepeatDatesBetween=function(e,t,n,r,i){void 0===i&&(i="local");for(var o=[],a=m(n,e,r,i),s=0;a<t&&s<1e3;)o.push(a),a=m(n,a,r,i),s++;return o}},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.doUnless=t.pipe=t.adapt=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.buildKeyboardEventHandlerChainItem=t.preventDefault=t.buildHandler=t.normalizeCounter=t.createRange=t.KEY_CODES=t.noop=void 0;function i(e,t,n,i){return void 0===i&&(i="post"),e.map((function(e){return e.test(t)?r(r({},e),{run:function(t){return"pre"===i&&n(t),e.run(t),"post"===i&&n(t)}}):e}))}t.noop=function(){},t.KEY_CODES={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,F:70,K:75,N:78},t.createRange=function(e){return new Array(e).fill(0).map((function(e,t){return t}))},t.normalizeCounter=function(e,t){return 0===t?0:(e%t+t)%t},t.buildHandler=function(e){return function(t){var n=e.find((function(e){return e.test(t)}));return!!n&&(n.run(t),t)}},t.preventDefault=function(e){return e.preventDefault(),e},t.buildKeyboardEventHandlerChainItem=function(e,t){return{test:function(t){return t.keyCode===e},run:t}},t.adaptHandlerChainItem=i,t.adaptKeyboardEventHandlerChainItem=function(e,t,n,r){return i(e,{keyCode:t},n,r)},t.adapt=function(e,t){return function(n,r,i){var o=e(n,r,i);return t(o,n,r,i)}},t.pipe=function(e,t,n,r,i,o,a,s,u,c){return[t,n,r,i,o,a,s,u,c].filter((function(e){return e})).reduce((function(e,t){return t(e)}),e)},t.doUnless=function(e,t){return e?function(e){return e}:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.itemIdentifiers=t.itemIconNames=t.itemTitles=void 0,t.itemTitles={bold:"Toggle bold",italic:"Toggle italic",code:"Toggle code",colorBlue:"Toggle blue color",colorRed:"Toggle red color",colorYellow:"Toggle yellow color",backgroundColorBlue:"Toggle blue background color",backgroundColorRed:"Toggle red background color",backgroundColorYellow:"Toggle yellow background color",fontSizeSmall:"Toggle small font size",fontSizeBig:"Toggle big font size",codeBlock:"Toggle code block",bulletList:"Wrap in bullet list",orderedList:"Wrap in ordered list",todoList:"Wrap in todo list",paragraph:"Change to paragraph",quote:"Change to quote",stickyBlue:"Change to blue sticky",stickyRed:"Change to red sticky",stickyYellow:"Change to yellow sticky",boxBlue:"Change to blue box",boxRed:"Change to red box",boxYellow:"Change to yellow box",textAlignmentCenter:"Align text center",textAlignmentRight:"Align text right",itemAlignmentCenter:"Align item center",heading1:"Change to heading 1",heading2:"Change to heading 2",heading3:"Change to heading 3",liftItem:"Lift item",sinkItem:"Sink item",joinItem:"Join with above block",image:"Upload image",imageDefault:"Set width to 100%",imageResizable:"Set custom width",reminder:"Set reminder"},t.itemIconNames={bold:"format-bold",italic:"format-italic",code:"code-tags",colorBlue:"record",colorRed:"record",colorYellow:"record",backgroundColorBlue:"stop",backgroundColorRed:"stop",backgroundColorYellow:"stop",fontSizeSmall:"format-annotation-minus",fontSizeBig:"format-annotation-plus",codeBlock:"code-brackets",bulletList:"format-list-bulleted",orderedList:"format-list-numbered",todoList:"clipboard-check-outline",paragraph:"format-clear",quote:"format-quote-close",stickyBlue:"square",stickyRed:"square",stickyYellow:"square",boxBlue:"information-variant",boxRed:"alert-circle-outline",boxYellow:"lightbulb-outline",textAlignmentCenter:"format-align-center",textAlignmentRight:"format-align-right",itemAlignmentCenter:"format-horizontal-align-center",heading1:"format-title",heading2:"format-title",heading3:"format-title",liftItem:"format-horizontal-align-left",sinkItem:"format-horizontal-align-right",joinItem:"arrow-collapse-vertical",image:"image",imageDefault:"arrow-expand-horizontal",imageResizable:"arrange-send-backward",reminder:"timer-outline"},t.itemIdentifiers={bold:"prosemirror-menu-item-bold",italic:"prosemirror-menu-item-italic",code:"prosemirror-menu-item-code",colorBlue:"prosemirror-menu-item-color-blue",colorRed:"prosemirror-menu-item-color-red",colorYellow:"prosemirror-menu-item-color-yellow",backgroundColorBlue:"prosemirror-menu-item-background-color-blue",backgroundColorRed:"prosemirror-menu-item-background-color-red",backgroundColorYellow:"prosemirror-menu-item-background-color-yellow",fontSizeSmall:"prosemirror-menu-item-font-size-small",fontSizeBig:"prosemirror-menu-item-font-size-big",codeBlock:"prosemirror-menu-item-codeBlock",bulletList:"prosemirror-menu-item-bulletList",orderedList:"prosemirror-menu-item-orderedList",todoList:"prosemirror-menu-item-todoList",paragraph:"prosemirror-menu-item-paragraph",quote:"prosemirror-menu-item-quote",stickyBlue:"prosemirror-menu-item-sticky-blue",stickyRed:"prosemirror-menu-item-sticky-red",stickyYellow:"prosemirror-menu-item-sticky-yellow",boxBlue:"prosemirror-menu-item-box-blue",boxRed:"prosemirror-menu-item-box-red",boxYellow:"prosemirror-menu-item-box-yellow",textAlignmentCenter:"prosemirror-menu-item-text-align-center",textAlignmentRight:"prosemirror-menu-item-text-align-right",itemAlignmentCenter:"prosemirror-menu-item-item-align-center",heading1:"prosemirror-menu-item-heading1",heading2:"prosemirror-menu-item-heading2",heading3:"prosemirror-menu-item-heading3",liftItem:"prosemirror-menu-item-liftItem",sinkItem:"prosemirror-menu-item-sinkItem",joinItem:"prosemirror-menu-item-joinItem",image:"prosemirror-menu-item-image",imageDefault:"prosemirror-menu-item-imageDefault",imageResizable:"prosemirror-menu-item-imageResizable",reminder:"prosemirror-menu-item-reminder"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0;var r=n(3),i=n(94),o=n(127),a={doc:{content:"paragraph*"},paragraph:{content:"inline*",attrs:{index:{default:1},status:{default:"open"}},group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return{src:e.getAttribute("index")}}}],toDOM:function(e){return["p",e.attrs,0]}},text:o.nodes.text,hard_break:o.nodes.hard_break};t.schema=new r.Schema({nodes:a,marks:i.customizeLinkMark(o.schema.spec.marks)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passwordResetTokenField=t.passwordRepeatField=t.newPasswordField=t.currentPasswordField=t.emailField=t.bypass=t.mustBeSet=t.repeatDoesMatch=t.validatePasswordLength=t.validateEmailLength=t.getFieldName=t.LABEL_NEXT=t.LABEL_BACK=t.LABEL_FORGOT_PASSWORD=t.LABEL_CHANGE_PASSWORD=t.LABEL_REQUEST_RESET=t.LABEL_RESET_PASSWORD=t.LABEL_SIGN_IN=t.LABEL_GO_TO_SIGN_IN=t.LABEL_SIGN_UP=t.PLACEHOLDER_OLD_PASSWORD=t.PLACEHOLDER_NEW_PASSWORD=t.PLACEHOLDER_REPEAT_PASSWORD=t.PLACEHOLDER_PASSWORD=t.PLACEHOLDER_TOKEN=t.PLACEHOLDER_EMAIL=t.SIGNIN_SUCCESSFUL=t.PASSWORD_HAS_BEEN_CHANGED=t.RESET_MAIL_SENT=t.VERIFICATION_MAIL_SENT=t.UNAUTHORIZED=t.UNEXPECTED_ERROR=t.TOO_MANY_REQUESTS=void 0,n(354),t.TOO_MANY_REQUESTS="Too many requests",t.UNEXPECTED_ERROR="Unexpected error",t.UNAUTHORIZED="Login failed",t.VERIFICATION_MAIL_SENT="We have sent you an email. Please verify your account.",t.RESET_MAIL_SENT="We've sent you an email. Please enter the token you received on the next page.",t.PASSWORD_HAS_BEEN_CHANGED="Your password has been changed.",t.SIGNIN_SUCCESSFUL="Login successful.",t.PLACEHOLDER_EMAIL="Email",t.PLACEHOLDER_TOKEN="Token",t.PLACEHOLDER_PASSWORD="Password",t.PLACEHOLDER_REPEAT_PASSWORD="Repeat Password",t.PLACEHOLDER_NEW_PASSWORD="New Password",t.PLACEHOLDER_OLD_PASSWORD="Old Password",t.LABEL_SIGN_UP="Sign Up",t.LABEL_GO_TO_SIGN_IN="Go to login page",t.LABEL_SIGN_IN="Sign In",t.LABEL_RESET_PASSWORD="Reset Password",t.LABEL_REQUEST_RESET="Request Reset",t.LABEL_CHANGE_PASSWORD="Change Password",t.LABEL_FORGOT_PASSWORD="Forgot Password",t.LABEL_BACK="Back",t.LABEL_NEXT="Next",t.getFieldName=function(e){return e+"-field"};t.validateEmailLength=function(e,t){return t[e].length>=6||"Email must be at least 6 characters"};t.validatePasswordLength=function(e,t){return t[e].length>=6||"Password must be at least 6 characters"};t.repeatDoesMatch=function(e,t){return t.password===t[e]||"Passwords don't match"};t.mustBeSet=function(e,t){return t[e].length>0||"Please provide a token"};t.bypass=function(){return!0};t.emailField=function(e){return void 0===e&&(e=t.bypass),{name:"email",placeholder:t.PLACEHOLDER_EMAIL,type:"text",autocomplete:"username",validator:e}};t.currentPasswordField=function(e){return{name:"currentPassword",placeholder:e,type:"password",autocomplete:"current-password",validator:t.bypass}};t.newPasswordField=function(e){return{name:"password",placeholder:e,type:"password",autocomplete:"new-password",validator:t.validatePasswordLength}};t.passwordRepeatField=function(){return{name:"repeat",placeholder:t.PLACEHOLDER_REPEAT_PASSWORD,type:"password",autocomplete:"new-password",validator:t.repeatDoesMatch}};t.passwordResetTokenField=function(){return{name:"token",placeholder:t.PLACEHOLDER_TOKEN,type:"password",validator:t.mustBeSet}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElectron=void 0,t.getElectron=function(){return window.require("electron")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useAppState=t.useUpdateSettings=t.initialState=t.reduce=t.readId=t.resourceConfigs=t.DOCUMENTS_RESOURCE=t.getUpdatedAt=t.getPermanent=t.getEntity=t.getId=void 0;var i=n(140),o=n(308),a=n(32),s=n(122),u=n(9),c=n(121),l=n(1),d=n(63),p=n(62),f=n(175),h=n(176),m=n(177);t.getId=function(e){return e.id},t.getEntity=function(e){return e.resource};function g(e){return e.updatedAt}function v(e){if("string"!==typeof e.id)throw"id must be of type string";if("tag"!==e.documentType&&"snippet"!==e.documentType)throw"documentType must be one of 'tag' | 'string' - received "+e.documentType}function y(){return Date.now()}t.getPermanent=function(e,t){return r(r({},t||{obsolete:{state:!1}}),{documentType:e.documentType,version:e.version,origin:e.origin})},t.getUpdatedAt=g,t.DOCUMENTS_RESOURCE="documents",t.resourceConfigs=[{resourceName:t.DOCUMENTS_RESOURCE,schemaEnforcer:function(e){v(e),e.backup&&v(e.backup)}}];var b=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{snippetMetaDataStore:i.initSnippetMetaDataStore(e.store,e.syncErrors)})})}},O=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{snippetList:i.compileSnippetList(e.store,e.derivedState.snippetMetaDataStore,(function(){return!0}))})})}},_=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{tagList:d.getAll(e.store.store).filter(s.isTag).map((function(e){return{metaData:{id:e.id,origin:e.permanent.origin,updatedAt:e.updatedAt,text:s.turnPathIntoTag(e.document.path)},tag:e.document}}))})})}},S=function(e,t){return function(n){return r(r({},n),{store:i.updateSnippet(n.store,e,t)})}},w=function(e){return function(t){return r(r({},t),{selectedSnippetId:e})}},E=function(){return function(e){var t=e.selectedSnippetId&&h.resolvePossiblyOldId(e.selectedSnippetId,e);return r(r({},e),{selectedSnippetListEntry:e.derivedState.snippetList.find((function(e){return e.metaData.id===t}))||e.derivedState.snippetList.filter((function(e){return!1===e.snippet.archived}))[0]})}},x=function(e,t){return function(n){return r(r({},n),{store:s.addTag(n.store,e,t)})}},j=function(e,n){return c.mergeStores(n.store.store,e.filter((function(e){return void 0!==e.payload.backup})).reduce((function(e,n){return c.saveSynced(e,n.payload.backup.id,n.payload.backup.resource,{config:{permanent:t.getPermanent(n.payload.backup)},updatedAt:n.payload.backup.updatedAt})}),[]),(function(){return!0})).mergedStore},P=function(){return function(e){return r(r({},e),{store:i.rewriteTagsAfterTagSync(e.store)})}},T=function(){return function(e){return u.pipe(e,b(),O(),_(),E())}},D=function(e){return function(t){return r(r({},t),{blockNextSync:e})}},C=function(e){return function(t){return u.pipe(t,function(e){return function(t){return r(r({},t),{derivedState:r(r({},t.derivedState),{snippetMetaDataStore:i.updateSnippetMetaDataStore(t.store,t.derivedState.snippetMetaDataStore,e,t.syncErrors)})})}}(e),O(),_(),E(),D(!1))}},k=function(){return function(e){return u.pipe(e,b(),O(),_(),E(),D(!1))}};t.readId=function(e){return e.id};function M(e,t){l.useEffect((function(){e({type:"setSettings",settings:{selectedTagPath:t.selectedTagPath,showOnlyDeleted:t.showOnlyDeleted,defaultOrigin:t.defaultOrigin}})}),[t.selectedTagPath,t.showOnlyDeleted,t.defaultOrigin])}t.reduce=function(e,n){switch(n.type){case"createSnippet":var l=p.generateLocalId();return u.pipe(e,function(e,t,n){return function(o){return r(r({},o),{store:i.createSnippet(o.store,e,t,n)})}}(l,n.snippet,e.settings.defaultOrigin),w(l),C(l));case"updateSnippet":return u.pipe(e,S(n.id,n.snippet),C(n.id));case"deleteSnippet":return u.pipe(e,S(n.id,r(r({},n.snippet),{archived:!0})),w(null),C(n.id));case"restoreSnippet":return u.pipe(e,S(n.id,r(r({},n.snippet),{archived:!1})),C(n.id));case"renameTag":return u.pipe(e,(R=n.newLabelValue,N=n.path,function(e){return r(r({},e),{store:s.renamePaths(e.store,R,N)})}),k());case"addTag":return u.pipe(e,x(n.path,e.settings.defaultOrigin),k());case"addTagToSnippet":return u.pipe(e,x(s.turnTagIntoPath(n.tag),function(e,t,n){var r=t.derivedState.snippetList.find((function(t){return t.metaData.id===e}));return r?r.metaData.origin:n}(n.id,e,e.settings.defaultOrigin)),_(),function(e,t){return function(n){var o,a=null===(o=n.derivedState.snippetList.find((function(e){return e.metaData.id===t})))||void 0===o?void 0:o.snippet;if(!a)return n;var c=s.turnTagIntoPath(e),l=n.derivedState.tagList.find((function(e){return u.isExactPath(e.tag.path,c)}));if(!l)return n;var d=a.tags.filter((function(e){return e!==l.metaData.id})).concat(l.metaData.id);return r(r({},n),{store:i.updateSnippet(n.store,t,r(r({},a),{tags:d}))})}}(n.tag,n.id),k());case"removeTagFromSnippet":return u.pipe(e,(A=n.snippetId,L=n.tagId,function(e){var t,n=null===(t=e.derivedState.snippetList.find((function(e){return e.metaData.id===A})))||void 0===t?void 0:t.snippet;if(!n)return e;var o=n.tags.filter((function(e){return e!==L}));return r(r({},e),{store:i.updateSnippet(e.store,A,r(r({},n),{tags:o}))})}),C(n.snippetId));case"setSnippetName":return u.pipe(e,function(e,t){return function(n){var o,a=null===(o=n.derivedState.snippetList.find((function(t){return t.metaData.id===e})))||void 0===o?void 0:o.snippet;if(!a)return n;var s=m.changeFileName(a,t);return r(r({},n),{store:i.updateSnippet(n.store,e,s),snippetEditorReloadToken:y()})}}(n.snippetId,n.name),C(n.snippetId));case"deleteTag":return u.pipe(e,function(e){return function(t){return r(r({},t),{store:s.deleteByPath(t.store,e)})}}(n.path),k());case"mergeDocumentStore":return u.pipe(e,(I=n.store,function(e){var t=c.mergeStores(e.store.store,I.store,(function(e,t){return t.dirty||!1===e.dirty&&e.permanent.version<t.permanent.version})),n=t.mergedStore,i=t.changedIds,o=e.selectedSnippetListEntry&&i.includes(e.selectedSnippetListEntry.metaData.id)?y():e.snippetEditorReloadToken,a=r(r({},e.store),{store:n});return r(r({},e),{snippetEditorReloadToken:o,store:a})}),T());case"updateAfterSync":return u.pipe(e,(M=n.results,function(e){return r(r({},e),{store:a.updateAfterSyncSome(e.store,M,t.getPermanent,g)})}),function(e){return function(t){return r(r({},t),{store:r(r({},t.store),{store:j(e,t)})})}}(n.results),P(),(O=n.syncErrors,function(e){return r(r({},e),{syncErrors:O})}),T(),D(n.syncErrors.length>0));case"setSelectedSnippetId":return u.pipe(e,w(n.id),E());case"setSettings":return u.pipe(e,(b=n.settings,function(e){return r(r({},e),{settings:b})}),(h=e.settings.defaultOrigin,v=n.settings.defaultOrigin,function(e){return"noop"===h&&"noop"!==v?r(r({},e),{store:e.store.store.reduce((function(e,t){return"noop"===t.item.permanent.origin?a.save(e,t.id,t.item.document,{updatedAt:new Date,config:{permanent:r(r({},t.item.permanent),{origin:v})}}):e}),e.store)}):e}),D(!1),T());case"changeOrigin":return u.pipe(e,function(e,t){return function(n){var i=p.generateLocalId(),a=o.changeOrigin(n.store,e,i,t),s=a[0],c=a[1],l=r(r({},n),{store:s});switch(c.permanent.documentType){case"snippet":return u.pipe(l,w(i),T());case"tag":return u.pipe(l,P(),T())}}}(n.id,n.origin),D(!1));case"markArchivedObsolete":return u.pipe(e,(d=n.timespanInMs,function(e){var t=f.getIdsOfDeletableItems(e.store.store,d).reduce((function(e,t){var n=a.get(e,t);return a.save(e,t,n.document,{updatedAt:new Date,config:{permanent:r(r({},n.permanent),{obsolete:{state:!0,reason:"archived"}})}})}),e.store);return r(r({},e),{store:t})}),T())}var d,h,v,b,O,M,I,A,L,R,N},t.initialState={store:{store:new Array,idMapping:{}},derivedState:{snippetMetaDataStore:[],snippetList:[],tagList:[]},blockNextSync:!1,selectedSnippetId:null,selectedSnippetListEntry:null,snippetEditorReloadToken:y(),settings:{selectedTagPath:[],showOnlyDeleted:!1,defaultOrigin:"cloud"},syncErrors:[]},t.useUpdateSettings=M,t.useAppState=function(e){var n=l.useReducer(t.reduce,t.initialState),r=n[0],i=n[1];return M(i,e),[r,i]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFactory=void 0;var r=n(1);t.useFactory=function(e,t,n){return r.useMemo((function(){return e(t,n)}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMimeTypeForLanguage=t.fileExtensionToLanguage=t.supportedCodeLanguages=t.MARKDOWN=void 0;var r=n(239);t.MARKDOWN="Markdown",t.supportedCodeLanguages=["JavaScript","TypeScript","Ruby","Java","C","HTML",t.MARKDOWN,"Shell","CSS","SCSS"];var i={},o={};t.supportedCodeLanguages.forEach((function(e){var t=r.modeInfo.find((function(t){return t.name===e}));i[e]=t})),t.supportedCodeLanguages.forEach((function(e){i[e].ext.forEach((function(t){o[t]=e}))})),t.fileExtensionToLanguage=o,t.getMimeTypeForLanguage=function(e){var t=i[e];return t&&t.mime}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultListEntry=void 0;var a=o(n(1)),s=n(54);n(261);t.DefaultListEntry=function(e){var t=e.snippetListEntry.metaData.title||a.default.createElement("span",{className:"DefaultListEntry-untitledEntry"},"untitled"),n=s.getPluginByLanguage(e.snippetListEntry.snippet.language),r=a.useState(!1),i=r[0],o=r[1];return a.default.createElement("div",{className:"DefaultListEntry-entryInner "+(null===n||void 0===n?void 0:n.snippetListClass(e.snippetListEntry.snippet)),onTouchMove:function(){return o(!0)},onTouchEnd:function(t){t.preventDefault(),i||e.setSelectedSnippetId(e.snippetListEntry.metaData.id,{autoScroll:!0}),o(!1)},onMouseDown:function(){return e.setSelectedSnippetId(e.snippetListEntry.metaData.id,{autoScroll:!0})}},a.default.createElement("span",{className:"DefaultListEntry-entryInnerIconWrapper"},a.default.createElement("i",{className:"DefaultListEntry-entryInnerSnippetTypeIcon mdi "+(null===n||void 0===n?void 0:n.icon)})),a.default.createElement("div",{className:"DefaultListEntry-entryBodyWrapper CommonUI-delayedIconContainer"},a.default.createElement("div",{className:"DefaultListEntry-entryTitleWrapper"},a.default.createElement("div",{className:"DefaultListEntry-entryTitle"},t),a.default.createElement("span",{className:"CommonUI-delayedIconWrapper"},a.default.createElement("i",{className:"mdi mdi-"+e.listEntryIcon+" DefaultListEntry-entryTitleDeleteIcon",onClick:function(){return e.runItemAction(e.snippetListEntry)},onMouseDown:function(e){return e.stopPropagation()}}))),a.default.createElement("div",{className:"DefaultListEntry-entryContent"},""===e.snippetListEntry.metaData.trimmedBody?a.default.createElement("span",{className:"DefaultListEntry-noContent"},"no content"):e.children)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(10),o=n(3);function a(e,t){if(e instanceof o.Fragment){var n=e.content.map((function(e){return a(e,t)}));return new o.Fragment(n,e.size)}if(e instanceof o.Node){if(e.isText){var r=t.isInSet(e.marks);if(r&&r.attrs.href!==e.textContent){var i=t.removeFromSet(e.marks);return e.mark(i)}return e}var s=a(e.content,t);return e.copy(s)}}var s=/^\s$/,u=/^\s.*$/,c=/^.*\s$/;function l(e,t,n,r){for(var i=t,o=e.charAt(i);!o.match(s)&&n(i);)i+=r,o=e.charAt(i);return i}function d(e,t){var n=function(e,t){return t.marks.link.isInSet(e.marks())}(e,t);if(n&&n.attrs.nolabel)return{$cursor:e,start:function(e){return l(e.parent.textContent,e.parentOffset-1,(function(e){return e>0}),-1)}(e),end:function(e){return l(e.parent.textContent,e.parentOffset,(function(t){return t<e.parent.nodeSize-2}),1)}(e),mark:n}}var p=function(e){this.initializer=e},f={value:{configurable:!0},isDefined:{configurable:!0}};function h(e,t,n,r){return new p((function(){return d(e.resolve(t.pos+r),n)}))}f.value.get=function(){return void 0===this._value&&(this._value=this.initializer()||null),this._value},f.isDefined.get=function(){return null!==this.value},Object.defineProperties(p.prototype,f);var m=function(e,t,n,r,i){var o=this;this.trs=e,this.oldState=t,this.newState=n,this.historyPluginKey=r,this.schema=i,this.linkMarkAtCursor=new p((function(){return d(o.oldState.selection.$cursor,o.schema)})),this.marksPreEdit={left:h(t.doc,t.selection.$cursor,i,-1),right:h(t.doc,t.selection.$cursor,i,1)},this.marksPostEdit={left:h(n.doc,n.selection.$cursor,i,-1),right:h(n.doc,n.selection.$cursor,i,1)}},g={isSteppingThroughHistory:{configurable:!0},docDidntChange:{configurable:!0},wasCursorSelection:{configurable:!0},isCursorSelection:{configurable:!0},hasExactlyOneStep:{configurable:!0},hasInsertedSingleSpace:{configurable:!0},positionDelta:{configurable:!0},hasDeletedBackward:{configurable:!0},hasInserted:{configurable:!0},hasDeletedForward:{configurable:!0},isJoinedByTextOnTheRight:{configurable:!0},isJoinedByTextOnTheLeft:{configurable:!0},joinsLinkWithLink:{configurable:!0},joinsLinkWithText:{configurable:!0},joinsTextWithLink:{configurable:!0},wasAtEdgeOfTextNode:{configurable:!0},hasDeletedBackwardOntoStartOfTextNode:{configurable:!0},hasDeletedBackwardIntoLink:{configurable:!0},hasDeletedForwardIntoLink:{configurable:!0},hasInsertedAtEndOfLink:{configurable:!0},hasInsertedAtStartOfLink:{configurable:!0},hasSplitAtEndOfTextNode:{configurable:!0}};g.isSteppingThroughHistory.get=function(){var e=this;return this.trs.some((function(t){return void 0!==t.getMeta(e.historyPluginKey)}))},g.docDidntChange.get=function(){return!this.trs.some((function(e){return e.docChanged}))},g.wasCursorSelection.get=function(){return this.oldState.selection.$cursor},g.isCursorSelection.get=function(){return this.newState.selection.$cursor},g.hasExactlyOneStep.get=function(){return 1===this.trs.length&&1===this.trs[0].steps.length},g.hasInsertedSingleSpace.get=function(){var e=this.trs[0].steps[0].slice.content;return e.textBetween(0,e.size).match(s)},g.positionDelta.get=function(){return void 0===this._positionDelta&&(this._positionDelta=this.oldState.selection.$cursor.pos-this.newState.selection.$cursor.pos),this._positionDelta},g.hasDeletedBackward.get=function(){return this.positionDelta>0},g.hasInserted.get=function(){return this.positionDelta<0},g.hasDeletedForward.get=function(){return 0===this.positionDelta},m.prototype.hasChildWhichMatches=function(e,t){var n=this.newState.selection.$cursor.parent.maybeChild(this.newState.selection.$cursor.index()+t);return n&&!n.textContent.match(e)},g.isJoinedByTextOnTheRight.get=function(){return this.hasChildWhichMatches(u,0)},g.isJoinedByTextOnTheLeft.get=function(){return this.hasChildWhichMatches(c,-1)},g.joinsLinkWithLink.get=function(){return this.marksPostEdit.left.isDefined&&this.marksPostEdit.right.isDefined},g.joinsLinkWithText.get=function(){return this.marksPostEdit.left.isDefined&&this.isJoinedByTextOnTheRight},g.joinsTextWithLink.get=function(){return this.marksPostEdit.right.isDefined&&this.isJoinedByTextOnTheLeft},g.wasAtEdgeOfTextNode.get=function(){return 0===this.oldState.selection.$cursor.textOffset},g.hasDeletedBackwardOntoStartOfTextNode.get=function(){return this.hasDeletedBackward&&0===this.newState.selection.$cursor.textOffset},g.hasDeletedBackwardIntoLink.get=function(){return this.hasDeletedBackward&&this.marksPreEdit.left.isDefined},g.hasDeletedForwardIntoLink.get=function(){return this.hasDeletedForward&&this.marksPreEdit.right.isDefined},g.hasInsertedAtEndOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.left.isDefined},g.hasInsertedAtStartOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.right.isDefined},g.hasSplitAtEndOfTextNode.get=function(){return this.wasAtEdgeOfTextNode&&0===this.newState.selection.$cursor.parentOffset&&this.oldState.selection.$cursor.index(this.oldState.selection.$cursor.depth)!==this.newState.selection.$cursor.index(this.newState.selection.$cursor.depth)},Object.defineProperties(m.prototype,g);var v=/\./,y=["http://","https://","ftp://","www."];function b(e,t,n){var r=e.$cursor.start()+e.start,o=e.$cursor.start()+e.end,a=function(e){var t=new i.Mapping;return e.forEach((function(e){return t.appendMapping(e.mapping)})),t}(n);return t.removeMark(a.mapResult(r).pos,a.mapResult(o).pos,e.mark)}function O(e,t,n,r){if(e.isDefined&&t.isDefined){var i=b(e.value,n,r);return b(t.value,i,r)}return e.isDefined?b(e.value,n,r):t.isDefined?b(t.value,n,r):void 0}var _={attrs:{href:{},title:{default:null},nolabel:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=e.getAttribute("nolabel");return{href:t,title:e.getAttribute("title"),nolabel:null===n?t===e.textContent:n}}}],toDOM:function(e){return["a",e.attrs,0]}};t.customizeLinkMark=function(e){return e.update("link",_)},t.makeAnchorPlugin=function(e,t){return new r.Plugin({props:{transformPasted:function(t){return new o.Slice(a(t.content,e.marks.link),t.openStart,t.openEnd)}},appendTransaction:function(n,r,i){var o=new m(n,r,i,t,e);if(!o.isSteppingThroughHistory&&!o.docDidntChange)if(o.wasCursorSelection&&o.isCursorSelection){if(o.linkMarkAtCursor.isDefined)return b(o.linkMarkAtCursor.value,i.tr,n);if(!o.hasExactlyOneStep)return;if(o.hasInsertedSingleSpace||o.hasSplitAtEndOfTextNode)return o.marksPreEdit.left.isDefined?void 0:function(e,t,n){var r=function(e){for(var t,n=0,r=-1;r<e.parent.content.content.length-1&&n<e.parentOffset;)r++,(t=e.parent.content.content[r]).isText?n+=t.nodeSize:n+=1;return t&&t.isText?{textNode:t,positionInTextNode:t.text.length-(n-e.parentOffset)-1}:{}}(e),i=r.textNode,o=r.positionInTextNode;if(i){var a=i.text,u=o-1,c=a.charAt(u);if(!c.match(s)&&!c.match(v)){for(;!c.match(s)&&u>0;)c=a.charAt(--u);c.match(s)&&(u+=1);var l=a.substring(u,o);if(y.some((function(e){return l.length>e.length&&l.startsWith(e)}))){var d=e.parentOffset-o-1;return t.addMark(e.start()+d+u,e.start()+d+o,n.marks.link.create({href:l,nolabel:!0}))}}}}(i.selection.$cursor,i.tr,e);if(!o.wasAtEdgeOfTextNode&&!o.hasDeletedBackwardOntoStartOfTextNode)return;if(o.hasDeletedBackwardIntoLink)return b(o.marksPreEdit.left.value,i.tr,n);if(o.hasDeletedForwardIntoLink)return b(o.marksPreEdit.right.value,i.tr,n);if(o.hasInsertedAtEndOfLink)return b(o.marksPreEdit.left.value,i.tr,n);if(o.hasInsertedAtStartOfLink)return b(o.marksPreEdit.right.value,i.tr,n);if(o.hasDeletedBackward||o.hasDeletedForward){if(o.joinsLinkWithLink){var a=b(o.marksPostEdit.left.value,i.tr,[]);return b(o.marksPostEdit.right.value,a,[])}if(o.joinsLinkWithText)return b(o.marksPostEdit.left.value,i.tr,[]);if(o.joinsTextWithLink)return b(o.marksPostEdit.right.value,i.tr,[])}}else{var u,c=r.selection,l=c.$from,d=c.$to;if(u=O(h(r.doc,l,e,0),h(r.doc,d,e,0),i.tr,n))return u;if(0===l.pos)return;if(u=O(h(r.doc,l,e,-1),h(r.doc,d,e,1),i.tr,n))return u}}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHighlightPluginTransaction=t.highlightOccurences=t.findOccurences=t.HighlightPlugin=void 0;var i=n(5),o=n(46),a={occurences:[]};t.HighlightPlugin=new i.Plugin({state:{init:function(e,t){return a},apply:function(e,t){var n=e.getMeta(this);return n&&n.occurences&&(t=r(r({},t),{occurences:n.occurences})),t}},props:{decorations:function(e){var t=this.getState(e);if(t.occurences.length>0)return o.DecorationSet.create(e.doc,t.occurences.map((function(e){return o.Decoration.inline(e.start,e.end,{class:e.class})})))}}}),t.findOccurences=function(e,t){t=t.filter((function(e){return e})).map((function(e){return e.toUpperCase()}));var n=[];if(t.length>0){var r=new RegExp(t.join("|"),"g");e.descendants((function(e,t){if(e.isText)for(var i=0,o=void 0;(o=r.exec(e.text.toUpperCase()))&&i++<1e3;)n.push({start:t+o.index,end:t+o.index+o[0].length})}))}return n},t.highlightOccurences=function(e,n){var r=e.state.tr;r.setMeta(t.HighlightPlugin,{occurences:n}),e.dispatch(r)},t.isHighlightPluginTransaction=function(e){return void 0!==e.getMeta(t.HighlightPlugin)}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function i(e,t){return 1===t?e:e+"s"}function o(e,t){return"in "+t+" "+i(e,t)}function a(e,t){return t+" "+i(e,t)+" ago"}Object.defineProperty(t,"__esModule",{value:!0}),t.approximate=t.numberPostfixes=t.wordToNumber=t.ordinals=t.timeUnits=t.weekdays=t.months=t.amPm=t.noonMidnight=t.timeOfDay=void 0,t.timeOfDay=["morning","afternoon","evening"],t.noonMidnight=["noon","midnight"],t.amPm=["AM","PM"],t.months=["january","february","march","april","may","june","july","august","september","october","november","december"],t.weekdays=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],t.timeUnits=[["seconds","second"],["second","second"],["minutes","minute"],["minute","minute"],["hours","hour"],["hour","hour"],["days","day"],["day","day"],["weeks","week"],["week","week"],["months","month"],["month","month"],["years","year"],["year","year"]],t.ordinals=["first","second","third","fourth"],t.wordToNumber={a:1,an:1,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},t.numberPostfixes=["st","nd","rd","th","\\."];var s=r([{timeUnit:"second",renderFuture:function(){return"Shortly"},renderPast:function(){return"Now"}}],[["minute","minute"],["hour","hour"],["day","day"],["week","week"],["month","month"],["year","year"]].map((function(e){var t=e[0],n=e[1];return{timeUnit:t,renderFuture:o.bind(null,n),renderPast:a.bind(null,n)}})));t.approximate=function(e,t){var n=s.find((function(e){return e.timeUnit===t}));return e<=0?n.renderPast(-e):n.renderFuture(e)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useObservable=void 0;var r=n(1);t.useObservable=function(e,t){return r.useEffect((function(){var n=t.subscribe(e);return function(){return n.unsubscribe()}}),[t,e])}},,function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OriginReadynessContext=t.originConfigs=void 0;n(190);var o=n(193),a=i(n(1)),s=n(205),u=n(33),c=n(360),l=n(59);t.originConfigs=r(r(r([],l.isInMockedMode?[c.mockOriginConfig]:[o.cloudOriginConfig]),u.isElectron()?[s.fileOriginConfig]:[]),[]),t.OriginReadynessContext=a.default.createContext({ready:"pending"})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Rest=void 0;var o=n(194),a=function(){function e(e){this.resourceName=e}return e.prototype.compileParams=function(e){return e?"?"+Object.entries(e).map((function(e){return e[0]+"="+e[1]})).join("&"):""},e.prototype.index=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.get("/"+this.resourceName+this.compileParams(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.create=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.post("/"+this.resourceName,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.update=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.patch("/"+this.resourceName+"/"+e.id,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.delete=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,o.del("/"+this.resourceName+"/"+e+this.compileParams(t))];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteAll=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.del("/"+this.resourceName)];case 1:return[2,e.sent()]}}))}))},e}();t.Rest=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsForm=void 0;var l=s(n(1)),d=n(85),p=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=n.onSubmit.bind(n),n.state=i(i({},t.fields.reduce((function(e,t){var n,r=t.name;return i(i({},e),((n={})[d.getFieldName(r)]="",n))}),{})),{validationErrors:[],hasSubmitted:!1,isLoading:!1,serverError:null}),n.onChange=n.onChange.bind(n),n}return r(t,e),t.prototype.onChange=function(e){var t,n=e.target,r=n.value,i=n.name;this.setState(((t={})[d.getFieldName(i)]=r,t.hasSubmitted=!1,t.serverError=null,t))},t.prototype.onSubmit=function(e){var t=this;e.preventDefault(),this.setState({hasSubmitted:!0,serverError:null});var n=this.props.fields.reduce((function(e,n){var r,o=n.name;return i(i({},e),((r={})[o]=t.state[d.getFieldName(o)],r))}),{}),r=this.props.fields.map((function(e){var t=e.name;return(0,e.validator)(t,n)})).filter((function(e){return!0!==e}));0===r.length&&(this.indicateLoading(!0),this.props.onSubmit(n).then((function(e){return e&&t.showMessage(e)})).catch((function(e){return t.extractErrorFromResponse(e)})).finally((function(){return t.indicateLoading(!1)}))),this.setState({validationErrors:r})},t.prototype.extractErrorFromResponse=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return 429!==e.status?[3,1]:(this.showMessage(d.TOO_MANY_REQUESTS),[3,4]);case 1:return 401!==e.status?[3,2]:(this.showMessage(d.UNAUTHORIZED),[3,4]);case 2:return[4,e.json()];case 3:(t=n.sent())&&t.errors?this.showMessage(t.errors.join(" ")):this.showMessage(d.UNEXPECTED_ERROR+" ("+e.status+")"),n.label=4;case 4:return[2]}}))}))},t.prototype.indicateLoading=function(e){this.setState({isLoading:e})},t.prototype.showMessage=function(e){this.setState({serverError:e})},t.prototype.render=function(){var e=this,t=this.props.fields.map((function(t){var n=t.name,r=t.placeholder,i=t.autocomplete,o=t.type;return l.default.createElement("input",{className:"CommonUI-input CommonUI-input-centered CommonUI-input-with-border",disabled:e.props.disabled,key:n,autoComplete:i,type:o,value:e.state[d.getFieldName(n)],onChange:e.onChange,placeholder:r,name:n})})),n=this.state.validationErrors.map((function(e,t){return l.default.createElement("div",{key:t},e)})),r=this.state.serverError&&l.default.createElement("p",null,this.state.serverError);return l.default.createElement("form",null,l.default.createElement("h2",null,this.props.title),t,l.default.createElement("button",{className:"CommonUI-button CredentialsForm-submit-button",disabled:this.state.isLoading||this.props.disabled,onClick:this.onSubmit},this.props.submitLabel),l.default.createElement("div",{className:"CredentialsForm-error-section"},n,r,this.state.isLoading&&l.default.createElement("span",null,"Loading...")))},t}(l.Component);t.CredentialsForm=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsFormWrapper=void 0;var s=a(n(1)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"CredentialsForm-outer"},s.default.createElement("div",{className:"CredentialsForm-inner"},this.props.children))},t}(s.Component);t.CredentialsFormWrapper=u},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.originErrorRenderer=t.compileNoOriginConfiguredErrorDetails=t.compileOriginNotConfiguredErrorDetails=void 0;var i=r(n(1)),o=n(69);t.compileOriginNotConfiguredErrorDetails=function(e){return{layer:"origin",type:"not-configured",origin:e}},t.compileNoOriginConfiguredErrorDetails=function(){return{layer:"origin",type:"none-configured"}};t.originErrorRenderer=function(e){if(!function(e){return!!e&&"origin"===e.layer}(e))return null;switch(e.type){case"not-configured":return i.default.createElement(o.SimpleErrorView,{title:"Origin not configured",description:i.default.createElement("span",null,"Origin ",i.default.createElement("em",null,e.origin)," appears not to be configured. Did you enable it?")});case"none-configured":return i.default.createElement(o.SimpleErrorView,{title:"No origin configured",description:"Please configure at least one origin."})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=t.saveAfterSync=t.saveSynced=t.saveDirty=void 0;var i=n(59),o=n(63);var a=0,s=new Date;function u(e,t,n,u,c){var l,d=o.get(e,t)||function(e,t,n){var r=void 0===n?{}:n,i=r.config,o=r.updatedAt;if(!i)throw"trying to init DocumentWrapper without config";return{id:e,document:t,permanent:i.permanent,internalVersion:0,dirty:!1,updatedAt:o||new Date}}(t,n,c);return d=function(e){return r(r({},e),{internalVersion:e.internalVersion+1})}(d=u(d=r(r(r(r({},d),function(e){if(e){if(i.isInMockedMode){var t=new Date(s);return t.setSeconds(a),a+=1,{updatedAt:t}}return{updatedAt:e}}return{}}(null===c||void 0===c?void 0:c.updatedAt)),(null===(l=null===c||void 0===c?void 0:c.config)||void 0===l?void 0:l.permanent)?{permanent:c.config.permanent}:{}),{document:n}))),o.save(e,t,d)}function c(e){return r(r({},e),{dirty:!0})}function l(e){return r(r({},e),{dirty:!1})}t.saveDirty=function(e,t,n,r){return u(e,t,n,c,r)},t.saveSynced=function(e,t,n,r){return u(e,t,n,l,r)},t.saveAfterSync=function(e,t,n,i,a){var s=o.get(e,t),u=s.internalVersion;return s=(n<u?c:l)(s=r(r({},s),{internalVersion:u+1,permanent:a||s.permanent,updatedAt:i})),o.save(e,t,s)},t.mergeStores=function(e,t,n){for(var r=e.map((function(e){return e})),i=[],o=function(e){var t=r.findIndex((function(t){return t.id===e.id}));t>=0?n(r[t].item,e.item)&&(r[t]=e,i.push(e.id)):(r.push(e),i.push(e.id))},a=0,s=t;a<s.length;a++){o(s[a])}return{mergedStore:r,changedIds:i}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=t.getTagsAsStringArray=t.addTag=t.deleteByPath=t.renamePaths=t.maybeAddNewPath=t.normalizeTag=t.turnTagIntoPath=t.turnPathIntoTag=t.SEPARATOR=t.initTag=void 0;var i=n(32),o=n(63),a=n(9),s=n(62);function u(e){return{path:e,archived:!1}}function c(e){return e.join(t.SEPARATOR)}function l(e,t,n,r){void 0===r&&(r=s.generateLocalId);var c,l=function(e,t){return o.getAll(t.store).filter(d).find((function(t){return!t.document.archived&&a.isExactPath(t.document.path,e)}))}(t,e),p=!1;if(l)c=l.id;else{var f=r();c=f,p=!0,e=i.save(e,f,u(t),{config:{permanent:{origin:n,documentType:"tag",version:0,obsolete:{state:!1}}}})}return{store:e,id:c,isNew:p}}function d(e){return"tag"===e.permanent.documentType}t.initTag=u,t.SEPARATOR=" / ",t.turnPathIntoTag=c,t.turnTagIntoPath=function(e){return e.split(t.SEPARATOR)},t.normalizeTag=function(e){return e.split(t.SEPARATOR.trim()).map((function(e){return e.trim()})).join(t.SEPARATOR)},t.maybeAddNewPath=l,t.renamePaths=function(e,t,n){if(""===t.trim())return e;var s=n.filter((function(e,t){return t!==n.length-1})).concat([t]),u=o.getAll(e.store).filter(d);return u.find((function(e){return a.isExactPath(e.document.path,s)}))?e:u.reduce((function(e,o){var s=!0!==o.document.archived&&o.document.path;if(s&&a.isSubPath(n,s)){var u=s.map((function(e){return e}));return u[n.length-1]=t,i.save(e,o.id,r(r({},o.document),{path:u}))}return e}),e)},t.deleteByPath=function(e,t){var n=o.getAll(e.store).filter(d).find((function(e){return a.isExactPath(t,e.document.path)}));return n?i.save(e,n.id,r(r({},n.document),{archived:!0})):e},t.addTag=function(e,t,n){return l(e,t,n).store},t.getTagsAsStringArray=function(e){return e.filter((function(e){return!e.tag.archived})).map((function(e){return c(e.tag.path)}))},t.isTag=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStateChangeEffect=void 0;var r=n(226),i=n(1);t.useStateChangeEffect=function(e,t){var n=r.usePrevious(e);i.useEffect((function(){if(void 0!==n)if(t instanceof Array)t.forEach((function(t){var r=t.test,i=t.run;return r(n,e)&&i(n,e)}));else{var r=t.extract||function(e){return e};switch(t.trigger){case"change":return void t.run(n,e);case"on":return void(!r(n)&&r(e)&&t.run(n,e));case"off":return void(r(n)&&!r(e)&&t.run(n,e))}}}),[e])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,o){if(n===t.path.length)return e;var a=t.path[n],s=e.content.find((function(e){return e.name===a})),u=t.path.length-1!==n;return s?u||(s=r(r({},s),{data:r(r({},t.data),{derived:!1})})):(s={name:a,content:new Array,root:!1,data:r(r({},u?o:t.data),{derived:u})},e=r(r({},e),{content:e.content.concat([s]).sort((function(e,t){return e.name.localeCompare(t.name)}))})),r(r({},e),{content:e.content.map((function(e){return e.name===a?i(e,t,n+1,o):e}))})}function o(e,t,n){return n===e.length||e[n]===t[n]&&o(e,t,n+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.isExactPath=t.isSubPath=t.compileTree=void 0,t.compileTree=function(e,t,n){return e.reduce((function(e,t){return i(e,t,0,n)}),{name:"root",root:!0,content:[],data:r(r({},t),{derived:!0})})},t.isSubPath=function(e,t){return!(e.length>t.length)&&o(e,t,0)},t.isExactPath=function(e,t){return e.length===t.length&&o(e,t,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t,n,r){void 0===t&&(t=100),void 0===n&&(n=window.setTimeout),void 0===r&&(r=window.clearTimeout);var i=void 0;return[function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new Promise((function(a,s){i&&(r(i.timeout),i.reject("Debounced function called before expiration time of "+t+"ms"));var u=n((function(){var t=e.apply(null,o);a({result:t})}),t);i={timeout:u,reject:s}}))},function(){i&&(r(i.timeout),i.reject("Debounced function call got cancelled"))}]}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarIcon=t.ToolbarItem=t.ToolbarItemGroup=t.Toolbar=void 0;var s=a(n(1));n(260);var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"Toolbar"},this.props.children)},t}(s.Component);t.Toolbar=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=["ToolbarItemGroup"].concat(this.props.additionalClasses);return s.default.createElement("div",{className:e.join(" ")},s.default.createElement("div",{className:"ToolbarItemGroup-inner"},this.props.children))},t}(s.Component);t.ToolbarItemGroup=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("span",{className:"ToolbarItem"},this.props.children)},t}(s.Component);t.ToolbarItem=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=["mdi","mdi-"+this.props.iconName];return s.default.createElement("span",{className:["ToolbarIcon"].concat(this.props.additionalClasses).join(" ")},s.default.createElement("i",{className:e.join(" "),onClick:this.props.onClick,onMouseDown:this.props.onMouseDown}))},t}(s.Component);t.ToolbarIcon=d},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomParagraphView=t.appendCustomParagraphNode=t.extractClasses=t.ATTRIBUTE_DEFINITIONS=t.CLASS_PREFIX=void 0,t.CLASS_PREFIX="CustomParagraph-",t.ATTRIBUTE_DEFINITIONS={TYPE:{name:"type",knownValues:["sticky","quote","box"]},TEXT_ALIGNMENT:{name:"textAlignment",knownValues:["center","right"]},ITEM_ALIGNMENT:{name:"itemAlignment",knownValues:["center"]},BACKGROUND_COLOR:{name:"backgroundColor",knownValues:["blue","red","yellow"]}};var i=Object.values(t.ATTRIBUTE_DEFINITIONS),o=i.map((function(e){var n=e.name;return e.knownValues.map((function(e){return{class:""+t.CLASS_PREFIX+n+"-"+e,value:e,name:n}}))})).flat().reduce((function(e,t){var n,i=t.class,o=t.value,a=t.name;return r(r({},e),((n={})[i]={value:o,name:a},n))}),{});function a(e){return i.reduce((function(n,r){var i=r.name,o=r.knownValues;return e.attrs[i]&&o.includes(e.attrs[i])?n.concat(""+t.CLASS_PREFIX+i+"-"+e.attrs[i]):n}),new Array)}t.extractClasses=a,t.appendCustomParagraphNode=function(e){var t={content:"inline*",group:"block",attrs:i.reduce((function(e,t){var n,i=t.name;return r(r({},e),((n={})[i]={default:void 0},n))}),{}),parseDOM:[{tag:"p",getAttrs:function(e){var t=new Array;return e.classList.forEach((function(e){return t.push(e)})),t.map((function(e){return o[e]})).filter((function(e){return e})).reduce((function(e,t){var n,i=t.value,o=t.name;return r(r({},e),((n={})[o]=i,n))}),{})}}],toDOM:function(e){var t=a(e);return["p",t.length>0?{class:t.join(" ")}:{},0]}};return e.update("paragraph",t)};var s=function(e,t,n){throw"CustomParagraphView was not migrated!"};t.CustomParagraphView=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=void 0;var r=n(40);function i(e,t,n){return new r.InputRule(e,(function(e,r,i,o){var a=n instanceof Function?n(r):n,s=e.tr;if(r[1]){var u=i+r[0].indexOf(r[1]),c=u+r[1].length;c<o&&s.delete(c,o),u>i&&s.delete(i,u),o=i+r[1].length}return s.addMark(i,o,t.create(a)).removeStoredMark(t).insertText(" ")}))}t.buildCustomInputRules=function(e){return r.inputRules({rules:[r.wrappingInputRule(/^\s*([+])\s$/,e.nodes.todo_list),i(/\*\*(\S(?:|.*?\S))\*\*\s$/,e.marks.strong),i(/\*(\S(?:|.*?\S))\*\s$/,e.marks.em),i(/`(\S(?:|.*?\S))`\s$/,e.marks.code)]})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorToolSet=void 0;var s=a(n(1));n(289);var u=n(126),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={menuItemStates:null},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscriptions=[];var t=this.props.toolbarEvents.subscribeForMenuItemStateChanges((function(t){e.setState({menuItemStates:t.content})}));t&&this.subscriptions.push(t)},t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.onClick=function(e,t){this.props.toolbarEvents.publishMenuItemRun(e)},t.prototype.avoidLosingFocus=function(e){e.preventDefault()},t.prototype.render=function(){var e=this;return this.state.menuItemStates?s.default.createElement(s.default.Fragment,null,this.props.iconConfigs.map((function(t,n){return s.default.createElement(u.ToolbarItemGroup,{key:n},t.map((function(t){return function(t,n,r){var i=e.state.menuItemStates[t];if(i){var o=["ProseMirrorToolSet-action-button"];i.isActive&&i.isEnabled&&o.push("ProseMirrorToolSet-action-button-active"),!1!==i.isEnabled&&!1!==i.isSelectable||o.push("ProseMirrorToolSet-action-button-disabled");var a=e.onClick.bind(e,t),c=e.avoidLosingFocus.bind(e);return s.default.createElement(u.ToolbarItem,{key:t},s.default.createElement(u.ToolbarIcon,{iconName:n,additionalClasses:o.concat(r),onClick:a,onMouseDown:c}))}}(t.itemIdentifier,t.itemIconName,t.additionalClasses)})))}))):s.default.createElement("span",{className:"Toolbar-item-spacer"},"n/a")},t}(s.Component);t.ProseMirrorToolSet=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.produceFileMetaData=void 0;var r=n(142),i=n(45);function o(e){var t=[];return e.descendants((function(e,n,r){return"reminder"===e.type.name&&t.push({id:""+e.attrs.createdAt,createdAt:e.attrs.createdAt,date:e.attrs.date,text:r.textContent,repeatDescription:e.attrs.repeatDescription}),!0})),t}t.produceFileMetaData=function(e,t,n,a,s){var u;void 0===s&&(s=!1),t=t.trim();var c=i.getTextFromDoc(n),l=""!==t.trim(),d=null===(u=c.match(/^(.*)$/m))||void 0===u?void 0:u[1],p=l?t:d||"",f=r.getBodyFromTextContent(c,s),h=r.getBodyFromTextContent(c,s||!l).substring(0,150).trim();return{id:e,normalizedLanguage:a,textContent:c,upperCaseTextContent:c.toUpperCase(),title:p,upperCaseTitle:p.toUpperCase(),body:f,trimmedBody:h,searchableString:[c,p].join(" ").toUpperCase(),reminders:o(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldCreate=void 0;var r=n(62);t.shouldCreate=function(e){return e.id.startsWith(r.LOCAL_ID_PREFIX)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDelete=void 0,t.shouldDelete=function(e){return!0===e.permanent.obsolete.state}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserService=void 0;var o=n(101),a=function(){function e(){}return e.prototype.signup=function(e){var t=e.username,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/register").create({email:t,password:n})];case 1:return e.sent(),[2]}}))}))},e.prototype.sendPasswordReset=function(e){var t=e.username;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/send_password_reset").create({email:t})];case 1:return e.sent(),[2]}}))}))},e.prototype.resetPassword=function(e){var t=e.token,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/change_password").create({token:t,password:n})];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e){var t=e.currentPassword,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/change_password").create({current_password:t,password:n})];case 1:return e.sent(),[2]}}))}))},e}();t.UserService=a},,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginErrorRenderer=t.compileParseErrorDetails=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var i=r(n(1)),o=n(69);t.compilePushErrorDetails=function(e,t){return{layer:"cloud-origin",type:"push-error",code:e.status,documentId:t.id}},t.compilePullErrorDetails=function(e){return{layer:"cloud-origin",type:"pull-error",code:e.status}},t.compileParseErrorDetails=function(e,t){return{layer:"cloud-origin",type:"parse-error",documentId:e,documentType:t}};var a="Unauthorized. Please Log In.";t.cloudOriginErrorRenderer=function(e){if(!function(e){return!!e&&"cloud-origin"===e.layer}(e))return null;if("parse-error"===e.type)return i.default.createElement(o.SimpleErrorView,{title:"Parsing document failed",description:"Document with id "+e.documentId+" and type "+e.documentType+" might be corrupted."});if(401!==e.code)return null;switch(e.type){case"push-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during upload of document "+e.documentId,description:a});case"pull-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during download",description:a})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginErrorRenderer=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var i=r(n(1)),o=n(69),a=n(68);t.compilePushErrorDetails=function(e,t){return{layer:"file-origin",type:"push-error",action:e,documentId:t.id}},t.compilePullErrorDetails=function(){return{layer:"file-origin",type:"pull-error"}};t.fileOriginErrorRenderer=function(e,t){if(!function(e){return!!e&&"file-origin"===e.layer}(e))return null;var n=t.find((function(e){return a.isFileStorageError(e)})),r=a.extractFileStorageErrorTitleAndDescription(n);switch(e.type){case"push-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during "+e.action+" of document "+e.documentId,description:r?r.description:"Unknown error."});case"pull-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during download",description:r?r.description:"Unknown error."})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.findOccurencesAndCompileSearchResults=t.cancelExecution=t.createBatchedExecutionContext=t.compileSnippetList=t.updateSnippetMetaDataStore=t.initSnippetMetaDataStore=t.isSnippet=t.rewriteTagsAfterTagSync=t.updateSnippet=t.createSnippet=t.updateSelectedTagPath=t.initSnippet=void 0;var i=n(63),o=n(32),a=n(142),s=n(33),u=n(62),c=n(9);function l(e){return"snippet"===e.permanent.documentType}t.initSnippet=function(e,t,n){return{tags:[],archived:!1,content:e,language:t,name:n}},t.updateSelectedTagPath=function(e,t,n){var r=e;if(e.length>0){var o=i.getAll(n.store).find((function(t){var n=t.document.path;return c.isExactPath(e,n)}));o&&t.tags.includes(o.id)||(r=[])}return r},t.createSnippet=function(e,t,n,r){return e=o.save(e,t,n,{config:{permanent:{origin:r,documentType:"snippet",version:0,obsolete:{state:!1}}}})},t.updateSnippet=function(e,t,n){return o.save(e,t,n)},t.rewriteTagsAfterTagSync=function(e){return i.getAll(e.store).filter(l).reduce((function(t,n){var i=n.document.tags.reduce((function(t,n){var r=t.needsSync,i=t.remappedTags,o=e.idMapping[n];return o?{needsSync:!0,remappedTags:i.concat(o)}:{needsSync:r,remappedTags:i.concat(n)}}),{needsSync:!1,remappedTags:new Array}),a=i.needsSync,s=i.remappedTags;return a?o.save(t,n.id,r(r({},n.document),{tags:s})):t}),e)},t.isSnippet=l,t.initSnippetMetaDataStore=function(e,t){return i.getAll(e.store).filter(l).reduce((function(n,r){return i.save(n,r.id,a.produceSnippetMetaData(r,e,t))}),new Array)},t.updateSnippetMetaDataStore=function(e,t,n,r){var s=o.get(e,n),u=a.produceSnippetMetaData(s,e,r);return i.save(t,s.id,u)},t.compileSnippetList=function(e,t,n){return i.getAll(e.store).filter(l).filter(n).filter((function(e){return!1===e.permanent.obsolete.state})).sort(s.sortByUpdatedAt).map((function(e){return{snippet:e.document,metaData:i.get(t,e.id)}}))},t.createBatchedExecutionContext=function(){return{cancelled:!1}},t.cancelExecution=function(e){e.cancelled=!0};function d(e,t){for(var n,r=[],i=0,o=0,a=0,s=t;a<s.length;a++){var u=s[a];i=Math.max(0,u.start-100),r.length>0&&o>=i?r[r.length-1]={text:e.substring(n.end,u.start),highlight:!1}:(i>0&&r.push({text:" ... ",highlight:!1}),r.push({text:e.substring(i,u.start),highlight:!1})),r.push({text:e.substring(u.start,u.end),highlight:!0}),o=Math.min(e.length,u.end+100),r.push({text:e.substring(u.end,o),highlight:!1}),n=u}return r}function p(e,t){var n,r=[],i=0;t=t.map((function(e){return e.toUpperCase()}));var o=e.metaData.title.toUpperCase(),a=e.metaData.textContent.toUpperCase();return n=u.findOccurences(o,t),i+=u.calculateSearchRelevance(n,t),(r=r.concat(d(e.metaData.title,n))).length>0&&r.push({text:" ... ",highlight:!1}),n=u.findOccurences(a,t),i+=u.calculateSearchRelevance(n,t),{chunks:r=r.concat(d(e.metaData.textContent,n)),relevance:i,updatedAt:e.metaData.updatedAt}}t.findOccurencesAndCompileSearchResults=function(e,t){var n=[];if((t=t.filter((function(e){return e}))).length<=0)return n;for(var r=e,i=0;i<r.length;i++){var o=r[i],a=p(o,t),s=a.chunks,u=a.relevance,c=a.updatedAt;s.length>0&&(n=n.concat({id:o.metaData.id,chunks:s,relevance:u,updatedAt:c}))}return n.filter((function(e){return e.chunks.length>0})).sort((function(e,t){var n=e.relevance,r=e.updatedAt,i=t.relevance,o=t.updatedAt;return i-n||o.getTime()-r.getTime()})).slice(0,20)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setUpIdMapping=void 0,t.setUpIdMapping=function(e,t,n){var i;return r(r({},e),{idMapping:r(r({},e.idMapping),(i={},i[t]=n,i))})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.produceSnippetMetaData=t.getBodyFromTextContent=void 0;var i=n(122),o=n(32),a=n(54);t.getBodyFromTextContent=function(e,t){return void 0===t&&(t=!1),e.split("\n").filter((function(e,n){return(!t||0!==n)&&" "!==e})).join(" ")},t.produceSnippetMetaData=function(e,t,n){var s=e.document.tags.map((function(e){var n=o.get(t,e);return n&&i.isTag(n)&&!n.document.archived?{path:n.document.path,text:i.turnPathIntoTag(n.document.path),id:e}:void 0})).filter((function(e){return void 0!==e}));return r(r({},function(e){var t=a.getPluginByLanguage(e.document.language);return t?t.produceFileMetaData(e):{id:"n/a",normalizedLanguage:"n/a",textContent:"n/a",upperCaseTextContent:"n/a",title:"n/a",upperCaseTitle:"n/a",body:"n/a",trimmedBody:"n/a",searchableString:"n/a",reminders:[]}}(e)),{resolvedTags:s,dirty:e.dirty,origin:e.permanent.origin,updatedAt:e.updatedAt,syncErrors:n.filter((function(t){return t.documentId&&t.documentId===e.id})).map((function(e){return e.message}))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollIntoView=void 0;var r=n(1);t.useScrollIntoView=function(e){var t=e.dependency,n=e.condition,i=e.index,o=e.refs,a=e.useTimeout,s=void 0!==a&&a;return r.useEffect((function(){if(n){var e=function(){var e,t;return null===(t=null===(e=o.current)||void 0===e?void 0:e[i])||void 0===t?void 0:t.scrollIntoView({block:"nearest"})};s?setTimeout(e,0):e()}}),[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileEntries=t.updateCollapsedPaths=void 0;var r=n(124);function i(e,t,n,o,a,s,u){return e.content.reduce((function(e,t){var a=e[0],c=e[1],l=n.concat([t.name]),d=function(e,t){return e.some((function(e){return r.isExactPath(t,e)}))}(u,l);return i(t,a=a.concat([{name:t.name,depth:o,hasChildren:t.content.length>0,index:c,isInsideCollapsed:s,isCollapsed:d,path:l,data:t.data}]),l,o+1,c+1,s||d,u)}),[t,a])}t.updateCollapsedPaths=function(e,t,n){return n?e.concat([t]):e.filter((function(e){return!r.isExactPath(t,e)}))},t.compileEntries=function(e,t){return i(e,[],[],0,0,!1,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCollapseToggler=t.makeRightNavigationHandler=t.makeLeftNavigationHandler=t.makeVerticalNavigationHandler=t.findNextSelectable=t.findNextCollapsible=void 0;var r=n(82);function i(e,t,n,i){for(var o=0,a=t;o<n.length&&(o++,!i(a=r.normalizeCounter(t+o*e,n.length))););return a}function o(e,t,n){return n[i(e,t,n,(function(e){return!0===n[e].hasChildren&&!n[e].isInsideCollapsed}))]}function a(e,t,n){return n[i(e,t,n,(function(e){return!1===n[e].isInsideCollapsed}))]}t.findNextCollapsible=o,t.findNextSelectable=a,t.makeVerticalNavigationHandler=function(e,t,n,r){return function(i){return t(a(e,n,r)),i}},t.makeLeftNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&!a.isCollapsed?t(n,!0):e(o(-1,n,r)),i}},t.makeRightNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&a.isCollapsed?t(n,!1):e(o(1,n,r)),i}},t.makeCollapseToggler=function(e,t,n){return function(r){var i=n[t];return i.hasChildren&&e(t,!i.isCollapsed),r}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewWrapperBindings=t.makeDefaultTreeViewKeyHandlerChain=t.useTreeView=t.findIndex=void 0;var i=n(1),o=n(124),a=n(82),s=n(144),u=n(145);function c(e,t){switch(t.type){case"setCollapsed":return function(){var n=s.updateCollapsedPaths(e.collapsedPaths,e.entries[t.index].path,t.collapsed),i=s.compileEntries(e.tree,n)[0];return r(r({},e),{collapsedPaths:n,entries:i})}();case"set":return function(){var n=s.compileEntries(t.tree,e.collapsedPaths)[0];return r(r({},e),{tree:t.tree,entries:n})}()}}t.findIndex=function(e,t){return Math.max(0,t.findIndex((function(t){return o.isExactPath(t.path,e)})))},t.useTreeView=function(e){var t=e.tree,n=e.collapsedPaths,r=i.useMemo((function(){return function(e,t){return void 0===t&&(t=[]),{tree:e,collapsedPaths:t,entries:s.compileEntries(e,t)[0]}}(t,n)}),[]),o=i.useReducer(c,r),a=o[0],u=o[1];return i.useEffect((function(){u({type:"set",tree:t})}),[t]),[a,u]},t.makeDefaultTreeViewKeyHandlerChain=function(e,t,n,r){return[a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.UP_ARROW,u.makeVerticalNavigationHandler(-1,n,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.DOWN_ARROW,u.makeVerticalNavigationHandler(1,n,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.ENTER,u.makeCollapseToggler(r,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.SPACE,u.makeCollapseToggler(r,t,e.entries))]},t.makeTreeViewWrapperBindings=function(e){return{onKeyDown:a.buildHandler(e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useEditableLabel=t.makeEditableLabelLabelBindings=t.makeEditableLabelInputFieldBindings=void 0;var i=n(148);t.makeEditableLabelInputFieldBindings=function(e){return{onBlur:function(){return e.setToggled(!1)},onKeyPress:function(t){return"Enter"===t.key&&e.setToggled(!1)}}},t.makeEditableLabelLabelBindings=function(e){return r(r({},e.useDoubleClick?{onDoubleClick:function(){return e.setToggled(!0)}}:{onClick:function(){return e.setToggled(!0)}}),e.useMouseDown?{onMouseDown:function(){return e.setToggled(!0)}}:{})},t.useEditableLabel=function(e){return i.useToggle(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToggle=t.parseOffOrOn=void 0;var r=n(149),i=n(123),o=n(1);t.parseOffOrOn=function(e){return parseInt(e)},t.useToggle=function(e){var t=r.useCyclicCounter(2,0),n=t[0],a=t[2],s=a.min,u=a.max;return i.useStateChangeEffect(n,o.useMemo((function(){return[{test:function(e,t){return void 0!==e&&e!==t},run:function(t,n){var r;return null===(r=null===e||void 0===e?void 0:e.onToggle)||void 0===r?void 0:r.call(e,1===n)}}]}),[null===e||void 0===e?void 0:e.onToggle])),[1===n,o.useCallback((function(e){return e?u():s()}),[])]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useCyclicCounter=void 0;var i=n(1),o=n(82),a=n(91);function s(e,t){switch(t.type){case"step":return r(r({},e),{counter:o.normalizeCounter(e.counter+t.amount,e.length)});case"set":return r(r({},e),{counter:o.normalizeCounter(t.value,e.length)})}}function u(e,t){return e({type:"step",amount:t})}function c(e,t){return e({type:"set",value:t})}function l(e,t){var n=e[0],r=t[0];return{inc:function(){return u(r,1)},dec:function(){return u(r,-1)},min:function(){return c(r,0)},max:function(){return c(r,n-1)},set:function(e){return c(r,e)}}}t.useCyclicCounter=function(e,t){var n=i.useMemo((function(){return{counter:o.normalizeCounter(t,e),length:e}}),[]),r=i.useReducer(s,n),u=r[0],c=r[1],d=a.useFactory(l,[e],[c]);return[u.counter,c,d]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useDrag=t.onStartDrag=void 0;var i=n(1),o=n(123);function a(e,t){return e-t}function s(e,t){e((function(e){return r(r({},e),{currentCoordinate:t.clientX,currentDelta:a(t.clientX,e.startCoordinate)})}))}function u(e,t,n,r){n("mousemove",t),e({isDragging:!1,startCoordinate:0,currentCoordinate:0,currentDelta:0})}t.onStartDrag=function(e,t,n,r){var i=s.bind({},e),o=u.bind({},e,i,n);t("mousemove",i),t("mouseup",o,{once:!0}),e({isDragging:!0,startCoordinate:r.clientX,currentCoordinate:r.clientX,currentDelta:0})},t.useDrag=function(e){var t=e.onStop,n=i.useState({isDragging:!1,startCoordinate:0,currentCoordinate:0,currentDelta:0}),r=n[0],s=n[1];return o.useStateChangeEffect(r,i.useMemo((function(){return{trigger:"off",extract:function(e){return e.isDragging},run:function(e){return null===t||void 0===t?void 0:t(a(e.currentCoordinate,e.startCoordinate))}}}),[])),[r,s]}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useReducerWithEffects=void 0;var i=n(1),o=n(91);function a(e,t){var n=e[0];return function(e,t){var i=function(e,t,n){switch(n){case"clean up effects":return[t.state,null];default:return e(t.state,n)}}(n,e,t),o=i[0],a=i[1];return{state:o,effects:null===a?[]:a.length>0?r(r([],e.effects),a):e.effects}}}t.useReducerWithEffects=function(e,t,n){var r=o.useFactory(a,[e],[]),s=i.useReducer(r,i.useMemo((function(){return{state:n,effects:[]}}),[])),u=s[0],c=s[1];return i.useEffect((function(){u.effects.length>0&&(u.effects.forEach((function(e){return t(u.state,e,c).then((function(e){e&&e.forEach(c)})).catch((function(e){throw console.log("error in useReducerWithEffects"),e}))})),c("clean up effects"))}),[u.effects]),[u.state,c]}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCodeMirrorThemeByName=t.getThemeBaseClassByName=void 0;var r={dark:{base:"Theme-dark",code:"one-dark"},light:{base:"Theme-light",code:"one-dark"},solarizedLight:{base:"Theme-solarized-light",code:"solarized light"},solarizedDark:{base:"Theme-solarized-dark",code:"solarized dark"},classicBlue:{base:"Theme-classic-blue",code:"classic-blue"}};t.getThemeBaseClassByName=function(e){return r[e].base},t.getCodeMirrorThemeByName=function(e){return r[e].code}},,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildChangeImageTypeMenuItem=t.ImageView=t.resizableImage=void 0;var i=n(19);t.resizableImage={inline:!0,attrs:{src:{},width:{default:"10em"},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{priority:51,tag:"img[src][width]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t={style:"width: "+e.attrs.width};return["span",r(r({},e.attrs),t)]}};var o=function(e,t,n){throw"ImageView was not migrated!"};t.ImageView=o,t.buildChangeImageTypeMenuItem=function(e,t,n){var r=function(n,r){if((n.selection&&n.selection.node&&n.selection.node.type)===e){if(r)r(n.tr.replaceSelectionWith(t.create({src:n.selection.node.attrs.src})));return!0}return!1},o={run:r,enable:function(e,t){return r(e,t)},select:function(t){return(t.selection&&t.selection.node&&t.selection.node.type)===e}};for(var a in n)o[a]=n[a];return new i.MenuItem(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildTodoListKeyMap=t.handleMouseDown=t.todoListNodes=void 0;var r=n(36),i=n(263),o="ProseMirror-todo-list-item-checkbox",a={attrs:{done:{default:!1}},content:"paragraph block*",toDOM:function(e){return["li",{"data-type":"todo_item","data-done":e.attrs.done.toString()},["span",{class:"mdi mdi-checkbox-marked-circle "+o,contenteditable:"false"}],["span",{class:"mdi mdi-circle-outline "+o,contenteditable:"false"}],["div",{class:"ProseMirror-todo-list-item-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="todo_item"]',getAttrs:function(e){return{done:"true"===e.getAttribute("data-done")}}}]};function s(e,t,n,r,i){return!("todo_item"!==n.type.name||!i.target.classList.contains(o))&&(e.dispatch(function(e,t,n){return e.tr.setNodeMarkup(t,null,{done:!n.attrs.done})}(e.state,r,n)),!0)}t.todoListNodes={todo_item:a,todo_list:{group:"block",content:"todo_item+ | list_item+",toDOM:function(e){return["ul",{"data-type":"todo_list"},0]},parseDOM:[{priority:51,tag:'[data-type="todo_list"]'}]}},t.handleMouseDown=function(e,t){return function(e,t,n){var r=e.posAtCoords(function(e){return{left:e.clientX,top:e.clientY}}(t));return function(e,t,n,r,i){if(-1==r)return!1;for(var o=e.state.doc.resolve(r),a=o.depth+1;a>0;a--)if(a>o.depth?t(e,n,o.nodeAfter,o.before(a),i,!0):t(e,n,o.node(a),o.before(a),i,!1))return!0;return!1}(e,n,r.pos,r.inside,t)}(e,t,s)},t.buildTodoListKeyMap=function(e){return r.keymap({Enter:i.splitTodoListItem(e.nodes.todo_item)})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.appendCustomMarks=t.KNOWN_FONT_SIZES=t.KNOWN_COLORS=void 0;var i=n(11);function o(e,t){return""+e+i.capitalize(t)}t.KNOWN_COLORS=["blue","red","yellow"],t.KNOWN_FONT_SIZES=["small","big"];var a=[{prefix:"color",tagPrefix:"color",knownValues:t.KNOWN_COLORS},{prefix:"backgroundColor",tagPrefix:"background-color",knownValues:t.KNOWN_COLORS},{prefix:"fontSize",tagPrefix:"font-size",knownValues:t.KNOWN_FONT_SIZES}].map((function(e){var t=e.prefix,n=e.tagPrefix,r=e.knownValues;return{prefix:t,tagPrefix:n,knownValues:r,excludes:r.map((function(e){return o(t,e)})).join(" ")}})).reduce((function(e,t){var n=t.prefix,i=t.tagPrefix,a=t.knownValues,s=t.excludes;return r(r({},e),a.reduce((function(e,t){var a;return r(r({},e),((a={})[o(n,t)]=function(e,t){return{excludes:t,parseDOM:[{tag:e}],toDOM:function(t){return[e,0]}}}(function(e,t){return e+"-"+t}(i,t),s),a))}),{}))}),{});t.appendCustomMarks=function(e){return e.append(a)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorReader=void 0;var s=a(n(1)),u=n(46),c=n(60),l=n(161),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shouldComponentUpdate=function(e){return c.shouldComponentUpdateForSnippet(this.props,e)},t.prototype.render=function(){if(!0===this.props.trim)return s.default.createElement("div",null,this.props.fileMeta.trimmedBody);var e=l.initState({schema:this.props.schema,docJson:this.props.content,onEscape:void 0,onLeaveUpwards:void 0}),t=new u.EditorView(document.createElement("div"),{state:e}),n=t.dom.innerHTML;return t.destroy(),s.default.createElement("div",{className:"ProseMirrorReader"},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))},t}(s.Component);t.ProseMirrorReader=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEditorView=t.initState=void 0;var r=n(403),i=n(5),o=n(46),a=n(39),s=n(36),u=n(15);n(266),n(267),n(268);var c=n(162),l=n(269),d=n(270),p=n(94),f=n(89),h=n(271),m=n(273),g=n(95),v=n(274);n(276);var y=n(33),b=n(158),O=n(45),_=n(129),S=n(163),w=n(283),E=n(284),x=n(286);var j=[function(e,t,n,r,i){if("A"===i.target.tagName){var o=i.target.getAttribute("href");return y.isElectron()?f.getElectron().shell.openExternal(o):window.open(o,"_blank"),!0}return!1}],P=[b.handleMouseDown],T=function(e,t,n,r,i){return!!j.find((function(o){return!0===o(e,t,n,r,i)}))},D=function(e,t){return!!P.find((function(n){return!0===n(e,t)}))};function C(e){var t=e.docJson,n=e.schema,o=e.onEscape,l=e.onLeaveUpwards,f=[n.nodes.list_item,n.nodes.todo_item],h=[n.nodes.bullet_list,n.nodes.ordered_list,n.nodes.todo_list],v=O.initDoc(n,t),y=r.exampleSetup({schema:n,menuBar:!1,history:!1}),E=a.history(),j=[_.buildCustomInputRules(n),d.buildKeyMap(f,h),x.makeReminderPluginKeymap(),s.keymap({"Mod-Enter":u.splitBlock}),b.buildTodoListKeyMap(n),O.buildListItemKeyMap(n),c.placeholderPlugin,m.ScrollPastEndPlugin,g.HighlightPlugin,w.TooltipPlugin,E];return n.marks.link&&n.marks.link.attrs.nolabel&&j.push(p.makeAnchorPlugin(n,E.key)),i.EditorState.create({doc:v,plugins:j.concat(y).concat([O.buildEscapeKeyMap(o)]).concat([O.buildUpArrowKeyMap((function(e){e.selection.$cursor&&1===e.selection.$cursor.pos&&l&&l()}))]).concat(S.makeReminderPlugin())})}t.initState=C,t.initEditorView=function(e){var t=e.docJson,n=e.schema,r=e.editorElement,i=e.onDocChange,a=e.onStateChange,s=e.onKeyDown,u=e.onBlur,c=e.onFocus,d=e.onCursor,p=(e.uploadFile,C({docJson:t,schema:n,onEscape:e.onEscape,onLeaveUpwards:e.onLeaveUpwards}));a&&a(p);var f=new o.EditorView(r,{state:p,dispatchTransaction:function(e){var t=f.state.apply(e);if(f.updateState(t),a&&a(t),e.docChanged){var n=O.docToJson(t.doc);i&&i({docJson:n})}var r=t.selection.from,o=f.coordsAtPos(r);d&&d(o.bottom)},handleClickOn:T,handleDOMEvents:{blur:function(e,t){var n=O.docToJson(e.state.doc);u&&u({docJson:n})},focus:function(e,t){var n=e.state.selection.from,r=f.coordsAtPos(n);d&&d(r.bottom);var i=O.docToJson(e.state.doc);c&&c({docJson:i})},mousedown:D},handleKeyDown:function(e,t){s&&s(t)},nodeViews:{resizableImage:function(e,t,n){return new l.ImageView(e,t,n)},code_block:function(e,t,n){return new h.CodeBlockView(e,t,n)},paragraph:function(e,t,n){return new v.CustomParagraphView(e,t,n)},reminder:function(e,t,n){return new E.ReminderNodeView(e,t,n)}}});return f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildImageUploadMenuItem=t.placeholderPlugin=void 0;var r=n(19),i=n(5),o=n(46);function a(e,n,r,i){var o=function(e,n){var r=t.placeholderPlugin.getState(e).find(null,null,(function(e){return e.id===n}));return r.length?r[0].from:null}(e.state,i);null!=o&&e.dispatch(e.state.tr.replaceWith(o,o,n.create({src:r})).setMeta(t.placeholderPlugin,{remove:{id:i}}))}t.placeholderPlugin=new i.Plugin({state:{init:function(){return o.DecorationSet.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(n&&n.add){var r=document.createElement("span");r.classList.add("ProseMirrorWriter-image-upload-placeholder");var i=o.Decoration.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[i])}else n&&n.remove&&(t=t.remove(t.find(null,null,(function(e){return e.id===n.remove.id}))));return t}},props:{decorations:function(e){return this.getState(e)}}}),t.buildImageUploadMenuItem=function(e,n,i){return new r.MenuItem({icon:e,run:function(e,r,o){var s=document.createElement("input");s.setAttribute("type","file"),s.onchange=function(e){var r=function(e){var n={},r=e.state.tr;return r.selection.empty||r.deleteSelection(),r.setMeta(t.placeholderPlugin,{add:{id:n,pos:r.selection.from}}),e.dispatch(r),n}(o);new i(e.target.files[0]).then((function(e){var t=document.createElement("img");t.onload=function(){a(o,n,e,r)},t.src=e}))},s.click()}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPlugin=t.reminderPluginKey=t.tree=void 0;var i=n(5),o=n(46),a=n(277),s=n(278),u=n(281);function c(e,t,n,r){return o.DecorationSet.create(r,e.map((function(e){var r=t+e.start,i=t+e.end;return!e.complete||n<r||i<n?null:o.Decoration.inline(r,i,{class:"Reminders-sequence"},{sequence:e})})).filter((function(e){return e})))}n(282),t.tree=a.compileTree(s.grammarEn),t.reminderPluginKey=new i.PluginKey("reminderPlugin"),t.makeReminderPlugin=function(){return new i.Plugin({key:t.reminderPluginKey,state:{init:function(){return{currentNodeStart:null,decorations:null}},apply:function(e,n,i,o){if(!o.selection.$cursor)return{currentNodeStart:null,decorations:null};var a=[];return o.selection.$cursor.parent.descendants((function(e,n){e.isText&&a.push.apply(a,u.parse(t.tree,e.textContent).map((function(e){return r(r({},e),{start:e.start+n,end:e.end+n})})))})),r(r({},n),{decorations:c(a,o.selection.$cursor.start(),o.selection.$cursor.pos,e.doc)})}},props:{decorations:function(e){return this.getState(e).decorations}}})}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0,t.expand=function(e,t){return e.map((function(e){return t.map((function(t){return r(r([],e),t)}))})).flat()}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ORDINALS_REGEX=t.TIME_UNIT_FOR_REPEAT_REGEX=t.TIME_UNIT_REGEX=t.AM_OR_PM_REGEX=t.TIME_DIGITS_AM_OR_PM_REGEX=t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=t.ARBITRARY_DIGITS_REGEX=t.SPELLED_MONTH_REGEX=t.REPEATABLE_WEEKDAY_REGEX=t.WEEKDAY_REGEX=t.DAY_AND_MONTH_DIGITS_REGEX=t.SPELLED_NUMBERS_REGEX=t.DATE_DIGITS_REGEX=t.TIME_DIGITS_REGEX=t.NOON_MIDNIGHT_REGEX=t.SPELLED_TIME_OF_DAY_REGEX=t.MONTH_REGEX=t.OTHER_REGEX=t.EVERY_REGEX=t.THE_REGEX=t.TOMORROW_REGEX=t.WEEK_REGEX=t.OF_REGEX=t.NEXT_REGEX=t.ON_REGEX=t.IN_REGEX=t.AT_REGEX=void 0;var i=n(96);function o(e){return new RegExp("^"+e+"$","i")}function a(e){return e.map((function(e){return"^"+e+"$"})).join("|")}var s=i.numberPostfixes.join("|");t.AT_REGEX=o("at"),t.IN_REGEX=o("in"),t.ON_REGEX=o("on"),t.NEXT_REGEX=o("next"),t.OF_REGEX=o("of"),t.WEEK_REGEX=o("week"),t.TOMORROW_REGEX=o("tomorrow"),t.THE_REGEX=o("the"),t.EVERY_REGEX=o("every"),t.OTHER_REGEX=o("other"),t.MONTH_REGEX=o("month"),t.SPELLED_TIME_OF_DAY_REGEX=o(a(i.timeOfDay)),t.NOON_MIDNIGHT_REGEX=o(a(i.noonMidnight)),t.TIME_DIGITS_REGEX=o("([0-9]{1,2})(:([0-9]{2}))?(:([0-9]{2}))?"),t.DATE_DIGITS_REGEX=o("([0-9]{1,2})("+s+")?"),t.SPELLED_NUMBERS_REGEX=o(a(Object.keys(i.wordToNumber))),t.DAY_AND_MONTH_DIGITS_REGEX=o("([0-9]{1,2})\\.([0-9]{1,2})\\.?"),t.WEEKDAY_REGEX=o(a(i.weekdays)),t.REPEATABLE_WEEKDAY_REGEX=o(a(r(r([],i.weekdays.map((function(e){return e+",?"}))),["and"]))),t.SPELLED_MONTH_REGEX=o(a(i.months)),t.ARBITRARY_DIGITS_REGEX=o("[0-9]+"),t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=o("([0-9]+)("+s+")?"),t.TIME_DIGITS_AM_OR_PM_REGEX=o("([0-9]{1,2})("+i.amPm.join("|")+")"),t.AM_OR_PM_REGEX=o(i.amPm.map((function(e){return"^"+e+"$"})).join("|")),t.TIME_UNIT_REGEX=o(a(i.timeUnits.map((function(e){return e[0]})))),t.TIME_UNIT_FOR_REPEAT_REGEX=o(a(i.timeUnits.filter((function(e){var t=e[0];return!["second","minute","hour"].find((function(e){return t.startsWith(e)}))})).map((function(e){return e[0]})))),t.ORDINALS_REGEX=o(a(i.ordinals))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDate=void 0;var r=n(70),i=n(285),o=n(96),a=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric"}),s=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",second:"numeric"}),u=new Intl.DateTimeFormat([],{weekday:"long",month:"long",day:"numeric"}),c=new Intl.DateTimeFormat([],{year:"numeric",weekday:"long",month:"long",day:"numeric"});function l(e){return 0===e.getSeconds()?a.format(e):s.format(e)}function d(e){var t=i.getTimeUnitForDiff(e);return o.approximate(Math.round(e/r.timeUnitToMilliseconds[t]),t)}t.renderDate=function(e){var t,n,i=new Date(e),o=Date.now(),a=new Date;if(i<a)return d(i.getTime()-o);if(function(e,t,n){return e.getTime()-t.getTime()<n}(i,a,3*r.timeUnitToMilliseconds.hour))return(s=d(i.getTime()-o))+" ("+l(i)+")";if(n=a,(t=i).getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear())return"Today at "+l(i);if(function(e,t){return e.getDate()===t.getDate()+1&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(i,a))return"Tomorrow at "+l(i);if(function(e,t){return e.getFullYear()===t.getFullYear()}(i,a)){var s=d(i.getTime()-o),p=u.format(i);return s+" at "+l(i)+" ("+p+")"}return c.format(i)+", "+l(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertReminder=void 0;var r=n(5),i=n(70),o=n(163);t.insertReminder=function(e,t){var n=o.reminderPluginKey.getState(e);if(!n.decorations)return!1;var a=e.selection,s=a.from,u=a.to,c=n.decorations.find(s,u)[0];if(!c)return!1;var l=e.doc.resolve(c.from),d=e.doc.resolve(c.to);if(t){var p=c.spec.sequence.description,f=i.compileSingle(Date.now(),p),h={expression:e.doc.textBetween(c.from,c.to),date:f,createdAt:Date.now(),repeatDescription:p.repeatDescription};t(e.tr.setSelection(new r.Selection(l,d)).replaceSelectionWith(e.schema.nodes.reminder.create(h)).deleteSelection())}return!0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorWriter=void 0;var u=s(n(1)),c=n(161),l=n(169),d=n(95),p=n(45),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=function(e){return function(t){var n=t.docJson;return e&&e(n)}},n=l.buildMenuItemSpecs(this.props.schema,void 0),r=p.prepareMenuItemIterator((function(t){return e.props.toolbarEvents&&e.props.toolbarEvents.publishMenuItemStateChange(t)}),n),i=c.initEditorView({docJson:this.props.content,schema:this.props.schema,editorElement:this.editor,onDocChange:t(this.props.onChange),onBlur:t(this.props.onBlur),onFocus:t(this.props.onFocus),onStateChange:function(e){return r(e)},uploadFile:function(t){return e.props.uploadFile(t)},onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards,onKeyDown:void 0,onCursor:void 0});this.subscriptions=[];var o=this.props.toolbarEvents&&this.props.toolbarEvents.subscribeForMenuItemRun((function(e){n.find((function(t){return t.spec.class===e})).spec.run(i.state,i.dispatch)}));o&&this.subscriptions.push(o),this.editorView=i},t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()})),this.editorView.destroy()},t.prototype.focus=function(){this.editorView.focus()},t.prototype.onChangeQuery=function(e,t){var n=d.findOccurences(this.editorView.state.doc,e),r=t%n.length;n=n.map((function(e,t){return i(i({},e),{class:t===r?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"})})),d.highlightOccurences(this.editorView,n);var o=n[r];return o&&{coordinates:this.editorView.coordsAtPos(o.start),numberOfOccurences:n.length}},t.prototype.render=function(){var e=this,t=Math.min(550,this.props.availableEditorWidth);return u.default.createElement("div",{style:{width:t},className:"ProseMirrorWriter-editor-container",ref:function(t){return e.editor=t}})},t}(u.Component);t.ProseMirrorWriter=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildMenuItemSpecs=void 0;var i=n(15),o=n(42),a=n(83),s=n(162),u=n(128),c=n(11),l=n(159),d=n(45),p=n(157),f=n(167);function h(e,t){var n={label:t.title,run:e};for(var r in t)n[r]=t[r];return n.enable=function(t){return e(t)},{spec:n}}function m(e,t,n){e=e.map((function(e){return void 0===e.strong?r(r({},e),{strong:!0}):e}));var o={run:function(n,o){var a=function(n){var o=r({},n.attrs),a=e.findIndex((function(e){var t=e.name,n=e.value;return e.strong&&o[t]!==n}))>=0;return e.forEach((function(e){var t=e.name,n=e.value;a?o[t]=n:delete o[t]})),i.setBlockType(t,o)}(n.selection.$from.parent);if(a(n))return a(n,o)},enable:function(e){return!0},active:function(t){return-1===e.findIndex((function(e){var n=e.name,r=e.value;return e.strong&&t.selection.$from.parent.attrs[n]!==r}))}};for(var a in n)o[a]=n[a];return{spec:o}}function g(e,t,n){var r=i.setBlockType(e,t.attrs),o=i.setBlockType(n.nodes.paragraph),a={run:function(e,t){return r(e)?r(e,t):o(e,t)},enable:function(t){var n=t.selection,i=n.$from,o=n.$to;return i.parent===o.parent&&i.parent.type===e||r(t)},active:function(n){var r=n.selection,i=r.$from,o=r.to,a=r.node;return a?a.hasMarkup(e,t.attrs):o<=i.end()&&i.parent.hasMarkup(e,t.attrs)}};for(var s in t)a[s]=t[s];return{spec:a}}function v(e,t){var n={active:function(t){return function(e,t){var n=e.selection,r=n.from,i=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||i.marks()):e.doc.rangeHasMark(r,o,t)}(t,e)},enable:!0};for(var r in t)n[r]=t[r];return h(i.toggleMark(e),n)}function y(e,t){return h(o.wrapInList(e,t.attrs),t)}function b(e){return{title:a.itemTitles[e],class:a.itemIdentifiers[e]}}var O=[].concat(l.KNOWN_COLORS.map((function(e){return"color"+c.capitalize(e)}))).concat(l.KNOWN_COLORS.map((function(e){return"backgroundColor"+c.capitalize(e)}))).concat(l.KNOWN_FONT_SIZES.map((function(e){return"fontSize"+c.capitalize(e)}))),_=function(e){return[].concat(O.map((function(t){return e.marks[t]&&{name:"toggle"+c.capitalize(t),command:v(e.marks[t],{title:a.itemTitles[t],class:a.itemIdentifiers[t]})}}))).filter((function(e){return e}))};t.buildMenuItemSpecs=function(e,t){var n,r={};(n=e.marks.strong)&&(r.toggleStrong=v(n,{title:a.itemTitles.bold,class:a.itemIdentifiers.bold})),(n=e.marks.em)&&(r.toggleEm=v(n,{title:a.itemTitles.italic,class:a.itemIdentifiers.italic})),(n=e.marks.code)&&(r.toggleCode=v(n,{title:a.itemTitles.code,class:a.itemIdentifiers.code})),(n=e.nodes.bullet_list)&&(r.wrapBulletList=y(n,{title:a.itemTitles.bulletList,class:a.itemIdentifiers.bulletList})),(n=e.nodes.ordered_list)&&(r.wrapOrderedList=y(n,{title:a.itemTitles.orderedList,class:a.itemIdentifiers.orderedList})),(n=e.nodes.todo_list)&&(r.wrapTodoList=y(n,{title:a.itemTitles.todoList,class:a.itemIdentifiers.todoList,attrs:{"data-type":"todo_list"}}));var o=d.getListItemTypes(e),l=d.makeUniversalLiftAndSinkCommand(o),O=l.universalLift,S=l.universalSink;if(o.length>0&&(r.liftItemMenu=h(O,{title:a.itemTitles.liftItem,class:a.itemIdentifiers.liftItem}),r.sinkItemMenu=h(S,{title:a.itemTitles.sinkItem,class:a.itemIdentifiers.sinkItem})),(n=e.nodes.code_block)&&(r.makeCodeBlock=g(n,{title:a.itemTitles.codeBlock,class:a.itemIdentifiers.codeBlock},e)),n=e.nodes.heading)for(var w=1;w<=10;w++)r["makeHead"+w]=g(n,{title:a.itemTitles["heading"+w],class:a.itemIdentifiers["heading"+w],attrs:{level:w}},e);(n=e.nodes.reminder)&&(r.makeReminder=h(f.insertReminder,{title:a.itemTitles.reminder,class:a.itemIdentifiers.reminder})),r.joinUpItem=h(i.joinUp,{title:a.itemTitles.joinItem,class:a.itemIdentifiers.joinItem}),(n=e.nodes.resizableImage)&&(r.uploadImage=s.buildImageUploadMenuItem(null,n,t));var E=e.nodes.image,x=e.nodes.resizableImage;E&&x&&(r.changeToDefaultImage=p.buildChangeImageTypeMenuItem(x,E,{title:a.itemTitles.imageDefault,class:a.itemIdentifiers.imageDefault}),r.changeToResizableImage=p.buildChangeImageTypeMenuItem(E,x,{title:a.itemTitles.imageResizable,class:a.itemIdentifiers.imageResizable}));var j=function(e){return e.nodes.paragraph?[].concat(u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(t){var n="sticky"+c.capitalize(t);return{name:n,command:m([{name:"type",value:"sticky"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:t},{name:"itemAlignment",value:"center",strong:!1}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(t){var n="box"+c.capitalize(t);return{name:n,command:m([{name:"type",value:"box"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:t}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.knownValues.map((function(t){var n=""+u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name+c.capitalize(t);return{name:n,command:m([{name:u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:t}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.knownValues.map((function(t){var n=""+u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name+c.capitalize(t);return{name:n,command:m([{name:u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:t}],e.nodes.paragraph,b(n))}}))).concat([{name:"quote",command:m([{name:u.ATTRIBUTE_DEFINITIONS.TYPE.name,value:"quote"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:null},{name:u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:null},{name:u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:null}],e.nodes.paragraph,b("quote"))}]):[]}(e);j.forEach((function(e){var t=e.name,n=e.command;return r[t]=n}));var P=_(e);return P.forEach((function(e){var t=e.name,n=e.command;return r[t]=n})),[r.toggleStrong,r.toggleEm,r.toggleCode,r.makeCodeBlock,r.makeHead1,r.makeHead2,r.makeHead3,r.wrapBulletList,r.wrapOrderedList,r.wrapTodoList,r.liftItemMenu,r.sinkItemMenu,r.joinUpItem,r.uploadImage,r.changeToDefaultImage,r.changeToResizableImage,r.makeReminder].concat(j.map((function(e){var t=e.name;return r[t]}))).concat(P.map((function(e){var t=e.name;return r[t]}))).filter((function(e){return e}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoList=void 0;var u=s(n(1));n(292);var c=n(293),l=n(294),d=n(296),p=n(299),f=n(171),h=n(95),m=n(301),g=n(45),v=n(172);var y=["done"],b=function(e){return y.includes(e)};function O(e){return e.proseMirrorState.doc.toJSON()}var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement("span",{className:"TodoList-clear-button",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown},u.default.createElement("i",{className:"mdi mdi-close"}))},t}(u.Component),S=function(e){function t(t){var n=e.call(this,t)||this,r=Array.isArray(t.content)?m.makeProseMirrorStateFromTodos(t.content):m.makeProseMirrorStateFromSerializedDocJson(t.content),i=r.proseMirrorState;n.historyPluginKey=r.historyPluginKey,n.state={proseMirrorState:i,currentlyEditedTodo:n.props.currentlyEditedTodo,cursorPosition:n.props.cursorPosition||0,timestamp:Date.now(),hiddenStates:{pinned:!1,open:!1,done:!1}},n.onBlur=n.onBlur.bind(n),n.onDrag=n.onDrag.bind(n),n.onSpacerClick=n.onSpacerClick.bind(n),n.onInsertEmpty=n.onInsertEmpty.bind(n),n.inputRefs=[],n.historyPlugin=m.buildCustomHistoryPlugin(n),n.dispatch=n.dispatch.bind(n);var o=f.buildMenuItemSpecs();n.subscriptions=[];var a=n.props.toolbarEvents&&n.props.toolbarEvents.subscribeForMenuItemRun((function(e){o.find((function(t){return t.spec.class===e})).spec.run(n.state.proseMirrorState,n.dispatch)}));return a&&n.subscriptions.push(a),n.menuItemIterator=g.prepareMenuItemIterator((function(e){return n.props.toolbarEvents&&n.props.toolbarEvents.publishMenuItemStateChange(e)}),o),n.menuItemIterator(i),n}return r(t,e),t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.componentDidUpdate=function(e){this.props.isEditing&&!e.isEditing&&this.getInput(0).focus()},t.prototype.cursor=function(){var e=this.getInput(this.state.currentlyEditedTodo);if(e){var t=e.getDimensions(),n=t.y+t.height;this.props.onCursor&&this.props.onCursor(n)}},t.prototype.change=function(){this.props.onChange(O(this.state))},t.prototype.blur=function(){this.props.onBlur(O(this.state)),this.setState({currentlyEditedTodo:null})},t.prototype.suggestPersist=function(){this.props.onSuggestPersist&&this.props.onSuggestPersist(O(this.state))},t.prototype.focus=function(){this.props.onFocus(O(this.state)),this.cursor()},t.prototype.setFocus=function(){this.inputRefs[0].focus(0)},t.prototype.getInput=function(e){return this.inputRefs[e]},t.prototype.onCheck=function(e){var t=this;if(!this.props.isEditing)return!1;this.setState((function(t){var n=v.handleCheck(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newStatus,a=n.newIndex;return{currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:a,listName:o}},proseMirrorState:r}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))},t.prototype.onDrag=function(e){var t=this,n=e.from,r=e.to,i=e.newList;this.setState((function(e){return{proseMirrorState:v.handleDrag(n,r,i,t.state.proseMirrorState).proseMirrorState,resetDragState:!0}}),(function(){t.suggestPersist(),t.setState({resetDragState:void 0})}))},t.prototype.onDelete=function(e){var t=this;this.setState((function(t){var n=v.handleDelete(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newLength;return{proseMirrorState:r,currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:o,listName:"done"}}}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))},t.prototype.onFocus=function(e,t,n){var r=this,i=this.state.proseMirrorState,o=v.buildOffsetMap(this.state.proseMirrorState,e),a=n.map(this.state.proseMirrorState.doc,o);if(!a.eq(this.state.proseMirrorState.selection)){var s=this.state.proseMirrorState.tr.setSelection(a);i=this.state.proseMirrorState.apply(s),this.menuItemIterator(i)}this.setState({proseMirrorState:i,currentlyEditedTodo:e,cursorPosition:null},(function(){return r.focus()}))},t.prototype.onBlur=function(e){(function(e,t){return!!(e.target&&e.relatedTarget&&e.target.id&&e.relatedTarget.id&&e.target.id.startsWith(t)&&e.relatedTarget.id.startsWith(t))})({target:e.target&&e.target.parentNode,relatedTarget:e.relatedTarget&&e.relatedTarget.parentNode},"todoListEntry")||this.blur()},t.prototype.onSpacerClick=function(e){y.includes(e)&&this.setState((function(t){var n;return{hiddenStates:i(i({},t.hiddenStates),(n={},n[e]=!t.hiddenStates[e],n))}}))},t.prototype.onInsertEmpty=function(){this.apply(v.insertEmpty(this.state.proseMirrorState))},t.prototype.onEnter=function(){v.handleEnter(this.state.proseMirrorState,this.dispatch)},t.prototype.onBackspace=function(){v.handleBackspace(this.state.proseMirrorState,this.dispatch)},t.prototype.onToggleBold=function(){v.handleToggleBold(this.state.proseMirrorState,this.dispatch)},t.prototype.onToggleItalic=function(){v.handleToggleItalic(this.state.proseMirrorState,this.dispatch)},t.prototype.onInsertHardBreak=function(){v.handleInsertHardBreak(this.state.proseMirrorState,this.dispatch)},t.prototype.onArrow=function(e,t){"up"===t&&e>0?this.inputRefs[e-1].focus(this.state.proseMirrorState.doc.content.content[e-1].nodeSize-2):"up"===t&&0===e?this.props.onLeaveUpwards&&this.props.onLeaveUpwards():"down"===t&&e<this.state.proseMirrorState.doc.content.content.length-1&&this.inputRefs[e+1].focus(0)},t.prototype.apply=function(e){var t=this;this.setState((function(n){var r=n.proseMirrorState.apply(e);t.menuItemIterator(r);var i,o,a=r.selection.$cursor;if(a&&(i=a.index(-1),o=a.parentOffset,!e.getMeta(t.historyPluginKey)&&!e.getMeta("insertEmpty"))){var s=v.maybeHandleItemInsertion(n.proseMirrorState,r,i);s&&(r=r.apply(s))}return{proseMirrorState:r,currentlyEditedTodo:i,cursorPosition:o}}),(function(){e.docChanged&&t.change(),t.cursor()}))},t.prototype.onInnerTransaction=function(e,t,n){if(1!==t.length||!h.isHighlightPluginTransaction(t[0])){var r=v.buildOffsetMap(this.state.proseMirrorState,e),i=v.mapTransactions(t,r,this.state.proseMirrorState.tr),o=n.map(i.doc,r);o.eq(this.state.proseMirrorState.selection)||(i=i.setSelection(o)),this.apply(i)}},t.prototype.dispatch=function(e){this.apply(e)},t.prototype.onChangeQuery=function(e,t){var n=[];if(this.inputRefs){for(var r=function(t){var r=o.inputRefs[t].findOccurences(e);n=n.concat(r.map((function(e,n){return{occurence:e,index:t}})))},o=this,a=0;a<this.inputRefs.length;a++)r(a);var s=t%n.length,u=n.reduce((function(e,t,n){return e[t.index]||(e[t.index]=[]),e[t.index].push(i(i({},t.occurence),{class:n===s?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"})),e}),{});for(a=0;a<this.inputRefs.length;a++)this.inputRefs[a].highlightOccurences(u[a]||[]);var c=n[s],l=c&&this.inputRefs[c.index]&&this.inputRefs[c.index].coordsAtPos(c.occurence.start);return l&&{coordinates:l,numberOfOccurences:n.length}}},t.prototype.render=function(){var e=this,t=this.state.proseMirrorState.doc.content.content,n=v.getPinnedEntries(t),r=v.getOpenEntries(t),i=v.getDoneEntries(t),o=[{name:"pinned",items:n,collapsible:b("pinned"),hidden:this.state.hiddenStates.pinned},{name:"open",items:r,collapsible:b("open"),hidden:this.state.hiddenStates.open},{name:"done",items:i,collapsible:b("done"),hidden:this.state.hiddenStates.done}],a=["TodoList"];a.push(this.props.isEditing?"TodoList-editing":"TodoList-read-only");var s=n.length+r.length===0&&u.default.createElement(p.AllDoneHeader,{onClick:this.onInsertEmpty});return u.default.createElement("div",{className:a.join(" "),onClick:this.props.onClick},s,u.default.createElement(d.InteractiveList,{subLists:o,renderItem:function(t,n,r,i){var o=["TodoList-entry"];o.push("TodoList-entry-"+r),n===i.currentlyDraggedTodo&&o.push("TodoList-currently-dragged-todo");var a=function(t){return u.default.createElement(c.CheckBox,{index:t,onClick:e.onCheck.bind(e,t),disabled:!e.props.isEditing})}(n),s=function(t,n){var r=e.state.currentlyEditedTodo===n;return u.default.createElement(l.ProseMirrorField,{index:n,todo:t,onFocus:e.onFocus.bind(e,n),onEnter:e.onEnter.bind(e,n),onEscape:e.props.onEscape,onBackspace:e.onBackspace.bind(e,n),onToggleBold:e.onToggleBold.bind(e,n),onToggleItalic:e.onToggleItalic.bind(e,n),onInsertHardBreak:e.onInsertHardBreak.bind(e,n),onArrow:e.onArrow.bind(e,n),shouldFocus:r,onBlur:e.onBlur,cursorPosition:e.state.cursorPosition,ref:function(t){return e.inputRefs[n]=t},readonly:!e.props.isEditing,onInnerTransaction:e.onInnerTransaction.bind(e,n),historyPlugin:e.historyPlugin})}(t,n),d=function(t){return u.default.createElement("span",{className:"TodoList-entry-delete-button"},u.default.createElement(_,{onClick:e.onDelete.bind(e,t)}))}(n),p=function(e,t){return u.default.createElement("span",{className:t},e)};return u.default.createElement("span",{className:o.join(" ")},p(a,"TodoList-checkbox-left"),s,p(a,"TodoList-checkbox-right"),p(d,"TodoList-delete-button"))},doAnimation:this.state.doAnimation,resetDragState:this.state.resetDragState,onDrag:this.onDrag,onDragStart:this.props.onDragStart,onDragStop:this.props.onDragStop,onSpacerClick:this.onSpacerClick}),!1)},t}(u.Component);t.TodoList=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=t.buildMenuItemSpecs=void 0;var r=n(169),i=n(84),o=n(129);t.buildMenuItemSpecs=function(){return r.buildMenuItemSpecs(i.schema,void 0)},t.buildCustomInputRules=function(){return o.buildCustomInputRules(i.schema)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.insertEmpty=t.buildCustomInputRules=t.buildDiffTr=t.maybeHandleItemInsertion=t.handleDelete=t.handleDrag=t.handleCheck=t.handleInsertHardBreak=t.handleToggleItalic=t.handleToggleBold=t.handleBackspace=t.handleEnter=t.mapTransactions=t.buildOffsetMap=t.calculateParagraphPositions=t.getDoneEntries=t.getOpenEntries=t.getPinnedEntries=t.isDone=t.isOpen=t.isPinned=void 0;var i=n(5),o=n(15),a=n(10),s=n(129),u=n(84),c=n(295);t.isPinned=function(e){return"pinned"===e.attrs.status};t.isOpen=function(e){return"open"===e.attrs.status};t.isDone=function(e){return"done"===e.attrs.status};t.getPinnedEntries=function(e){return e.filter(t.isPinned)};t.getOpenEntries=function(e){return e.filter(t.isOpen)};function l(e){return e.reduce((function(e,t){return t&&t.attrs.index>e?t.attrs.index:e}),0)}function d(e){return e.doc.content.content.reduce((function(t,n){var r=t[t.length-1];return t.length<e.doc.content.content.length&&t.push(r+n.nodeSize),t}),[0])}function p(e,t,n,i){var o,a,s=d(e),u=s[t],c=s[n],l=e.doc.nodeAt(u),p=e.doc.nodeAt(c);if(t<n?(a=e.tr.insert(c+p.nodeSize,l).delete(u,u+l.nodeSize),o=c-l.nodeSize+p.nodeSize):t>n?(a=e.tr.delete(u,u+l.nodeSize).insert(c,l),o=c):(a=e.tr,o=c),i){var f=r(r({},l.attrs),i(l,p));a=a.setNodeMarkup(o,null,f)}return a}t.getDoneEntries=function(e){return e.filter(t.isDone)},t.calculateParagraphPositions=d,t.buildOffsetMap=function(e,t){var n=d(e);return a.StepMap.offset(n[t]+1)},t.mapTransactions=function(e,t,n){for(var r=n,i=0;i<e.length;i++)for(var o=e[i].steps,a=0;a<o.length;a++)r.step(o[a].map(t));return r},t.handleEnter=function(e,t){o.splitBlock(e,t)},t.handleBackspace=function(e,t){o.joinBackward(e,t)},t.handleToggleBold=function(e,t){c.toggleBold(e,t)},t.handleToggleItalic=function(e,t){c.toggleItalic(e,t)},t.handleInsertHardBreak=function(e,t){c.insertHardBreak(e,t)},t.handleCheck=function(e,n){var r=n.doc.content.content,i=!t.isDone(r[e]),o=i?-1:0,a=r.findIndex((function(e){return"done"===e.attrs.status}));-1===a&&(a=r.length);var s=i?"done":"open",u=p(n,e,a+=o,(function(e,t){return{status:s}}));return{proseMirrorState:n.apply(u),oldStatus:r[e].attrs.status,newStatus:s,newIndex:a}},t.handleDrag=function(e,t,n,r){var i=p(r,e,t,(function(e,t){return n?{status:n}:{status:t.attrs.status}}));return{proseMirrorState:r.apply(i)}},t.handleDelete=function(e,t){var n=function(e,t){var n=d(e)[t],r=e.doc.nodeAt(n);return e.tr.delete(n,n+r.nodeSize)}(t,e);return{proseMirrorState:t.apply(n),oldStatus:t.doc.content.content[e].attrs.status,newLength:t.doc.content.content.length-1}},t.maybeHandleItemInsertion=function(e,t,n){if(t.doc.content.content.length-e.doc.content.content.length===1){var r=l(t.doc.content.content),i=d(t);return t.tr.setNodeMarkup(i[n],null,{index:r+1,status:t.doc.content.content[n-1].attrs.status})}},t.buildDiffTr=function(e,t,n){var r=e.content.findDiffStart(t.doc.content);if(null!==r){var i=e.content.findDiffEnd(t.doc.content),o=i.a,a=i.b,s=r-Math.min(o,a);return s>0&&(o+=s,a+=s),n.replace(r,a,e.slice(r,o)).setMeta("fromOutside",!0)}},t.buildCustomInputRules=function(){return s.buildCustomInputRules(u.schema)},t.insertEmpty=function(e){var t=l(e.doc.content.content);return e.tr.insert(0,u.schema.nodes.paragraph.create({index:t+1})).setSelection(i.Selection.near(e.doc.resolve(0))).setMeta("insertEmpty",!0)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeItem=t.makeDocJsonFromTodos=void 0,t.makeDocJsonFromTodos=function(e){return{type:"doc",content:e=function(e){return e.map((function(e){return"string"===typeof e.text?{type:"paragraph",attrs:{index:e.index,status:e.status||"open"},content:e.text&&[{type:"text",text:e.text}]}:e}))}(e=function(e){var t=function(e){return e.reduce((function(e,t){return t&&t.index>e?t.index:e}),0)}(e);return e.map((function(e){return e.index?e:r(r({},e),{index:++t})}))}(e))}},t.makeItem=function(e,t){return{text:e,status:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postItSchema=t.POSTIT_COLORS=void 0;var r=n(127),i=n(3);t.POSTIT_COLORS=["blue","red","yellow"];var o={doc:r.nodes.doc,paragraph:r.nodes.paragraph,text:r.nodes.text},a={strong:r.marks.strong,em:r.marks.em};t.postItSchema=new i.Schema({nodes:o,marks:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdsOfDeletableItems=void 0;var r=n(60),i=n(63);t.getIdsOfDeletableItems=function(e,t){void 0===t&&(t=r.ONE_WEEK);var n=new Date(Date.now()-t);return i.getAll(e).filter((function(e){return!1===e.permanent.obsolete.state&&e.document.archived&&e.updatedAt<=n})).map((function(e){return e.id}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePossiblyOldId=void 0,t.resolvePossiblyOldId=function e(t,n){var r=n,i=r.store.idMapping[t];return i?e(i,r):t}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.changeFileName=void 0;var i=n(54);t.changeFileName=function(e,t){var n=i.getPluginByLanguage(e.language);if(!n)throw"no plugin found!";var o,a,s,u=n.language,c=function(e,t,n){var r=e.split(".").pop();if(!r)return[t,t,n];var o=i.getPluginByExtension(r);return o?[o.testExtension(r),o.language,o]:[t,t,n]}(t,e.language,n),l=c[0],d=c[1],p=c[2];if(o=t,s=l,d===u)a=e.content;else{var f=n.toPlaintext(e.content);a=null===p||void 0===p?void 0:p.fromPlaintext(f)}return r(r({},e),{name:o,language:s,content:a})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActionByOrigin=t.makeOriginToActionMapping=void 0;var r=n(120),i=n(55);t.makeOriginToActionMapping=function(e,t){return{origin:e,action:t}},t.getActionByOrigin=function(e,t){var n=e.find((function(e){return e.origin===t}));if(!n)throw i.errorWithDetails(null,r.compileOriginNotConfiguredErrorDetails(t));return n.action}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDiff=void 0,t.calculateDiff=function(e,t,n,r){var i=function e(t){var i=t.listA,o=t.listB,a=t.unchanged,s=t.missingInA,u=t.missingInB,c=t.changed,l=t.previousA,d=t.previousB;if(0===i.length)return{listA:[],listB:[],unchanged:a,missingInA:s.concat(o),missingInB:u,changed:c,previousA:l,previousB:d};if(0===o.length)return{listA:[],listB:[],unchanged:a,missingInA:s,missingInB:u.concat(i),changed:c,previousA:l,previousB:d};var p=i[0],f=i.slice(1),h=o[0],m=o.slice(1);if(l&&n(p,l)<0)throw"listA appears to be unsorted!";if(d&&n(h,d)<0)throw"listB appears to be unsorted!";var g=n(p,h);return 0===g?r(p,h)?e({listA:f,listB:m,unchanged:a.concat(h),missingInA:s,missingInB:u,changed:c,previousA:p,previousB:h}):e({listA:f,listB:m,unchanged:a,missingInA:s,missingInB:u,changed:c.concat({a:p,b:h}),previousA:p,previousB:h}):e(g>0?{listA:i,listB:m,unchanged:a,missingInA:s.concat(h),missingInB:u,changed:c,previousA:p,previousB:h}:{listA:f,listB:o,unchanged:a,missingInA:s,missingInB:u.concat(p),changed:c,previousA:p,previousB:h})}({listA:e,listB:t,unchanged:[],missingInA:[],missingInB:[],changed:[],previousA:null,previousB:null}),o=i.unchanged,a=i.missingInB;return{unchanged:o,missingInA:i.missingInA,missingInB:a,changed:i.changed}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useScheduledReminders=t.getEarliestPossibleReminderDate=t.getScheduledReminders=t.ONE_HOUR_IN_MILLISECONDS=void 0;var o=n(1),a=n(9),s=n(179),u=n(70),c=n(320),l=function(e,t){return e.date===t.date&&e.text===t.text};t.ONE_HOUR_IN_MILLISECONDS=36e5;var d=24*t.ONE_HOUR_IN_MILLISECONDS*7;function p(e,t,n,r){return void 0===r&&(r="local"),n.reduce((function(n,o){return o.repeatDescription?i(i([],n),u.compileRepeatDatesBetween(Math.max(o.createdAt,e),t,o.date,o.repeatDescription,r).map((function(e){return{reminder:o,date:e}}))):o.date<e||t<o.date||o.date<o.createdAt?n:i(i([],n),[{reminder:o,date:o.date}])}),[])}function f(e){return e-d}function h(e,t){var n=Date.now();return p(f(n),n+d,e,t)}function m(e,t){var n=t[0];return function(e,t){switch(t.type){case"updateAll":var o=s.calculateDiff(t.allReminders,e.reminders,c.compareReminderIds,l),a=o.unchanged,u=o.missingInA,d=o.missingInB,p=o.changed;if(0===d.length&&0===p.length&&0===u.length)return e;var f=i(i(i([],a),d),p.map((function(e){return e.a}))).sort(c.compareReminderIds);return{reminders:f,scheduledReminders:m=h(f,n)};case"refresh":var m=h(e.reminders,n);return r(r({},e),{scheduledReminders:m})}}}t.getScheduledReminders=p,t.getEarliestPossibleReminderDate=f,t.useScheduledReminders=function(e,t,n){void 0===t&&(t=a.debounce),void 0===n&&(n="local");var r=a.useFactory(m,[],[n]),s=o.useReducer(r,{reminders:[],scheduledReminders:[]}),u=s[0],l=s[1],d=o.useCallback((function(){return l({type:"refresh"})}),[]);return a.useDebouncedEffect((function(){var t=e.reduce((function(e,t){return i(i([],e),t.metaData.reminders)}),[]).sort(c.compareReminderIds);l({type:"updateAll",allReminders:t})}),1e3,[e],t),[u.scheduledReminders,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRequestFocus=void 0;var r=n(1),i=n(98);t.useRequestFocus=function(e){var t=r.useRef(null);return i.useObservable(r.useCallback((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}),[]),e),t}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoFocusingInputField=void 0;var s=a(n(1)),u=n(9);n(97);t.AutoFocusingInputField=function(e){var t=s.useRef(null);return u.useAutoFocusingInputField(t),s.default.createElement("input",r({ref:t},e))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Blurable=void 0;var s=a(n(1)),u=n(9);function c(e,t){var n=e[0],i=e[1],o=e[2],a=t[0];return r(r({},i?{onBlur:function(e){return a.current&&!a.current.contains(e.relatedTarget)&&n()}}:{}),o?{onKeyDown:function(e){return e.keyCode===u.KEY_CODES.ESCAPE&&n()}}:{})}n(325);t.Blurable=function(e){var t=e.onBlur,n=e.children,i=e.useBlur,o=void 0===i||i,a=e.useEscape,l=void 0===a||a,d=s.useRef(null),p=u.useFactory(c,[t,o,l],[d]);return s.default.createElement("div",r({ref:d,className:"Blurable-outer1",tabIndex:0},p),n)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var s=o(n(1)),u=a(n(136)),c=n(183);n(326);t.Modal=function(e){var t=s.useMemo((function(){return document.getElementById("modal-root")}),[]);return u.default.createPortal(s.default.createElement(c.Blurable,{onBlur:e.onClose,useBlur:!1,useEscape:!0},s.default.createElement("div",{className:"Modal-main",onMouseDown:function(){return e.onClose()}},s.default.createElement("div",{className:"Modal-inner",onMouseDown:function(e){return e.stopPropagation()}},e.children))),t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanel=void 0;var a=o(n(1)),s=n(11);n(328);var u={vertical:"height",horizontal:"width"};t.SidePanel=function(e){var t,n,o=e.children,c=e.state,l=e.size,d=e.direction,p=e.useTransition,f=void 0===p||p,h=["0px",l+"px"],m=r(((t={})[u[d]]=h[c],t),f?{transition:u[d]+" 0.15s"}:{}),g=((n={})["min"+s.capitalize(u[d])]=h[1],n),v=i(["SidePanel-wrapper"],0===c?["SidePanel-isCollapsed"]:[]).join(" ");return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"SidePanel-outer1",style:m},a.default.createElement("div",{className:v,style:g},1===c?o:null)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.makeAdapterFactory=t.preventDefault=t.stopPropagation=void 0,t.stopPropagation=function(e){e.stopPropagation()},t.preventDefault=function(e){e.preventDefault()},t.makeAdapterFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(n){return e.forEach((function(e){return e(n)})),t(n)}}},t.makeEventListenerManager=function(e){var t=new Map;return[function(n,r,i){var o=e(r);t.set(r,o),document.addEventListener(n,o,i)},function(e,n){var r=t.get(n);document.removeEventListener(e,r)}]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollShadows=void 0;var o=i(n(1)),a=n(9);n(330);t.ScrollShadows=function(e){var t,n,i=a.useScrollTop(),s=i[0],u=i[1],c=a.useDimensions(),l=c[0],d=c[1],p=a.useDimensions(),f=p[0],h=p[1],m=s<=0,g=s>=Math.floor((null!==(t=null===h||void 0===h?void 0:h.height)&&void 0!==t?t:0)-(null!==(n=null===d||void 0===d?void 0:d.height)&&void 0!==n?n:0));return o.default.createElement("div",{className:"ScrollShadows-main",ref:l},o.default.createElement("div",{className:"ScrollShadows-shadow "+(m?"":"ScrollShadows-shadowActive")}),o.default.createElement("div",r({},a.trackScrollTop(u),{className:"ScrollShadows-inner"}),o.default.createElement("div",{ref:f},e.children)),o.default.createElement("div",{className:"ScrollShadows-shadowBottom "+(g?"":"ScrollShadows-shadowActive")}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchedEditableLabel=void 0;var o=i(n(1)),a=n(9),s=n(182);n(97);t.SwitchedEditableLabel=function(e){var t=e.initialValue,n=e.onChange,i=e.onToggle,u=e.placeholderWhenReadonly,c=e.doubleClick,l=e.className,d=a.useInputField(t),p=d[0],f=d[1],h=a.useEditableLabel({onToggle:function(e){return null===i||void 0===i?void 0:i(e,p)}}),m=h[0],g=h[1];return m?o.default.createElement(s.AutoFocusingInputField,r({className:l},a.makeInputFieldBindings({value:p,setValue:f,onChange:n}),a.makeEditableLabelInputFieldBindings({setToggled:g}),{onKeyDown:function(e){return e.stopPropagation()}})):o.default.createElement("span",r({},a.makeEditableLabelLabelBindings({setToggled:g,useDoubleClick:c})),p||u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSubject=void 0;var r=n(1),i=n(135);t.useSubject=function(){return r.useMemo((function(){return new i.Subject}),[])}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gistOriginConfig=t.statusCodeToText=t.checkReadyness=void 0;var a=o(n(1)),s=n(191),u=n(347);function c(e){return r(this,void 0,void 0,(function(){return i(this,(function(n){return[2,s.getMasterGist(s.makeGistHttp(e.token),e.masterGistId).then((function(){return{ready:!0}})).catch((function(e){return 401===e.status||404===e.status?{ready:!1,reason:t.statusCodeToText[e.status]}:{ready:!1,reason:"Unexpected Error"}}))]}))}))}t.checkReadyness=c,t.statusCodeToText={401:"401 Unauthorized",404:"404 Master Gist Not Found"},t.gistOriginConfig={origin:"gist",backendFactory:function(e,t){return s.makeGistBackend(t)},defaultConfig:{enabled:!1,masterGistId:"",token:""},icon:"github",settingsPage:a.default.createElement(u.GistOriginSettingsPage,null),checkReadyness:c}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeGistBackend=t.makeGistHttp=t.getMasterGist=t.createMasterGist=void 0;var s=n(192),u=n(344),c=n(11),l=n(32),d=n(132),p=n(133),f=n(345),h={documents:[]};function m(e){var t={resource:e.document,documentType:e.permanent.documentType};return{files:{"1.json":{content:JSON.stringify(t)}}}}function g(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,e.get("/"+t)];case 1:n=o.sent(),r=Object.entries(n.files);try{return i=JSON.parse(r[0][1].content),Array.isArray(i.documents)?[2,i]:[2,h]}catch(a){return[2,h]}return[2]}}))}))}function v(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return[4,g(e,t)];case 1:return r=o.sent(),i=n(r),a={files:(s={},s["1-snip-master-gist"]={content:JSON.stringify(i)},s)},[4,e.patch("/"+t,a)];case 2:return o.sent(),[2]}}))}))}function y(e,t,n){return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return i=m(t),[4,e.post("",i)];case 1:return s=o.sent(),[4,v(e,n,(function(e){return r(r({},e),{documents:a(a([],e.documents),[s.id])})}))];case 2:return o.sent(),[2,s]}}))}))}function b(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){return n=m(t),[2,e.patch("/"+t.id,n)]}))}))}function O(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,e.del("/"+t.id)];case 1:return i.sent(),[4,v(e,n,(function(e){return r(r({},e),{documents:e.documents.filter((function(e){return e!==t.id}))})}))];case 2:return i.sent(),[2]}}))}))}function _(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,{id:e,resource:{id:e},documentType:n.permanent.documentType,version:0,updatedAt:t}]}))}))}function S(e){var t={"Content-Type":"application/json",Authorization:"token "+e,Accept:"application/vnd.github.v3+json"};return u.makeHttp("https://api.github.com/gists",t)}t.createMasterGist=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(i){switch(i.label){case 0:return t=S(e),n={files:(r={},r["1-snip-master-gist"]={content:JSON.stringify(h)},r)},[4,t.post("",n)];case 1:return[2,i.sent()]}}))}))},t.getMasterGist=g,t.makeGistHttp=S;t.makeGistBackend=function(e){var t=e.masterGistId,n=e.token,a={},u=new s.Mutex,h=S(n);return{fetchAll:function(){return i(void 0,void 0,void 0,(function(){var e,n,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,g(h,t)];case 1:return e=o.sent(),[4,c.allSettled(e.documents.map((function(e){return h.get("/"+e).catch((function(t){throw 404===t.status?{status:404,documentId:e,originalError:t}:t}))})))];case 2:return n=o.sent(),(i=c.getRejected(n).filter((function(e){return 404===e.status})).map((function(e){return e.documentId}))).length>0?[4,v(h,t,(function(e){return r(r({},e),{documents:e.documents.filter((function(e){return!i.includes(e)}))})}))]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2,{results:c.getFulfilled(n).map((function(e){return{id:e.id,updatedAt:e.updated_at,documentJson:Object.entries(e.files)[0][1]}})).map((function(e){var t=e.id,n=e.updatedAt,i=e.documentJson,o=JSON.parse(i.content);return r(r({id:t},o),{resource:r({},o.resource),version:0,updatedAt:new Date(n)})})),errors:[]}];case 5:throw a=o.sent(),f.handleError(a);case 6:return[2]}}))}))},update:function(e){return i(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,9,10]),[4,u.getLockOn(a)];case 1:return i.sent(),d.shouldCreate(e)?[4,y(h,e,t)]:[3,3];case 2:return[2,_((n=i.sent()).id,new Date(n.updated_at),e)];case 3:return p.shouldDelete(e)?[4,O(h,e,t)]:[3,5];case 4:return i.sent(),[2,_(l.DELETEABLE,new Date,e)];case 5:return[4,b(h,e)];case 6:return[2,_((n=i.sent()).id,new Date(n.updated_at),e)];case 7:return[3,10];case 8:throw r=i.sent(),f.handleError(r,e);case 9:return u.releaseLockOn(a),[7];case 10:return[2]}}))}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mutex=void 0;var r=function(){var e;return[new Promise((function(t){return e=t})),e]},i=function(){function e(){this.locks={}}return e.prototype.hasLockOn=function(e){return void 0!==this.locks[e]&&this.locks[e].length>0},e.prototype.getLockOn=function(e){return this.locks[e]=this.locks[e]||[],0===this.locks[e].length?(this.locks[e].push(r()),Promise.resolve(!0)):(this.locks[e].push(r()),this.locks[e][this.locks[e].length-2][0])},e.prototype.releaseLockOn=function(e){this.locks[e][0][1](),this.locks[e].shift()},e}();t.Mutex=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginConfig=t.bumpCloudOriginToken=void 0;var s=a(n(1)),u=n(349),c=n(352),l=n(353),d=n(204);t.bumpCloudOriginToken=function(e){return r(r({},e),{reloadToken:Date.now()})},t.cloudOriginConfig={origin:"cloud",backendFactory:function(e){return u.makeCloudBackend(e)},defaultConfig:{enabled:d.maybeEnableCloudOriginByDefault(),reloadToken:0},icon:"cloud-outline",settingsPage:s.default.createElement(l.CloudOriginSettingsPage,null),checkReadyness:function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,c.checkLoginState().then((function(e){var t=e[0];return e[1]?t?{ready:!0}:{ready:!1,reason:"Not Logged In"}:{ready:!1,reason:"Unable To Reach Backend"}}))]}))}))}}},function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function a(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return t=n.sent(),[2,new Promise((function(e,n){t.ok?e(t.json()):n(t)}))]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.patch=t.post=t.get=t.baseUrl=void 0,r="http://localhost:5000"===window.location.origin?"http://localhost:4000/api":"http://192.168.1.107:5000"===window.location.origin?"http://192.168.1.107:4000/api":"http://172.20.10.2:5000"===window.location.origin?"http://172.20.10.2:4000/api":"file://"===window.location.origin||"https://getsnip.io"===window.location.origin?"https://api.getsnip.io":window.location.origin,t.baseUrl=r,t.get=function(e){var n={headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,n))},t.post=function(e,n){var r={method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,r))},t.patch=function(e,n){var r={method:"PATCH",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,r))},t.del=function(e){return a(fetch(""+t.baseUrl+e,{method:"DELETE",credentials:"include"}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFetcherAndPusherMappings=t.defaultMakeCacheFunctions=t.makeErrorBackend=t.noopCacheDeleter=t.noopCachePusher=t.noopCacheFetcher=t.isWrapperOfType=void 0;var s=n(11),u=n(178),c=n(196),l=n(197),d=n(198),p=n(199);t.isWrapperOfType=function(e,t){return e.permanent.documentType===t};t.noopCacheFetcher=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))};t.noopCachePusher=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,{resource:void 0}]}))}))};t.noopCacheDeleter=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,void 0]}))}))};var f=function(e,t){return function(){return i(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,e.fetchAll()];case 1:return(n=r.sent()).results.forEach((function(e){return t(e)})),[2,n]}}))}))}},h=function(e,t){return function(n){return i(void 0,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return[4,e.update(n)];case 1:return r=i.sent(),t(r),[2,r]}}))}))}};function m(e,t){return{message:e,documentId:t}}t.makeErrorBackend=function(e){return{update:function(t){return new Promise((function(n,r){return setTimeout((function(){return r(m(e,t.id))}),1e3)}))},fetchAll:function(){return new Promise((function(t,n){return setTimeout((function(){return n(m(e))}),1e3)}))}}};t.defaultMakeCacheFunctions=function(e,t){var n=c.makeFileStoragePusher(e,t,(function(e){return e.id})),r=l.makeFileStorageFetcher(e,t);return{pushToCache:n,fetchFromCache:function(){return r().then((function(e){return e.results}))},deleteFromCache:d.makeFileStorageDeleter(e,t,(function(e){return e}))}},t.makeFetcherAndPusherMappings=function(e){return function(e){var t=e.resourceConfigs,n=e.originConfigs,i=e.settings;return t.reduce((function(e,t){var o,a,c=n.map((function(e){var n=s.getOriginSettings(i,e.origin,e.defaultConfig);if(!1===n.enabled)return null;var o=e.backendFactory(t.resourceName,n);return r(r({},e),{pusher:h(o,t.schemaEnforcer),fetcher:f(o,t.schemaEnforcer)})})).filter(s.isNotNull);return r(r({},e),{fetcherMappings:r(r({},e.fetcherMappings),(o={},o[t.resourceName]=c.map((function(e){return u.makeOriginToActionMapping(e.origin,e.fetcher)})),o)),pusherMappings:r(r({},e.pusherMappings),(a={},a[t.resourceName]=c.map((function(e){return u.makeOriginToActionMapping(e.origin,e.pusher)})),a))})}),{fetcherMappings:{},pusherMappings:{}})}(r(r({},e),{originConfigs:a(a([],e.originConfigs),[p.noopOriginConfig])}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStoragePusher=void 0;var o=n(33),a=n(55),s=n(68);t.makeFileStoragePusher=function(e,t,n){var u=this;if(!o.isElectron())throw a.errorWithDetails(null,s.compileFileStorageNotSupportedErrorDetails());var c=window.require("fs").promises;return function(o){return r(u,void 0,void 0,(function(){var r,u;return i(this,(function(i){switch(i.label){case 0:if(!t)throw a.errorWithDetails(null,s.compileDirectoryNotAccessibleErrorDetails(t));r=t+"/"+e+"-"+n(o),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.writeFile(r,JSON.stringify(o))];case 2:return i.sent(),[2,o];case 3:throw u=i.sent(),a.errorWithDetails(u,s.compileFileNotAccessibleErrorDetails("write",r));case 4:return[2]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageFetcher=void 0;var s=n(11),u=n(33),c=n(55),l=n(68);t.makeFileStorageFetcher=function(e,t){var n=this;if(!u.isElectron())throw c.errorWithDetails(null,l.compileFileStorageNotSupportedErrorDetails());var d=window.require("fs").promises;return function(){return i(n,void 0,void 0,(function(){var n,u,p,f,h=this;return o(this,(function(m){switch(m.label){case 0:if(!t)throw c.errorWithDetails(null,l.compileDirectoryNotAccessibleErrorDetails(t));return[4,d.readdir(t)];case 1:return n=m.sent(),u=n.filter((function(t){return t.startsWith(e)})).map((function(e){return i(h,void 0,void 0,(function(){return o(this,(function(n){return[2,d.readFile(t+"/"+e).then((function(t){return{filename:e,content:t.toString()}})).catch((function(t){throw c.errorWithDetails(t,l.compileFileNotAccessibleErrorDetails("read",e))}))]}))}))})),[4,s.allSettled(u)];case 2:return p=m.sent(),f=s.getFulfilled(p),[2,f.reduce((function(e,t){try{return r(r({},e),{results:a(a([],e.results),[JSON.parse(t.content)])})}catch(m){return r(r({},e),{errors:a(a([],e.errors),[c.errorWithDetails(null,l.compileNotParsableErrorDetails(t.filename))])})}}),{results:[],errors:[]})]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageDeleter=void 0;var o=n(33),a=n(55),s=n(68);t.makeFileStorageDeleter=function(e,t,n){var u=this;if(!o.isElectron())throw a.errorWithDetails(null,s.compileFileStorageNotSupportedErrorDetails());var c=window.require("fs").promises;return function(o){return r(u,void 0,void 0,(function(){var r,u;return i(this,(function(i){switch(i.label){case 0:if(!t)throw a.errorWithDetails(null,s.compileDirectoryNotAccessibleErrorDetails(t));r=t+"/"+e+"-"+n(o),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.unlink(r)];case 2:return i.sent(),[2,o];case 3:throw u=i.sent(),a.errorWithDetails(u,s.compileFileNotAccessibleErrorDetails("delete",r));case 4:return[2]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.noopOriginConfig=void 0;var o=n(55),a=n(120);t.noopOriginConfig={origin:"noop",backendFactory:function(){return function(){var e=o.errorWithDetails(null,a.compileNoOriginConfiguredErrorDetails());return{update:function(){return new Promise((function(t,n){return n(e)}))},fetchAll:function(){return new Promise((function(e){return e({results:[],errors:[]})}))}}}()},defaultConfig:{enabled:!0},icon:"",settingsPage:null,checkReadyness:function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,{ready:!1,reason:"Not ready."}]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ChangePasswordForm=void 0;var s=a(n(1)),u=n(85),c=n(134),l=n(102),d=n(103),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(d.CredentialsFormWrapper,null,s.default.createElement(l.CredentialsForm,{title:"Change Password",fields:[u.currentPasswordField(u.PLACEHOLDER_OLD_PASSWORD),u.newPasswordField(u.PLACEHOLDER_NEW_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_CHANGE_PASSWORD,onSubmit:function(e){return(new c.UserService).changePassword({currentPassword:e.currentPassword,password:e.password}).then((function(){return u.PASSWORD_HAS_BEEN_CHANGED}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK)))},t}(s.Component);t.ChangePasswordForm=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ForgotPasswordForm=void 0;var s=a(n(1)),u=n(85),c=n(134),l=n(102),d=n(103),p="REQUEST_TOKEN",f="HAS_REQUESTED_TOKEN",h="FORGOT_PASSWORD_DONE",m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showSendPasswordResetForm:!1,showContinueToPasswordResetForm:!1,step:p},n}return r(t,e),t.prototype.isOnRequestTokenForm=function(){return this.state.step===p||this.state.step===f},t.prototype.hasRequestedToken=function(){return this.state.step===f},t.prototype.isDone=function(){return this.state.step===h},t.prototype.render=function(){var e=this,t=s.default.createElement(s.default.Fragment,null,s.default.createElement(l.CredentialsForm,{title:"Reset Password",key:"requestTokenForm",fields:[u.emailField(u.validateEmailLength)],submitLabel:u.LABEL_REQUEST_RESET,disabled:this.hasRequestedToken(),onSubmit:function(t){return(new c.UserService).sendPasswordReset({username:t.email}).then((function(){return e.setState({step:f}),u.RESET_MAIL_SENT}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{disabled:this.hasRequestedToken(),className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK),s.default.createElement("button",{disabled:!this.hasRequestedToken(),className:"CommonUI-button-without-border",onClick:function(){return e.setState({step:"ENTER_TOKEN"})}},u.LABEL_NEXT))),n=s.default.createElement(s.default.Fragment,null,s.default.createElement(l.CredentialsForm,{title:"Reset Password",key:"enterTokenForm",fields:[u.passwordResetTokenField(),u.newPasswordField(u.PLACEHOLDER_NEW_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_RESET_PASSWORD,disabled:this.isDone(),onSubmit:function(t){return(new c.UserService).resetPassword({token:t.token.trim(),password:t.password}).then((function(){return e.setState({step:h}),u.PASSWORD_HAS_BEEN_CHANGED}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK)));return s.default.createElement(d.CredentialsFormWrapper,null,this.isOnRequestTokenForm()?t:n)},t}(s.Component);t.ForgotPasswordForm=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInForm=void 0;var s=a(n(1)),u=n(33),c=n(89),l=n(85),d=n(194),p=n(355),f=n(102),h=n(103),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this;s.default.createElement("div",{className:"CredentialsForm-button-column"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickForgotPassword},l.LABEL_FORGOT_PASSWORD),s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickChangePassword},l.LABEL_CHANGE_PASSWORD),s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignUp},l.LABEL_SIGN_UP));return s.default.createElement(h.CredentialsFormWrapper,null,s.default.createElement(f.CredentialsForm,{title:"Sign In",fields:[l.emailField(),l.currentPasswordField(l.PLACEHOLDER_PASSWORD)],submitLabel:l.LABEL_SIGN_IN,onSubmit:function(t){return(new p.SessionService).login({username:t.email,password:t.currentPassword}).then((function(){return e.props.onSuccess&&e.props.onSuccess(),e.props.onSubmit&&e.props.onSubmit(),l.SIGNIN_SUCCESSFUL}))}}),!1,s.default.createElement("div",{className:"CredentialsForm-button-column"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:function(){return u.isElectron()?c.getElectron().shell.openExternal(d.baseUrl):window.open("https://users.getsnip.io/register","_blank")}},l.LABEL_SIGN_UP)))},t}(s.Component);t.SignInForm=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignUpForm=void 0;var s=a(n(1)),u=n(85),c=n(134),l=n(102),d=n(103),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={signUpSuccessful:!1},n}return r(t,e),t.prototype.render=function(){var e=this;return s.default.createElement(d.CredentialsFormWrapper,null,s.default.createElement(l.CredentialsForm,{title:"Sign Up",fields:[u.emailField(u.validateEmailLength),u.newPasswordField(u.PLACEHOLDER_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_SIGN_UP,disabled:this.state.signUpSuccessful,onSubmit:function(t){return(new c.UserService).signup({username:t.email,password:t.password}).then((function(){return e.setState({signUpSuccessful:!0}),u.VERIFICATION_MAIL_SENT}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},!this.state.signUpSuccessful&&s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignIn},u.LABEL_BACK),this.state.signUpSuccessful&&s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignIn},u.LABEL_GO_TO_SIGN_IN)))},t}(s.Component);t.SignUpForm=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeEnableCloudOriginByDefault=t.getDefaultOrigin=void 0;var r=n(33),i=n(59);t.getDefaultOrigin=function(){return i.isInMockedMode?"mock":r.isElectron()?"noop":"cloud"},t.maybeEnableCloudOriginByDefault=function(){return!r.isElectron()}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginConfig=t.makeFileBackend=t.DIRECTORY_NOT_SPECIFIED=t.DIRECTORY_NOT_ACCESSIBLE=void 0;var a=o(n(1)),s=n(356),u=n(357),c=n(359);function l(e,t){return new c.FileBackend(e,t.fileLocation)}t.DIRECTORY_NOT_ACCESSIBLE="Unable To Access Directory",t.DIRECTORY_NOT_SPECIFIED="No Directory Specified",t.makeFileBackend=l,t.fileOriginConfig={origin:"file",backendFactory:function(e,t){return l(e,t)},defaultConfig:{enabled:!1,fileLocation:""},icon:"file-outline",settingsPage:a.default.createElement(u.FileOriginSettingsPage,null),checkReadyness:function(e){return r(this,void 0,void 0,(function(){return i(this,(function(n){return""===e.fileLocation.trim()?[2,{ready:!1,reason:t.DIRECTORY_NOT_SPECIFIED}]:[2,s.testDirectoryAccess(e.fileLocation).then((function(){return{ready:!0}})).catch((function(){return{ready:!1,reason:t.DIRECTORY_NOT_ACCESSIBLE}}))]}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.code=void 0,t.code={id:"LOCAL-1609270036900",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:30:58.208Z"),resource:{version:0,updatedAt:new Date("2020-12-29T19:27:59.468Z"),name:"Snippet: Code",content:'function myCoolFunction() {\n  console.log("bla);\n}\n',language:"JavaScript",tags:[],archived:!1}}},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMegaSyncedAppState=void 0;var r=n(90),i=n(309),o=n(1),a=n(9),s=n(342),u=n(343),c=n(100),l=n(195),d=n(370),p="localhost"===document.location.hostname,f=d.getApplicationPaths(p?"snip-storage-dev":"snip-storage");function h(e,t){var n=e[0];return n?l.defaultMakeCacheFunctions(r.DOCUMENTS_RESOURCE,n):null}t.useMegaSyncedAppState=function(e){var t=a.useDebouncedMemo((function(){return l.makeFetcherAndPusherMappings({settings:e,resourceConfigs:r.resourceConfigs,originConfigs:c.originConfigs})}),500,[e.originSettings]),n=a.useFactory(h,[null===f||void 0===f?void 0:f.cacheLocation],[]),d=i.useAutoSyncedAppState(e.defaultOrigin,t,n,null===f||void 0===f?void 0:f.logsLocation),p=d[0],m=d[1],g=d[2],v=d[3];return r.useUpdateSettings(m,e),o.useEffect((function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&g({type:"requestDownload"})}))}),[]),s.useArchiveManager(p.store.store,m),[p,m,v,u.useDirtyState(p.store)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginSettings=void 0,t.getOriginSettings=function(e,t,n){var r;return(null===(r=e.originSettings.find((function(e){return e.origin===t})))||void 0===r?void 0:r.settings)||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startAnimation=void 0,t.startAnimation=function(e,t,n,r){var i=!1,o=t-e,a=performance.now();return window.requestAnimationFrame((function t(s){var u=(s-a)/n;r(e+Math.round(o*function(e){return(1-Math.cos(Math.PI*e))/2}(u))),!i&&u<1?window.requestAnimationFrame(t):r(e+o)})),function(){return i=!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isNotNull=t.getRejected=t.getFulfilled=t.allSettled=t.capitalize=t.copyToClipboard=t.ThemeContext=void 0;var a=o(n(1));function s(e){return"fulfilled"===e.status}function u(e){return"rejected"===e.status}t.ThemeContext=a.default.createContext(""),t.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.allSettled=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,Promise.all(e.map((function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e];case 1:return[2,{status:"fulfilled",value:t.sent()}];case 2:return[2,{status:"rejected",reason:t.sent()}];case 3:return[2]}}))}))})))]}))}))},t.getFulfilled=function(e){return e.filter(s).map((function(e){return e.value}))},t.getRejected=function(e){return e.filter(u).map((function(e){return e.reason}))},t.isNotNull=function(e){return null!==e}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useObject=t.getObject=t.AppContext=void 0;var a=o(n(1));function s(e,t){var n=e.find((function(e){return e.name===t}));if(!n)throw"AppContext: object '"+t+"' not found!";return n.object}t.AppContext=a.default.createContext([]),t.getObject=s,t.useObject=function(e){return s(a.useContext(t.AppContext),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRefsCallback=void 0;var r=n(1);t.useRefsCallback=function(){var e=r.useRef([]),t=r.useCallback((function(t,n){return e.current&&(e.current[n]=t)}),[]);return{refs:e,callback:t}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildTransitionMap=t.useStateMachine=t.makeStateMachineReducer=void 0;var i=n(1);function o(e){var t=e.transitions,n=e.extract,r=void 0===n?function(e){return e}:n,i=e.write,o=void 0===i?function(e,t){return t}:i;return function(e,n){var i=t[r(e)][n]||r(e);return o(e,i)}}t.makeStateMachineReducer=o,t.useStateMachine=function(e,t){return i.useReducer(o({transitions:t}),e)},t.buildTransitionMap=function(e){var t=e[0].slice(1),n=t.reduce((function(e,t){var n;return r(r({},e),((n={})[t]={},n))}),{});return e.reduce((function(e,n,i){if(0===i)return e;var o=n[0],a=n.slice(1);return t.reduce((function(e,t,n){var i,s;return r(r({},e),((i={})[t]=r(r({},e[t]),((s={})[o]=a[n],s)),i))}),e)}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;var r=n(1);t.usePrevious=function(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInputField=t.makeInputFieldBindings=void 0;var r=n(1);t.makeInputFieldBindings=function(e){return{value:e.value,onChange:function(t){var n;e.setValue(t.target.value),null===(n=e.onChange)||void 0===n||n.call(e,t.target.value)}}},t.useInputField=function(e){return r.useState(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewEntryBindings=t.makeExpandedIconBindings=void 0,t.makeExpandedIconBindings=function(e){return e.width=e.width||"1em",r({style:{width:e.width}},e.entry.hasChildren?{onClick:function(){var t;return null===(t=e.setCollapsed)||void 0===t?void 0:t.call(e,e.entry.index,!e.entry.isCollapsed)}}:{})},t.makeTreeViewEntryBindings=function(e){return e.height=e.height||"1.5em",{onMouseDown:function(){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,e.entry)},key:e.entry.index+"-"+e.entry.depth+"-"+e.entry.name,style:{zIndex:1e4-e.entry.index,height:e.height,marginTop:e.entry.isInsideCollapsed?"-"+e.height:void 0,transition:e.entry.isInsideCollapsed?"margin-top 0.15s, opacity 0.1s":"margin-top 0.15s, opacity 0.15s ease-in",opacity:e.entry.isInsideCollapsed?0:1,display:"flex",position:"relative"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoFocusingInputField=void 0;var r=n(1);t.useAutoFocusingInputField=function(e){r.useEffect((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultSelectionKeyHandlerChain=t.useScrollIntoViewForSelection=t.useSelection=void 0;var a=n(1),s=n(82),u=n(143),c=n(91),l=n(151),d=function(e){return function(t){return r(r({},t),{mode:e})}},p=function(e){return function(t){return r(r({},t),{value:e})}},f=function(e){return function(t){return r(r({},t),{currentIndex:e})}},h=function(){return function(e){return r(r({},e),{derivedStates:{active:"focused"===e.mode||"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode,navigating:"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode}})}},m=function(e,t){return function(n){return r(r({},n),{filteredEntries:t(e,n.value)})}};function g(e,t){var n=e[0],i=e[1];return function(e,t){switch(t.type){case"focus":case"click":return s.pipe(e,d("focused"),h(),(function(e){return[e,[]]}));case"confirm":return s.pipe(e,t.close?d("closed"):d("focused"),s.doUnless(!1===t.reset,p("")),s.doUnless(!1===t.reset,f(0)),s.doUnless(!1===t.reset,m(n,i)),h(),(u=[{type:"confirm",oldState:e}],function(e){return[e,u]}));case"change":return s.pipe(e,d("focused"),p(t.value),f(0),m(n,i),h(),(function(e){return[e,[]]}));case"escape":return s.pipe(e,d("closed"),h(),f(0),(function(e){return[e,[]]}));case"up":return s.pipe(e,(function(e){return r(r({},e),{currentIndex:s.normalizeCounter(e.currentIndex-1,e.filteredEntries.length)})}),d("navigatingByKey"),h(),(function(e){return[e,[]]}));case"down":return s.pipe(e,(a=t.considerFocused,function(e){return r(r({},e),{currentIndex:a&&"focused"===e.mode?e.currentIndex:s.normalizeCounter(e.currentIndex+1,e.filteredEntries.length)})}),d("navigatingByKey"),h(),(function(e){return[e,[]]}));case"mouseMove":return s.pipe(e,(o=t.currentIndex,function(e){return"navigatingByMouse"===e.mode&&e.currentIndex===o?e:s.pipe(e,d("navigatingByMouse"),f(o))}),h(),(function(e){return[e,[]]}));case"blur":return s.pipe(e,d("closed"),p(""),f(0),h(),(function(e){return[e,[]]}));case"updateFilteredEntries":return s.pipe(e,m(n,i),(function(e){return[e,[]]}))}var o,a,u}}function v(e,t){var n=this,r=e[0];return function(e,t,a){return i(n,void 0,void 0,(function(){return o(this,(function(e){switch(t.type){case"confirm":null===r||void 0===r||r(t.oldState)}return[2]}))}))}}t.useSelection=function(e){var t=e.entries,n=e.filter,r=e.initialValue,i=e.onConfirm,o=void 0===i?function(){}:i,s=c.useFactory(g,[t,n],[]),u=c.useFactory(v,[o],[]),d=a.useMemo((function(){return function(e,t,n){return h()({value:e,filteredEntries:n(t,e),currentIndex:0,mode:"closed",derivedStates:{active:!1,navigating:!1}})}(r,t,n)}),[]),p=l.useReducerWithEffects(s,u,d),f=p[0],m=p[1];return a.useEffect((function(){return m({type:"updateFilteredEntries"})}),[t,m]),[f,m]},t.useScrollIntoViewForSelection=function(e){var t=e.state,n=e.entryRefs;return u.useScrollIntoView({dependency:t.currentIndex,condition:t.derivedStates.active,index:t.currentIndex,refs:n,useTimeout:!0})},t.makeDefaultSelectionKeyHandlerChain=function(e,t){return void 0===t&&(t=!0),[s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.ENTER,(function(){return e({type:"confirm",reset:!0,close:!1})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.ESCAPE,(function(){return e({type:"escape"})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.DOWN_ARROW,(function(n){return s.preventDefault(n),e({type:"down",considerFocused:t})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.UP_ARROW,(function(t){return s.preventDefault(t),e({type:"up"})}))]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollTop=t.trackScrollTop=void 0;var r=n(1);t.trackScrollTop=function(e){return{onScroll:function(t){return e(t.currentTarget.scrollTop)}}},t.useScrollTop=function(){return r.useState(0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDimensions=void 0;var r=n(1);t.useDimensions=function(){var e=r.useRef(null),t=r.useState(null),n=t[0],i=t[1],o=new ResizeObserver((function(e){var t=e[0];return i(t.contentRect)}));return r.useEffect((function(){var t=e.current;if(t)return o.observe(t),function(){return o.unobserve(t)}}),[e.current]),[e,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOnce=void 0;var r=n(1);t.useOnce=function(e,t){var n=r.useState(!1),i=n[0],o=n[1];r.useEffect((function(){if(t&&!i)return o(!0),e()}),[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedMemo=void 0;var r=n(1),i=n(125);t.useDebouncedMemo=function(e,t,n){var o=r.useMemo((function(){return i.debounce((function(e,t){return t((function(){return e()}))}),t)}),[]),a=o[0],s=o[1],u=r.useMemo((function(){return e()}),[]),c=r.useState((function(){return u})),l=c[0],d=c[1];return r.useEffect((function(){return a(e,d).catch((function(){return null})),function(){return s()}}),n),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedEffect=void 0;var r=n(1),i=n(125);function o(e){e()}t.useDebouncedEffect=function(e,t,n,a){void 0===a&&(a=i.debounce);var s=r.useMemo((function(){return a(o,t)}),[]),u=s[0],c=s[1];r.useEffect((function(){return u(e).catch((function(){return null})),function(){return c()}}),n)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorPlugin=t.LANGUAGE=void 0;var o=i(n(1)),a=n(237),s=n(240),u=n(258),c=n(93),l=n(92),d="CodeMirrorPlugin";function p(e,t){return e.split("\n").splice(0,t).join("\n")}t.LANGUAGE="code";t.CodeMirrorPlugin={name:d,language:t.LANGUAGE,icon:"mdi-code-tags",editorClass:function(){return"SnippetEditor-code-mode"},snippetListClass:function(){return null},testExtension:function(e){return l.supportedCodeLanguages.includes(l.fileExtensionToLanguage[e])?l.fileExtensionToLanguage[e]:null},testLanguage:function(e){return e===t.LANGUAGE||l.supportedCodeLanguages.includes(e)},toPlaintext:function(e){return e},fromPlaintext:function(e){return e},bootstrap:function(e){return e},produceFileMetaData:function(e){return{id:e.id,normalizedLanguage:t.LANGUAGE,textContent:e.document.content,upperCaseTextContent:e.document.content.toUpperCase(),title:e.document.name,upperCaseTitle:e.document.name.toUpperCase(),body:e.document.content,trimmedBody:e.document.content.split("\n").splice(0,2).join("\n"),searchableString:[e.document.content,e.document.name].join(" ").toUpperCase(),reminders:[]}},extractSubSnippets:function(e){return[{pluginName:d,type:"",content:e.snippet.content,textContent:e.snippet.content,searchableString:e.snippet.content.toUpperCase(),original:e}]},renderSubSnippet:function(e){return o.default.createElement(a.CodeMirrorReader,{content:p(e.original.snippet.content,6),language:e.original.snippet.language})},serialize:function(e){return e},deserialize:function(e){return e},init:function(e){return e},reader:a.CodeMirrorReader,writer:s.CodeMirrorWriter,toolbar:u.Toolbar,listEntry:function(e){return o.default.createElement(c.DefaultListEntry,r({},e),o.default.createElement(a.CodeMirrorReader,{content:p(e.snippetListEntry.snippet.content,2),language:e.snippetListEntry.snippet.language}))},createSnippetConfig:{viaInput:{placeholder:"Paste Code ...",bootstrap:function(e){return e}},viaButton:{label:"Code",bootstrap:function(){return""}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorReader=void 0;var s=a(n(1));n(152),n(238);var u=a(n(28)),c=n(60),l=n(153),d=n(11),p=n(92),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.highlight=function(){var e;if(null===(e=this.refs)||void 0===e?void 0:e.codeBlock){var t=this.refs.codeBlock;setTimeout((function(){u.colorize([t])}),10)}},t.prototype.componentDidMount=function(){this.highlight()},t.prototype.componentDidUpdate=function(){this.highlight()},t.prototype.shouldComponentUpdate=function(e){return c.shouldComponentUpdateForSnippet(this.props,e)},t.prototype.render=function(){var e=p.getMimeTypeForLanguage(this.props.language);return s.default.createElement("div",{className:"cm-s-"+l.getCodeMirrorThemeByName(this.context)},s.default.createElement("pre",{ref:"codeBlock","data-lang":e},this.props.content))},t.contextType=d.ThemeContext,t}(s.Component);t.CodeMirrorReader=f},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modeInfo=void 0;for(var r=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}],i=0;i<r.length;i++){var o=r[i];o.mimes&&(o.mime=o.mimes[0])}t.modeInfo=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorWriter=void 0;var s=a(n(1));n(241),n(242),n(243),n(244),n(251);var u=n(252),c=n(153),l=n(92),d=function(e){function t(t){var n=e.call(this,t)||this;return n.language=n.props.language,t.toolbarEvents.publishCurrentLanguage(n.language),n}return r(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){e.language!==this.props.language&&this.setLanguage(this.props.language)},t.prototype.componentWillUnmount=function(){this.cm.toTextArea()},t.prototype.initialize=function(){var e=this,t=l.getMimeTypeForLanguage(this.language),n=function(e){return function(t){return e&&e(t.getValue())}},r=n(this.props.onChange),i=n(this.props.onBlur),o=n(this.props.onFocus);this.cm=u.initEditorView({element:this.refs.textarea,content:this.props.content,mode:t,onChange:r,onBlur:i,onFocus:o,onCursor:function(t){return e.props.onCursor&&e.props.onCursor(t)},theme:c.getCodeMirrorThemeByName(this.props.settings.themeName),onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards})},t.prototype.getValue=function(){return this.cm.getValue()},t.prototype.setValue=function(e){this.cm.setValue(e)},t.prototype.setLanguage=function(e){this.language=e,this.cm.toTextArea(),this.initialize()},t.prototype.focusEnd=function(){this.cm.focus(),this.cm.execCommand("goDocEnd")},t.prototype.focusStart=function(){this.cm.focus(),this.cm.execCommand("goDocStart")},t.prototype.focus=function(){this.focusStart()},t.prototype.render=function(){return s.default.createElement("div",{className:"CodeMirrorWriter-editor-container"},s.default.createElement("textarea",{ref:"textarea"}))},t}(s.Component);t.CodeMirrorWriter=d},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(245),n(154),n(246),n(156),n(247),n(249),n(250)},,,,,,,function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.initEditorView=void 0;var a=o(n(28));n(253),n(254),n(255),n(256);var s=n(9);n(257),t.initEditorView=function(e){var t=e.element,n=e.content,r=e.mode,i=e.onChange,o=e.onBlur,u=e.onFocus,c=e.onCursor,l=e.theme,d=e.onEscape,p=e.onLeaveUpwards,f=a.fromTextArea(t,{lineNumbers:!0,lineWrapping:!0,scrollbarStyle:"native",mode:r,theme:l,scrollPastEnd:!0});return f.setValue(n),f.on("change",i),f.on("blur",o),f.on("focus",u),f.on("cursorActivity",c),f.addKeyMap({Esc:function(e){return d&&d()}}),f.on("keydown",(function(e,t){t.keyCode===s.KEY_CODES.UP_ARROW&&1===e.doc.sel.ranges.length&&e.doc.sel.ranges[0].anchor===e.doc.sel.ranges[0].head&&0===e.doc.sel.ranges[0].anchor.line&&0===e.doc.sel.ranges[0].anchor.ch&&p&&p()})),f}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1));n(259);var u=n(126),c=n(92),l=[s.default.createElement("option",{key:"empty",value:""})].concat(c.supportedCodeLanguages.map((function(e){return s.default.createElement("option",{key:e,value:e},e)}))),d=function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=n.handleChange.bind(n),n.state={selectedLanguage:void 0},n.subscriptions=[];var r=n.props.toolbarEvents.subscribeForCurrentLanguage((function(e){return n.setState({selectedLanguage:e})}));return r&&n.subscriptions.push(r),n}return r(t,e),t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.handleChange=function(e){var t=e.target.value;this.setState({selectedLanguage:t}),this.props.toolbarEvents.publishCurrentLanguageChange(t)},t.prototype.render=function(){return s.default.createElement(u.ToolbarItemGroup,null,s.default.createElement(u.ToolbarItem,null,s.default.createElement(u.ToolbarIcon,{iconName:"format-bold"})),s.default.createElement(u.ToolbarItem,null,s.default.createElement("div",{className:"Autocomplete-shadow-panel"}),s.default.createElement("select",{className:"CodeMirror-toolbar-language-select",value:this.state.selectedLanguage,onChange:this.handleChange},l)))},t}(s.Component);t.Toolbar=d},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextPlugin=t.LANGUAGE=void 0;var o=i(n(1)),a=n(45),s=n(265),u=n(288),c=n(93),l=n(131),d=n(60),p="RichText Plugin";function f(e){var t=new Array;return a.initDoc(a.completeSchema,e.snippet.content).descendants((function(n){t=(t=t.concat(function(e,t){return e.type===a.completeSchema.nodes.code_block?[{pluginName:p,type:"code block",content:e.textContent,textContent:e.textContent,searchableString:e.textContent.toUpperCase(),original:t}]:[]}(n,e))).concat(function(e,t){var n=e.isText&&e.marks&&e.marks.find((function(e){return e.type===a.completeSchema.marks.link}));return n?[{pluginName:p,type:"link",content:{label:n.attrs.label||n.attrs.href,href:n.attrs.href},textContent:n.attrs.href,searchableString:(n.attrs.label+" "+n.attrs.href).toUpperCase(),original:t}]:[]}(n,e))})),t}t.LANGUAGE="richtext";t.RichTextPlugin={name:p,language:t.LANGUAGE,icon:"mdi-text",editorClass:function(){return"SnippetEditor-richtext-mode"},snippetListClass:function(){return"SnippetList-entry-type-richtext"},testExtension:function(e){return"rt"===e?t.LANGUAGE:null},testLanguage:function(e){return e===t.LANGUAGE},toPlaintext:function(e){return a.getTextFromDoc(a.initDoc(a.completeSchema,e))},fromPlaintext:function(e){return a.docJsonFromString(a.completeSchema,e)},bootstrap:function(e){return a.docJsonFromString(a.completeSchema,e)},produceFileMetaData:function(e){return l.produceFileMetaData(e.id,e.document.name,a.initDoc(a.completeSchema,e.document.content),t.LANGUAGE)},extractSubSnippets:function(e){return f(e)},renderSubSnippet:function(e){switch(e.type){case"code block":return o.default.createElement("pre",null,o.default.createElement("code",null,e.content));case"link":return o.default.createElement("a",{href:e.content.href},e.content.label)}},serialize:function(e){return d.serializeJson(e)},deserialize:function(e){return d.deserializeJson(e)},init:function(e){return a.initDoc(a.completeSchema,e)},reader:s.RichTextReader,writer:s.RichTextWriter,toolbar:u.Toolbar,listEntry:function(e){return o.default.createElement(c.DefaultListEntry,r({},e),o.default.createElement(s.RichTextReader,{content:e.snippetListEntry.snippet.content,name:e.snippetListEntry.snippet.name,language:e.snippetListEntry.snippet.language,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:{placeholder:"Paste Text ...",bootstrap:function(e){return a.docJsonFromString(a.completeSchema,e)}},viaButton:{label:"Note",bootstrap:function(){return a.docJsonFromString(a.completeSchema,"")}}},hasTooltip:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liftListItem=t.splitTodoListItem=void 0;var r=n(3),i=n(10);i.Transform.prototype.splitTodoListItem=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),a=r.Fragment.empty,s=r.Fragment.empty,u=o.depth,c=o.depth-t,l=t-1;u>c;u--,l--){a=r.Fragment.from(o.node(u).copy(a));var d=n&&n[l],p=d&&d.type||o.node(u).type;s=r.Fragment.from(d?p.create(d.attrs,s):o.node(u).copy(s))}return this.step(new i.ReplaceStep(e,e,new r.Slice(a.append(s),t,t,!0)))},t.splitTodoListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,u=o.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(s))return!1;var c=a.node(-1);if(c.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var l=r.Fragment.empty,d=a.index(-1)>0,p=a.depth-(d?1:2);p>=a.depth-3;p--)l=r.Fragment.from(a.node(p).copy(l));l=l.append(r.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(d?null:-1),a.after(-3),new r.Slice(l,d?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(d?3:2)))),n(f.scrollIntoView())}return!0}var h=s.pos==a.end()?c.contentMatchAt(a.indexAfter(-1)).defaultType:null,m=t.tr.delete(a.pos,s.pos),g=h&&[null,{type:h}];return!!i.canSplit(m.doc,a.pos,2,g)&&(0!==a.parentOffset&&(g=g||[]).push({attrs:{done:!1}}),n&&n(m.splitTodoListItem(a.pos,2,g).scrollIntoView()),!0)}},t.liftListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,u=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!u&&(!n||(a.node(u.depth-1).type==e?function(e,t,n,o){var a=e.tr,s=o.end,u=o.$to.end(o.depth);s<u&&(a.step(new i.ReplaceAroundStep(s-1,u,s,u,new r.Slice(r.Fragment.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new r.NodeRange(a.doc.resolve(o.$from.pos),a.doc.resolve(u),o.depth));return t(a.lift(o,i.liftTarget(o)).scrollIntoView()),!0}(t,n,e,u):function(e,t,n){for(var o=e.tr,a=n.parent,s=n.end,u=n.endIndex-1,c=n.startIndex;u>c;u--)s-=a.child(u).nodeSize,o.delete(s-1,s+1);var l=o.doc.resolve(n.start),d=l.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(p?0:1),m+1,d.content.append(f?r.Fragment.empty:r.Fragment.from(a))))return!1;var g=l.pos,v=g+d.nodeSize;return o.step(new i.ReplaceAroundStep(g-(p?1:0),v+(f?1:0),g+1,v-1,new r.Slice((p?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))).append(f?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(o.scrollIntoView()),!0}(t,n,u)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendReminderNode=void 0,t.appendReminderNode=function(e){var t={inline:!0,attrs:{expression:{},date:{},repeatDescription:{default:void 0},createdAt:{}},group:"inline",draggable:!0,parseDOM:[{tag:"reminder",getAttrs:function(e){var t=e.getAttribute("repeatDescription");return{expression:e.getAttribute("expression"),date:parseInt(e.getAttribute("date")),repeatDescription:t?JSON.parse(t):void 0,createdAt:parseInt(e.getAttribute("createdAt"))}}}],toDOM:function(e){return["reminder",{expression:e.attrs.expression,date:e.attrs.date,repeatDescription:e.attrs.repeatDescription?JSON.stringify(e.attrs.repeatDescription):void 0,createdAt:e.attrs.createdAt}]}};return e.append({reminder:t})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextWriter=t.RichTextReader=void 0;var u=s(n(1)),c=n(160),l=n(168),d=n(45),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement(c.ProseMirrorReader,i({schema:d.completeSchema},this.props))},t}(u.Component);t.RichTextReader=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.focus=function(){this.refs.editor.focus()},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.render=function(){return u.default.createElement(l.ProseMirrorWriter,i({schema:d.completeSchema,uploadFile:this.props.uploadFile},this.props,{ref:"editor"}))},t}(u.Component);t.RichTextWriter=f},,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageView=void 0;var r=function(){function e(e,t,n){var r=document.createElement("span");r.style.position="relative",r.style.width=e.attrs.width,r.style.display="inline-block",r.style.lineHeight="0";var i=document.createElement("img");i.setAttribute("src",e.attrs.src),i.style.width="100%";var o=document.createElement("span");o.style.position="absolute",o.style.bottom="-5px",o.style.right="-5px",o.style.width="10px",o.style.height="10px",o.style.border="3px solid black",o.style.borderTop="none",o.style.borderLeft="none",o.style.display="none",o.style.cursor="nwse-resize",o.onmousedown=function(i){i.preventDefault();var o=i.pageX,a=parseFloat(getComputedStyle(r).fontSize),s=parseFloat(e.attrs.width.match(/(.+)em/)[1]),u=function(e){var t=(e.pageX-o)/a;r.style.width=s+t+"em"};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function i(o){o.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",i);var a=t.state.tr.setNodeMarkup(n(),null,{src:e.attrs.src,width:r.style.width}).setSelection(t.state.selection);t.dispatch(a)}))},r.appendChild(o),r.appendChild(i),this.dom=r,this.img=i,this.handle=o}return e.prototype.selectNode=function(){this.img.classList.add("ProseMirror-selectednode"),this.handle.style.display=""},e.prototype.deselectNode=function(){this.img.classList.remove("ProseMirror-selectednode"),this.handle.style.display="none"},e}();t.ImageView=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(3),o=n(42),a=n(36),s=n(10),u=function(e,t){return void 0===e&&(e=[]),e.some((function(e){return e===t}))},c=function(e,t,n,r,a,c){var l=r.index(r.depth-2),d=r.node(r.depth-2);if(t){if(0===l){var p=r,f=r.blockRange(p,(function(e){return e.childCount&&u(a,e.firstChild.type)})),h=f.end,m=f.$to.end(f.depth);h<m&&(n.step(new s.ReplaceAroundStep(h-1,m,h,m,new i.Slice(i.Fragment.from(a[0].create(null,f.parent.copy())),1,0),1,!0)),f=new i.NodeRange(n.doc.resolve(f.$from.pos),n.doc.resolve(m),f.depth));var g=s.liftTarget(f);return!!g&&(t(n=(n=(n=(n=n.lift(f,g)).join(n.mapping.map(r.pos-2))).join(n.mapping.map(r.pos-2))).scrollIntoView()),!0)}var v=d.child(l-1);return u(c,v.lastChild.type)?(o.sinkListItem(d.child(l).type)(e,t),!0):(t(n=(n=n.join(r.pos-2)).join(n.mapping.map(r.pos-2))),!0)}return!1};function l(e,t){return function(n,r){var i=n.selection.$cursor;if(!i)return!1;var o=0===i.parentOffset,a=u(e,i.node(-1).type),s=0===i.index(-1);if(!o||!a||!s)return!1;var l=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}(i);return(!u(t,l.nodeBefore.type)||l.parent===i.node(-1))&&c(n,r,n.tr,i,e,t)}}function d(e,t){return function(n,i){var o=n.selection.$cursor;if(!o)return!1;var a=o.parentOffset===o.parent.nodeSize-2,s=u(e,o.node(-1).type);if(!a||!s)return!1;var l=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}(o);if(!l)return!1;var d=u(e,l.nodeAfter.type),p=u(t,l.nodeAfter.type);if(!d&&(!p||l.parent!==o.node(-1)))return!1;var f=p?3:2,h=n.doc.resolve(l.pos+f),m=n.tr;return m=m.setSelection(r.Selection.near(h)),n=n.apply(m),c(n,i,m,h,e,t)}}t.buildKeyMap=function(e,t){var n=l(e,t),r=d(e,t);return a.keymap({Backspace:n,Delete:r})},t.eagerJoinBackward=l,t.eagerJoinForward=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeBlockView=void 0,n(272);var r=n(11),i=function(){function e(e,t,n){var i=document.createElement("pre");i.classList.add("CommonUI-delayedIconContainer");var o=document.createElement("code"),a=document.createElement("div");a.classList.add("CodeBlockView-handle"),a.classList.add("CommonUI-delayedIconWrapper"),a.setAttribute("contenteditable","false"),a.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),r.copyToClipboard(t.state.doc.nodeAt(n()).textContent),a.innerHTML="<i class='mdi mdi-check'></i>",setTimeout((function(){a.innerHTML="<i class='mdi mdi-clipboard-text-outline'></i>"}),1e3)})),a.innerHTML="<i class='mdi mdi-clipboard-text-outline'></i>",i.append(a),i.append(o),this.dom=i,this.contentDOM=o,this.handle=a}return e.prototype.ignoreMutation=function(e){return e.target===this.handle},e}();t.CodeBlockView=i},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollPastEndPlugin=void 0;var r=n(5),i=n(46);t.ScrollPastEndPlugin=new r.Plugin({state:{init:function(e,t){var n=document.createElement("div");n.style.height="100%",n.style.width="100%",n.style.cursor="text";var r=t.doc.nodeSize-2,o=i.Decoration.widget(r,n,{});return i.DecorationSet.empty.add(t.doc,[o])},apply:function(e,t){return t.map(e.mapping,e.doc)}},props:{decorations:function(e){return this.getState(e)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomParagraphView=void 0,n(275);var r=n(83),i=n(11),o=n(128),a=function(e,t,n){if("box"===e.attrs.type){var a=document.createElement("div");a.classList.add("CustomParagraph-box-outer");var s=document.createElement("p"),u=document.createElement("i");u.classList.add("mdi"),u.classList.add("mdi-"+r.itemIconNames["box"+i.capitalize(e.attrs.backgroundColor)]),u.classList.add("CustomParagraph-box-icon"),o.extractClasses(e).forEach((function(e){return a.classList.add(e)})),a.append(u),a.append(s),this.dom=a,this.contentDOM=s}};t.CustomParagraphView=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function o(e,t){if(0===t.length)return r(r({},e),{terminal:!0});var n=t[0],a=t.slice(1),s=e.children.find((function(e){return e.token.regexp===n.regexp}));return r(r({},e),s?{children:e.children.map((function(e){return e.token.regexp===n.regexp?o(s,a):e}))}:{children:i(i([],e.children),[o({token:n,children:[],terminal:!1},a)])})}Object.defineProperty(t,"__esModule",{value:!0}),t.compileTree=void 0,t.compileTree=function(e){return e.reduce((function(e,t){return o(e,t)}),{children:[],token:{regexp:new RegExp(""),interpret:function(e){return e}},terminal:!1})}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.grammarEn=void 0;var i=n(164),o=n(279),a=n(280);t.grammarEn=r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r([],a.atPatterns),a.inPatterns),i.expand(a.atPatterns,a.inPatterns)),i.expand(a.inPatterns,a.atPatterns)),a.onPatterns),i.expand(a.onPatterns,a.atPatterns)),i.expand(a.atPatterns,a.onPatterns)),i.expand(a.onPatterns,a.inPatterns)),i.expand(a.onPatterns,a.nextWeekPatterns)),i.expand(a.onPatterns,i.expand(a.nextWeekPatterns,a.atPatterns))),a.nextWeekPatterns),i.expand(a.nextWeekPatterns,a.atPatterns)),i.expand(a.atPatterns,a.nextWeekPatterns)),i.expand(a.nextWeekPatterns,i.expand(a.onPatterns,a.atPatterns))),i.expand(a.onPatterns,i.expand(a.inPatterns,a.atPatterns))),i.expand(a.atPatterns,i.expand(a.onPatterns,a.inPatterns))),i.expand(a.inPatterns,a.onPatterns)),a.nextPatterns),i.expand(a.nextPatterns,a.atPatterns)),i.expand(a.atPatterns,a.nextPatterns)),i.expand(a.tomorrowPatterns,a.atPatterns)),i.expand(a.tomorrowPatterns,a.inPatterns)),i.expand(a.tomorrowPatterns,i.expand(a.inPatterns,a.atPatterns))),o.everyPatterns),i.expand(o.everyPatterns,a.atPatterns)),i.expand(a.atPatterns,o.everyPatterns)),i.expand(o.everyPatterns,a.onPatterns)),i.expand(o.everyPatterns,i.expand(a.onPatterns,a.atPatterns)))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.everyPatterns=t.OF=t.THE=t.IN=t.AT=void 0;var o=n(164),a=n(96),s=n(165),u=function(e){return e};t.AT={regexp:s.AT_REGEX,interpret:u},t.IN={regexp:s.IN_REGEX,interpret:u},t.THE={regexp:s.THE_REGEX,interpret:u},t.OF={regexp:s.OF_REGEX,interpret:u};var c={regexp:s.TIME_UNIT_FOR_REPEAT_REGEX,interpret:function(e,t){var n;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,timeUnit:a.timeUnits.find((function(e){return e[0]===t.toLowerCase()}))[1]})})}},l={regexp:s.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX,interpret:function(e,t){var n=t[0];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:parseInt(n)})})}},d={regexp:s.ORDINALS_REGEX,interpret:function(e,t){return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:a.ordinals.findIndex((function(e){return e===t.toLowerCase()}))+1})})}},p={regexp:s.OTHER_REGEX,interpret:function(e){return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:2})})}},f={regexp:s.REPEATABLE_WEEKDAY_REGEX,interpret:function(e,t){var n;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{timeUnit:"week",frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,target:"and"===t.toLowerCase()?[]:[a.weekdays.indexOf(t.replace(",","").toLowerCase())]})})},canRepeat:!0},h={regexp:s.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:{type:"date-and-month",date:parseInt(n),month:parseInt(i)-1}})})}},m={regexp:s.DATE_DIGITS_REGEX,interpret:function(e,t){var n,i,o=t[0];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:r(r({month:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(i=e.repeatDescription)||void 0===i?void 0:i.target:{}),{type:"date-and-month",date:parseInt(o)})})})}},g={regexp:s.SPELLED_MONTH_REGEX,interpret:function(e,t){var n,i;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:r(r({date:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(i=e.repeatDescription)||void 0===i?void 0:i.target:{}),{type:"date-and-month",month:a.months.indexOf(t.toLowerCase())})})})}},v={regexp:s.EVERY_REGEX,interpret:u},y={regexp:s.MONTH_REGEX,interpret:function(e){return r(r({},e),{repeatDescription:{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:-1,n:-1}}})}},b=[[v,f],[v,l,f],[v,d,f],[v,p,f]],O=[[t.OF,t.THE,y]];t.everyPatterns=i(i(i([[v,c],[v,l,c],[v,d,c],[v,p,c]],b),o.expand(b,O)),[[v,h],[v,m,g],[v,m,t.OF,g],[v,g,m]])},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.tomorrowPatterns=t.nextWeekPatterns=t.nextPatterns=t.onPatterns=t.inPatterns=t.atPatterns=void 0;var i=n(96),o=n(165),a=function(e){return e},s={regexp:o.AT_REGEX,interpret:a},u={regexp:o.IN_REGEX,interpret:a},c={regexp:o.ON_REGEX,interpret:a},l={regexp:o.NEXT_REGEX,interpret:a},d={regexp:o.OF_REGEX,interpret:a},p={regexp:o.WEEK_REGEX,interpret:function(e){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{nextWeek:!0})})}},f={regexp:o.THE_REGEX,interpret:a},h={regexp:o.AM_OR_PM_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{timeOfDay:t.toUpperCase()})})}},m={regexp:o.TIME_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[2],o=t[4];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:parseInt(n),minutes:i?parseInt(i):0,seconds:o?parseInt(o):0})})}},g={regexp:o.TIME_DIGITS_AM_OR_PM_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:parseInt(n),minutes:0,seconds:0,timeOfDay:i.toUpperCase()})})}},v={regexp:o.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:i.wordToNumber[t.toLowerCase()],minutes:0,seconds:0})})}},y={regexp:o.NOON_MIDNIGHT_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:"noon"===t.toLowerCase()?12:0,minutes:0,seconds:0})})}},b={regexp:o.SPELLED_TIME_OF_DAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{timeOfDay:"morning"===t.toLowerCase()?"AM":"PM"})})}},O={regexp:o.WEEKDAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{weekday:i.weekdays.indexOf(t.toLowerCase())})})}},_={regexp:o.WEEKDAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{weekday:i.weekdays.indexOf(t.toLowerCase()),nextWeekday:!0})})}},S={regexp:o.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{date:parseInt(n),month:parseInt(i)-1})})}},w={regexp:o.SPELLED_MONTH_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{month:i.months.indexOf(t.toLowerCase())})})}},E={regexp:o.DATE_DIGITS_REGEX,interpret:function(e,t){var n=t[0];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{date:parseInt(n)})})}},x={regexp:o.TIME_UNIT_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shiftTimeUnit:i.timeUnits.find((function(e){return e[0]===t}))[1]})})}},j={regexp:o.TOMORROW_REGEX,interpret:function(e){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{tomorrow:!0})})}},P={regexp:o.ARBITRARY_DIGITS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shift:parseInt(t)})})}},T={regexp:o.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shift:i.wordToNumber[t.toLowerCase()]})})}};t.atPatterns=[[s,m],[s,v],[s,m,h],[s,g],[s,v,h],[s,m,u,f,b],[s,v,u,f,b],[s,y]],t.inPatterns=[[u,P,x],[u,T,x]],t.onPatterns=[[c,O],[c,S],[c,E,w],[c,E,d,w],[c,w,E]],t.nextPatterns=[[l,_]],t.nextWeekPatterns=[[l,p]],t.tomorrowPatterns=[[j]]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var o=n(70);function a(e){return{description:o.initDescription(),start:e,end:0,complete:!1}}function s(e){return{sequences:[],currentSequence:a(e)}}function u(e){return{currentNode:e,results:[],currentResult:s(-1)}}function c(e,t,n){var o=r(r({},e.currentResult),{sequences:i(i([],e.currentResult.sequences),-1===e.currentResult.currentSequence.start?[]:[e.currentResult.currentSequence])});return{acc:r(r({},e),{currentNode:n,results:i(i([],e.results),o.sequences.length>0?[o]:[]),currentResult:s(-1)}),currentTokenIndex:t}}function l(e,t,n,o){if(n>=t.length)return{acc:e,currentTokenIndex:n};var s=t[n].text,u=e.currentNode.children.filter((function(e){return e.token.regexp.test(s)}));if(e.currentNode.token.canRepeat&&e.currentNode.token.regexp.test(s)&&(u=i(i([],u),[e.currentNode])),0===u.length&&e.currentNode!==o){u=o.children.filter((function(e){return e.token.regexp.test(s)}));var d=c(e,n,o);e=d.acc}var p=u.map((function(s){return function(e,t,n,o){var s=t[n],u=s.start,c=s.end,d=s.text.match(e.currentNode.token.regexp),p=d[0],f=d.slice(1),h=r(r({},e.currentResult.currentSequence),{start:-1===e.currentResult.currentSequence.start?u:e.currentResult.currentSequence.start,end:c,description:e.currentNode.token.interpret(e.currentResult.currentSequence.description,0===f.length?p:f)});return e.currentNode.terminal?(h=r(r({},h),{complete:!0}),l(r(r({},e),{currentNode:e.currentNode,currentResult:r(r({},e.currentResult),{sequences:i(i([],e.currentResult.sequences),[h]),currentSequence:a(-1)})}),t,n+1,o)):l(r(r({},e),{currentNode:e.currentNode,currentResult:r(r({},e.currentResult),{currentSequence:h})}),t,n+1,o)}(r(r({},e),{currentNode:s}),t,n,o)})).map((function(e){return{result:e,completeSequences:e.acc.results.reduce((function(e,t){return e+t.sequences.filter((function(e){return e.complete})).length}),0),totalSequenceLength:e.acc.results.reduce((function(e,t){return e+t.sequences.reduce((function(e,t){return e+(t.end-t.start)}),0)}),0)}})).filter((function(e){return e.completeSequences>0})).sort((function(e,t){return t.totalSequenceLength-e.totalSequenceLength}));return p.length>0?p[0].result:c(e,n,o)}t.parse=function(e,t){var n="",r="",a=0,s=0;t+=" <stop> ";for(var c=[];a<t.length;)" "===(n=t.charAt(a))?""!==r&&(c.push({start:s,end:a,text:r}),r=""):(""===r&&(s=a),r=""+r+n),a++;for(var d=[],p=0;p<c.length;){var f=l(u(e),c,p,e),h=f.acc,m=f.currentTokenIndex;d=i(i([],d),h.results),p=m+1}return d.map((function(e){return e.sequences.reduce((function(e,t){if(t.complete){var n=e[0],r=e.slice(1);if(!n)return[t];if(!n.complete)return i([t],e);var a={description:o.mergeDescriptions(n.description,t.description),start:n.start,end:t.end,complete:!0};return i([a],r)}return i([t],e)}),[])})).flat()}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPlugin=t.tooltipPluginKey=void 0;var i=n(5);t.tooltipPluginKey=new i.PluginKey("tooltipPlugin");var o=function(){function e(e){this.tooltipOuter=document.querySelector(".TooltipPlugin-container"),this.update(e,null)}return e.prototype.update=function(e,n){if(this.tooltipOuter){var r=e.state;if(n){var i=t.tooltipPluginKey.getState(n),o=t.tooltipPluginKey.getState(r);i.mode!==o.mode&&("mouse"===o.mode?(this.tooltipOuter.classList.add("TooltipPlugin-container-mouse-active"),this.tooltipOuter.classList.remove("TooltipPlugin-container-keyboard-active")):(this.tooltipOuter.classList.add("TooltipPlugin-container-keyboard-active"),this.tooltipOuter.classList.remove("TooltipPlugin-container-mouse-active")))}if(!(n&&n.doc.eq(r.doc)&&n.selection.eq(r.selection))){var a=r.selection,s=a.from,u=a.to,c=e.coordsAtPos(s),l=e.coordsAtPos(u),d=this.tooltipOuter.offsetParent.getBoundingClientRect(),p=Math.max((c.left+l.left)/2,c.left);this.tooltipOuter.style.left=p-d.left+"px",this.tooltipOuter.style.bottom=d.bottom-c.top+"px"}}},e}();t.TooltipPlugin=new i.Plugin({key:t.tooltipPluginKey,state:{init:function(){return{mode:"keyboard"}},apply:function(e,n){var i=e.getMeta(t.tooltipPluginKey);return i?r(r({},n),{mode:i}):n}},view:function(e){return new o(e)},props:{handleDOMEvents:{keydown:function(e,n){"keyboard"!==t.tooltipPluginKey.getState(e.state).mode&&e.dispatch(e.state.tr.setMeta(t.tooltipPluginKey,"keyboard"))},mousemove:function(e,n){"mouse"!==t.tooltipPluginKey.getState(e.state).mode&&e.dispatch(e.state.tr.setMeta(t.tooltipPluginKey,"mouse"))}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReminderNodeView=void 0;var r=n(70),i=n(166),o=function(){function e(e,t,n){var r=this;this.timeout=0,this.interval=0,this.previousTimestamp=null,this.node=e;var i=document.createElement("reminder");i.setAttribute("date",""+e.attrs.date),i.setAttribute("createdAt",""+e.attrs.createdAt),i.setAttribute("expression",""+e.attrs.expression),e.attrs.repeatDescription&&i.setAttribute("repeatDescription",JSON.stringify(e.attrs.repeatDescription)),i.classList.add("Reminders-node"),this.dom=i,this.renderReminder(),this.interval=setInterval((function(){var e=Date.now();null!==r.previousTimestamp&&5500<e-r.previousTimestamp&&r.renderReminder(),r.previousTimestamp=e}),5e3)}return e.prototype.renderReminder=function(){this.node.attrs.repeatDescription?this.renderRepeatedReminder(this.node.attrs.repeatDescription):this.renderSingleReminder()},e.prototype.renderDate=function(e){var t=this.node.attrs.repeatDescription?'<i class="mdi mdi-repeat"></i> ':"";this.dom.innerHTML=""+t+i.renderDate(e)},e.prototype.renderRepeatedReminder=function(e){var t=r.compileNextRepeatDate(this.node.attrs.date,Date.now(),e);this.renderDate(t),this.setTimeoutToRefreshView(t)},e.prototype.renderSingleReminder=function(){this.renderDate(this.node.attrs.date),this.setTimeoutToRefreshView(this.node.attrs.date)},e.prototype.setTimeoutToRefreshView=function(e){var t=this,n=Math.abs(e-Date.now()),i=n<r.timeUnitToMilliseconds.minute?Math.min(n,5*r.timeUnitToMilliseconds.second):n<2*r.timeUnitToMilliseconds.minute?30*r.timeUnitToMilliseconds.second:r.timeUnitToMilliseconds.minute;this.setSafeTimeout((function(){return t.renderReminder()}),i)},e.prototype.setSafeTimeout=function(e,t){clearTimeout(this.timeout),this.timeout=setTimeout(e,Math.min(t,2147483647))},e.prototype.destroy=function(){clearTimeout(this.timeout),clearInterval(this.interval)},e}();t.ReminderNodeView=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeUnitForDiff=void 0;var r=n(70),i=["second","minute","hour","day","week","month","year"];t.getTimeUnitForDiff=function(e){var t=i.findIndex((function(t){return Math.abs(e)<r.timeUnitToMilliseconds[t]}));return 0===t?i[0]:-1===t?i[i.length-1]:i[t-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPluginKeymap=void 0;var r=n(36),i=n(167),o=n(287);t.makeReminderPluginKeymap=function(){return r.keymap({"Mod-Enter":i.insertReminder,Backspace:o.removeReminder})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeReminder=void 0,t.removeReminder=function(e,t){return!!e.selection.$cursor&&(!(!e.selection.$cursor.nodeBefore||"reminder"!==e.selection.$cursor.nodeBefore.type.name)&&(t&&t(e.tr.insertText(e.selection.$cursor.nodeBefore.attrs.expression,e.selection.$cursor.pos-1,e.selection.$cursor.pos)),!0))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(83),c=n(130),l={heading2:"ProseMirrorToolSet-action-button-heading-2",heading3:"ProseMirrorToolSet-action-button-heading-3",stickyBlue:"ProseMirrorToolSet-action-button-color-blue",stickyRed:"ProseMirrorToolSet-action-button-color-red",stickyYellow:"ProseMirrorToolSet-action-button-color-yellow",boxBlue:"ProseMirrorToolSet-action-button-color-blue",boxRed:"ProseMirrorToolSet-action-button-color-red",boxYellow:"ProseMirrorToolSet-action-button-color-yellow",colorBlue:"ProseMirrorToolSet-action-button-color-blue",colorRed:"ProseMirrorToolSet-action-button-color-red",colorYellow:"ProseMirrorToolSet-action-button-color-yellow",backgroundColorBlue:"ProseMirrorToolSet-action-button-color-blue",backgroundColorRed:"ProseMirrorToolSet-action-button-color-red",backgroundColorYellow:"ProseMirrorToolSet-action-button-color-yellow"},d=[["bold","italic","code","codeBlock"],["heading1","heading2","heading3","fontSizeSmall","fontSizeBig"],["bulletList","orderedList","todoList","liftItem","sinkItem","joinItem"],["colorBlue","colorRed","colorYellow","backgroundColorBlue","backgroundColorRed","backgroundColorYellow"],["quote","stickyBlue","stickyRed","stickyYellow","boxBlue","boxRed","boxYellow"],["textAlignmentCenter","textAlignmentRight","itemAlignmentCenter"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e],additionalClasses:l[e]}}))})),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:d,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=p},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListPlugin=void 0;var o=i(n(1)),a=n(45),s=n(84),u=n(291),c=n(302),l=n(303),d=n(93),p=n(131),f=n(173),h=n(60),m="todo";t.TodoListPlugin={name:"TodoList Plugin",language:m,icon:"mdi-checkbox-marked-circle-outline",editorClass:function(){return"SnippetEditor-todo-mode"},snippetListClass:function(){return"SnippetList-entry-type-todo"},testExtension:function(e){return"todo"===e?m:null},testLanguage:function(e){return e===m},toPlaintext:function(e){return a.getTextFromDoc(a.initDoc(s.schema,e))},fromPlaintext:function(e){return a.docJsonFromString(s.schema,e)},bootstrap:function(e){return a.docJsonFromString(s.schema,e)},produceFileMetaData:function(e){return p.produceFileMetaData(e.id,e.document.name,a.initDoc(s.schema,e.document.content),m)},extractSubSnippets:function(){return[]},renderSubSnippet:function(){return o.default.createElement("span",null,"n/a")},serialize:function(e){return h.serializeJson(e)},deserialize:function(e){return h.deserializeJson(e)},init:function(e){return a.initDoc(s.schema,e)},reader:c.TodoListReader,writer:u.TodoListWriter,toolbar:l.Toolbar,listEntry:function(e){return o.default.createElement(d.DefaultListEntry,r({},e),o.default.createElement(c.TodoListReader,{content:e.snippetListEntry.snippet.content,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:null,viaButton:{label:"Todos",bootstrap:function(){return f.makeDocJsonFromTodos([{text:""}])}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListWriter=void 0;var s=a(n(1)),u=n(170),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onSuggestPersist=function(e){this.props.onSuggestPersist&&this.props.onSuggestPersist(e)},t.prototype.focus=function(){this.refs.editor.setFocus()},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.render=function(){return s.default.createElement("div",{className:"TodoList-wrapper"},s.default.createElement(u.TodoList,{content:this.props.content,language:this.props.language,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),onSuggestPersist:this.onSuggestPersist.bind(this),isEditing:!0,onClick:this.props.onClick,toolbarEvents:this.props.toolbarEvents,onDragStart:this.props.onDragStart,onDragStop:this.props.onDragStop,ref:"editor",onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards}))},t}(s.Component);t.TodoListWriter=c},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBox=void 0;var s=a(n(1)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("button",{className:"TodoList-checkbox",onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},s.default.createElement("i",{className:"mdi mdi-crop-square TodoList-checkbox-open-indicator"}),s.default.createElement("i",{className:"mdi mdi-check TodoList-checkbox-done-indicator"}))},t}(s.Component);t.CheckBox=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorField=void 0;var s=a(n(1)),u=n(46),c=n(5),l=n(36),d=n(171),p=n(95),f=n(172),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidUpdate=function(e){if(e.todo!==this.props.todo){var t=f.buildDiffTr(this.props.todo,this.editorView.state,this.editorView.state.tr);t&&this.editorView.dispatch(t)}},t.prototype.componentDidMount=function(){var e=this,t=function(t){return e.editorView.state.selection.$cursor&&e.editorView.state.selection.$cursor.pos===t},n=this.props.todo,r=c.EditorState.create({doc:n,plugins:[d.buildCustomInputRules(),this.props.historyPlugin,l.keymap({Enter:function(){return e.props.onEnter&&e.props.onEnter()},Escape:function(){return e.props.onEscape&&e.props.onEscape()},Backspace:function(){return e.props.onBackspace&&e.props.onBackspace()},ArrowDown:function(){t(e.editorView.state.doc.nodeSize-2)&&e.props.onArrow&&e.props.onArrow("down")},ArrowUp:function(){t(0)&&e.props.onArrow&&e.props.onArrow("up")},"Mod-b":function(){return e.props.onToggleBold&&e.props.onToggleBold()},"Mod-i":function(){return e.props.onToggleItalic&&e.props.onToggleItalic()},"Mod-Enter":function(){return e.props.onInsertHardBreak&&e.props.onInsertHardBreak()}}),p.HighlightPlugin]});this.editorView=new u.EditorView(this.input,{state:r,dispatchTransaction:function(t){var n=e.editorView.state.applyTransaction(t),r=n.state,i=n.transactions;e.editorView.updateState(r),t.getMeta("fromOutside")||e.props.onInnerTransaction(i,r.selection)},handleDOMEvents:{blur:function(t,n){e.props.onBlur&&e.props.onBlur(n)},focus:function(t,n){e.props.onFocus&&e.props.onFocus(n,t.state.selection)}},handleKeyDown:function(e,t){if("Backspace"===t.key){var n=e.state.selection.$cursor;n&&0===n.parentOffset&&t.preventDefault()}}}),!this.props.readonly&&this.props.shouldFocus&&this.focus(this.props.cursorPosition)},t.prototype.componentWillUnmount=function(){this.editorView.destroy()},t.prototype.focus=function(e){var t=this;this.editorView.dispatch(this.editorView.state.tr.setSelection(c.Selection.near(this.editorView.state.doc.resolve(e)))),setTimeout((function(){t.editorView.focus()}))},t.prototype.findOccurences=function(e){return p.findOccurences(this.editorView.state.doc,e)},t.prototype.highlightOccurences=function(e){p.highlightOccurences(this.editorView,e)},t.prototype.getDimensions=function(){return this.input.getBoundingClientRect()},t.prototype.coordsAtPos=function(e){return this.editorView.coordsAtPos(e)},t.prototype.render=function(){var e=this;return this.props.readonly?s.default.createElement("div",{className:"TodoList-entry-input-field",ref:function(t){return e.input=t},spellCheck:!1}):s.default.createElement("div",{id:"todoListEntry-"+this.props.index,className:"TodoList-entry-input-field",ref:function(t){return e.input=t}})},t}(s.Component);t.ProseMirrorField=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertHardBreak=t.toggleItalic=t.toggleBold=void 0;var r=n(15),i=n(84);t.toggleBold=r.toggleMark(i.schema.marks.strong),t.toggleItalic=r.toggleMark(i.schema.marks.em);t.insertHardBreak=function(e,t){return t(e.tr.replaceSelectionWith(i.schema.nodes.hard_break.create()).scrollIntoView()),!0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveList=void 0;var u=s(n(1));n(297);var c=n(298);function l(e){return e.collapsible}function d(e){return e.hidden}function p(e){return e.reduce((function(e,t){return e+t.items.length}),0)+e.length}function f(e,t){return function(t){for(var n=0,r=0,i=0,o=0;o<e.length;o++){if(d(e[o])||(n+=e[o].items.length),l(e[o])&&(i+=1),t<n+i)return t-i+r;d(e[o])&&(r+=e[o].items.length)}}}var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragState:c.init(),subLists:t.subLists},n.entryRefs=[],n.onDragHandleMouseUp=n.onDragHandleMouseUp.bind(n),n.onDragHandleTouchEnd=n.onDragHandleTouchEnd.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDragStop=n.onDragStop.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t,n=this;if(!e.doAnimation&&this.props.doAnimation){var r=p(this.props.subLists)-p(e.subLists)===-1,i=(t=r?e.subLists:this.props.subLists,this.state,function(e){for(var n=e.index,r=e.listName,i=0,o=0,a=0,s=0;s<t.length;s++){if(d(t[s])||(i+=t[s].items.length),l(t[s])&&(a+=1),n<=i&&r===t[s].name)return n+a-o;d(t[s])&&(o+=t[s].items.length)}return i+t.length}),o=i(this.props.doAnimation.from),a=i(this.props.doAnimation.to),s=c.prepareDragStateForAnimation(this.entryRefs,o,a,p(this.state.subLists));this.setState({dragState:s,subLists:this.props.subLists})}else e.doAnimation&&!this.props.doAnimation?setTimeout((function(){n.setState({dragState:c.init(),subLists:n.props.subLists})}),50):e.resetDragState||!0!==this.props.resetDragState?e.subLists!==this.props.subLists&&this.setState({subLists:this.props.subLists}):this.setState({dragState:c.init(),subLists:this.props.subLists})},t.prototype.onDragStop=function(){var e;if(null!==this.state.dragState.currentlyDraggedTodoNew){var t=f(this.state.subLists,this.state),n=this.state.dragState.currentlyDraggedTodo-this.state.dragState.currentlyDraggedTodoNew,r=function(e,t,n,r){for(var i=0,o=e-t,a=o>0,s=o<0,u=0;u<n.length;u++)if(l(n[u])&&(i+=1),d(n[u])||(i+=n[u].items.length),t===i){if(a&&l(n[u+1]))return n[u].name;if(s)return n[u+1].name}return!1}(this.state.dragState.currentlyDraggedTodo,this.state.dragState.currentlyDraggedTodoNew,this.state.subLists,this.state),i=n>0&&r?1:0,o=t(this.state.dragState.currentlyDraggedTodo),a=(null!==(e=t(this.state.dragState.currentlyDraggedTodoNew))&&void 0!==e?e:0)+i,s=void 0;s=r?{from:o,to:a,newList:r}:{from:o,to:a},this.props.onDrag&&this.props.onDrag(s)}else this.setState({dragState:c.init()});this.props.onDragStop&&this.props.onDragStop()},t.prototype.onDragHandleMouseUp=function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp),document.removeEventListener("mousemove",this.onMouseMove),this.onDragStop()},t.prototype.onDragHandleTouchEnd=function(){document.removeEventListener("touchend",this.onDragHandleTouchEnd),document.removeEventListener("touchmove",this.onTouchMove),this.onDragStop()},t.prototype.onDrag=function(e){var t=c.onDrag(e,p(this.state.subLists),this.state.dragState);this.setState({dragState:t})},t.prototype.onMouseMove=function(e){e.preventDefault(),this.onDrag(e.clientY)},t.prototype.onTouchMove=function(e){var t=e.touches[0].clientY;this.onDrag(t)},t.prototype.onDragStart=function(e,t){var n=c.getEntryHeights(this.entryRefs);this.setState({dragState:i(i({},this.state.dragState),c.onStart(e,n,t))}),this.props.onDragStart&&this.props.onDragStart()},t.prototype.onDragHandleMouseDown=function(e,t){this.onDragStart(e,t.clientY),document.addEventListener("mouseup",this.onDragHandleMouseUp),document.addEventListener("mousemove",this.onMouseMove)},t.prototype.onDragHandleTouchStart=function(e,t){var n=t.touches[0].clientY;this.onDragStart(e,n),document.addEventListener("touchend",this.onDragHandleTouchEnd),document.addEventListener("touchmove",this.onTouchMove)},t.prototype.renderDragHandle=function(e){return u.default.createElement("i",{className:"TodoList-drag-handle mdi mdi-drag",onMouseDown:this.onDragHandleMouseDown.bind(this,e),onTouchStart:this.onDragHandleTouchStart.bind(this,e)})},t.prototype.maybeRenderDragPosition=function(e){return{top:c.getVerticalOffset(e,this.state.dragState)}},t.prototype.renderSubList=function(e,t,n,r,i,o){var a=this;return t.map((function(s,c){var l=c+n,d=s.attrs.index,p=l+"-"+d+"-"+t.length+"-"+r,f=["InteractiveList-item"];return o&&f.push("InteractiveList-item-hidden"),a.state.dragState.currentlyDraggedTodo===l&&f.push("InteractiveList-dragged-item"),u.default.createElement("div",{key:p,className:f.join(" "),style:a.maybeRenderDragPosition(l),ref:function(e){return!o&&(a.entryRefs[l]=e)}},a.renderDragHandle(l),a.props.renderItem(s,i(l),e,a.state.dragState))}))},t.prototype.onSpacerClick=function(e){this.props.onSpacerClick&&this.props.onSpacerClick(e)},t.prototype.renderSpacer=function(e,t,n){var r=this,i=["InteractiveList-spacer"];return n&&i.push("InteractiveList-spacer-hidden"),u.default.createElement("div",{onClick:this.onSpacerClick.bind(this,t),key:"spacer-"+e+"-"+t,style:this.maybeRenderDragPosition(e),className:i.join(" "),ref:function(t){return r.entryRefs[e]=t}},t,u.default.createElement("i",{className:"mdi mdi-chevron-down"}))},t.prototype.render=function(){var e=this,t=p(this.state.subLists),n=f(this.state.subLists,this.state),r=0,i=[];this.state.subLists.forEach((function(o){var a=o.name,s=o.items,u=o.hidden;o.collapsible&&(i=i.concat([e.renderSpacer(0+r,a,u)]),r+=1),i=i.concat(e.renderSubList(a,s,r,t,n,u)),u||(r+=s.length)}));var o=[];return this.state.dragState.isDragging&&o.push("InteractiveList-dragging"),u.default.createElement("div",{className:o.join(" ")},i)},t}(u.Component);t.InteractiveList=h},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(){return{isDragging:!1,currentlyDraggedTodo:null,currentlyDraggedTodoNew:null,initialDragPositionY:null,currentDragPositionY:null,entryHeights:null,entryBottomPositions:null}}function o(e,t,n){var r=t.reduce((function(e,t){var n=e[e.length-1]||0;return e.push(n+t),e}),[]);return{isDragging:!0,currentlyDraggedTodo:e,initialDragPositionY:n,currentDragPositionY:n,entryHeights:t,entryBottomPositions:r}}function a(e,t,n){var i=n.currentlyDraggedTodo,o=n.initialDragPositionY,a=n.entryHeights,s=n.entryBottomPositions,u=e-o,c=null;if(u>0)for(var l=u+s[i],d=i+1;d<a.length;d++)l>=s[d]&&(c=d);else if(u<0){var p=u+s[i]-a[i];for(d=i-1;d>=0;d--)p<=s[d]-a[d]&&(c=d)}return r(r({},n),{currentDragPositionY:e,currentlyDraggedTodoNew:c})}function s(e){return e.filter((function(e){return null!==e})).map((function(e){return e.getBoundingClientRect().height}))}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareDragStateForAnimation=t.getEntryHeights=t.getVerticalOffset=t.onDrag=t.onStop=t.onStart=t.init=void 0,t.init=i,t.onStart=o,t.onStop=function(e,t){return{isDragging:!1,currentlyDraggedTodo:null,currentlyDraggedTodoNew:null,initialDragPositionY:null,currentDragPositionY:null,entryHeights:null,entryBottomPositions:null}},t.onDrag=a,t.getVerticalOffset=function(e,t){if(t.currentlyDraggedTodo===e)return t.currentDragPositionY-t.initialDragPositionY;if(t.isDragging&&null!==t.currentlyDraggedTodoNew){if(t.currentlyDraggedTodo<t.currentlyDraggedTodoNew&&t.currentlyDraggedTodo<e&&e<=t.currentlyDraggedTodoNew)return-t.entryHeights[t.currentlyDraggedTodo];if(t.currentlyDraggedTodo>t.currentlyDraggedTodoNew&&t.currentlyDraggedTodo>e&&e>=t.currentlyDraggedTodoNew)return t.entryHeights[t.currentlyDraggedTodo]}return 0},t.getEntryHeights=s,t.prepareDragStateForAnimation=function(e,t,n,r){var i,u,c=s(e),l=o(n,c=function(e,t,n){var r=e.map((function(e){return e})),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(c,t,n),0);return t<n?(i=l.entryBottomPositions[n]-l.entryHeights[n],u=l.entryBottomPositions[t]-l.entryHeights[t]):(i=l.entryBottomPositions[n],u=l.entryBottomPositions[t]),l.initialDragPositionY=i,a(u,c.length,l)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AllDoneHeader=void 0;var s=a(n(1));n(300);var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasExpanded:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout((function(){return e.setState({hasExpanded:!0})}))},t.prototype.render=function(){var e=["AllDoneHeader"];return this.state.hasExpanded&&e.push("AllDoneHeader-expanded"),s.default.createElement("div",{className:e.join(" ")},s.default.createElement("div",{className:"InteractiveList-item"},s.default.createElement("i",{className:"TodoList-drag-handle mdi mdi-drag"}),s.default.createElement("span",{className:"TodoList-entry TodoList-entry-open"},s.default.createElement("button",{className:"TodoList-checkbox"},s.default.createElement("i",{className:"mdi mdi-crop-square TodoList-checkbox-open-indicator"})),s.default.createElement("div",{className:"TodoList-entry-input-field",onClick:this.props.onClick},"Add todo ..."),s.default.createElement("span",{className:"TodoList-entry-delete-button"},s.default.createElement("span",{className:"Buttons-basic-button"},s.default.createElement("i",{className:"mdi mdi-close Buttons-15"}))))))},t}(s.Component);t.AllDoneHeader=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeProseMirrorStateFromSerializedDocJson=t.makeProseMirrorStateFromTodos=t.makeProseMirrorStateFromDoc=t.buildCustomHistoryPlugin=void 0;var r=n(39),i=n(36),o=n(5),a=n(94),s=n(84),u=n(45),c=n(173);function l(e){var t=r.history();return{proseMirrorState:o.EditorState.create({doc:e,plugins:[t,a.makeAnchorPlugin(s.schema,t)]}),historyPluginKey:t.key}}t.buildCustomHistoryPlugin=function(e){return i.keymap({"Mod-z":function(){return r.undo(e.state.proseMirrorState,e.dispatch)},"Mod-y":function(){return r.redo(e.state.proseMirrorState,e.dispatch)}})},t.makeProseMirrorStateFromDoc=l,t.makeProseMirrorStateFromTodos=function(e){return l(u.initDoc(s.schema,c.makeDocJsonFromTodos(e)))},t.makeProseMirrorStateFromSerializedDocJson=function(e){return l(u.initDoc(s.schema,e))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListReader=void 0;var u=s(n(1)),c=n(170),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return this.props.trim?u.default.createElement("div",null,this.props.fileMeta.trimmedBody):u.default.createElement("div",{className:"TodoList-wrapper"},u.default.createElement(c.TodoList,i({todos:this.props.content.todos,isEditing:!1},this.props)))},t}(u.Component);t.TodoListReader=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(83),c=n(130),l=[["bold","italic","code"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e]}}))})),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:l,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostItPlugin=void 0;var o=i(n(1)),a=n(305),s=n(307),u=n(93),c=n(174),l=n(45),d=n(131),p=n(60),f="sticky";function h(e){return{color:"blue",doc:l.docJsonFromString(c.postItSchema,e)}}t.PostItPlugin={name:"PostIt Plugin",language:f,icon:"mdi-square",editorClass:function(e){return"SnippetEditor-postit-mode PostIt-color-"+e.content.color},snippetListClass:function(e){return"SnippetList-entry-type-postit PostIt-color-"+e.content.color},testExtension:function(e){return"sticky"===e?f:null},testLanguage:function(e){return e===f},toPlaintext:function(e){return l.getTextFromDoc(l.initDoc(c.postItSchema,e.doc))},fromPlaintext:function(e){return h(e)},bootstrap:h,produceFileMetaData:function(e){return d.produceFileMetaData(e.id,e.document.name,l.initDoc(c.postItSchema,e.document.content.doc),f)},extractSubSnippets:function(){return[]},renderSubSnippet:function(){return o.default.createElement("span",null,"n/a")},serialize:function(e){return p.serializeJson(e)},deserialize:function(e){return p.deserializeJson(e)},init:function(e){return r(r({},e),{doc:l.initDoc(c.postItSchema,e.doc)})},reader:a.PostItReader,writer:a.PostItWriter,toolbar:s.Toolbar,listEntry:function(e){return o.default.createElement(u.DefaultListEntry,r({},e),o.default.createElement(a.PostItReader,{content:e.snippetListEntry.snippet.content,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:null,viaButton:{label:"Sticky",bootstrap:function(){return h("")}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PostItWriter=t.PostItReader=void 0;var u=s(n(1)),c=n(168),l=n(160);n(306);var d=n(174),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement(l.ProseMirrorReader,i({schema:d.postItSchema},this.props,{content:this.props.content.doc}))},t}(u.Component);t.PostItReader=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setColor=function(e){this.props.onSuggestPersist({color:e})},t.prototype.focus=function(){this.refs.editor.focus()},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.onBlur=function(e){this.props.onBlur({doc:e})},t.prototype.onChange=function(e){this.props.onChange({doc:e})},t.prototype.onSuggestPersist=function(e){this.props.onSuggestPersist({doc:e})},t.prototype.render=function(){var e=this,t=d.POSTIT_COLORS.map((function(t){return u.default.createElement("span",{className:"PostIt-color-button PostIt-color-"+t+" "+(e.props.content.color===t?"PostIt-color-button-selected":"")+" ",key:t,onClick:e.setColor.bind(e,t)})}));return u.default.createElement(u.Fragment,null,u.default.createElement("div",{id:"ProseMirrorWriter-toolbar-container"}),u.default.createElement("div",{className:"PostIt-editor-wrapper"},u.default.createElement(c.ProseMirrorWriter,i({ref:"editor",schema:d.postItSchema},this.props,{content:this.props.content.doc,onBlur:this.onBlur.bind(this),onChange:this.onChange.bind(this),onSuggestPersist:this.onSuggestPersist.bind(this)}))),u.default.createElement("div",null,t))},t}(u.Component);t.PostItWriter=f},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(83),c=n(130),l=[["bold","italic"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e]}}))})),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:l,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrigin=void 0;var i=n(141),o=n(32),a=n(62);t.changeOrigin=function(e,t,n,s){var u=o.get(e,t);return t.startsWith(a.LOCAL_ID_PREFIX)?e=o.save(e,t,u.document,{updatedAt:new Date,config:{permanent:r(r({},u.permanent),{origin:s})}}):(e=o.save(e,n,u.document,{updatedAt:new Date,config:{permanent:r(r({},u.permanent),{origin:s})}}),e=o.save(e,t,u.document,{updatedAt:new Date,config:{permanent:r(r({},u.permanent),{obsolete:{state:!0,reason:"originSwitch",replacedBy:n}})}}),e=i.setUpIdMapping(e,u.id,n)),[e,u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoSyncedAppState=t.isSynced=void 0;var r=n(90),i=n(310),o=n(32),a=n(9),s=n(1),u=n(311),c=n(9),l=n(312),d=n(313),p=n(314),f=n(59),h=n(315),m=n(317),g=n(318),v=n(319),y=n(63),b=n(180),O=n(321);t.isSynced=function(e){return 0===o.getAllDirties(e.store.store,(function(){return!0})).length};var _=f.isInMockedMode?0:1500,S=f.isInMockedMode?0:1e3;t.useAutoSyncedAppState=function(e,t,n,o,f){void 0===f&&(f=c.debounce);var w=s.useReducer(r.reduce,r.initialState),E=w[0],x=w[1],j=s.useMemo((function(){return l.makeMultiOriginPusher(t.pusherMappings.documents)}),[t.pusherMappings.documents]),P=s.useMemo((function(){return d.makeMultiOriginFetcher(t.fetcherMappings.documents)}),[t.fetcherMappings.documents]),T=h.useDoUpload(x,j,f,_),D=m.useDoDownload(x,P,f,S),C=i.useSyncManager(T,D),k=C[0],M=C[1];u.useUploadRequest(E,t,e,M),a.useOnce((function(){M({type:"requestDownload",immediate:!0})}),!0),p.useDownloadRequest(t,e,M),v.useDocumentChangeEvents(E.store,(function(e){!function(e,t,n){if(null!==e){var r=y.get(t.store.store,n);r&&e.pushToCache(r)}}(n,E,e)}),(function(e){!function(e,t){null!==e&&e.deleteFromCache(t)}(n,e)})),g.useInitialLoadFromCache(x,n);var I=b.useScheduledReminders(E.derivedState.snippetList),A=I[0],L=I[1];return O.useReminderNotifications(A,L,o),[E,x,M,k]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncManager=t.reducer=void 0;var a=n(9),s=n(1);function u(e){return!1!==e.doPostUpload?[{type:"doUpload",immediate:!1,wrappedState:e.doPostUpload.wrappedState}]:!1!==e.doPostDownload?[{type:"doDownload"}]:[]}function c(e){return!1!==e.doPostUpload?{doPostUpload:!1}:!1!==e.doPostDownload?{doPostDownload:!1}:{}}function l(e,t){switch(t.type){case"notifyUploadRequested":return[r(r({},e),{state:{name:"uploadRequested"}}),[]];case"notifyUploadStart":return[r(r({},e),{state:{name:"uploadOngoing"}}),[]];case"notifyUploadDone":return[r(r(r(r({},e),{state:{name:"idle"}}),c(e)),{pushErrors:t.errors}),u(e)];case"notifyDownloadRequested":return[r(r({},e),{state:{name:"downloadRequested"}}),[]];case"notifyDownloadStart":return[r(r({},e),{state:{name:"downloadOngoing"}}),[]];case"notifyDownloadDone":return[r(r(r(r({},e),{state:{name:"idle"}}),c(e)),{pullErrors:t.errors}),u(e)];case"requestUpload":switch(e.state.name){case"downloadRequested":case"uploadOngoing":case"downloadOngoing":return[r(r({},e),{doPostUpload:{wrappedState:t.wrappedState}}),[]];case"uploadRequested":case"idle":return[r(r({},e),{state:{name:"uploadRequested"}}),[{type:"doUpload",wrappedState:t.wrappedState}]]}case"requestDownload":switch(e.state.name){case"uploadOngoing":case"downloadOngoing":case"uploadRequested":return[r(r({},e),{doPostDownload:!0}),[]];case"downloadRequested":case"idle":return[e,[{type:"doDownload",immediate:t.immediate}]]}}}function d(e,t){var n=this,r=e[0],a=e[1];return function(e,t,s){return i(n,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:switch(t.type){case"doUpload":return[3,1];case"doDownload":return[3,5]}return[3,9];case 1:return n.trys.push([1,4,,5]),s({type:"notifyUploadRequested"}),[4,r(t.wrappedState,t.immediate)];case 2:return e=n.sent().serviceCall,s({type:"notifyUploadStart"}),[4,e];case 3:return[2,[{type:"notifyUploadDone",errors:n.sent().errors}]];case 4:return n.sent(),[2,void 0];case 5:return n.trys.push([5,8,,9]),s({type:"notifyDownloadRequested"}),[4,a(t.immediate)];case 6:return e=n.sent().serviceCall,s({type:"notifyDownloadStart"}),[4,e];case 7:return[2,[{type:"notifyDownloadDone",errors:n.sent().errors}]];case 8:return n.sent(),[2,void 0];case 9:return[2]}}))}))}}t.reducer=l,t.useSyncManager=function(e,t){var n=a.useFactory(d,[e,t],[]),r=a.useReducerWithEffects(l,n,s.useMemo((function(){return{state:{name:"idle"},doPostUpload:!1,doPostDownload:!1,pushErrors:[],pullErrors:[]}}),[]));return[r[0],r[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUploadRequest=void 0;var r=n(1),i=n(32);function o(e){return i.getAllDirties(e.store.store,(function(){return!0})).length>0}t.useUploadRequest=function(e,t,n,i){r.useEffect((function(){!1===e.blockNextSync&&o(e)&&i({type:"requestUpload",wrappedState:e})}),[e.store]),r.useEffect((function(){o(e)&&i({type:"requestUpload",wrappedState:e})}),[t,n])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginPusher=void 0;var a=n(178);t.makeMultiOriginPusher=function(e){return function(t){return i(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,a.getActionByOrigin(e,t.permanent.origin)(t).then((function(e){return r(r(r({},e),{origin:t.permanent.origin}),e.backup?{backup:r(r({},e.backup),{origin:t.permanent.origin})}:{})}))]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginFetcher=void 0;var s=n(11);t.makeMultiOriginFetcher=function(e){return function(){return i(void 0,void 0,void 0,(function(){var t,n,u,c,l,d;return o(this,(function(p){switch(p.label){case 0:return t=e.map((function(e){return i(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e.action()];case 1:return[2,{results:(t=n.sent()).results.map((function(t){return r(r({},t),{origin:e.origin})})),errors:t.errors}]}}))}))})),[4,s.allSettled(t)];case 1:return n=p.sent(),u=s.getFulfilled(n),c=s.getRejected(n),l=u.reduce((function(e,t){return a(a([],e),t.results)}),[]),d=a(a([],c),u.map((function(e){return e.errors})).flat()),[2,{results:l,errors:d}]}}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDownloadRequest=void 0;var r=n(1);t.useDownloadRequest=function(e,t,n){r.useEffect((function(){n({type:"requestDownload"})}),[e,t])}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDoUpload=t.doUploadFactory=void 0;var o=n(1),a=n(11),s=n(9),u=n(316),c=n(32),l=n(122),d=n(90);function p(e,t,n){return r(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return c.getAllDirties(e.store.store,u.isDocumentType("tag")).filter(l.isTag).length>0?[4,c.syncSomeAndAwaitAll(e.store,t,d.readId,u.isDocumentType("tag"))]:[3,2];case 1:return r=i.sent(),o=a.getFulfilled(r),s=a.getRejected(r),n({type:"updateAfterSync",results:o,syncErrors:s}),[2,{actions:[],errors:s}];case 2:return c.getAllDirties(e.store.store,u.isDocumentType("snippet")).length>0?[4,c.syncSomeAndAwaitAll(e.store,t,d.readId,u.isDocumentType("snippet"))]:[3,4];case 3:return r=i.sent(),o=a.getFulfilled(r),s=a.getRejected(r),n({type:"updateAfterSync",results:o,syncErrors:s}),[2,{actions:[],errors:s}];case 4:return[2,{actions:[],errors:[]}]}}))}))}function f(e,t){var n=this,o=e[0],a=e[1],s=e[2],u=e[3];return function(e,t){return r(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return t?[2,{serviceCall:s(e,a,o)}]:[3,1];case 1:return n.trys.push([1,3,,4]),[4,u(e,a,o)];case 2:return[2,{serviceCall:n.sent().result}];case 3:throw n.sent();case 4:return[2]}}))}))}}t.doUploadFactory=f,t.useDoUpload=function(e,t,n,r){var i=o.useMemo((function(){return n(p,r)}),[n])[0];return s.useFactory(f,[e,t,p,i],[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDocumentType=void 0;t.isDocumentType=function(e){return function(t){return t.permanent.documentType===e}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDoDownload=void 0;var o=n(1),a=n(9),s=n(32),u=n(90);function c(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,s.initSyncer(e,u.getId,u.getEntity,u.getPermanent,u.getUpdatedAt)];case 1:return n=r.sent(),t({type:"mergeDocumentStore",store:n.store}),[2,{actions:[],errors:n.errors}]}}))}))}function l(e,t){var n=this,o=e[0],a=e[1],s=e[2],u=e[3];return function(e){return r(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e?[2,{serviceCall:s(a,o)}]:[3,1];case 1:return t.trys.push([1,3,,4]),[4,u(a,o)];case 2:return[2,{serviceCall:t.sent().result}];case 3:throw t.sent();case 4:return[2]}}))}))}}t.useDoDownload=function(e,t,n,r){var i=o.useMemo((function(){return n(c,r)}),[n])[0];return a.useFactory(l,[e,t,c,i],[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialLoadFromCache=void 0;var r=n(9),i=n(121);t.useInitialLoadFromCache=function(e,t){r.useOnce((function(){t.fetchFromCache().then((function(t){e({type:"mergeDocumentStore",store:{store:t.reduce((function(e,t){return t.dirty?i.saveDirty(e,t.id,t.document,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)}):i.saveSynced(e,t.id,t.document,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)})}),[]),idMapping:{}}})}))}),null!==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDocumentChangeEvents=void 0;var r=n(1),i=n(179);t.useDocumentChangeEvents=function(e,t,n){var o=r.useState([]),a=o[0],s=o[1];r.useEffect((function(){var r=function(e){return e.store.map((function(e){return{id:e.id,version:e.item.permanent.version,internalVersion:e.item.internalVersion}})).sort((function(e,t){return e.id.localeCompare(t.id)}))}(e),o=i.calculateDiff(r,a,(function(e,t){return e.id.localeCompare(t.id)}),(function(e,t){return e.version===t.version&&e.internalVersion===t.internalVersion})),u=o.missingInA,c=o.missingInB,l=o.changed;u.forEach((function(e){n(e.id)})),c.forEach((function(e){t(e.id)})),l.forEach((function(e){var n=e.a;return t(n.id)})),s(r)}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareReminderIds=void 0;t.compareReminderIds=function(e,t){var n=e.id,r=t.id;return n.localeCompare(r)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useReminderNotifications=void 0;var a=n(14),s=n(1),u=n(9),c=n(341),l=n(166),d=n(180),p=function(){return new Promise((function(e){return e([])}))},f=function(){},h=function(e){var t=window.require("fs").promises;return function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t.readFile(e)];case 1:return[2,n.sent().toString().split(";").filter((function(e){return""!==e})).map((function(e){var t=e.split(","),n=t[0],r=t[1];return{reminderId:n,date:parseInt(r)}}))]}}))}))}},m=function(e){var t=window.require("fs").promises;return function(n,r){void 0===r&&(r=!1),t.writeFile(e,n.map((function(e){return e.reminderId+","+e.date})).join(";")+";",{flag:r?"w":"a"})}},g=c.makeShowNotification();t.useReminderNotifications=function(e,t,n){var r=s.useState([]),i=r[0],c=r[1],v=s.useMemo((function(){if(!n)return[p,f];var e=n+"/reminder-executions.log";return[h(e),m(e)]}),[n]),y=v[0],b=v[1];u.useOnce((function(){y().then(c).catch((function(){}))}),!0);var O=s.useMemo((function(){var n=Date.now(),r=d.getEarliestPossibleReminderDate(n),a=i.filter((function(e){var t=e.date;return r<t}));a.length!==i.length&&(c(a),b(a,!0));var s=e.filter((function(e){return!a.find((function(t){return t.reminderId===e.reminder.id&&t.date===e.date}))}));return function(){var e=Date.now(),r=s.filter((function(t){return t.date<e}));r.forEach((function(e){return g({title:l.renderDate(e.date),body:e.reminder.text,silent:!1,actions:[]})})),r.length>0&&(c(o(o([],i),r.map((function(e){return{reminderId:e.reminder.id,date:e.date}})))),b(r.map((function(e){return{reminderId:e.reminder.id,date:e.date}})))),d.ONE_HOUR_IN_MILLISECONDS<e-n&&t()}}),[e,i]);a.useInterval(O,1e3)}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var o=i(n(1)),a=n(9);n(324),n(97);var s=n(181),u={style:{position:"relative"}},c={style:{position:"absolute"}},l=function(e,t){return e.filter((function(e){return e.includes(t)}))};t.Autocomplete=function(e){var t=e.entries,n=e.onLeftArrowKeyDownAtEdge,i=e.requestFocus,d=e.placeholder,p=e.onConfirm,f=e.className,h=a.useSelection({entries:t,filter:l,initialValue:"",onConfirm:function(e){return null===p||void 0===p?void 0:p("focused"===e.mode?e.value:e.filteredEntries[e.currentIndex])}}),m=h[0],g=h[1],v=a.useRefsCallback(),y=v.refs,b=v.callback;a.useScrollIntoViewForSelection({state:m,entryRefs:y});var O=a.makeDefaultSelectionKeyHandlerChain(g);O=O.concat(a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.LEFT_ARROW,(function(e){return 0===e.target.selectionStart&&n(e)})));var _=a.buildHandler(O),S=s.useRequestFocus(i);return o.default.createElement("div",r({},u),o.default.createElement("input",{ref:S,onKeyDown:_,onFocus:function(){return g({type:"focus"})},onBlur:function(){return g({type:"blur"})},value:m.value,onChange:function(e){return g({type:"change",value:e.target.value})},className:f||"CommonUI-input",placeholder:d}),m.derivedStates.active&&m.filteredEntries.length>0&&o.default.createElement("div",r({className:"Autocomplete-panel"},c),m.filteredEntries.map((function(e,t){return o.default.createElement("div",{onMouseMove:function(){return g({type:"mouseMove",currentIndex:t})},onClick:function(){return g({type:"confirm"})},onMouseDown:function(e){return e.preventDefault()},key:t,className:"Autocomplete-entry "+(m.derivedStates.navigating&&t===m.currentIndex?"Autocomplete-selectedEntry":""),ref:function(e){return e&&b(e,t)}},e)}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ResizableSidePanel=void 0;var u=a(n(1)),c=n(185),l=n(9),d=n(186);n(329);var p=l.drag.useDrag,f=d.makeEventListenerManager(d.makeAdapterFactory(d.stopPropagation,d.preventDefault)),h=f[0],m=f[1];function g(e,t){switch(t.type){case"change":return r(r({},e),{size:Math.max(e.minSize,e.size+t.amount)})}}t.ResizableSidePanel=function(e){var t=e.children,n=e.state,r=e.initialSize,i=e.onStopResize,o=e.direction,a=e.minSize,d=void 0===a?100:a,f=u.useReducer(g,{size:r,minSize:d}),v=f[0],y=f[1];l.useStateChangeEffect(v.size,{trigger:"change",run:function(){return null===i||void 0===i?void 0:i(v.size)}});var b=p({onStop:function(e){return y({type:"change",amount:e})}}),O=b[0],_=b[1],S=s(["ResizableSidePanel-resizer"],O.isDragging?["ResizableSidePanel-isResizing"]:[]).join(" ");return u.default.createElement(u.default.Fragment,null,u.default.createElement(c.SidePanel,{state:n,direction:o,size:Math.max(d,v.size+O.currentDelta),useTransition:!O.isDragging},t),1===n&&u.default.createElement("span",{onMouseDown:function(e){return l.onStartDrag(_,h,m,e)},className:S}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var a=o(n(1)),s=n(9),u=n(184),c=n(187);n(332);t.Selection=function(e){var t=a.useRef(null);a.useEffect((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[]);var n=s.useSelection({entries:e.entries,filter:e.filter,initialValue:"",onConfirm:e.onConfirm}),r=n[0],i=n[1],o=s.useRefsCallback(),l=o.refs,d=o.callback;s.useScrollIntoViewForSelection({state:r,entryRefs:l});var p=a.useCallback((function(e){i({type:"change",value:e.target.value})}),[]),f=a.useMemo((function(){var e=s.makeDefaultSelectionKeyHandlerChain(i,!1);return s.buildHandler(e)}),[]),h=""!==r.value&&r.filteredEntries.map((function(t,n){return a.default.createElement(a.default.Fragment,{key:n},a.default.createElement("div",{className:"Selection-itemOuter",onMouseMove:function(){return i({type:"mouseMove",currentIndex:n})},onMouseDown:function(e){e.stopPropagation(),i({type:"confirm"})},ref:function(e){return e&&d(e,n)}},a.default.createElement("div",{className:r.currentIndex===n?"Selection-item Selection-selectedItem":"Selection-item"},e.renderEntry(t))))}));return a.default.createElement(u.Modal,{onClose:e.onClose},a.default.createElement("div",{className:"Selection-main"},a.default.createElement("div",{className:"Selection-header"},a.default.createElement("input",{value:r.value,onChange:p,onKeyDown:f,className:"CommonUI-input CommonUI-input-centered CommonUI-input-with-border",ref:t})),a.default.createElement(c.ScrollShadows,null,a.default.createElement("div",{className:"Selection-results"},h))))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=t.ENTRY_HEIGHT=void 0;var c=a(n(1)),l=n(9),d=n(188);n(334),n(97);var p=l.treeView.useTreeView,f=l.treeView.makeExpandedIconBindings,h=l.treeView.makeTreeViewEntryBindings;t.ENTRY_HEIGHT="1.75em",t.TreeView=c.default.forwardRef((function(e,n){var i=e.tree,o=e.onSelect,a=e.onRename,m=e.onSetCollapsedPath,g=e.collapsedPaths,v=e.currentPath,y=e.indexOffset,b=e.extraElements,O=e.renderActionIcon,_=e.navigateLeft,S=e.navigateRight,w=p({tree:i,collapsedPaths:g}),E=w[0],x=w[1],j=c.useState(0),P=j[0],T=j[1];c.useEffect((function(){T(l.findIndex(v,E.entries))}),[E.entries,v]);var D=P+y,C=function(e,t){x({type:"setCollapsed",index:e,collapsed:t}),m(E.entries[e],t)},k=function(e){var n,i,l,p=h({entry:e,onSelect:o,height:t.ENTRY_HEIGHT}),m=p.key,g=s(p,["key"]),v=u(u(u(["TreeView-entry"],e.isInsideCollapsed?["TreeView-entryInsideCollapsed"]:[]),D===e.index?["TreeView-entrySelected"]:[]),["CommonUI-delayedIconContainer"]),y=e.data.id&&(null===(n=null===b||void 0===b?void 0:b[e.data.id])||void 0===n?void 0:n.before),_=e.data.id&&(null===(i=null===b||void 0===b?void 0:b[e.data.id])||void 0===i?void 0:i.after);return c.default.createElement(c.default.Fragment,{key:m},y,c.default.createElement("span",r({},g,{className:v.join(" ")}),(l=e.depth,Array.from(Array(l).keys()).map((function(e){return c.default.createElement("span",{key:e,className:"TreeView-spacing"})}))),function(e){var t=f({entry:e,setCollapsed:C});return e.hasChildren&&e.isCollapsed?c.default.createElement("i",r({},t,{className:"mdi mdi-chevron-right TreeView-spacing"})):e.hasChildren&&!e.isCollapsed?c.default.createElement("i",r({},t,{className:"mdi mdi-chevron-down TreeView-spacing"})):c.default.createElement("i",{className:"TreeView-spacing"})}(e),c.default.createElement("i",{className:"mdi mdi-tag-outline CommonUI-spacing"}),function(e){return c.default.createElement("span",{className:"TreeView-entryLabel"},e.data.readonly?c.default.createElement("span",null,e.name):c.default.createElement(d.SwitchedEditableLabel,{className:"CommonUI-input CommonUI-input-hidden",doubleClick:!0,initialValue:e.name,onToggle:function(t,n){return!1===t&&n!==e.name&&a(n,e.path)}}))}(e),O(e)),_)};return c.default.createElement("div",r({className:"TreeView-outer1"},l.makeTreeViewWrapperBindings(u(u(u([],l.makeDefaultTreeViewKeyHandlerChain(E,D,o,C)),S?[l.buildKeyboardEventHandlerChainItem(l.KEY_CODES.RIGHT_ARROW,(function(){return S()}))]:[]),_?[l.buildKeyboardEventHandlerChainItem(l.KEY_CODES.LEFT_ARROW,(function(){return _()}))]:[])),{style:{backgroundColor:"inherit"},tabIndex:0,ref:n}),E.entries.map((function(e){return k(e)})))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTimeout=void 0;var r=n(401),i=n(1),o=n(98),a=n(189);t.useTimeout=function(e,t){var n=a.useSubject(),s=i.useMemo((function(){return n.pipe(r.delay(t))}),[]);return o.useObservable(e,s),i.useCallback((function(e){return n.next(e)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var r=n(1),i=n(135),o=n(98);t.useInterval=function(e,t){o.useObservable(e,r.useMemo((function(){return i.interval(t)}),[]))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultVerticalTabNode=void 0;var o=i(n(1));n(338);t.DefaultVerticalTabNode=function(e){return o.default.createElement("div",{className:r(["VerticalTabs-default-node"],e.isSelected?["VerticalTabs-default-node-selected"]:[]).join(" "),onMouseDown:e.onSelect},o.default.createElement("i",{className:"mdi mdi-"+e.iconName}),e.children)}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsLayout=void 0;var i=r(n(1));t.DefaultSettingsLayout=function(e){return i.default.createElement("div",{className:"VerticalTabs-outer "+e.className},i.default.createElement("div",{className:"VerticalTabs-list"},e.tabList),i.default.createElement("div",{className:"VerticalTabs-body"},e.title&&i.default.createElement("div",{className:"Settings-body-title"},e.title),e.currentPage))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsPage=void 0;var i=r(n(1));t.DefaultSettingsPage=function(e){return i.default.createElement("div",{className:"Settings-body-outer"},e.children)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeShowNotification=void 0;var r=n(33),i=n(89);t.makeShowNotification=function(){if(r.isElectron()){var e=i.getElectron().ipcRenderer;return function(t){return e.send("showNotification",t)}}return function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useArchiveManager=void 0;var r=n(1),i=n(175),o=n(60);t.useArchiveManager=function(e,t){var n=o.ONE_WEEK;r.useEffect((function(){i.getIdsOfDeletableItems(e,n).length>0&&t({type:"markArchivedObsolete",timespanInMs:n})}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDirtyState=void 0;var r=n(1),i=n(32);t.useDirtyState=function(e){var t=r.useState(!1),n=t[0],o=t[1];return r.useEffect((function(){o(i.getAllDirties(e.store,(function(){return!0})).length>0)}),[e]),n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function a(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return t=n.sent(),[2,new Promise((function(e,n){t.ok?e(t.json()):n(t)}))]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.makeHttp=void 0,t.makeHttp=function(e,t){var n=this;return{get:function(n){var i={headers:new Headers(r({"If-Modified-Since":"Thu, 25 Oct 2012 15:16:27 GMT"},t))};return a(fetch(""+e+n,i))},post:function(n,r){var i={method:"POST",body:JSON.stringify(r),headers:new Headers(t)};return a(fetch(""+e+n,i))},patch:function(n,r){var i={method:"PATCH",body:JSON.stringify(r),headers:new Headers(t)};return a(fetch(""+e+n,i))},del:function(r){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n={method:"DELETE",headers:new Headers(t)},[4,fetch(""+e+r,n)];case 1:return i.sent(),[2,void 0]}}))}))}}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=t.isGistOriginError=void 0;var i=r(n(1)),o=n(346);t.isGistOriginError=function(e){return"gist"===e.origin},t.handleError=function(e,t){return 401===e.status?o.compileError("gist",t?i.default.createElement("strong",null,"gist document ",t.id):i.default.createElement("strong",null,"gist"),"Please provide an Access Token.",{status:401,original:e}):404===e.status?o.compileError("gist",null,"Please provide a Master Gist ID.",{status:404,original:e}):o.compileError("gist",null,"Unknown error.",{status:"unexpected",original:e})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.compileError=t.isOriginError=void 0;var i=r(n(1)),o=n(69);t.isOriginError=function(e){return!!e.isOriginError},t.compileError=function(e,t,n,r){return{isOriginError:!0,origin:e,description:i.default.createElement(o.SimpleErrorView,{title:t,description:n}),details:r}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.GistOriginSettingsPage=void 0;var s=o(n(1)),u=n(11),c=n(100),l=n(191),d=n(190);n(348);t.GistOriginSettingsPage=function(e){var t=s.useContext(c.OriginReadynessContext),n=s.useState(!1),r=n[0],i=n[1],o=u.useObject("dispatchSettings"),p=u.useObject("settings"),f=u.getOriginSettings(p,"gist",d.gistOriginConfig.defaultConfig);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"GistOriginSettingsPage-settings"},s.default.createElement("h2",null,"Token"),s.default.createElement("span",{className:"GistOriginSettingsPage-small-text"},"Create a personal access token in your github developer settings (use the gist scope) and paste it here:"),s.default.createElement("input",{className:a(["CommonUI-input CommonUI-input-with-border CommonUI-input-centered"],!1===t.ready&&t.reason===d.statusCodeToText[401]?["CommonUI-input-red"]:[]).join(" "),type:"password",value:f.token,onChange:function(e){return o({type:"setOriginSettings",origin:"gist",settings:{token:e.target.value}})}}),s.default.createElement("h2",null,"Master Gist Id"),s.default.createElement("span",{className:"GistOriginSettingsPage-small-text"},"Paste existing:"),s.default.createElement("input",{className:a(["CommonUI-input CommonUI-input-with-border CommonUI-input-centered"],!1===t.ready&&t.reason===d.statusCodeToText[404]?["CommonUI-input-red"]:[]).join(" "),value:f.masterGistId,onChange:function(e){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.target.value}})}}),s.default.createElement("button",{disabled:r,className:"CommonUI-button-without-border",onClick:function(){i(!0),l.createMasterGist(f.token).then((function(e){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.id}})})).catch((function(){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:""}})})).finally((function(){i(!1)}))}},"or create one"),s.default.createElement("div",{className:"GistOriginSettingsPage-readyness"},!0===t.ready?"Success":!1===t.ready?t.reason:"Pending")))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeCloudBackend=void 0;var s=n(101),u=n(192),c=n(350),l=n(351),d=n(32),p=n(195),f=n(132),h=n(133),m=n(9),g=n(55),v=n(138);function y(e,t){return e.documentType===t}var b=function(e){return{id:e.id,version:e.version,updatedAt:new Date(e.updatedAt)}},O=function(e){if("tag"===e.documentType)return c.fromFetchTagDto;if("snippet"===e.documentType)return l.fromFetchSnippetDto;throw"snip-cloud: unable to process after fetch (invalid document type "+e.documentType+")"},_=function(e){return r(r({id:e.id},e.backup?{backup:{id:e.backup.id,resource:O(e.backup)(e.backup.resource),documentType:e.backup.documentType,version:e.backup.version,updatedAt:new Date(e.backup.updatedAt)}}:{}),{version:e.version,updatedAt:new Date(e.updatedAt)})},S=function(e){return{id:e.id,version:e.version,updatedAt:new Date(e.updatedAt)}},w=function(e){if(p.isWrapperOfType(e,"tag"))return c.toPushTagDto(e.id,e.document,e.permanent.version);if(p.isWrapperOfType(e,"snippet"))return l.toPushSnippetDto(e.id,e.document,e.permanent.version);throw"snip-cloud: unable to process before push (invalid document type "+e.permanent.documentType+")"},E=function(e,t){return{id:e.id,resource:t(e.resource),documentType:e.documentType,version:e.version,updatedAt:new Date(e.updatedAt)}},x=function(e){if(y(e,"tag"))return E(e,c.fromFetchTagDto);if(y(e,"snippet"))return E(e,l.fromFetchSnippetDto);throw"snip-cloud: unable to process after fetch (invalid document type "+e.documentType+")"},j=function(e){return function(t){return r(r({},t),{documentType:e})}},P=function(){function e(e,t){void 0===t&&(t=750),this.rest=e,this.mutex=new u.Mutex,this.id={},this.lastFetchTimestamp=null,this.throttle=t}return e.prototype.update=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,8,9,11]),[4,this.mutex.getLockOn(this.id)];case 1:return o.sent(),f.shouldCreate(e)?(t=w(e),[4,this.rest.create(t)]):[3,3];case 2:return n=o.sent(),[2,m.pipe(n,b,j(e.permanent.documentType))];case 3:return h.shouldDelete(e)?[4,this.rest.delete(e.id,{document_type:e.permanent.documentType})]:[3,5];case 4:return n=o.sent(),[2,m.pipe(n,(s=d.DELETEABLE,function(e){return r(r({},e),{id:s})}),S,j(e.permanent.documentType))];case 5:return t=w(e),[4,this.rest.update(t)];case 6:return n=o.sent(),[2,m.pipe(n,_,j(e.permanent.documentType))];case 7:return[3,11];case 8:if(404===(i=o.sent()).status&&!0===e.permanent.obsolete.state)return[2,{id:d.DELETEABLE,documentType:e.permanent.documentType,version:e.permanent.version,updatedAt:e.updatedAt}];throw g.errorWithDetails(i,v.compilePushErrorDetails(i,e));case 9:return[4,(a=this.throttle,new Promise((function(e){return setTimeout(e,a)})))];case 10:return o.sent(),this.mutex.releaseLockOn(this.id),[7];case 11:return[2]}var a,s}))}))},e.prototype.processFetchResult=function(e){return this.lastFetchTimestamp=e.timestamp,e.resources.reduce((function(e,t){try{return r(r({},e),{results:a(a([],e.results),[x(t)])})}catch(n){return r(r({},e),{errors:a(a([],e.errors),[g.errorWithDetails(null,v.compileParseErrorDetails(t.id,t.documentType))])})}}),{results:[],errors:[]})},e.prototype.fetchAll=function(){return i(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.lastFetchTimestamp?(e=this.processFetchResult,[4,this.rest.index({timestamp:this.lastFetchTimestamp})]):[3,2];case 1:return[2,e.apply(this,[r.sent()])];case 2:return t=this.processFetchResult,[4,this.rest.index()];case 3:return[2,t.apply(this,[r.sent()])];case 4:return[3,6];case 5:throw n=r.sent(),g.errorWithDetails(n,v.compilePullErrorDetails(n));case 6:return[2]}}))}))},e}();t.makeCloudBackend=function(e){var t=new s.Rest(e);return new P(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toPushTagDto=t.fromFetchTagDto=void 0,t.fromFetchTagDto=function(e){return{path:e.path,archived:e.archived}},t.toPushTagDto=function(e,t,n){return{id:e,path:t.path,archived:t.archived,version:n,document_type:"tag"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toPushSnippetDto=t.fromFetchSnippetDto=void 0;var r=n(54);t.fromFetchSnippetDto=function(e){var t=r.getPluginByLanguage(e.language);if(!t)throw"no plugin found for language "+e.language;return{tags:e.tags,archived:e.archived,content:t.deserialize(e.content),language:e.language,name:e.name}},t.toPushSnippetDto=function(e,t,n){var i=r.getPluginByLanguage(t.language);if(!i)throw"no plugin found for language "+t.language;return{id:e,tags:t.tags.map((function(e){return e})),archived:t.archived,name:t.name,language:t.language,content:i.serialize(t.content),version:n,document_type:"snippet"}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkLoginState=void 0;var o=n(101);function a(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e,t){return new o.Rest("sessions").index().then((function(){return e(!0)})).catch((function(n){return 401===n.status?e(!1):t(n)}))}))]}))}))}t.checkLoginState=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a()];case 1:return e=n.sent(),t=!0,[3,3];case 2:return n.sent(),e=!1,t=!1,[3,3];case 3:return[2,[e,t]]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudOriginSettingsPage=void 0;var a=o(n(1)),s=n(11),u=n(200),c=n(201),l=n(202),d=n(203),p=n(193);t.CloudOriginSettingsPage=function(){var e=s.useObject("dispatchSettings"),t=a.useState("signin"),n=t[0],r=t[1],i=s.useObject("settings"),o=s.getOriginSettings(i,"cloud",p.cloudOriginConfig.defaultConfig);switch(n){case"signin":return a.default.createElement(l.SignInForm,{onClickSignUp:function(){return r("signup")},onClickForgotPassword:function(){return r("forgot-password")},onClickChangePassword:function(){return r("change-password")},onSubmit:function(){e({type:"setOriginSettings",origin:"cloud",settings:p.bumpCloudOriginToken(o)})}});case"signup":return a.default.createElement(d.SignUpForm,{onClickSignIn:function(){return r("signin")}});case"forgot-password":return a.default.createElement(c.ForgotPasswordForm,{onClickBack:function(){return r("signin")}});case"change-password":return a.default.createElement(u.ChangePasswordForm,{onClickBack:function(){return r("signin")}})}}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionService=void 0;var o=n(101),a=function(){function e(){this.rest=new o.Rest("sessions")}return e.prototype.login=function(e){var t=e.username,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.create({email:t,password:n,remember_me:"true"})];case 1:return e.sent(),[2]}}))}))},e.prototype.logout=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.deleteAll()];case 1:return e.sent(),[2]}}))}))},e.prototype.waitForLogin=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.index()];case 1:return[2,e.sent()]}}))}))},e}();t.SessionService=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.testDirectoryAccess=void 0;var o=n(55),a=n(68);t.testDirectoryAccess=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){if(!e)throw o.errorWithDetails(null,a.compileDirectoryNotAccessibleErrorDetails(e));t=window.require("fs").promises;try{return[2,t.writeFile(e+"/probe","probe").then((function(){return!0}))]}catch(r){throw o.errorWithDetails(r,a.compileDirectoryNotAccessibleErrorDetails(e))}return[2]}))}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FileOriginSettingsPage=void 0;var c=o(n(1)),l=n(11),d=n(100),p=n(205);n(358);t.FileOriginSettingsPage=function(){var e=c.useContext(d.OriginReadynessContext),t=l.useObject("dispatchSettings"),n=l.useObject("settings"),r=l.getOriginSettings(n,"file",p.fileOriginConfig.defaultConfig);return c.default.createElement("div",{className:"FileOriginSettingsPage-outer"},c.default.createElement("h2",null,"Location"),c.default.createElement("input",{className:u(["CommonUI-input CommonUI-input-centered CommonUI-input-with-border"],!1!==e.ready||e.reason!==p.DIRECTORY_NOT_ACCESSIBLE&&e.reason!==p.DIRECTORY_NOT_SPECIFIED?[]:["CommonUI-input-red"]).join(" "),value:r.fileLocation,onChange:function(e){return t({type:"setOriginSettings",origin:"file",settings:{fileLocation:e.target.value}})}}),c.default.createElement("button",{className:"CommonUI-button",onClick:function(){return a(void 0,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,window.require("electron").remote.dialog.showOpenDialog({title:"Choose Directory",properties:["openDirectory"]})];case 1:return(e=n.sent().filePaths[0])&&t({type:"setOriginSettings",origin:"file",settings:{fileLocation:e}}),[2]}}))}))}},"Choose Directory"),c.default.createElement("div",{className:"FileOriginSettingsPage-readyness"},!0===e.ready?"Success":!1===e.ready?e.reason:"Pending"))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileBackend=void 0;var o=n(198),a=n(197),s=n(196),u=n(132),c=n(133),l=n(32),d=n(139),p=n(55),f=(new Date).getTime();var h=function(){function e(e,t){var n=a.makeFileStorageFetcher(e,t);this.fetcher=function(){return n().catch((function(e){throw p.errorWithDetails(e,d.compilePullErrorDetails())}))};var r=s.makeFileStoragePusher(e,t,(function(e){return e.id}));this.pusher=function(e){return r({id:u.shouldCreate(e)?"FILE-"+f++:e.id,resource:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}).catch((function(t){throw p.errorWithDetails(t,d.compilePushErrorDetails("save",e))}))};var i=o.makeFileStorageDeleter(e,t,(function(e){return e}));this.deleter=function(e){return i(e.id).catch((function(t){throw p.errorWithDetails(t,d.compilePushErrorDetails("delete",e))}))}}return e.prototype.update=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return c.shouldDelete(e)?[4,this.deleter(e).then((function(){return{id:l.DELETEABLE,resource:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}}))]:[3,2];case 1:return[2,t.sent()];case 2:return[4,this.pusher(e)];case 3:return[2,t.sent()]}}))}))},e.prototype.fetchAll=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetcher()]}))}))},e}();t.FileBackend=h},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.mockOriginConfig=void 0;var u=n(11),c=n(59);function l(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:switch(c.dataSetName){case"initial":return[3,1];case"empty":return[3,2];case"samples":return[3,4];case"quickAccess":return[3,6];case"error":return[3,8];case"delay":return[3,9];case null:return[3,10]}return[3,11];case 1:return[2,[]];case 2:return[4,Promise.resolve().then((function(){return o(n(361))}))];case 3:return[2,e.sent().data];case 4:return[4,Promise.resolve().then((function(){return o(n(362))}))];case 5:return[2,e.sent().data];case 6:return[4,Promise.resolve().then((function(){return o(n(369))}))];case 7:return[2,e.sent().data];case 8:throw"ouch!";case 9:return[2,new Promise((function(e){return setTimeout((function(){return e([])}),1e3)}))];case 10:return[2,[]];case 11:return[2]}}))}))}function d(){var e=this;return{update:function(t){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:if(function(e){var t=JSON.stringify({id:e.id,version:e.permanent.version,documentType:e.permanent.documentType,updatedAt:e.updatedAt,resource:e.document},null,2);window.copySnippet=function(){return u.copyToClipboard(t)},console.log("=============================================================="),console.log(e.permanent.documentType),console.log("==="),console.log(t),console.log("==============================================================")}(t),"error"===c.dataSetName)throw"oops!";return"delay"!==c.dataSetName?[3,2]:[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 1:e.sent(),e.label=2;case 2:return[2,{id:t.id,version:t.permanent.version,documentType:t.permanent.documentType,updatedAt:t.updatedAt}]}}))}))},fetchAll:function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e={},[4,l()];case 1:return[2,(e.results=t.sent(),e.errors=[],e)]}}))}))}}}t.mockOriginConfig={origin:"mock",backendFactory:function(){return d()},defaultConfig:{enabled:!0},icon:"",settingsPage:null,checkReadyness:function(){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){return[2,{ready:!0}]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=n(206);t.data=[r(r({},i.code),{resource:r(r({},i.code.resource),{archived:!0})}),{id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),resource:{path:["code"],archived:!0}}]},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=n(206),o=n(363),a=n(364),s=n(365),u=n(366),c=n(367),l=n(368);t.data=r([u.titles,a.paragraphs,o.lists,i.code,s.sticky,c.todo],l.tags)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lists=void 0,t.lists={id:"LOCAL-1609269681359",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:25:28.472Z"),resource:{version:0,updatedAt:new Date("2020-12-29T19:23:37.005Z"),name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Lists"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"mixed"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"with"}]},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"paragrah"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"and"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"other"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]}]}]}]}]}]}]}]}]}]}]}]},language:"richtext",tags:[],archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paragraphs=void 0,t.paragraphs={id:"LOCAL-1609102500129",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:10:25.695Z"),resource:{version:0,updatedAt:new Date("2020-12-27T20:56:38.040Z"),name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Paragraphs"}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"}]},{type:"paragraph",attrs:{}},{type:"code_block",content:[{type:"text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"quote",textAlignment:null,itemAlignment:null,backgroundColor:null},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"yellow"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"red"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]}]},language:"richtext",tags:[],archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sticky=void 0,t.sticky={id:"LOCAL-1609270318935",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:33:00.277Z"),resource:{version:0,updatedAt:new Date("2020-12-29T19:32:20.827Z"),name:"Snippet: Sticky",content:{color:"blue",doc:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"Just a "},{type:"text",marks:[{type:"strong"}],text:"sticky note"},{type:"text",text:" with "},{type:"text",marks:[{type:"em"}],text:"formatting"},{type:"text",text:" in it."}]},{type:"paragraph"}]}},language:"sticky",tags:[],archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.titles=void 0,t.titles={id:"LOCAL-1609102182959",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:11:08.246Z"),resource:{version:0,updatedAt:new Date("2020-12-27T20:49:46.849Z"),name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Titles"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Short title"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Sub title"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Sub sub title"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]}]},language:"richtext",tags:[],archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.todo=void 0,t.todo={id:"LOCAL-1609270431703",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:35:08.944Z"),resource:{version:0,updatedAt:new Date("2020-12-29T19:34:02.674Z"),name:"Snippet: Todo",content:{type:"doc",content:[{type:"paragraph",attrs:{index:1,status:"open"},content:[{type:"text",text:"one"}]},{type:"paragraph",attrs:{index:2,status:"open"},content:[{type:"text",text:"Lorem ipsum dolor sit amet, "},{type:"text",marks:[{type:"em"}],text:"consectetur"},{type:"text",text:" adipiscing elit, "},{type:"text",marks:[{type:"strong"}],text:"sed"},{type:"text",text:" do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore"},{type:"text",text:" magna aliqua."}]},{type:"paragraph",attrs:{index:5,status:"open"},content:[{type:"text",text:"two"}]},{type:"paragraph",attrs:{index:4,status:"done"},content:[{type:"text",text:"four"}]},{type:"paragraph",attrs:{index:3,status:"done"},content:[{type:"text",text:"three"}]}]},language:"todo",tags:[],archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tags=void 0,t.tags=[{id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),resource:{path:["code"],archived:!1}},{id:"LOCAL-1609320427201",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:51.957Z"),resource:{path:["private"],archived:!1}},{id:"LOCAL-1609320427203",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:01.517Z"),resource:{path:["code","web","javascript"],archived:!1}},{id:"LOCAL-1609320427204",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:05.613Z"),resource:{path:["private","lists"],archived:!1}},{id:"LOCAL-1609320427206",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:23.851Z"),resource:{path:["code","web","ruby"],archived:!1}}]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=new Date,o=function(e){return{id:e,version:0,documentType:"snippet",updatedAt:i,resource:{version:0,updatedAt:i,name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"code "+e+" code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code"}]}]},language:"richtext",tags:[],archived:!1}}},a={id:"LOCAL-1609970873967",version:0,documentType:"snippet",updatedAt:i,resource:{version:0,updatedAt:i,name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"xyz"}]}]},language:"richtext",tags:[],archived:!1}};t.data=[1,2,3,4,5].map((function(e){return[r({},(t=e+"-1",{id:t,version:0,documentType:"snippet",updatedAt:i,resource:{version:0,updatedAt:i,name:"",content:"code "+t+" code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code",language:"code",tags:[],archived:!1}})),r({},o(e+"-2"))];var t})).flat().concat(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicationPaths=void 0;var r=n(33);function i(e){var t=function(e){return window.require("electron").remote.app.getPath("userData")+"/"+e}(e),n=window.require("fs");return n.existsSync(t)||n.mkdirSync(t),t}t.getApplicationPaths=function(e){return r.isElectron()?{cacheLocation:i(e),logsLocation:i("snip-logs")}:null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetEditor=void 0;var u=s(n(1));n(372);var c=n(60),l=n(126),d=n(9),p=n(11),f=n(54),h=n(177),m=n(373),g=n(375),v=n(59),y=v.isInMockedMode?0:125,b=function(e){function t(t){var n=e.call(this,t)||this;n.persist=n.persist.bind(n),n.onChangeFile=n.onChangeFile.bind(n),n.onAddTag=n.onAddTag.bind(n),n.onDeleteTag=n.onDeleteTag.bind(n),n.onChangeHasFocus=n.onChangeHasFocus.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDragStop=n.onDragStop.bind(n),n.onChangeQuery=n.onChangeQuery.bind(n),n.onKeyDownInQueryField=n.onKeyDownInQueryField.bind(n),n.toggleSearch=n.toggleSearch.bind(n),n.onBlurQueryField=n.onBlurQueryField.bind(n),n.onFocus=n.onFocus.bind(n),n.persistDebounced=c.debounce(n.persist,250),n.state={snippet:t.snippet,metaData:t.metaData,currentFileIdx:0,tagInput:"",editorHasFocus:null,dirty:!1,editAsRichText:void 0,isDragging:!1,query:"",queryIndex:0,isDoingSearch:!1},n.toolbarEvents=new m.ToolbarEvents,n.subscriptions=[];var r=n.toolbarEvents.subscribeForCurrentLanguageChange((function(e){n.setState((function(t){return{snippet:i(i({},t.snippet),{language:e})}}),n.persist)}));n.subscriptions.push(r);var o=n.toolbarEvents.subscribeForMarkdownWYSIWYGToggle((function(e){n.setState({editAsRichText:e})}));n.subscriptions.push(o);var a=t.requestSearch.subscribe((function(){n.toggleSearch(!0),n.highlightOccurence(n.state.query,n.state.queryIndex)}));return n.subscriptions.push((function(){return a.unsubscribe()})),n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t=this;this.props.metaData.resolvedTags===this.state.metaData.resolvedTags&&this.props.snippet.tags===this.state.snippet.tags||this.setState((function(e){return{snippet:i(i({},t.state.snippet),{tags:t.props.snippet.tags}),metaData:i(i({},t.state.metaData),{resolvedTags:t.props.metaData.resolvedTags})}}))},t.prototype.componentWillUnmount=function(){this.persistDebounced.cancel(),this.subscriptions.forEach((function(e){return e()}))},t.prototype.persist=function(){this.props.dispatch({type:"updateSnippet",id:this.props.metaData.id,snippet:this.state.snippet}),this.setState({dirty:!1})},t.prototype.onUpdateFile=function(e,t,n,r){var o=this;this.setState((function(e){var r="string"===typeof t?t:i(i({},e.snippet.content),t),a=i(i({},e.snippet),{content:r}),s=o.state.dirty;return n&&(s=!0),{snippet:a,dirty:s}}),r)},t.prototype.onChangeFile=function(e,t){this.onUpdateFile(e,t,!0,this.persistDebounced)},t.prototype.onBlurFile=function(e,t){var n=this;this.onChangeHasFocus(!1),this.state.dirty&&this.onUpdateFile(e,t,!1,(function(){return n.persist()}))},t.prototype.onFocus=function(){this.onChangeHasFocus(!0)},t.prototype.onSuggestPersist=function(e,t){var n=this;this.onUpdateFile(e,t,!1,(function(){return n.persist()}))},t.prototype.onChangeFileName=function(e){this.setState((function(t){return{snippet:h.changeFileName(t.snippet,e)}}),this.persist)},t.prototype.onAddTag=function(e){this.props.dispatch({type:"addTagToSnippet",id:this.props.metaData.id,tag:e})},t.prototype.onDeleteTag=function(e){var t=this;this.setState((function(t){var n=t.snippet.tags.filter((function(n){return n!==t.metaData.resolvedTags[e].id}));return{snippet:i(i({},t.snippet),{tags:n})}}),(function(){t.persist()}))},t.prototype.onChangeHasFocus=function(e){this.setState({editorHasFocus:e}),this.props.onChangeHasFocus(e)},t.prototype.onDragStart=function(){this.props.onChangeIsDragging(!0),this.setState({isDragging:!0})},t.prototype.onDragStop=function(){this.props.onChangeIsDragging(!1),this.setState({isDragging:!1})},t.prototype.focus=function(){this.refs.editor.focus()},t.prototype.onChangeQuery=function(e){var t=this,n=e.target.value;this.setState({query:n,queryIndex:0},(function(){return t.highlightOccurence(t.state.query,t.state.queryIndex)}))},t.prototype.onKeyDownInQueryField=function(e){var t=this;e.keyCode===d.KEY_CODES.ENTER||e.keyCode===d.KEY_CODES.TAB?(e.preventDefault(),this.setState((function(e){return{queryIndex:e.queryIndex+1}}),(function(){return t.highlightOccurence(t.state.query,t.state.queryIndex)}))):e.keyCode===d.KEY_CODES.ESCAPE&&(this.toggleSearch(!1),this.highlightOccurence("",0))},t.prototype.toggleSearch=function(e){this.setState({isDoingSearch:e})},t.prototype.onBlurQueryField=function(){this.toggleSearch(!1)},t.prototype.animateSearch=function(e,t){var n=this;this.cancelScrollAnimation&&this.cancelScrollAnimation(),this.cancelScrollAnimation=p.startAnimation(e,t,y,(function(e){n.refs.fileView.scrollTop=e}))},t.prototype.highlightOccurence=function(e,t){var n=t,r=this.refs.editor.onChangeQuery([e],n);if(""!==e&&r){var i=this.refs.fileView.getBoundingClientRect();if(r.coordinates.top-20<i.y){var o=this.refs.fileView.scrollTop,a=this.refs.fileView.scrollTop-(i.y-r.coordinates.top)-20;this.animateSearch(o,a)}else if(r.coordinates.bottom+20>i.y+i.height){o=this.refs.fileView.scrollTop,a=this.refs.fileView.scrollTop+(r.coordinates.bottom-(i.y+i.height))+20;this.animateSearch(o,a)}}},t.prototype.render=function(){var e=this.state.snippet,t=f.getPluginByLanguage(e.language);if(!t)return u.default.createElement("span",null,"no plugin found for language ",e.language);var n=t.writer,r=t.toolbar,i=t.editorClass(this.state.snippet)||"",o=["SnippetEditor"];this.state.isDragging&&o.push("SnippetEditor-is-dragging"),o.push(i),o.push(this.state.editorHasFocus?"SnippetEditor-focused":"SnippetEditor-not-focused");var a=u.default.createElement(n,{key:e.language+"-"+this.state.currentFileIdx,content:e.content,language:e.language,onBlur:this.onBlurFile.bind(this,this.state.currentFileIdx),onFocus:this.onFocus,onChange:this.onChangeFile.bind(this,this.state.currentFileIdx),onSuggestPersist:this.onSuggestPersist.bind(this,this.state.currentFileIdx),allowReadMode:this.props.allowReadMode,onChangeHasFocus:this.onChangeHasFocus,uploadFile:this.props.uploadFile,toolbarEvents:this.toolbarEvents,settings:this.props.settings,ref:"editor",onEscape:this.props.onEscape,onDragStart:this.onDragStart,onDragStop:this.onDragStop,availableEditorWidth:this.props.availableEditorWidth});return u.default.createElement("div",{className:o.join(" ")},r&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"Toolbar-decoupler"},u.default.createElement(l.Toolbar,null,u.default.createElement(r,{toolbarEvents:this.toolbarEvents})))),u.default.createElement(g.SearchBar,{visible:this.state.isDoingSearch,onChangeQuery:this.onChangeQuery,onKeyDownInQueryField:this.onKeyDownInQueryField,onBlurQueryField:this.onBlurQueryField,query:this.state.query}),u.default.createElement("div",{className:"SnippetEditor-file-view",tabIndex:0,ref:"fileView"},t.hasTooltip&&u.default.createElement("div",{className:"TooltipPlugin-container"},u.default.createElement(l.Toolbar,null,u.default.createElement(r,{toolbarEvents:this.toolbarEvents}))),a))},t}(u.Component);t.SnippetEditor=b},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarEvents=void 0;var r=n(374),i=function(){function e(){this.eventBus=new r.EventBus(["runMenuItem","menuItemStateChange","toggleMarkdownWYSIWYG","tellCurrentLanguage","changeCurrentLanguage"],{replayMessages:!0})}return e.prototype.subscribeForMenuItemStateChanges=function(e){return this.eventBus.subscribe("menuItemStateChange",e)},e.prototype.publishMenuItemStateChange=function(e){this.eventBus.publish("menuItemStateChange",e)},e.prototype.subscribeForMenuItemRun=function(e){return this.eventBus.subscribe("runMenuItem",e)},e.prototype.publishMenuItemRun=function(e){this.eventBus.publish("runMenuItem",e)},e.prototype.subscribeForMarkdownWYSIWYGToggle=function(e){return this.eventBus.subscribe("toggleMarkdownWYSIWYG",e)},e.prototype.publishToggleMarkdownWYSIWYG=function(e){this.eventBus.publish("toggleMarkdownWYSIWYG",e)},e.prototype.subscribeForCurrentLanguage=function(e){return this.eventBus.subscribe("tellCurrentLanguage",e)},e.prototype.publishCurrentLanguage=function(e){this.eventBus.publish("tellCurrentLanguage",e)},e.prototype.subscribeForCurrentLanguageChange=function(e){return this.eventBus.subscribe("changeCurrentLanguage",e)},e.prototype.publishCurrentLanguageChange=function(e){this.eventBus.publish("changeCurrentLanguage",e)},e}();t.ToolbarEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=function(){function e(e,t){var n=this,r=(void 0===t?{replayMessages:!1}:t).replayMessages;this.subscriptions={},this.unpublishedMessages={},this.replayMessages=r,e.forEach((function(e){n.subscriptions[e]=[],n.unpublishedMessages[e]=[]}))}return e.prototype.subscribe=function(e,t){var n=this;return this.subscriptions[e].push(t),this.replayMessages&&this.unpublishedMessages[e].length>0&&(this.unpublishedMessages[e].forEach(t),this.unpublishedMessages[e]=[]),function(){n.subscriptions[e]=n.subscriptions[e].filter((function(e){return e!==t}))}},e.prototype.publish=function(e,t){this.subscriptions[e].length>0?this.subscriptions[e].forEach((function(e){return e(t)})):this.unpublishedMessages[e].push(t)},e}();t.EventBus=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=void 0;var s=a(n(1)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidUpdate=function(e){e.visible!==this.props.visible&&(this.props.visible?this.refs.input&&this.refs.input.focus():this.refs.input&&this.refs.input.blur())},t.prototype.render=function(){var e=["SnippetEditor-search-bar"];return this.props.visible&&e.push("SnippetEditor-search-bar-visible"),s.default.createElement("div",{className:e.join(" ")},s.default.createElement("input",{ref:"input",value:this.props.query,onChange:this.props.onChangeQuery,onKeyDown:this.props.onKeyDownInQueryField,onBlur:this.props.onBlurQueryField}))},t}(s.Component);t.SearchBar=u},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.extractSubSnippets=void 0;var i=n(54);t.extractSubSnippets=function(e,t){return e[0].filter((function(e){return!e.snippet.archived})).reduce((function(e,t){var n=i.getPluginByLanguage(t.snippet.language),o=n?n.extractSubSnippets(t):[];return r(r([],e),o)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterSubSnippets=void 0;var r=n(62),i=n(378);t.filterSubSnippets=function(e,t){return""===t.trim()?[]:e.map((n=t.toUpperCase().split(" "),function(e){var t=r.findOccurences(e.searchableString,n);return t.length>0?{relevance:r.calculateSearchRelevance(t,n),updatedAt:e.original.metaData.updatedAt,subSnippet:e}:null})).filter(i.filterNull).sort((function(e,t){var n=e.relevance,r=e.updatedAt,i=t.relevance,o=t.updatedAt;return i-n||o.getTime()-r.getTime()})).slice(0,20).map((function(e){return e.subSnippet}));var n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterNull=void 0,t.filterNull=function(e){return null!==e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderSubSnippet=void 0;var i=r(n(1)),o=n(54);t.renderSubSnippet=function(e){var t=o.getPluginByLanguage(e.original.snippet.language);return t?t.renderSubSnippet(e):i.default.createElement("span",null,"n/a")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderSnippet=void 0;var o=i(n(1)),a=n(54);t.renderSnippet=function(e){var t=a.getPluginByLanguage(e.snippetListEntry.snippet.language),n=(null===t||void 0===t?void 0:t.listEntry)||function(){return o.default.createElement("span",null,"n/a")};return o.default.createElement(n,r({},e))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=t.defaultSettings=void 0;var i=n(1),o=n(9),a=n(204),s=n(33),u=o.treeView.updateCollapsedPaths;function c(e,t){var n,i,a,s;switch(t.type){case"selectTagPath":return r(r({},e),{selectedTagPath:t.path,showOnlyDeleted:!1});case"setCollapsedTagPath":return r(r({},e),{collapsedPaths:u(e.collapsedPaths,t.path,t.collapsed)});case"selectArchive":return r(r({},e),{selectedTagPath:[],showOnlyDeleted:!0});case"toggleSidebar":return r(r({},e),{sidebarToggles:r(r({},e.sidebarToggles),(n={},n[t.sidebar]=null!==(a=t.value)&&void 0!==a?a:o.normalizeCounter(e.sidebarToggles[t.sidebar]+1,2),n))});case"setSidebarWidth":return r(r({},e),{sidebarWidths:r(r({},e.sidebarWidths),(i={},i[t.sidebar]=t.value,i))});case"setThemeName":return r(r({},e),{themeName:t.value});case"toggleScrollbarStyling":return r(r({},e),{scrollbarStylingToggle:null!==(s=t.value)&&void 0!==s?s:o.normalizeCounter(e.scrollbarStylingToggle+1,2)});case"setOriginSettings":return r(r({},e),{originSettings:e.originSettings.filter((function(e){return e.origin!==t.origin})).concat({origin:t.origin,settings:r(r({},(e.originSettings.find((function(e){return e.origin===t.origin}))||{}).settings||{}),t.settings)})});case"setDefaultOrigin":return r(r({},e),{defaultOrigin:t.origin});case"toggleShrinkInFullScreen":return r(r({},e),{shrinkInFullScreen:!e.shrinkInFullScreen})}}t.defaultSettings={selectedTagPath:[],showOnlyDeleted:!1,sidebarWidths:{tags:200,snippetList:200,create:200},sidebarToggles:{tags:1,snippetList:1,create:0},collapsedPaths:[],themeName:"light",scrollbarStylingToggle:s.isWindows()?1:0,originSettings:[],defaultOrigin:a.getDefaultOrigin(),shrinkInFullScreen:!0};t.useSettings=function(e){return i.useReducer(c,i.useMemo((function(){return e||t.defaultSettings}),[]))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderError=void 0;var i=r(n(1)),o=n(55),a=n(69);t.renderError=function(e,t){if(o.isKnownError(e)){var n=t.map((function(t){return t(e.stack[e.stack.length-1],e.stack)})).reverse().find((function(e){return e}));if(n)return n}return i.default.createElement(a.SimpleErrorView,{title:"Unknown Error",description:"Unknown Error."})}},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(20),i=n(12),o=n(1),a=n.n(o),s=n(136),u=n.n(s),c=(n(213),n(214),n(215),n(216),n(8)),l=n(9),d=n(14),p=n(11),f=n(0),h=function(e){var t=Object(l.useFactory)(c.extractSubSnippets,[e.snippetList],[]);return Object(f.jsx)(d.Selection,{onClose:e.onClose,entries:t,filter:c.filterSubSnippets,onConfirm:function(t){t.filteredEntries[t.currentIndex]&&Object(p.copyToClipboard)(t.filteredEntries[t.currentIndex].textContent),e.onClose()},renderEntry:c.renderSubSnippet})};n(384);function m(e,t){return Object(c.findOccurencesAndCompileSearchResults)(e,t.split(" "))}function g(e){var t=e.chunks;return Object(f.jsx)(a.a.Fragment,{children:t.slice(0,30).map((function(e,t){return e.highlight?Object(f.jsx)("span",{className:"SearchModal-occurence",children:e.text},t):Object(f.jsx)("span",{children:e.text},t)}))})}var v=function(e){var t=Object(o.useCallback)((function(t){var n;e.select(null===(n=t.filteredEntries[t.currentIndex])||void 0===n?void 0:n.id),e.onClose()}),[]);return Object(f.jsx)(d.Selection,{onClose:e.onClose,entries:e.snippetList,filter:m,onConfirm:t,renderEntry:g})},y=n(44),b=(n(385),"createSnippetSidebarFocusable"),O=function(e){return Object(f.jsxs)("button",{id:"".concat(b,"-").concat(e.label),className:"CreateSnippetSidebar-button",onClick:e.action,onKeyDown:function(t){t.keyCode===l.KEY_CODES.ENTER&&(t.preventDefault(),e.action(t))},tabIndex:0,children:[Object(f.jsx)("i",{className:"mdi ".concat(e.iconClass)}),e.label]})},_=function(e){var t=Object(o.useRef)(null);Object(o.useEffect)((function(){setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),250)}),[]);var n=Object(c.getConfigsForInputs)(),r=Object(c.getConfigsForButtons)();return Object(f.jsxs)("div",{className:"CreateSnippetSidebar-main",children:[n.map((function(n,r){var o=Object(i.a)(n,2),a=o[0],s=o[1];return Object(f.jsx)("textarea",Object(y.a)({id:"".concat(b,"-").concat(r),placeholder:s.placeholder,className:"CommonUI-input",onChange:function(t){return e.onAdd({content:s.bootstrap(t.target.value),language:a})},value:"",tabIndex:0},0===r?{ref:t}:{}),r)})),r.map((function(t,n){var r=Object(i.a)(t,3),o=r[0],a=r[1],s=r[2];return Object(f.jsx)(O,{label:s.label,iconClass:a,action:function(){return e.onAdd({content:s.bootstrap(),language:o})}},n)}))]})},S=(n(386),n(208)),w=function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(d.useTimeout)(Object(o.useCallback)((function(){return a(!1)}),[]),2e3),u=r?e.successLabel:e.label,c=(e.successLabel,e.label,Object(S.a)(e,["successLabel","label"]));return Object(f.jsx)("button",Object(y.a)(Object(y.a)({},c),{},{onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),a(!0),s()},children:u}))};n(387);var E=function(e){var t=Object(p.useObject)("dispatch"),n=Object(o.useState)(e.currentOrigin),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(f.jsxs)("div",{className:"OriginSelector-outer",children:[Object(f.jsx)("select",{className:"CommonUI-button",value:a,onChange:function(e){return s(e.target.value)},children:c.originConfigs.map((function(e){return Object(f.jsx)("option",{value:e.origin,children:e.origin},e.origin)}))}),Object(f.jsx)(w,{disabled:a===e.currentOrigin,className:"CommonUI-button-without-border",successLabel:"Switched!",label:"Switch",onClick:function(){return t({type:"changeOrigin",id:e.id,origin:a})}})]})},x=function(e){var t=Object(p.useObject)("dispatch");return Object(f.jsxs)("div",{className:"Settings-single-page",children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Document Id"}),Object(f.jsx)("span",{children:e.entry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Last updated"}),e.entry.metaData.updatedAt.toLocaleString()]})]}),Object(f.jsxs)("div",{className:"Settings-row",children:[Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Origin"}),Object(f.jsx)(E,{currentOrigin:e.entry.metaData.origin,id:e.entry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Archive"}),!e.entry.tag.archived&&Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"deleteTag",path:e.entry.tag.path})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-down"})," Remove Tag"]})]})]})]})},j="archive",P="everything",T=function(e){var t=e.tagList,n=e.selectedPath,r=e.onSelectPath,s=e.onSelectArchive,u=e.showOnlyDeleted,c=e.onRenamePath,p=e.onToggleCollapsed,h=e.collapsedPaths,m=e.requestFocus,g=e.resolvePossiblyOldId,v=e.navigateRight,b=Object(d.useRequestFocus)(m),O=Object(o.useMemo)((function(){var e=Object(l.compileTree)(t.filter((function(e){return!e.tag.archived})).map((function(e){return{path:e.tag.path,data:{id:e.metaData.id,isPath:!0,origin:e.metaData.origin}}})),{id:"derived",origin:"cloud"},{id:"root",origin:"cloud"}),n=[{name:"Everything",content:[],root:!1,data:{readonly:!0,id:P,origin:"cloud"}},{name:"Archive",content:[],root:!1,data:{readonly:!0,id:j,origin:"cloud"}}];return Object(y.a)(Object(y.a)({},e),{},{content:n.concat(e.content)})}),[t]),_=Object(o.useState)(null),S=Object(i.a)(_,2),w=S[0],E=S[1],T=w&&g(w),D=T&&t.find((function(e){return e.metaData.id===T})),C=D&&Object(f.jsx)(d.Modal,{onClose:function(){return E(null)},children:Object(f.jsx)(x,{entry:D})});return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("div",{className:"TagsSidebar-outer1",children:Object(f.jsx)(d.TreeView,{ref:b,tree:O,currentPath:n,onSelect:function(e){e.data.id===P?r([]):e.data.id===j?s():r(e.path)},onRename:c,extraElements:{archive:{after:Object(f.jsx)("span",{className:"TagsSidebar-divider"})}},onSetCollapsedPath:function(e,t){return p(e.path,t)},collapsedPaths:h,indexOffset:n.length>0?0:u?1:0,renderActionIcon:function(e){return e.data.readonly||e.data.derived?void 0:Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)("span",{className:"CommonUI-delayedIconWrapper",children:Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal TreeView-deleteIcon",onMouseDown:function(){return E(e.data.id)}})})})},navigateRight:v})}),C]})};n(388);function D(e){switch(e.state.name){case"uploadRequested":case"uploadOngoing":return["mdi-upload","SyncStateIndicator-load"];case"downloadRequested":case"downloadOngoing":return["mdi-download","SyncStateIndicator-load"];case"idle":return e.pushErrors.length>0||e.pullErrors.length>0?["mdi-alert"]:["mdi-check","SyncStateIndicator-success"]}}function C(e){switch(e.state.name){case"uploadRequested":case"uploadOngoing":return Object(f.jsx)("div",{className:"SyncStateIndicator-details-panel",children:"uploading..."});case"downloadRequested":case"downloadOngoing":return Object(f.jsx)("div",{className:"SyncStateIndicator-details-panel",children:"downloading..."});case"idle":var t=e.pullErrors.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Errors during download:"}),e.pullErrors.map((function(e,t){return Object(f.jsx)("div",{children:Object(c.renderError)(e,c.errorRenderers)},t)}))]}):null,n=e.pushErrors.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Errors during upload:"}),e.pushErrors.map((function(e,t){return Object(f.jsx)("div",{children:Object(c.renderError)(e,c.errorRenderers)},t)}))]}):null;return t||n?Object(f.jsxs)("div",{className:"SyncStateIndicator-details-panel",children:[t,n]}):null}}var k=function(e){return Object(f.jsxs)("span",{className:"SyncStateIndicator-main",children:[C(e.syncState),(t=e.syncState,Object(f.jsx)("i",{className:["mdi"].concat(Object(r.a)(D(t))).join(" ")}))]});var t},M={dark:{base:"Theme-dark",code:"one-dark"},light:{base:"Theme-light",code:"one-dark"},solarizedLight:{base:"Theme-solarized-light",code:"solarized light"},solarizedDark:{base:"Theme-solarized-dark",code:"solarized dark"},classicBlue:{base:"Theme-classic-blue",code:"classic-blue"}};function I(e){return M[e].base}n(389),n(390);var A=n(16),L=function(e){var t=Object(p.useObject)("dispatch"),n=Object(o.useMemo)((function(){return new A.a}),[]);return Object(f.jsxs)("div",{className:"TagsSection-main",children:[Object(f.jsx)("div",{className:"TagsSection-tags",children:e.tags.length>0?e.tags.map((function(n){return Object(f.jsxs)("span",{className:"TagsSection-tag",children:[n.text,Object(f.jsx)("i",{className:"mdi mdi-close",onClick:function(){return t({type:"removeTagFromSnippet",snippetId:e.snippetId,tagId:n.id})}})]},n.text)})):Object(f.jsx)("span",{className:"TagsSection-tag TagsSection-tag-placeholder",children:"No tags yet"})}),Object(f.jsx)("div",{className:"TagsSection-autocomplete-container",children:Object(f.jsx)(d.Autocomplete,{className:"CommonUI-input CommonUI-input-hidden CommonUI-input-centered",onLeftArrowKeyDownAtEdge:function(){},entries:e.tagList.filter((function(e){return!1===e.tag.archived})).filter((function(t){return!e.tags.find((function(e){return e.id===t.metaData.id}))})).map((function(e){return e.metaData.text})),requestFocus:n,closeOnConfirm:!1,resetOnConfirm:!0,onConfirm:function(n){return t({type:"addTagToSnippet",id:e.snippetId,tag:n})},placeholder:"Add tag..."})})]})},R=function(e){var t=Object(p.useObject)("dispatch");return Object(f.jsxs)("div",{className:"Settings-single-page",children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Document Id"}),Object(f.jsx)("span",{children:e.snippetListEntry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Last updated"}),e.snippetListEntry.metaData.updatedAt.toLocaleString()]})]}),Object(f.jsxs)("div",{className:"Settings-row",children:[Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Name"}),Object(f.jsx)(d.SwitchedEditableLabel,{initialValue:e.snippetListEntry.snippet.name,placeholderWhenReadonly:"untitled",onToggle:function(n,r){return!1===n&&t({type:"setSnippetName",snippetId:e.snippetListEntry.metaData.id,name:r})},className:"CommonUI-input CommonUI-input-hidden CommonUI-input-centered"})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Origin"}),Object(f.jsx)(E,{currentOrigin:e.snippetListEntry.metaData.origin,id:e.snippetListEntry.metaData.id})]})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Tags"}),Object(f.jsx)(L,{snippetId:e.snippetListEntry.metaData.id,tags:e.snippetListEntry.metaData.resolvedTags,tagList:e.tagList})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Archive"}),e.snippetListEntry.snippet.archived?Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"restoreSnippet",id:e.snippetListEntry.metaData.id,snippet:e.snippetListEntry.snippet})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-up"})," Restore From Archive"]}):Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"deleteSnippet",id:e.snippetListEntry.metaData.id,snippet:e.snippetListEntry.snippet})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-down"})," Move To Archive"]})]})]})};function N(e,t){return Math.max(0,t.findIndex((function(t){return t.metaData.id===e.selectedSnippetId})))}function F(e,t,n){t[n]&&e.setSelectedSnippetId(t[n].metaData.id)}function B(e,t,n){var r=N(e,t);n<0?F(e,t,0===r?t.length-1:r-1):n>0&&(r===t.length-1?F(e,t,0):F(e,t,r+1))}var U=function(e){var t,n,r,s=Object(d.useRequestFocus)(e.requestFocus),u=e.snippetList.filter((t=e.settings.selectedTagPath,n=e.settings.showOnlyDeleted,r=e.tagList,n?function(e){return!0===e.snippet.archived}:0===t.length?function(e){return!1===e.snippet.archived}:function(e){return!1===e.snippet.archived&&e.snippet.tags.some((function(e){var n=r.find((function(t){return t.metaData.id===e})),i=n&&n.tag.path;return i&&Object(l.isExactPath)(t,i)}))})),p=Object(o.useMemo)((function(){return Object(l.buildHandler)(function(e,t){return[Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.UP_ARROW,(function(n){Object(l.preventDefault)(n),B(e,t,-1)})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.DOWN_ARROW,(function(n){Object(l.preventDefault)(n),B(e,t,1)})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.LEFT_ARROW,(function(t){Object(l.preventDefault)(t),e.navigateLeft()})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.RIGHT_ARROW,(function(t){Object(l.preventDefault)(t),e.navigateRight()}))]}(e,u))}),[e,u]),h=Object(o.useState)(null),m=Object(i.a)(h,2),g=m[0],v=m[1],y=Object(l.useRefsCallback)(),b=y.refs,O=y.callback;Object(l.useScrollIntoView)({dependency:e.selectedSnippetId,condition:e.enableScrollIntoView,index:N(e,u),refs:b});var _=u.map((function(t,n){return Object(f.jsx)("div",{ref:function(e){return e&&O(e,n)},className:"SnippetList-entryOuter ".concat(t.metaData.id===e.selectedSnippetId?"SnippetList-entryOuterSelected":""),children:Object(c.renderSnippet)({snippetListEntry:t,settings:e.settings,setSelectedSnippetId:e.setSelectedSnippetId,listEntryIcon:e.listEntryIcon,runItemAction:function(){return v(t.metaData.id)}})},"".concat(e.settings.themeName,"-").concat(n))})),S=g&&e.resolvePossiblyOldId(g),w=S&&e.snippetList.find((function(e){return e.metaData.id===S})),E=w&&Object(f.jsx)(d.Modal,{onClose:function(){return v(null)},children:Object(f.jsx)(R,{snippetListEntry:w,tagList:e.tagList})});return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("div",{className:"SnippetList-listOuter",ref:s,tabIndex:0,onKeyDown:p,children:Object(f.jsx)(d.ScrollShadows,{children:Object(f.jsx)("div",{"keyboard-aware-element":"true",className:"SnippetList-listInner",children:_})})}),E]})};n(391);function G(e,t,n,r,i){return Object(f.jsx)(d.DefaultVerticalTabNode,{iconName:t,onSelect:function(){return r(e)},isSelected:i===e,children:n},n)}var H="1.0.7",W=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&fetch("https://getsnip.io/client/version.txt",{}).then((function(e){return e.text().then((function(e){e!==H&&r(!0)}))}))}))}),[]),n?Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("h2",{children:"New version available!"}),Object(f.jsx)("button",{onClick:function(){return location.reload()},children:"reload"})]}):null},V=(n(392),[{label:"Dark",value:"dark"},{label:"Light",value:"light"},{label:"Solarized Dark",value:"solarizedDark"},{label:"Solarized Light",value:"solarizedLight"}]),q=function(e){var t=Object(p.useObject)("settings"),n=Object(p.useObject)("dispatchSettings"),r=Object(o.useState)(t.scrollbarStylingToggle),s=Object(i.a)(r,2),u=s[0],d=s[1];return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)("div",{children:[e.isInMobileMode&&Object(f.jsx)("h1",{children:"Settings"}),Object(f.jsx)("h2",{children:"Theme"}),Object(f.jsx)("select",{className:"CommonUI-button",value:t.themeName,onChange:function(e){return n({type:"setThemeName",value:e.target.value})},children:V.map((function(e){var t=e.label,n=e.value;return Object(f.jsx)("option",{value:n,children:t},n)}))})]}),!e.isInMobileMode&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Scrollbar styling"}),Object(f.jsxs)("select",{className:"CommonUI-button",onChange:function(e){return d(Object(l.parseOffOrOn)(e.target.value))},value:u,children:[Object(f.jsx)("option",{value:"0",children:"Disable"}),Object(f.jsx)("option",{value:"1",children:"Enable"})]}),Object(f.jsx)("button",{className:"CommonUI-button-without-border",disabled:u===t.scrollbarStylingToggle,onClick:function(){n({type:"toggleScrollbarStyling",value:u}),setTimeout((function(){Object(c.isElectron)()?(0,window.require("electron").remote.getCurrentWindow)().reload():window.location.reload()}),500)},children:"Set & Reload"})]}),Object(f.jsxs)("div",{className:"GeneralPage-version",children:[Object(f.jsx)("h2",{children:"Version"}),Object(f.jsx)("span",{children:H})]}),e.isInMobileMode&&Object(f.jsx)("div",{children:Object(f.jsx)(W,{})}),e.isInMobileMode&&Object(f.jsxs)("div",{className:"GeneralPage-go-to-app",onClick:function(){var t;return null===(t=e.scrollRight)||void 0===t?void 0:t.call(e)},children:[Object(f.jsx)("i",{className:"mdi mdi-arrow-right-bold"}),Object(f.jsx)("span",{children:"Go to app"})]})]})};n(393);function z(e,t){return e.origin===t.currentOrigin?"Already set":t.selectButtonTitle}function K(e,t){var n=Object(o.useState)({ready:"pending"}),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(o.useEffect)((function(){s({ready:"pending"})}),[e,t]),Object(l.useDebouncedEffect)((function(){t.checkReadyness(e).then((function(e){return s(e)}))}),1e3,[e,t]),a}var Y=function(e){var t=Object(o.useState)(c.originConfigs[0]),n=Object(i.a)(t,2),r=n[0],s=n[1],u=function(e,t){var n=Object(p.useObject)("settings");return"noop"===e?t:Object(p.getOriginSettings)(n,e,t)}(r.origin,r.defaultConfig),l=Object(p.useObject)("dispatchSettings"),h=K(u,r),m=c.originConfigs.map((function(e){return G(e,e.icon,e.origin,s,r)})),g=r.origin,v=Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[u.enabled&&Object(f.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(f.jsx)(w,{label:z(r,e),successLabel:"Set!",disabled:r.origin===e.currentOrigin,className:"CommonUI-button-without-border",onClick:function(){return e.onSelect(r)}},g)}),Object(f.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(f.jsx)(w,{label:u.enabled?"Disable":"Enable",successLabel:u.enabled?"Enabled!":"Disabled!",className:"CommonUI-button-without-border",onClick:function(){return l({type:"setOriginSettings",origin:r.origin,settings:Object(y.a)(Object(y.a)({},u),{},{enabled:!u.enabled})})},children:u.enabled?"Disable":"Enable"},g)})]}),u.enabled&&Object(f.jsx)("div",{className:"OriginConfigurator-settings-page",children:r.settingsPage})]});return Object(f.jsx)(c.OriginReadynessContext.Provider,{value:h,children:Object(f.jsx)(d.DefaultSettingsLayout,{className:"OriginConfigurator-outer",tabList:m,currentPage:v})})};function X(e,t,n){switch(e){case"general":return Object(f.jsx)(d.DefaultSettingsPage,{children:Object(f.jsx)(q,{})});case"origin":return Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)(Y,{currentOrigin:n.defaultOrigin,selectButtonTitle:"Set as default",onSelect:function(e){return t({type:"setDefaultOrigin",origin:e.origin})}})})}}var J=function(){var e=Object(p.useObject)("dispatchSettings"),t=Object(p.useObject)("settings"),n=Object(o.useState)("general"),r=Object(i.a)(n,2),a=r[0],s=r[1],u=[G("general","cog-outline","General",s,a),G("origin","arrow-top-right-thick","Origins",s,a)];return Object(f.jsx)(d.DefaultSettingsLayout,{className:"Settings-outer",tabList:u,currentPage:X(a,e,t)})},$=(n(394),function(e){return Object(f.jsxs)("div",{className:"TagsSidebar-outer1 EmptyTagsSidebar",children:[Object(f.jsx)("div",{children:"No tags yet."}),e.noSnippetsYet?null:Object(f.jsxs)("div",{children:["To add a tag, go to a snippet and click the '",Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal"}),"' symbol."]})]})}),Q=(n(395),function(){return Object(f.jsxs)("div",{className:"TagsSidebar-outer1 EmptySnippetList",children:[Object(f.jsx)("div",{children:"No snippets yet."}),Object(f.jsxs)("div",{children:["To create one, use",Object(f.jsxs)("span",{children:[Object(c.isMac)()?Object(f.jsx)("kbd",{children:"Cmd"}):Object(f.jsx)("kbd",{children:"Ctrl"}),"+",Object(f.jsx)("kbd",{children:"N"})]}),"or",Object(f.jsx)("span",{children:Object(f.jsxs)("em",{children:["File ",Object(f.jsx)("i",{className:"mdi mdi-arrow-right"})," New"]})})]})]})});var Z=function(e){var t=Object(c.getConfigsForButtons)().filter((function(e){return"richtext"===Object(i.a)(e,1)[0]})),n=Object(i.a)(t,1),s=Object(i.a)(n[0],3)[2],u=Object(o.useRef)(null);return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("input",{className:"App-mobile-ios-input-focus-fix",ref:u}),Object(f.jsx)("div",{className:["App-mobile-add-button"].concat(Object(r.a)(2===e.currentSection?["App-mobile-add-button-visible"]:[])).join(" "),onClick:function(){var t;null===(t=u.current)||void 0===t||t.focus(),e.onAdd({language:"richtext",content:s.bootstrap()})},children:Object(f.jsx)("i",{className:"mdi mdi-plus-circle"})})]})},ee=(n(396),n(397),n(137)),te=n.n(ee),ne=n(207);function re(e,t){return e?Array.isArray(t)?t:[t]:[]}function ie(e){if(Object(c.isMac)()){var t=Object(c.getElectron)().remote;t.Menu.setApplicationMenu(t.Menu.buildFromTemplate(function(e){var t=e.onCreateNew,n=e.onToggleTags,i=e.onToggleSnippetList,o=e.onToggleCreateSidebar,a=e.onStartQuickAccess,s=e.onStartSearchAll,u=e.onStartSearch,l=e.onStartEditingPreferences;return[].concat(Object(r.a)(re(Object(c.isMac)(),[{label:"Snip",submenu:[{role:"about"}].concat(Object(r.a)(re(l,[{type:"separator"},{label:"Preferences...",accelerator:"CommandOrControl+,",click:function(){l()}},{type:"separator"}])),[{role:"services"},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{role:"quit"}])}])),[{label:"File",submenu:[Object(c.isMac)()?{role:"close"}:{role:"quit"}].concat(Object(r.a)(re(t,{label:"New",accelerator:"CommandOrControl+N",click:function(){t()}})),Object(r.a)(re(o,{label:"New...",accelerator:"CommandOrControl+Shift+N",click:function(){o()}})),[{type:"separator"}],Object(r.a)(re(a,{label:"Quick Access...",accelerator:"CommandOrControl+K",click:function(){a()}})),Object(r.a)(re(s,{label:"Search All...",accelerator:"CommandOrControl+Shift+F",click:function(){s()}})),Object(r.a)(re(u,{label:"Search...",accelerator:"CommandOrControl+F",click:function(){u()}})),Object(r.a)(re(!Object(c.isMac)(),{label:"Preferences...",accelerator:"CommandOrControl+,",click:function(){l()}})))},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"}].concat(Object(r.a)(Object(c.isMac)()?[{role:"pasteAndMatchStyle"},{role:"delete"},{role:"selectAll"},{type:"separator"},{label:"Speech",submenu:[{role:"startspeaking"},{role:"stopspeaking"}]}]:[{role:"delete"},{type:"separator"},{role:"selectAll"}]))},{label:"View",submenu:[].concat(Object(r.a)(re(n,{label:"Toggle Tags",accelerator:"CommandOrControl+T",click:function(){n()}})),Object(r.a)(re(i,{label:"Toggle Snippet List",accelerator:"CommandOrControl+L",click:function(){i()}})),[{type:"separator"},{role:"reload"},{role:"forcereload"},{role:"toggledevtools"},{type:"separator"},{role:"resetzoom"},{role:"zoomin"},{role:"zoomout"},{type:"separator"},{role:"togglefullscreen"}])},{label:"Window",submenu:[{role:"minimize"},{role:"zoom"}].concat(Object(r.a)(Object(c.isMac)()?[{type:"separator"},{role:"front"},{type:"separator"},{role:"window"}]:[{role:"close"}]))},{role:"help",submenu:[{label:"Learn More",click:function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}])}(e)))}}var oe=new Proxy({},{get:function(){return function(){return"<mocked>"}}});n(399);var ae=l.cyclicCounter.useCyclicCounter,se=function(){var e=Object(o.useMemo)((function(){return c.isMockedWindows?oe:Object(c.getElectron)().remote.getCurrentWindow()}),[]),t=ae(2,e.isMaximized()?1:0),n=Object(i.a)(t,3),r=n[0],a=n[2].inc;return Object(o.useEffect)((function(){e.on("maximize",(function(){return a()})),e.on("unmaximize",(function(){return a()}))}),[]),Object(f.jsxs)("div",{className:"WindowsIcons",children:[Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.minimize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-minimize"})}),r?Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.unmaximize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-restore"})}):Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.maximize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-maximize"})}),Object(f.jsx)("div",{className:"WindowsIcons-button WindowsIcons-close-button",onClick:function(){return e.close()},children:Object(f.jsx)("i",{className:"mdi mdi-window-close"})})]})},ue=(n(400),function(){return{check:function(e){return e.ctrlKey},explain:"Ctrl"}}),ce=function(){return{check:function(e){return e.altKey},explain:"Alt"}},le={",":"Comma"},de=function(e){return{check:function(t){return t.code===(le[e]?le[e]:"Key".concat(e.toUpperCase()))},explain:e}},pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{check:function(e){return t.every((function(t){return t.check(e)}))},explain:t.map((function(e){return e.explain}))}};function fe(e){return Object(o.useMemo)((function(){var t=Object(c.isElectron)()?ue:ce;return[{name:"Toggle Tags",checker:pe(t(),de("t")),action:e.onToggleTags},{name:"Toggle Snippet List",checker:pe(t(),de("l")),action:e.onToggleSnippetList},{name:"New ...",checker:pe(t(),{check:function(e){return e.shiftKey},explain:"Shift"},de("n")),action:e.onToggleCreateSidebar},{name:"New",checker:pe(t(),de("n")),action:e.onCreateNew},{name:"Quick Access...",checker:pe(t(),de("k")),action:e.onStartQuickAccess},{name:"Search All...",checker:pe(t(),{check:function(e){return e.shiftKey},explain:"Shift"},de("f")),action:e.onStartSearchAll},{name:"Search...",checker:pe(t(),de("f")),action:e.onStartSearch},{name:"Preferences",checker:pe(t(),de(",")),action:e.onStartEditingPreferences}]}),[e])}function he(e){return Object(f.jsx)("div",{className:"BrowserMenu-panel",children:e.map((function(e,t){return Object(f.jsxs)("div",{className:"BrowserMenu-entry",onClick:e.action,children:[Object(f.jsx)("span",{children:e.name}),Object(f.jsx)("span",{children:e.checker.explain.map((function(e,t){return Object(f.jsxs)(a.a.Fragment,{children:[0!==t&&" + ",Object(f.jsx)("kbd",{children:e})]},t)}))})]},t)}))})}var me=function(e){var t=fe(e.menuActions);return Object(f.jsxs)("span",{className:"BrowserMenu-main",children:[he(t),Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal"})]})};function ge(e){var t=fe(e);Object(o.useEffect)((function(){Object(c.isElectron)()&&!Object(c.isWindows)()||window.addEventListener("keydown",(function(e){var n=t.find((function(t){return t.checker.check(e)}));n&&(e.preventDefault(),n.action())}))}),[])}var ve=window.matchMedia("(hover: hover)").matches,ye=c.forceMobile||!ve;var be=c.isInMockedMode?0:333;var Oe=function(e){var t,n=Object(o.useRef)(null),a=Object(o.useRef)(null),s=Object(c.useAppState)(e.settings),u=Object(i.a)(s,3),m=u[0],g=u[1],y=u[2],b=function(){var e=Object(o.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e=function(){return r(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),O=(t=e.settings.sidebarToggles,Object(o.useMemo)((function(){return["create"].concat(Object(r.a)(["snippetList","tags"].map((function(e){return 1===t[e]?e:null})).filter((function(e){return e}))))}),[t])),S=function(e,t,n,i){var a=Object(o.useMemo)((function(){return t.reduce((function(t,i){var o=t.total,a=t.allowedSidebars;return(o+=n[i])<e?{total:o,allowedSidebars:[].concat(Object(r.a)(a),[i])}:{total:o,allowedSidebars:a}}),{total:200,allowedSidebars:[]})}),[e,t,n,i]).allowedSidebars;return Object(o.useCallback)((function(e){return!!ye||a.includes(e)&&1===i[e]}),[i,a])}(b,O,e.settings.sidebarWidths,e.settings.sidebarToggles),w=function(e,t,n){return Object(o.useMemo)((function(){return e-Object.entries(n).reduce((function(e,n){var r=Object(i.a)(n,2),o=r[0],a=r[1];return e+(t(o)?1:0)*a}),0)}),[e,t,n])}(b,S,e.settings.sidebarWidths),E=function(e,t){var n=Object(o.useRef)(10);Object(o.useEffect)((function(){n.current=t}),[t]);var r=Object(o.useState)(null),a=Object(i.a)(r,2),s=a[0],u=a[1],c=Object(o.useCallback)((function(){var t,r=((null===(t=e.current)||void 0===t?void 0:t.scrollLeft)||0)/n.current;u(Number.isInteger(r)?r:null)}),[]);return Object(o.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.addEventListener("scroll",c)}),[e.current]),s}(n,b),x=Object(o.useState)(!1),j=Object(i.a)(x,2),P=j[0],D=j[1],C=Object(o.useState)(!1),M=Object(i.a)(C,2),A=M[0],L=M[1],R=Object(o.useState)(!1),N=Object(i.a)(R,2),F=N[0],B=N[1],G=Object(o.useState)(!1),H=Object(i.a)(G,2),W=H[0],V=H[1],z=Object(o.useState)(!1),K=Object(i.a)(z,2),Y=K[0],X=K[1],ee=Object(o.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(ye){var r=b,i=(null===(e=n.current)||void 0===e?void 0:e.scrollLeft)||0,o=i+t*r,a=t*be;setTimeout((function(){return Object(p.startAnimation)(i,o,a,(function(e){n.current&&(n.current.scrollLeft=e)}))}),100)}}),[]),te=Object(o.useRef)(void 0);Object(o.useEffect)((function(){var t;te.current=null===(t=m.derivedState.tagList.find((function(t){return Object(l.isExactPath)(t.tag.path,e.settings.selectedTagPath)})))||void 0===t?void 0:t.metaData.id}),[m.derivedState.tagList,e.settings.selectedTagPath]);var ne=Object(o.useCallback)((function(e){var t=te.current,n=Object(c.bootstrapSnippet)("","",e.content,e.language,t?[t]:[]);g({type:"createSnippet",snippet:n}),setTimeout((function(){var e;return null===(e=a.current)||void 0===e?void 0:e.focus()}),ye?500:100),ee()}),[]),re=Object(d.useSubject)(),oe=function(e){var t=Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"tags"})}),[]),n=Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"snippetList"})}),[]),r=Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"create",value:1})}),[]),i=Object(o.useCallback)((function(){return e.onAddSnippet({content:Object(c.getConfigForNew)()[2].bootstrap(),language:Object(c.getConfigForNew)()[0]})}),[e.onAddSnippet]),a=Object(o.useCallback)((function(){return e.setIsDoingQuickSearch(!0)}),[]),s=Object(o.useCallback)((function(){return e.setIsDoingSearch(!0)}),[]),u=Object(o.useCallback)((function(){return e.requestSearch.next()}),[e.requestSearch]),l=Object(o.useCallback)((function(){return e.setIsEditingAppSettings(!0)}),[]);return Object(o.useMemo)((function(){return{onToggleTags:t,onToggleSnippetList:n,onToggleCreateSidebar:r,onCreateNew:i,onStartQuickAccess:a,onStartSearchAll:s,onStartSearch:u,onStartEditingPreferences:l}}),[t,n,r,i,a,s,u,l])}({requestSearch:re,dispatchSettings:e.dispatchSettings,onAddSnippet:ne,setIsDoingQuickSearch:L,setIsDoingSearch:B,setIsEditingAppSettings:D});!function(e){Object(o.useEffect)((function(){ie(e)}),[e])}(oe),ge(oe);var ae=Object(o.useCallback)((function(e){g({type:"setSelectedSnippetId",id:e}),ee()}),[]),ue=Object(o.useCallback)((function(t){e.dispatchSettings({type:"selectTagPath",path:t}),ee()}),[]),ce=Object(o.useCallback)((function(){e.dispatchSettings({type:"selectArchive"}),ee()}),[]),le=Object(o.useCallback)((function(e){var t=function(e,t){var n=e.find((function(e){return e.metaData.id===t}));return n&&n.metaData.resolvedTags[0]&&n.metaData.resolvedTags[0].path}(m.derivedState.snippetList,e)||[];ue(t),ae(e)}),[]),de=Object(o.useRef)(e.settings.sidebarToggles);Object(o.useEffect)((function(){de.current=e.settings.sidebarToggles}),[e.settings.sidebarToggles]);var pe=Object(o.useMemo)((function(){return function(e){var t;return 1===(null===(t=de.current)||void 0===t?void 0:t[e])}}),[]),fe=Object(d.useSubject)(),he=Object(d.useSubject)(),ve=Object(o.useCallback)((function(){return pe("snippetList")?fe.next():pe("tags")?he.next():void 0}),[pe,fe,he]),Oe=m.selectedSnippetListEntry,_e=m.derivedState.snippetList.length>0?Object(f.jsx)(U,{snippetList:m.derivedState.snippetList,tagList:m.derivedState.tagList,settings:e.settings,resolvePossiblyOldId:function(e){return Object(c.resolvePossiblyOldId)(e,m)},runItemAction:e.settings.showOnlyDeleted?function(e){var t=e.snippet,n=e.metaData;return g({type:"restoreSnippet",id:n.id,snippet:t})}:function(e){var t=e.snippet,n=e.metaData;return g({type:"deleteSnippet",id:n.id,snippet:t})},listEntryIcon:(e.settings.showOnlyDeleted,"dots-horizontal"),selectedSnippetId:null===Oe||void 0===Oe?void 0:Oe.metaData.id,setSelectedSnippetId:ae,navigateLeft:function(){return S("tags")&&he.next()},navigateRight:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.focus()},requestFocus:fe,enableScrollIntoView:!ye}):Object(f.jsx)(Q,{}),Se=Oe&&Object(f.jsx)(c.SnippetEditor,{snippet:Oe.snippet,metaData:Oe.metaData,settings:e.settings,tagList:m.derivedState.tagList,allowReadMode:!1,onEscape:ve,onChangeHasFocus:X,onChangeIsDragging:V,requestSearch:re,ref:a,uploadFile:null,dispatch:g,availableEditorWidth:w},"".concat(m.selectedSnippetId,"-").concat(m.snippetEditorReloadToken,"-").concat(e.settings.themeName)),we=P&&Object(f.jsx)(d.Modal,{onClose:function(){return D(!1)},children:Object(f.jsx)(J,{})}),Ee=Object(o.useCallback)((function(){return L(!1)}),[]),xe=A&&Object(f.jsx)(h,{onClose:Ee,snippetList:m.derivedState.snippetList}),je=Object(o.useCallback)((function(){return B(!1)}),[]),Pe=F&&Object(f.jsx)(v,{onClose:je,select:le,snippetList:m.derivedState.snippetList}),Te=Object(f.jsxs)("div",{className:"App-draggable-top-row",children:[(Object(c.isWindows)()||c.isMockedWindows)&&Object(f.jsx)(se,{}),!Object(c.isMac)()&&Object(f.jsx)(me,{menuActions:oe})]}),De=Object(f.jsxs)("div",{className:"App-full-screen-aware-top-row",children:[Object(f.jsx)("div",{className:"App-full-screen-aware-top-row-inner",children:Object(f.jsx)(k,{syncState:y})}),!Object(c.isMac)()&&Object(f.jsx)(me,{menuActions:oe})]}),Ce=["App","App-main","ClassicSnippetLayout"];Y&&Ce.push("App-editorHasFocus"),W&&Ce.push("App-isDragging"),e.settings.scrollbarStylingToggle&&Ce.push("App-scrollbarStyling");var ke=Object(o.useMemo)((function(){return[{name:"dispatch",object:g},{name:"dispatchSettings",object:e.dispatchSettings},{name:"settings",object:e.settings}]}),[g,e.dispatchSettings,e.settings]),Me=["App-full-screen-wrapper",I(e.settings.themeName)].concat(Object(r.a)(e.settings.shrinkInFullScreen?["App-main-shrink"]:[]),Object(r.a)(ye?["MobileMode"]:[]));return Object(f.jsx)(p.AppContext.Provider,{value:ke,children:Object(f.jsxs)("div",{className:Me.join(" "),children:[Te,Object(f.jsxs)("div",{className:Ce.join(" "),ref:n,children:[De,Object(f.jsx)("div",{className:"App-full-screen-toggler",onClick:function(){return e.dispatchSettings({type:"toggleShrinkInFullScreen"})},children:Object(f.jsx)("i",{className:e.settings.shrinkInFullScreen?"mdi mdi-arrow-expand":"mdi mdi-arrow-collapse"})}),Object(f.jsx)("div",{className:"App-verticalDivider",children:Object(f.jsxs)("div",{className:"App-horizontalDivider",children:[Object(f.jsx)("div",{className:"App-loadingIndicator"}),ye&&Object(f.jsx)(d.SidePanel,{state:1,size:220,direction:"horizontal",children:Object(f.jsx)(d.DefaultSettingsPage,{children:Object(f.jsx)(q,{isInMobileMode:ye,scrollRight:ee})})}),!ye&&Object(f.jsx)(d.Blurable,{onBlur:function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"create",value:0})},children:Object(f.jsx)(d.SidePanel,{state:S("create")?1:0,size:220,direction:"horizontal",children:Object(f.jsx)(_,{onAdd:ne})})}),Object(f.jsx)(d.ResizableSidePanel,{state:S("tags")?1:0,initialSize:e.settings.sidebarWidths.tags,onStopResize:function(t){return e.dispatchSettings({type:"setSidebarWidth",sidebar:"tags",value:t})},direction:"horizontal",children:m.derivedState.tagList.length>0?Object(f.jsx)(T,{tagList:m.derivedState.tagList,selectedPath:e.settings.selectedTagPath,onSelectPath:ue,onSelectArchive:ce,showOnlyDeleted:e.settings.showOnlyDeleted,onRenamePath:function(e,t){return g({type:"renameTag",newLabelValue:e,path:t})},onDelete:function(e){return g({type:"deleteTag",path:e})},onToggleCollapsed:function(t,n){return e.dispatchSettings({type:"setCollapsedTagPath",path:t,collapsed:n})},collapsedPaths:e.settings.collapsedPaths,requestFocus:he,resolvePossiblyOldId:function(e){return Object(c.resolvePossiblyOldId)(e,m)},navigateRight:function(){var e;return S("snippetList")?fe.next():null===(e=a.current)||void 0===e?void 0:e.focus()}}):Object(f.jsx)($,{noSnippetsYet:0===m.derivedState.snippetList.length})}),Object(f.jsx)(d.ResizableSidePanel,{state:S("snippetList")?1:0,initialSize:e.settings.sidebarWidths.snippetList,onStopResize:function(t){return e.dispatchSettings({type:"setSidebarWidth",sidebar:"snippetList",value:t})},direction:"horizontal",children:_e}),Oe&&Se]})}),we,xe,Pe,Object(f.jsx)("div",{id:"modal-root"})]}),ye&&Object(f.jsx)(Z,{currentSection:E,onAdd:ne})]})})},_e="snip-settings";function Se(){var e=Object(c.useSettings)(Object(o.useMemo)((function(){return function(){var e=localStorage.getItem(_e);return e&&JSON.parse(e)}()}),[])),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){return function(e){localStorage.setItem(_e,JSON.stringify(e))}(n)}),[n]),[n,r]}function we(e){u.a.render(e,document.getElementById("root"))}function Ee(){var e=Se(),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsx)(p.ThemeContext.Provider,{value:n.themeName,children:Object(f.jsx)(Oe,{settings:n,dispatchSettings:r})})}function xe(e){var t=Se(),n=Object(i.a)(t,2),a=n[0],s=n[1],u=K(Object(p.getOriginSettings)(a,"cloud",e.cloudOriginConfig.defaultConfig),e.cloudOriginConfig),c=Object(o.useMemo)((function(){return[{name:"settings",object:a},{name:"dispatchSettings",object:s}]}),[a,s]);switch(u.ready){case!0:return Object(f.jsx)(Ee,{});case"pending":return Object(f.jsx)("span",{children:"Checking login state ..."});case!1:return Object(f.jsx)(p.AppContext.Provider,{value:c,children:Object(f.jsx)("div",{className:Object(r.a)(ye?["MobileMode"]:[]).join(" "),children:Object(f.jsx)("div",{className:["App","App-main","ClassicSnippetLayout",I(a.themeName)].join(" "),children:e.cloudOriginConfig.settingsPage})})})}}var je=c.originConfigs.find((function(e){return"cloud"===e.origin}));!function(){if(Object(c.isElectron)()||c.isInMockedMode)return we(Object(f.jsx)(Ee,{}));we(je?Object(f.jsx)(xe,{cloudOriginConfig:je}):"Loading snip client failed ...")}()}],[[402,1,2]]]);