(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.useDimensions=t.useScrollTop=t.useReducerWithEffects=t.parseOffOrOn=t.useToggle=t.useFactory=t.useScrollIntoViewForSelection=t.makeDefaultSelectionKeyHandlerChain=t.useSelection=t.useAutoFocusingInputField=t.useEditableLabel=t.makeEditableLabelInputFieldBindings=t.makeEditableLabelLabelBindings=t.treeView=t.findIndex=t.makeDefaultTreeViewKeyHandlerChain=t.makeTreeViewWrapperBindings=t.makeInputFieldBindings=t.useInputField=t.isExactPath=t.isSubPath=t.compileTree=t.buildTransitionMap=t.useStateMachine=t.useScrollIntoView=t.useRefsCallback=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.pipe=t.adapt=t.preventDefault=t.buildKeyboardEventHandlerChainItem=t.buildHandler=t.normalizeCounter=t.KEY_CODES=void 0;var o=n(90);Object.defineProperty(t,"KEY_CODES",{enumerable:!0,get:function(){return o.KEY_CODES}}),Object.defineProperty(t,"normalizeCounter",{enumerable:!0,get:function(){return o.normalizeCounter}}),Object.defineProperty(t,"buildHandler",{enumerable:!0,get:function(){return o.buildHandler}}),Object.defineProperty(t,"buildKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.buildKeyboardEventHandlerChainItem}}),Object.defineProperty(t,"preventDefault",{enumerable:!0,get:function(){return o.preventDefault}}),Object.defineProperty(t,"adapt",{enumerable:!0,get:function(){return o.adapt}}),Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return o.pipe}}),Object.defineProperty(t,"adaptHandlerChainItem",{enumerable:!0,get:function(){return o.adaptHandlerChainItem}}),Object.defineProperty(t,"adaptKeyboardEventHandlerChainItem",{enumerable:!0,get:function(){return o.adaptKeyboardEventHandlerChainItem}});var a=n(262);Object.defineProperty(t,"useRefsCallback",{enumerable:!0,get:function(){return a.useRefsCallback}});var s=n(159);Object.defineProperty(t,"useScrollIntoView",{enumerable:!0,get:function(){return s.useScrollIntoView}});var u=n(263);Object.defineProperty(t,"useStateMachine",{enumerable:!0,get:function(){return u.useStateMachine}}),Object.defineProperty(t,"buildTransitionMap",{enumerable:!0,get:function(){return u.buildTransitionMap}});var c=n(138);Object.defineProperty(t,"compileTree",{enumerable:!0,get:function(){return c.compileTree}}),Object.defineProperty(t,"isSubPath",{enumerable:!0,get:function(){return c.isSubPath}}),Object.defineProperty(t,"isExactPath",{enumerable:!0,get:function(){return c.isExactPath}});var l=n(264);Object.defineProperty(t,"useInputField",{enumerable:!0,get:function(){return l.useInputField}}),Object.defineProperty(t,"makeInputFieldBindings",{enumerable:!0,get:function(){return l.makeInputFieldBindings}});var d=n(160),p=n(161),f=n(162),m=n(162);Object.defineProperty(t,"makeTreeViewWrapperBindings",{enumerable:!0,get:function(){return m.makeTreeViewWrapperBindings}}),Object.defineProperty(t,"makeDefaultTreeViewKeyHandlerChain",{enumerable:!0,get:function(){return m.makeDefaultTreeViewKeyHandlerChain}}),Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return m.findIndex}});var h=n(265);t.treeView={useTreeView:f.useTreeView,makeTreeViewEntryBindings:h.makeTreeViewEntryBindings,makeExpandedIconBindings:h.makeExpandedIconBindings,compileEntries:d.compileEntries,updateCollapsedPaths:d.updateCollapsedPaths,makeLeftNavigationHandler:p.makeLeftNavigationHandler,makeRightNavigationHandler:p.makeRightNavigationHandler,makeVerticalNavigationHandler:p.makeVerticalNavigationHandler,makeTreeViewWrapperBindings:f.makeTreeViewWrapperBindings,makeDefaultTreeViewKeyHandlerChain:f.makeDefaultTreeViewKeyHandlerChain};var g=n(163);Object.defineProperty(t,"makeEditableLabelLabelBindings",{enumerable:!0,get:function(){return g.makeEditableLabelLabelBindings}}),Object.defineProperty(t,"makeEditableLabelInputFieldBindings",{enumerable:!0,get:function(){return g.makeEditableLabelInputFieldBindings}});var v=n(163);Object.defineProperty(t,"useEditableLabel",{enumerable:!0,get:function(){return v.useEditableLabel}});var y=n(266);Object.defineProperty(t,"useAutoFocusingInputField",{enumerable:!0,get:function(){return y.useAutoFocusingInputField}}),i(n(165),t);var b=n(267);Object.defineProperty(t,"useSelection",{enumerable:!0,get:function(){return b.useSelection}}),Object.defineProperty(t,"makeDefaultSelectionKeyHandlerChain",{enumerable:!0,get:function(){return b.makeDefaultSelectionKeyHandlerChain}}),Object.defineProperty(t,"useScrollIntoViewForSelection",{enumerable:!0,get:function(){return b.useScrollIntoViewForSelection}});var O=n(75);Object.defineProperty(t,"useFactory",{enumerable:!0,get:function(){return O.useFactory}});var _=n(164);Object.defineProperty(t,"useToggle",{enumerable:!0,get:function(){return _.useToggle}}),Object.defineProperty(t,"parseOffOrOn",{enumerable:!0,get:function(){return _.parseOffOrOn}});var S=n(102);Object.defineProperty(t,"useReducerWithEffects",{enumerable:!0,get:function(){return S.useReducerWithEffects}});var x=n(268);Object.defineProperty(t,"useScrollTop",{enumerable:!0,get:function(){return x.useScrollTop}});var E=n(269);Object.defineProperty(t,"useDimensions",{enumerable:!0,get:function(){return E.useDimensions}}),i(n(270),t),i(n(140),t),i(n(271),t),i(n(272),t),i(n(166),t),i(n(273),t),i(n(66),t),i(n(167),t),i(n(139),t),i(n(274),t),i(n(175),t),i(n(176),t),i(n(286),t),i(n(174),t),i(n(178),t),i(n(287),t),i(n(288),t),i(n(142),t),i(n(77),t),i(n(104),t),i(n(179),t),i(n(289),t),i(n(180),t),i(n(290),t),i(n(291),t),i(n(292),t),i(n(181),t),i(n(293),t)},,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.applicationPaths=t.Toolbar=t.errorRenderers=t.isMockedWindows=t.forceMobile=t.isInMockedMode=t.noopOriginConfig=t.renderError=t.OriginReadynessContext=t.originConfigs=t.useSettings=t.renderSnippet=t.findOccurencesAndCompileSearchResults=t.renderSubSnippet=t.filterSubSnippets=t.extractSubSnippets=t.resolveToOldestId=t.resolveToNewestId=t.isWindows=t.isMac=t.isElectron=t.ChangePasswordForm=t.ForgotPasswordForm=t.SignInForm=t.SignUpForm=t.getPluginByLanguage=t.getConfigsForButtons=t.getConfigsForInputs=t.getConfigForNew=t.SnippetEditor=t.ToolbarEvents=t.useAppState=t.getElectron=t.bootstrapSnippet=void 0;var o=n(72),a=n(157),s=n(137),u=n(158),c=n(63);Object.defineProperty(t,"bootstrapSnippet",{enumerable:!0,get:function(){return c.bootstrapSnippet}});var l=n(74);Object.defineProperty(t,"getElectron",{enumerable:!0,get:function(){return l.getElectron}});var d=n(259);Object.defineProperty(t,"useAppState",{enumerable:!0,get:function(){return d.useMegaSyncedAppState}});var p=n(443);Object.defineProperty(t,"ToolbarEvents",{enumerable:!0,get:function(){return p.ToolbarEvents}});var f=n(445);Object.defineProperty(t,"SnippetEditor",{enumerable:!0,get:function(){return f.SnippetEditor}});var m=n(59);Object.defineProperty(t,"getConfigForNew",{enumerable:!0,get:function(){return m.getConfigForNew}}),Object.defineProperty(t,"getConfigsForInputs",{enumerable:!0,get:function(){return m.getConfigsForInputs}}),Object.defineProperty(t,"getConfigsForButtons",{enumerable:!0,get:function(){return m.getConfigsForButtons}}),Object.defineProperty(t,"getPluginByLanguage",{enumerable:!0,get:function(){return m.getPluginByLanguage}});var h=n(234);Object.defineProperty(t,"SignUpForm",{enumerable:!0,get:function(){return h.SignUpForm}});var g=n(233);Object.defineProperty(t,"SignInForm",{enumerable:!0,get:function(){return g.SignInForm}});var v=n(232);Object.defineProperty(t,"ForgotPasswordForm",{enumerable:!0,get:function(){return v.ForgotPasswordForm}});var y=n(231);Object.defineProperty(t,"ChangePasswordForm",{enumerable:!0,get:function(){return y.ChangePasswordForm}});var b=n(29);Object.defineProperty(t,"isElectron",{enumerable:!0,get:function(){return b.isElectron}}),Object.defineProperty(t,"isMac",{enumerable:!0,get:function(){return b.isMac}}),Object.defineProperty(t,"isWindows",{enumerable:!0,get:function(){return b.isWindows}});var O=n(447);Object.defineProperty(t,"resolveToNewestId",{enumerable:!0,get:function(){return O.resolveToNewestId}});var _=n(448);Object.defineProperty(t,"resolveToOldestId",{enumerable:!0,get:function(){return _.resolveToOldestId}});var S=n(450);Object.defineProperty(t,"extractSubSnippets",{enumerable:!0,get:function(){return S.extractSubSnippets}});var x=n(451);Object.defineProperty(t,"filterSubSnippets",{enumerable:!0,get:function(){return x.filterSubSnippets}});var E=n(453);Object.defineProperty(t,"renderSubSnippet",{enumerable:!0,get:function(){return E.renderSubSnippet}});var j=n(95);Object.defineProperty(t,"findOccurencesAndCompileSearchResults",{enumerable:!0,get:function(){return j.findOccurencesAndCompileSearchResults}});var w=n(454);Object.defineProperty(t,"renderSnippet",{enumerable:!0,get:function(){return w.renderSnippet}});var P=n(455);Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return P.useSettings}});var D=n(116);Object.defineProperty(t,"originConfigs",{enumerable:!0,get:function(){return D.originConfigs}}),Object.defineProperty(t,"OriginReadynessContext",{enumerable:!0,get:function(){return D.OriginReadynessContext}});var T=n(456);Object.defineProperty(t,"renderError",{enumerable:!0,get:function(){return T.renderError}});var C=n(230);Object.defineProperty(t,"noopOriginConfig",{enumerable:!0,get:function(){return C.noopOriginConfig}});var I=n(64);Object.defineProperty(t,"isInMockedMode",{enumerable:!0,get:function(){return I.isInMockedMode}}),Object.defineProperty(t,"forceMobile",{enumerable:!0,get:function(){return I.forceMobile}}),Object.defineProperty(t,"isMockedWindows",{enumerable:!0,get:function(){return I.isMockedWindows}}),t.errorRenderers=[o.fileStorageErrorRenderer,a.cloudOriginErrorRenderer,u.fileOriginErrorRenderer,s.originErrorRenderer];var M=n(109);Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return M.Toolbar}}),i(n(239),t),i(n(150),t);var k=n(238);Object.defineProperty(t,"applicationPaths",{enumerable:!0,get:function(){return k.applicationPaths}})},,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(297),t),i(n(298),t),i(n(299),t),i(n(300),t)},,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.useRequestFocus=t.TreeView=t.SwitchedEditableLabel=t.SidePanel=t.Selection=t.ScrollShadows=t.ResizableSidePanel=t.Modal=t.Blurable=t.AutoFocusingInputField=t.Autocomplete=void 0,n(457);var o=n(458);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return o.Autocomplete}});var a=n(241);Object.defineProperty(t,"AutoFocusingInputField",{enumerable:!0,get:function(){return a.AutoFocusingInputField}});var s=n(242);Object.defineProperty(t,"Blurable",{enumerable:!0,get:function(){return s.Blurable}});var u=n(243);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return u.Modal}});var c=n(462);Object.defineProperty(t,"ResizableSidePanel",{enumerable:!0,get:function(){return c.ResizableSidePanel}});var l=n(245);Object.defineProperty(t,"ScrollShadows",{enumerable:!0,get:function(){return l.ScrollShadows}});var d=n(466);Object.defineProperty(t,"Selection",{enumerable:!0,get:function(){return d.Selection}});var p=n(244);Object.defineProperty(t,"SidePanel",{enumerable:!0,get:function(){return p.SidePanel}});var f=n(246);Object.defineProperty(t,"SwitchedEditableLabel",{enumerable:!0,get:function(){return f.SwitchedEditableLabel}});var m=n(468);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return m.TreeView}});var h=n(240);Object.defineProperty(t,"useRequestFocus",{enumerable:!0,get:function(){return h.useRequestFocus}});var g=n(154);Object.defineProperty(t,"makeEventListenerManager",{enumerable:!0,get:function(){return g.makeEventListenerManager}}),i(n(470),t),i(n(472),t),i(n(473),t),i(n(474),t)},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=t.isMac=t.isElectron=t.sortByUpdatedAt=void 0,t.sortByUpdatedAt=function(e,t){return e.updatedAt===t.updatedAt?0:e.updatedAt<t.updatedAt?1:-1},t.isElectron=function(){return void 0!==(window&&window.process&&window.process.versions.electron)},t.isMac=function(){return window&&window.process&&"darwin"===window.process.platform},t.isWindows=function(){return window&&window.process&&"win32"===window.process.platform}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValid=void 0;var r=n(3),i=n(35);t.isValid=function(e,t){return!i.isTag(t)||!e.some((function(e){var n=e.item;return n.id!==t.id&&i.isTag(n)&&!0!==n.permanent.obsolete.state&&r.isExactPath(n.document.path,t.document.path)}))}},,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=t.getTagsAsStringArray=t.rewriteItems=t.hasAnyItems=t.addItem=t.dropItem=t.updateDisplayMode=t.addTag=t.deleteByPath=t.renamePaths=t.maybeAddNewPath=t.normalizeTag=t.turnTagIntoPath=t.turnPathIntoTag=t.SEPARATOR=t.initTag=void 0;var o=n(38),a=n(3),s=n(12),u=n(63),c=n(48),l=n(92),d=n(107),p=n(30);function f(e){return{path:e,archived:!1,displayMode:{type:"list",items:[]}}}function m(e){return e.join(t.SEPARATOR)}function h(e,t,n,r){void 0===r&&(r=u.generateLocalId);var i,s=function(e,t){return o.getAll(t.store).filter(E).find((function(t){return!t.document.archived&&a.isExactPath(t.document.path,e)}))}(t,e),l=!1;if(s)i=s.id;else{var d=r();i=d,l=!0,e=c.save(e,d,f(t),p.isValid,{config:{permanent:{origin:n,documentType:"tag",version:0,obsolete:{state:!1}}}})}return{store:e,id:i,isNew:l}}function g(e){return e.items.map((function(e){return s.isDashboardGroupDefinition(e)?g(e):[e]})).flat()}function v(e,t){if(e.type===t.type)return t;if("list"===e.type&&"dashboard"===t.type)return{type:"dashboard",rootDefinition:{axis:"X",items:[{axis:"Y",items:e.items.slice(0,Math.ceil(e.items.length/2)).map((function(e){return{item:e}}))},{axis:"Y",items:e.items.slice(Math.ceil(e.items.length/2),e.items.length).map((function(e){return{item:e}}))}]}};if("dashboard"===e.type&&"list"===t.type)return{type:"list",items:g(e.rootDefinition).map((function(e){return e.item}))};throw"unexpected state"}function y(e,t){return r(r({},e),{items:e.items.map((function(e){return s.isDashboardGroupDefinition(e)?y(e,t):e})).filter((function(e){return!!s.isDashboardGroupDefinition(e)||e.item!==t}))})}function b(e,t){switch(e.type){case"list":return r(r({},e),{items:e.items.filter((function(e){return t!==e}))});case"dashboard":return r(r({},e),{rootDefinition:y(e.rootDefinition,t)})}}function O(e,t){switch(e.type){case"list":return r(r({},e),{items:i(i([],e.items.filter((function(e){return t!==e}))),[t])});case"dashboard":return g(e.rootDefinition).map((function(e){return e.item})).includes(t)?e:r(r({},e),{rootDefinition:(n=e.rootDefinition,o=t,r(r({},n),{items:n.items.map((function(e,t){if(0!==t)return e;if(!s.isDashboardGroupDefinition(e))throw"unexpected state";return r(r({},e),{items:i([{item:o}],e.items)})}))}))})}var n,o}function _(e,t){return e.items.some((function(e){return s.isDashboardGroupDefinition(e)?_(e,t):t.includes(e.item)}))}function S(e,t){var n=e.items.reduce((function(e,n){var o=e.needsSync,a=e.remappedItems;if(s.isDashboardGroupDefinition(n)){var u=S(n,t);return{needsSync:u.needsSync||o,remappedItems:i(i([],a),[u.dashboardGroupDefinition])}}var c=d.resolveToNewestId(t,n.item);return c!==n.item?{needsSync:!0,remappedItems:i(i([],a),[r(r({},n),{item:c})])}:{needsSync:o,remappedItems:i(i([],a),[n])}}),{needsSync:!1,remappedItems:new Array}),o=n.needsSync,a=n.remappedItems;return{needsSync:o,dashboardGroupDefinition:r(r({},e),{items:a})}}function x(e,t){switch(e.type){case"list":var n=e.items.reduce((function(e,n){var r=e.needsSync,o=e.remappedItems,a=d.resolveToNewestId(t,n);return a!==n?{needsSync:!0,remappedItems:i(i([],o),[a])}:{needsSync:r,remappedItems:i(i([],o),[n])}}),{needsSync:!1,remappedItems:new Array}),o=n.needsSync,a=n.remappedItems;return{needsSync:o,displayMode:r(r({},e),{items:a})};case"dashboard":var s=S(e.rootDefinition,t),u=(o=s.needsSync,s.dashboardGroupDefinition);return{needsSync:o,displayMode:r(r({},e),{rootDefinition:u})}}}function E(e){return"tag"===e.permanent.documentType}t.initTag=f,t.SEPARATOR=" / ",t.turnPathIntoTag=m,t.turnTagIntoPath=function(e){return e.split(t.SEPARATOR)},t.normalizeTag=function(e){return e.split(t.SEPARATOR.trim()).map((function(e){return e.trim()})).join(t.SEPARATOR)},t.maybeAddNewPath=h,t.renamePaths=function(e,t,n){if(""===t.trim())return e;var i=n.filter((function(e,t){return t!==n.length-1})).concat([t]),s=o.getAll(e.store).filter(E);return s.find((function(e){return a.isExactPath(e.document.path,i)}))?e:s.reduce((function(e,i){var o=!0!==i.document.archived&&i.document.path;if(o&&a.isSubPath(n,o)){var s=o.map((function(e){return e}));return s[n.length-1]=t,c.save(e,i.id,r(r({},i.document),{path:s}),p.isValid)}return e}),e)},t.deleteByPath=function(e,t){var n=o.getAll(e.store).filter(E).find((function(e){return a.isExactPath(t,e.document.path)}));return n?c.save(e,n.id,r(r({},n.document),{archived:!0}),p.isValid):e},t.addTag=function(e,t,n){return h(e,t,n).store},t.updateDisplayMode=function(e,t,n){var i=l.get(e,t);if(!i)return e;var o=r(r({},i.document),{displayMode:v(i.document.displayMode,n)});return c.save(e,t,o,p.isValid)},t.dropItem=function(e,t){return r(r({},e),{displayMode:b(e.displayMode,t)})},t.addItem=function(e,t){return r(r({},e),{displayMode:O(e.displayMode,t)})},t.hasAnyItems=function(e,t){switch(e.displayMode.type){case"list":return e.displayMode.items.some((function(e){return t.includes(e)}));case"dashboard":return _(e.displayMode.rootDefinition,t)}},t.rewriteItems=function(e){return o.getAll(e.store).filter(E).reduce((function(t,n){var i=x(n.document.displayMode,e),o=i.needsSync,a=i.displayMode,s=r(r({},n.document),{displayMode:a});return o?c.save(t,n.id,s,p.isValid):t}),e)},t.getTagsAsStringArray=function(e){return e.filter((function(e){return!e.tag.archived})).map((function(e){return m(e.tag.path)}))},t.isTag=E},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.getAllIndexed=t.getAll=t.get=t.save=void 0,t.save=function(e,t,n){return e.filter((function(e){return e.id!==t})).concat({id:t,item:n})},t.get=function(e,t){var n=e.find((function(e){return e.id===t}));return(null===n||void 0===n?void 0:n.item)||null},t.getAll=function(e){return e.map((function(e){return e.item}))},t.getAllIndexed=function(e){return e},t.del=function(e,t){return e.filter((function(e){return e.id!==t}))}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dex=void 0,t.dex={pos:{X:function(e){return e.x},Y:function(e){return e.y}},size:{X:function(e){return e.width},Y:function(e){return e.height}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var i=n(106),o=n(107);t.save=function(e,t,n,a,s){var u=o.resolveToNewestId(e,t),c=i.saveDirty(e.store,u,n,a,r(r({},s||{}),{updatedAt:(null===s||void 0===s?void 0:s.updatedAt)?s.updatedAt:new Date}));return c===e.store?e:r(r({},e),{store:c})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildUpArrowKeyMap=t.buildEscapeKeyMap=t.prepareMenuItemIterator=t.buildListItemKeyMap=t.makeUniversalLiftAndSinkCommand=t.getListItemTypes=t.getTextFromDoc=t.initDoc=t.docJsonFromString=t.createProseMirrorDocJson=t.docToJson=t.completeSchema=void 0;var i=n(46),o=n(46),a=n(4),s=n(4),u=n(143),c=n(193),l=n(194),d=n(39),p=n(111),f=n(144),m=n(195),h=n(342),g=u.schema.spec.nodes;g=f.appendCustomParagraphNode(g),g=(g=o.addListNodes(g,"paragraph block*","block")).append(r(r({},l.todoListNodes),{resizableImage:c.resizableImage})),g=h.appendReminderNode(g);var v=u.schema.spec.marks;function y(e){return JSON.parse(JSON.stringify(e.toJSON()))}function b(e){return{content:e.split("\n").map(O),type:"doc"}}function O(e){var t={content:[{text:e,type:"text"}],type:"paragraph"};return""===e&&delete t.content,t}function _(e,t){return a.Node.fromJSON(e,t)}function S(e,t){var n,r={};return e.forEach((function(e){return e&&(r[e.name]=t(e))})),n=r,function(e,t){for(var r=e.selection.$from,i=r.depth;i>0;i--)if(n[r.node(i).type.name])return n[r.node(i).type.name](e,t);return!1}}function x(e){return[e.nodes.list_item,e.nodes.todo_item].filter((function(e){return void 0!==e}))}function E(e){return{universalLift:S(e,i.liftListItem),universalSink:S(e,i.sinkListItem)}}v=p.customizeLinkMark(v),v=m.appendCustomMarks(v),t.completeSchema=new s.Schema({nodes:g,marks:v}),t.docToJson=y,t.createProseMirrorDocJson=b,t.docJsonFromString=function(e,t){return y(function(e,t){return _(e,b(t))}(e,t))},t.initDoc=_,t.getTextFromDoc=function(e){return e.textBetween(0,e.content.size,"\n\n")},t.getListItemTypes=x,t.makeUniversalLiftAndSinkCommand=E,t.buildListItemKeyMap=function(e){var t=E(x(e)),n=t.universalLift,r=t.universalSink;return d.keymap({Tab:r,"Shift-Tab":n})},t.prepareMenuItemIterator=function(e,t){var n={};t.forEach((function(e){var t=e.spec;return n[t.class]={}}));var r=["active","enable","select"],i={active:"isActive",enable:"isEnabled",select:"isSelectable"};return function(o,a){if(void 0===a&&(a=!1),a){var s={event:"menuItemStateChange",content:n};setTimeout((function(){e(s)}))}t.forEach((function(t){var a=t.spec;r.forEach((function(t){return a[t]&&function(t,r,o){var a=n[t],s=i[r];a[s]!==o&&(a[s]=o,e({event:"menuItemStateChange",content:n}))}(a.class,t,!!a[t](o))}))}))}},t.buildEscapeKeyMap=function(e){return d.keymap({Escape:e})},t.buildUpArrowKeyMap=function(e){return d.keymap({ArrowUp:e})}},,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function o(e){return e&&e.isKnownError}Object.defineProperty(t,"__esModule",{value:!0}),t.errorWithDetails=t.isKnownError=void 0,t.isKnownError=o,t.errorWithDetails=function(e,t){var n=o(e)?e:{isKnownError:!0,stack:e?[{originalError:e}]:[]};return r(r({},n),{stack:i(i([],n.stack),[t])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootstrapContent=t.bootstrapContentFromInput=t.getConfigForNew=t.getConfigsForButtons=t.getConfigsForInputs=t.getPluginByLanguage=t.getPluginByExtension=t.plugins=void 0;var r=n(314),i=n(340),o=n(368),a=n(381);function s(e){return t.plugins.find((function(t){return t.testLanguage(e)}))}function u(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaButton})).map((function(e){return[e.language,e.icon,e.createSnippetConfig.viaButton]}))}t.plugins=[r.CodeMirrorPlugin,i.RichTextPlugin,o.TodoListPlugin,a.PostItPlugin],t.getPluginByExtension=function(e){return t.plugins.find((function(t){return null!==t.testExtension(e)}))},t.getPluginByLanguage=s,t.getConfigsForInputs=function(){return t.plugins.filter((function(e){return null!==e.createSnippetConfig.viaInput})).map((function(e){return[e.language,e.createSnippetConfig.viaInput]}))},t.getConfigsForButtons=u,t.getConfigForNew=function(){return u().find((function(e){return e[0]===i.LANGUAGE}))},t.bootstrapContentFromInput=function(e,t){var n,r=s(e);if(!r)throw"no plugin found for language "+e;return null===(n=r.createSnippetConfig.viaInput)||void 0===n?void 0:n.bootstrap(t)},t.bootstrapContent=function(e){var t,n=s(e);if(!n)throw"no plugin found for language "+e;return null===(t=n.createSnippetConfig.viaButton)||void 0===t?void 0:t.bootstrap()}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSearchRelevance=t.findOccurences=t.bootstrapSnippet=t.generateLocalId=t.LOCAL_ID_PREFIX=void 0;var r=n(64);t.LOCAL_ID_PREFIX="LOCAL-";var i=r.isInMockedMode?0:(new Date).getTime();t.generateLocalId=function(){return""+t.LOCAL_ID_PREFIX+i++};t.bootstrapSnippet=function(e,t,n){return{name:e,content:t,language:n,archived:!1}},t.findOccurences=function(e,t){var n,r=[];try{n=new RegExp(t.join("|"),"g")}catch(a){return r}for(var i,o=0;(i=n.exec(e))&&o++<1e3;)r.push({start:i.index,end:i.index+i[0].length,searchTerm:i[0]});return r},t.calculateSearchRelevance=function(e,t){for(var n=e.length,r=null,i=-1,o=function(e){var o=t.findIndex((function(t){return t===e.searchTerm}));if(o<=i)i=o;else if(-1!==i&&o-i===1){var a=e.start-(r&&r.end||0);a<4?n=n+1e3-a:n+=Math.max(0,100-a),i=o}else i=o;r=e},a=0,s=e;a<s.length;a++){o(s[a])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInMockedMode=t.isMockedWindows=t.forceMobile=t.dataSetName=void 0;var r=["initial","empty","samples","quickAccess","error","delay"];t.dataSetName=function(){var e=new URLSearchParams(document.location.search).get("mock");if(null===e)return null;if(r.includes(e))return e;throw"invalid data set name"}(),t.forceMobile="true"===new URLSearchParams(document.location.search).get("forceMobile"),t.isMockedWindows="true"===new URLSearchParams(document.location.search).get("mockWindows"),t.isInMockedMode=null!==t.dataSetName},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function o(e,t){return e.map((function(e,n){return e-t[n]/2}))}function a(e){var t=function(e){return e.reduce((function(e,t){var n=e[e.length-1]||0;return i(i([],e),[n+t])}),new Array)}(e);return{entryEndPositions:t,entryMiddlePositions:o(t,e)}}function s(e,t,n){return e-(t-n)}function u(e,t,n,i){var o=a(t);return r(r({originalIndex:e,targetIndex:e,initialHandlePosition:n,currentHandlePosition:n,entrySizes:t},o),{originalEndPosition:o.entryEndPositions[e],handleOffsetRelativeToEndPosition:s(o.entryEndPositions[e],n,i),crossedItemIndex:null,offset:i})}function c(e,t){if(e<t)return t-1;if(t<e)return t+1;throw"unexpected state"}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareListDragStateForAnimation=t.moveEntryInList=t.getListDragOffset=t.onListDrag=t.onStartListDrag=t.calculateHandleOffsetRelativeToEndPosition=t.calculatePositions=void 0,t.calculatePositions=a,t.calculateHandleOffsetRelativeToEndPosition=s,t.onStartListDrag=u;function l(e,t){if(null===e.crossedItemIndex)return null;var n=e.entryEndPositions[e.crossedItemIndex]-e.entrySizes[e.crossedItemIndex]-2,r=e.entryEndPositions[e.crossedItemIndex]+2;return n<=t&&t<=r?e.crossedItemIndex:null}function d(e,t){var n=e-t.initialHandlePosition+t.originalEndPosition,i=n-t.entrySizes[t.targetIndex],o=t.entryMiddlePositions.findIndex((function(e,r){return r<t.targetIndex&&i<e||t.targetIndex<r&&e<n}));o=-1===o?t.targetIndex:o;var s=r(r({},t),{currentHandlePosition:e,targetIndex:o});s=function(e,t){return e.targetIndex===t.targetIndex?t:r(r({},t),{crossedItemIndex:c(e.targetIndex,t.targetIndex)})}(t,s),s=function(e,t){if(e.targetIndex===t.targetIndex)return t;var n=p(e.entrySizes,e.targetIndex,t.targetIndex);return r(r(r({},t),{entrySizes:n}),a(n))}(t,s);var u=n-s.handleOffsetRelativeToEndPosition;return s=r(r({},s),{crossedItemIndex:l(s,u)})}function p(e,t,n){var r=e.map((function(e){return e})),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}t.onListDrag=d,t.getListDragOffset=function(e,t){return t.originalIndex===e?t.currentHandlePosition-t.initialHandlePosition:t.originalIndex<t.targetIndex&&t.originalIndex<e&&e<=t.targetIndex?-t.entrySizes[t.targetIndex]:t.originalIndex>t.targetIndex&&t.originalIndex>e&&e>=t.targetIndex?t.entrySizes[t.targetIndex]:0},t.moveEntryInList=p,t.prepareListDragStateForAnimation=function(e,t,n){var r=u(n,e=p(e,t,n),0,0),i=t<n?[r.entryEndPositions[n]-r.entrySizes[n],r.entryEndPositions[t]-r.entrySizes[t]]:[r.entryEndPositions[n],r.entryEndPositions[t]],o=i[0],a=i[1];return r.initialHandlePosition=o,d(a,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVERY_HOUR=t.ONE_WEEK=t.deserializeJson=t.serializeJson=t.shouldComponentUpdateForSnippet=void 0,t.shouldComponentUpdateForSnippet=function(e,t){return e.content!==t.content||e.language!==t.language||e.name!==t.name},t.serializeJson=function(e){return JSON.stringify(e)},t.deserializeJson=function(e){return JSON.parse(e)},t.ONE_WEEK=6048e5,t.EVERY_HOUR=36e5},,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileStorageErrorRenderer=t.extractFileStorageErrorTitleAndDescription=t.isFileStorageError=t.compileFileNotAccessibleErrorDetails=t.compileNotParsableErrorDetails=t.compileFileStorageNotSupportedErrorDetails=t.compileDirectoryNotAccessibleErrorDetails=void 0;var i=r(n(1)),o=n(73);function a(e){return!!e&&"file-storage"===e.layer}function s(e){if(!a(e))return null;switch(e.type){case"directory-not-accessible":return{title:"Unable to access directory",description:e.directory?'Directory "'+e.directory+'" is not accessible. This might be a permission problem.':"No directory specified."};case"not-supported":return{title:"File System not supported",description:"File System access is available on the Desktop Client only."};case"not-parsable":return{title:"Parsing file failed",description:"Unable to parse file "+e.filename+"."};case"file-not-accessible":return{title:"Unable to access file",description:"Error during '"+e.operation+"' operation. This might be a permission problem."}}}t.compileDirectoryNotAccessibleErrorDetails=function(e){return{layer:"file-storage",type:"directory-not-accessible",directory:e}},t.compileFileStorageNotSupportedErrorDetails=function(){return{layer:"file-storage",type:"not-supported"}},t.compileNotParsableErrorDetails=function(e){return{layer:"file-storage",type:"not-parsable",filename:e}},t.compileFileNotAccessibleErrorDetails=function(e,t){return{layer:"file-storage",type:"file-not-accessible",operation:e,filename:t}},t.isFileStorageError=a,t.extractFileStorageErrorTitleAndDescription=s;t.fileStorageErrorRenderer=function(e){var t=s(e);return t?i.default.createElement(o.SimpleErrorView,{title:t.title,description:t.description}):null}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleErrorView=void 0;var i=r(n(1));n(258);t.SimpleErrorView=function(e){return i.default.createElement("div",{className:"SimpleErrorView-outer"},i.default.createElement("strong",null,e.title),i.default.createElement("div",null,e.description))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElectron=void 0,t.getElectron=function(){return window.require("electron")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFactory=void 0;var r=n(1);t.useFactory=function(e,t,n){return r.useMemo((function(){return e(t,n)}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dre=void 0,t.dre={start:{X:function(e){return{left:e}},Y:function(e){return{top:e}}},size:{X:function(e){return{width:e}},Y:function(e){return{height:e}}},pos:{X:function(e){return{x:e}},Y:function(e){return{y:e}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDraggedItem=void 0,t.isDraggedItem=function(e,t,n){return e.source.index===t&&e.source.listDragState.originalIndex===n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.compileRepeatDatesBetween=t.compileNextRepeatDate=t.compileSingle=t.mergeDescriptions=t.normalizeWeirdDayFormat=t.initDescription=t.timeUnitToMilliseconds=void 0;var o=n(3);function a(e){return o.normalizeCounter(e-1,7)}function s(e,n){var r=a(new Date(n).getUTCDay());return{shift:(0<=e-r?e-r:7-r+e)*t.timeUnitToMilliseconds.day,diff:e-r}}function u(e,t){if(e&&t){if("week"===e.timeUnit&&"month"===t.timeUnit)return{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:e.target[0],n:e.frequency}};if("week"===e.timeUnit&&"week"===t.timeUnit)return r(r(r({},e),t),{target:i(i([],e.target?e.target:[]),t.target?t.target:[])});if(e.timeUnit!==t.timeUnit)throw"Expected timeUnits of repeat patterns to match!";return r(r({},e),t)}return e||(t||void 0)}t.timeUnitToMilliseconds={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},t.initDescription=function(){return{dateDescription:{}}},t.normalizeWeirdDayFormat=a,t.mergeDescriptions=function(e,t){return r(r(r({},e),t),{dateDescription:r(r({},e.dateDescription),t.dateDescription),repeatDescription:u(e.repeatDescription,t.repeatDescription)})};function c(e,t,n,r){var i=t-e;if(i<0)return e;var o=Math.floor(i/r);return e+(Math.floor(o/n.frequency)+1)*n.frequency*r}function l(e,n,r){var i=new Date(e);i.setUTCDate(1);var o=s(n,i.getTime()).shift;return o+=(r-1)*t.timeUnitToMilliseconds.week,i.getTime()+o}function d(e,t){var n=new Date(e),r=new Date(t);return r.setUTCSeconds(n.getUTCSeconds()),r.setUTCMinutes(n.getUTCMinutes()),r.setUTCHours(n.getUTCHours()),r.getTime()}function p(e,t){var n=new Date(e),r=new Date(t);return r.setUTCFullYear(n.getUTCFullYear()+1),r.getTime()}function f(e,t,n){switch(n.timeUnit){case"second":return c(e,t,n,1e3);case"minute":return c(e,t,n,6e4);case"hour":return c(e,t,n,36e5);case"day":return c(e,t,n,864e5);case"week":return n.target&&n.target.length>0?n.target.map((function(t){return s(t,e)})).map((function(t){var n=t.shift;return e+n})).map((function(e){return c(e,t,n,6048e5)})).filter((function(e){return t<e})).sort((function(e,t){return e-t}))[0]:c(e,t,n,6048e5);case"month":if(!n.target)return c(e,t,n,2592e6);switch(n.target.type){case"nth-weekday":var r=d(e,t),i=l(r,n.target.weekday,n.target.n);if(i<=t){var o=new Date(r);o.setUTCDate(1),o.setUTCMonth(o.getUTCMonth()+1);var a=l(o.getTime(),n.target.weekday,n.target.n);return d(e,a)}return d(e,i)}throw"unexpected target type";case"year":if(!n.target)return t<e?e:p(t,e);switch(n.target.type){case"date-and-month":var u=function(e,t,n){var r=new Date(e);return r.setUTCDate(t),r.setUTCMonth(n),r.getTime()}(e,n.target.date,n.target.month);return t<u?u:p(t,u)}}}t.compileSingle=function(e,n){var r,i,a,u,c,l=new Date(e),d=function(e,n){var r=void 0!==e.dateDescription.weekday?s(e.dateDescription.weekday,n):{shift:0,diff:0},i=r.shift,o=r.diff;return e.dateDescription.nextWeekday&&0===o&&(i+=t.timeUnitToMilliseconds.week),e.dateDescription.nextWeek&&0<=o&&(i+=t.timeUnitToMilliseconds.week),e.dateDescription.tomorrow&&(i+=t.timeUnitToMilliseconds.day),e.dateDescription.shift&&e.dateDescription.shiftTimeUnit&&(i+=e.dateDescription.shift*t.timeUnitToMilliseconds[e.dateDescription.shiftTimeUnit]),i}(n,e),p=void 0!==n.dateDescription.date&&void 0!==n.dateDescription.month,f=null!==(r=n.dateDescription.hours)&&void 0!==r?r:l.getUTCHours();f=n.dateDescription.timeOfDay?o.normalizeCounter(f,12):o.normalizeCounter(f,24),f="PM"===n.dateDescription.timeOfDay?f+12:f;var m=p||void 0!==n.dateDescription.weekday||!0===n.dateDescription.nextWeek,h=void 0!==n.repeatDescription,g=!m&&!h&&(d<t.timeUnitToMilliseconds.hour||"minute"===n.dateDescription.shiftTimeUnit),v=!m&&!h&&(d<t.timeUnitToMilliseconds.minute||"minute"===n.dateDescription.shiftTimeUnit&&d<2*t.timeUnitToMilliseconds.minute||"second"===n.dateDescription.shiftTimeUnit),y=d<t.timeUnitToMilliseconds.day&&!m?5:15,b=d<2*t.timeUnitToMilliseconds.minute&&!m?30:60,O=null!==(i=n.dateDescription.minutes)&&void 0!==i?i:g?l.getUTCMinutes():Math.round(l.getUTCMinutes()/y)*y,_=null!==(a=n.dateDescription.seconds)&&void 0!==a?a:v?l.getUTCSeconds():o.normalizeCounter(Math.round(l.getUTCSeconds()/b)*b,60),S=null!==(u=n.dateDescription.date)&&void 0!==u?u:l.getUTCDate(),x=null!==(c=n.dateDescription.month)&&void 0!==c?c:l.getUTCMonth(),E=new Date(l);E.setUTCHours(f),E.setUTCMinutes(O),E.setUTCSeconds(_),E.setUTCDate(S),E.setUTCMonth(x);var j=E.getTime()+d;return j<e&&p?j+t.timeUnitToMilliseconds.year:j},t.compileNextRepeatDate=f,t.compileRepeatDatesBetween=function(e,t,n,r){for(var i=[],o=f(n,e,r),a=0;o<t&&a<1e3;)i.push(o),o=f(n,o,r),a++;return i}},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.doUnless=t.pipe=t.adapt=t.adaptKeyboardEventHandlerChainItem=t.adaptHandlerChainItem=t.buildKeyboardEventHandlerChainItem=t.preventDefault=t.buildHandler=t.normalizeCounter=t.createRange=t.KEY_CODES=t.noop=void 0;function i(e,t,n,i){return void 0===i&&(i="post"),e.map((function(e){return e.test(t)?r(r({},e),{run:function(t){return"pre"===i&&n(t),e.run(t),"post"===i&&n(t)}}):e}))}t.noop=function(){},t.KEY_CODES={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,F:70,K:75,N:78},t.createRange=function(e){return new Array(e).fill(0).map((function(e,t){return t}))},t.normalizeCounter=function(e,t){return 0===t?0:(e%t+t)%t},t.buildHandler=function(e){return function(t){var n=e.find((function(e){return e.test(t)}));return!!n&&(n.run(t),t)}},t.preventDefault=function(e){return e.preventDefault(),e},t.buildKeyboardEventHandlerChainItem=function(e,t){return{test:function(t){return t.keyCode===e},run:t}},t.adaptHandlerChainItem=i,t.adaptKeyboardEventHandlerChainItem=function(e,t,n,r){return i(e,{keyCode:t},n,r)},t.adapt=function(e,t){return function(n,r,i){var o=e(n,r,i);return t(o,n,r,i)}},t.pipe=function(e,t,n,r,i,o,a,s,u,c){return[t,n,r,i,o,a,s,u,c].filter((function(e){return e})).reduce((function(e,t){return t(e)}),e)},t.doUnless=function(e,t){return e?function(e){return e}:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllDirties=void 0;var r=n(38);t.getAllDirties=function(e,t){return r.getAll(e).filter((function(e){return e.dirty&&t(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var r=n(38),i=n(107);t.get=function(e,t){return r.get(e.store,i.resolveToNewestId(e,t))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.compileTagList=void 0;var i=n(38),o=n(35);t.compileTagList=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{tagList:i.getAll(e.store.store).filter(o.isTag).map((function(e){return{metaData:{id:e.id,origin:e.permanent.origin,updatedAt:e.updatedAt,text:o.turnPathIntoTag(e.document.path)},tag:e.document}}))})})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setBlockNextSync=void 0;t.setBlockNextSync=function(e){return function(t){return r(r({},t),{blockNextSync:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOccurencesAndCompileSearchResults=t.cancelExecution=t.createBatchedExecutionContext=t.compileSnippetList=t.updateSnippetMetaDataStore=t.initSnippetMetaDataStore=t.isSnippet=t.createSnippet=t.initSnippet=void 0;var r=n(38),i=n(92),o=n(187),a=n(29),s=n(63),u=n(48),c=n(30);function l(e){return"snippet"===e.permanent.documentType}t.initSnippet=function(e,t,n){return{archived:!1,content:e,language:t,name:n}},t.createSnippet=function(e,t,n,r){return u.save(e,t,n,c.isValid,{config:{permanent:{origin:r,documentType:"snippet",version:0,obsolete:{state:!1}}}})},t.isSnippet=l,t.initSnippetMetaDataStore=function(e,t){return r.getAll(e.store).filter(l).reduce((function(n,i){return r.save(n,i.id,o.produceSnippetMetaData(i,e,t))}),new Array)},t.updateSnippetMetaDataStore=function(e,t,n,a){var s=i.get(e,n);if(!s)return t;var u=o.produceSnippetMetaData(s,e,a);return r.save(t,s.id,u)},t.compileSnippetList=function(e,t,n){return r.getAll(e.store).filter(l).filter(n).filter((function(e){return!1===e.permanent.obsolete.state})).sort(a.sortByUpdatedAt).map((function(e){return{snippet:e.document,metaData:r.get(t,e.id)||(n=e,{id:"<metadata not found>",normalizedLanguage:"<metadata not found>",textContent:"<metadata not found>",upperCaseTextContent:"<metadata not found>",title:"<metadata not found>",upperCaseTitle:"<metadata not found>",body:"<metadata not found>",trimmedBody:"<metadata not found>",searchableString:"<metadata not found>",reminders:[],resolvedTags:[],dirty:!1,origin:n.permanent.origin,updatedAt:new Date,syncErrors:[]})};var n}))},t.createBatchedExecutionContext=function(){return{cancelled:!1}},t.cancelExecution=function(e){e.cancelled=!0};function d(e,t){for(var n,r=[],i=0,o=0,a=0,s=t;a<s.length;a++){var u=s[a];i=Math.max(0,u.start-100),r.length>0&&o>=i?r[r.length-1]={text:e.substring(n.end,u.start),highlight:!1}:(i>0&&r.push({text:" ... ",highlight:!1}),r.push({text:e.substring(i,u.start),highlight:!1})),r.push({text:e.substring(u.start,u.end),highlight:!0}),o=Math.min(e.length,u.end+100),r.push({text:e.substring(u.end,o),highlight:!1}),n=u}return r}function p(e,t){var n,r=[],i=0;t=t.map((function(e){return e.toUpperCase()}));var o=e.metaData.title.toUpperCase(),a=e.metaData.textContent.toUpperCase();return n=s.findOccurences(o,t),i+=s.calculateSearchRelevance(n,t),(r=r.concat(d(e.metaData.title,n))).length>0&&r.push({text:" ... ",highlight:!1}),n=s.findOccurences(a,t),i+=s.calculateSearchRelevance(n,t),{chunks:r=r.concat(d(e.metaData.textContent,n)),relevance:i,updatedAt:e.metaData.updatedAt}}t.findOccurencesAndCompileSearchResults=function(e,t){var n=[];if((t=t.filter((function(e){return e}))).length<=0)return n;for(var r=e,i=0;i<r.length;i++){var o=r[i],a=p(o,t),s=a.chunks,u=a.relevance,c=a.updatedAt;s.length>0&&(n=n.concat({id:o.metaData.id,chunks:s,relevance:u,updatedAt:c}))}return n.filter((function(e){return e.chunks.length>0})).sort((function(e,t){var n=e.relevance,r=e.updatedAt,i=t.relevance,o=t.updatedAt;return i-n||o.getTime()-r.getTime()})).slice(0,20)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.itemIdentifiers=t.itemIconNames=t.itemTitles=void 0,t.itemTitles={bold:"Toggle bold",italic:"Toggle italic",code:"Toggle code",colorBlue:"Toggle blue color",colorRed:"Toggle red color",colorYellow:"Toggle yellow color",backgroundColorBlue:"Toggle blue background color",backgroundColorRed:"Toggle red background color",backgroundColorYellow:"Toggle yellow background color",fontSizeSmall:"Toggle small font size",fontSizeBig:"Toggle big font size",codeBlock:"Toggle code block",bulletList:"Wrap in bullet list",orderedList:"Wrap in ordered list",todoList:"Wrap in todo list",paragraph:"Change to paragraph",quote:"Change to quote",stickyBlue:"Change to blue sticky",stickyRed:"Change to red sticky",stickyYellow:"Change to yellow sticky",boxBlue:"Change to blue box",boxRed:"Change to red box",boxYellow:"Change to yellow box",textAlignmentCenter:"Align text center",textAlignmentRight:"Align text right",itemAlignmentCenter:"Align item center",heading1:"Change to heading 1",heading2:"Change to heading 2",heading3:"Change to heading 3",liftItem:"Lift item",sinkItem:"Sink item",joinItem:"Join with above block",image:"Upload image",imageDefault:"Set width to 100%",imageResizable:"Set custom width",reminder:"Set reminder"},t.itemIconNames={bold:"format-bold",italic:"format-italic",code:"code-tags",colorBlue:"record",colorRed:"record",colorYellow:"record",backgroundColorBlue:"stop",backgroundColorRed:"stop",backgroundColorYellow:"stop",fontSizeSmall:"format-annotation-minus",fontSizeBig:"format-annotation-plus",codeBlock:"code-brackets",bulletList:"format-list-bulleted",orderedList:"format-list-numbered",todoList:"clipboard-check-outline",paragraph:"format-clear",quote:"format-quote-close",stickyBlue:"square",stickyRed:"square",stickyYellow:"square",boxBlue:"information-variant",boxRed:"alert-circle-outline",boxYellow:"lightbulb-outline",textAlignmentCenter:"format-align-center",textAlignmentRight:"format-align-right",itemAlignmentCenter:"format-horizontal-align-center",heading1:"format-title",heading2:"format-title",heading3:"format-title",liftItem:"format-horizontal-align-left",sinkItem:"format-horizontal-align-right",joinItem:"arrow-collapse-vertical",image:"image",imageDefault:"arrow-expand-horizontal",imageResizable:"arrange-send-backward",reminder:"timer-outline"},t.itemIdentifiers={bold:"prosemirror-menu-item-bold",italic:"prosemirror-menu-item-italic",code:"prosemirror-menu-item-code",colorBlue:"prosemirror-menu-item-color-blue",colorRed:"prosemirror-menu-item-color-red",colorYellow:"prosemirror-menu-item-color-yellow",backgroundColorBlue:"prosemirror-menu-item-background-color-blue",backgroundColorRed:"prosemirror-menu-item-background-color-red",backgroundColorYellow:"prosemirror-menu-item-background-color-yellow",fontSizeSmall:"prosemirror-menu-item-font-size-small",fontSizeBig:"prosemirror-menu-item-font-size-big",codeBlock:"prosemirror-menu-item-codeBlock",bulletList:"prosemirror-menu-item-bulletList",orderedList:"prosemirror-menu-item-orderedList",todoList:"prosemirror-menu-item-todoList",paragraph:"prosemirror-menu-item-paragraph",quote:"prosemirror-menu-item-quote",stickyBlue:"prosemirror-menu-item-sticky-blue",stickyRed:"prosemirror-menu-item-sticky-red",stickyYellow:"prosemirror-menu-item-sticky-yellow",boxBlue:"prosemirror-menu-item-box-blue",boxRed:"prosemirror-menu-item-box-red",boxYellow:"prosemirror-menu-item-box-yellow",textAlignmentCenter:"prosemirror-menu-item-text-align-center",textAlignmentRight:"prosemirror-menu-item-text-align-right",itemAlignmentCenter:"prosemirror-menu-item-item-align-center",heading1:"prosemirror-menu-item-heading1",heading2:"prosemirror-menu-item-heading2",heading3:"prosemirror-menu-item-heading3",liftItem:"prosemirror-menu-item-liftItem",sinkItem:"prosemirror-menu-item-sinkItem",joinItem:"prosemirror-menu-item-joinItem",image:"prosemirror-menu-item-image",imageDefault:"prosemirror-menu-item-imageDefault",imageResizable:"prosemirror-menu-item-imageResizable",reminder:"prosemirror-menu-item-reminder"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0;var r=n(4),i=n(111),o=n(143),a={doc:{content:"paragraph*"},paragraph:{content:"inline*",attrs:{index:{default:1},status:{default:"open"}},group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return{src:e.getAttribute("index")}}}],toDOM:function(e){return["p",e.attrs,0]}},text:o.nodes.text,hard_break:o.nodes.hard_break};t.schema=new r.Schema({nodes:a,marks:i.customizeLinkMark(o.schema.spec.marks)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passwordResetTokenField=t.passwordRepeatField=t.newPasswordField=t.currentPasswordField=t.emailField=t.bypass=t.mustBeSet=t.repeatDoesMatch=t.validatePasswordLength=t.validateEmailLength=t.getFieldName=t.LABEL_NEXT=t.LABEL_BACK=t.LABEL_FORGOT_PASSWORD=t.LABEL_CHANGE_PASSWORD=t.LABEL_REQUEST_RESET=t.LABEL_RESET_PASSWORD=t.LABEL_SIGN_IN=t.LABEL_GO_TO_SIGN_IN=t.LABEL_SIGN_UP=t.PLACEHOLDER_OLD_PASSWORD=t.PLACEHOLDER_NEW_PASSWORD=t.PLACEHOLDER_REPEAT_PASSWORD=t.PLACEHOLDER_PASSWORD=t.PLACEHOLDER_TOKEN=t.PLACEHOLDER_EMAIL=t.SIGNIN_SUCCESSFUL=t.PASSWORD_HAS_BEEN_CHANGED=t.RESET_MAIL_SENT=t.VERIFICATION_MAIL_SENT=t.UNAUTHORIZED=t.UNEXPECTED_ERROR=t.TOO_MANY_REQUESTS=void 0,n(426),t.TOO_MANY_REQUESTS="Too many requests",t.UNEXPECTED_ERROR="Unexpected error",t.UNAUTHORIZED="Login failed",t.VERIFICATION_MAIL_SENT="We have sent you an email. Please verify your account.",t.RESET_MAIL_SENT="We've sent you an email. Please enter the token you received on the next page.",t.PASSWORD_HAS_BEEN_CHANGED="Your password has been changed.",t.SIGNIN_SUCCESSFUL="Login successful.",t.PLACEHOLDER_EMAIL="Email",t.PLACEHOLDER_TOKEN="Token",t.PLACEHOLDER_PASSWORD="Password",t.PLACEHOLDER_REPEAT_PASSWORD="Repeat Password",t.PLACEHOLDER_NEW_PASSWORD="New Password",t.PLACEHOLDER_OLD_PASSWORD="Old Password",t.LABEL_SIGN_UP="Sign Up",t.LABEL_GO_TO_SIGN_IN="Go to login page",t.LABEL_SIGN_IN="Sign In",t.LABEL_RESET_PASSWORD="Reset Password",t.LABEL_REQUEST_RESET="Request Reset",t.LABEL_CHANGE_PASSWORD="Change Password",t.LABEL_FORGOT_PASSWORD="Forgot Password",t.LABEL_BACK="Back",t.LABEL_NEXT="Next",t.getFieldName=function(e){return e+"-field"};t.validateEmailLength=function(e,t){return t[e].length>=6||"Email must be at least 6 characters"};t.validatePasswordLength=function(e,t){return t[e].length>=6||"Password must be at least 6 characters"};t.repeatDoesMatch=function(e,t){return t.password===t[e]||"Passwords don't match"};t.mustBeSet=function(e,t){return t[e].length>0||"Please provide a token"};t.bypass=function(){return!0};t.emailField=function(e){return void 0===e&&(e=t.bypass),{name:"email",placeholder:t.PLACEHOLDER_EMAIL,type:"text",autocomplete:"username",validator:e}};t.currentPasswordField=function(e){return{name:"currentPassword",placeholder:e,type:"password",autocomplete:"current-password",validator:t.bypass}};t.newPasswordField=function(e){return{name:"password",placeholder:e,type:"password",autocomplete:"new-password",validator:t.validatePasswordLength}};t.passwordRepeatField=function(){return{name:"repeat",placeholder:t.PLACEHOLDER_REPEAT_PASSWORD,type:"password",autocomplete:"new-password",validator:t.repeatDoesMatch}};t.passwordResetTokenField=function(){return{name:"token",placeholder:t.PLACEHOLDER_TOKEN,type:"password",validator:t.mustBeSet}}},,,,function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useReducerWithEffects=void 0;var i=n(1),o=n(75);function a(e,t){var n=e[0];return function(e,t){var i=function(e,t,n){switch(n){case"clean up effects":return[t.state,null];default:return e(t.state,n)}}(n,e,t),o=i[0],a=i[1];return{state:o,effects:null===a?[]:a.length>0?r(r([],e.effects),a):e.effects}}}t.useReducerWithEffects=function(e,t,n){var r=o.useFactory(a,[e],[]),s=i.useReducer(r,i.useMemo((function(){return{state:n,effects:[]}}),[])),u=s[0],c=s[1];return i.useEffect((function(){u.effects.length>0&&(u.effects.forEach((function(e){return t(u.state,e,c).then((function(e){e&&e.forEach(c)})).catch((function(e){throw console.log("error in useReducerWithEffects"),e}))})),c("clean up effects"))}),[u.effects]),[u.state,c]}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemSizesForLimitedGroup=t.getSizeBasedOnCurrentTarget=void 0;var i=n(47);function o(e){return e.items.filter((function(e){return void 0!==e.size}))}function a(e,t){var n=e.groups[t];if("X"!==n.axis)throw"unexpected state";var a=function(e,t,n){return i.dex.size[t](e.groupDimensions[n].dimensions)-2*e.groupDimensions[n].padding}(e,"X",t);if(e.target||e.source.index!==t){if(e.target&&e.source.index===t){var s=e.source.listDragState.originalIndex,u=(a-(d=o(n).filter((function(e){return e!==n.items[s]}))).reduce((function(e,t){return e+t.size}),0))/(n.items.length-1-d.length);return n.items.map((function(e){return void 0!==e.size?e.size:u}))}if(e.target&&e.target.index===t){var c=(a-(d=o(n)).reduce((function(e,t){return e+t.size}),0))/(n.items.length-d.length+1);return r(r([],n.items.map((function(e){return void 0!==e.size?e.size:c}))),[c])}var l=(a-(d=o(n)).reduce((function(e,t){return e+t.size}),0))/(n.items.length-d.length);return n.items.map((function(e){return void 0!==e.size?e.size:l}))}var d,p=e.source.listDragState.originalIndex,f=i.dex.size.X(e.groupDimensions[t].entryDimensions[p]),m=(a-((d=o(n).filter((function(e){return e!==n.items[p]}))).reduce((function(e,t){return e+t.size}),0)+f))/(n.items.length-(d.length+1));return n.items.map((function(e,t){return t===p?f:void 0!==e.size?e.size:m}))}t.getSizeBasedOnCurrentTarget=function(e,t){var n=a(e,t);return e.target?n[n.length-1]:n[e.source.listDragState.originalIndex]},t.calculateItemSizesForLimitedGroup=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useObservable=void 0;var r=n(1);t.useObservable=function(e,t){return r.useEffect((function(){var n=t.subscribe(e);return function(){return n.unsubscribe()}}),[t,e])}},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSynced=t.saveDirty=void 0;var i=n(64),o=n(38),a=0,s=new Date;function u(e,t,n,u,c,l){var d,p=o.get(e,t)||function(e,t,n){var r=void 0===n?{}:n,i=r.config,o=r.updatedAt;if(!i)throw"trying to init DocumentWrapper without config";return{id:e,document:t,permanent:i.permanent,internalVersion:0,dirty:!1,updatedAt:o||new Date}}(t,n,l);return c(e,p)?(p=r(r(r(r(r({},p),{document:n}),function(e){if(!e)return{};if(i.isInMockedMode){var t=new Date(s);return t.setSeconds(a),a+=1,{updatedAt:t}}return{updatedAt:e}}(null===l||void 0===l?void 0:l.updatedAt)),(null===(d=null===l||void 0===l?void 0:l.config)||void 0===d?void 0:d.permanent)?{permanent:l.config.permanent}:{}),{internalVersion:p.internalVersion+1,dirty:u}),o.save(e,t,p)):e}t.saveDirty=function(e,t,n,r,i){return u(e,t,n,!0,r,i)},t.saveSynced=function(e,t,n,r,i){return u(e,t,n,!1,r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToNewestId=void 0,t.resolveToNewestId=function e(t,n){var r=t.oldToNew[n];return r?e(t,r):n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMimeTypeForLanguage=t.fileExtensionToLanguage=t.supportedCodeLanguages=t.MARKDOWN=void 0;var r=n(317);t.MARKDOWN="Markdown",t.supportedCodeLanguages=["JavaScript","TypeScript","Ruby","Java","C","HTML",t.MARKDOWN,"Shell","CSS","SCSS"];var i={},o={};t.supportedCodeLanguages.forEach((function(e){var t=r.modeInfo.find((function(t){return t.name===e}));i[e]=t})),t.supportedCodeLanguages.forEach((function(e){i[e].ext.forEach((function(t){o[t]=e}))})),t.fileExtensionToLanguage=o,t.getMimeTypeForLanguage=function(e){var t=i[e];return t&&t.mime}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarIcon=t.ToolbarItem=t.ToolbarItemGroup=t.Toolbar=void 0;var s=a(n(1));n(338);var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"Toolbar"},s.default.createElement("div",{className:"Toolbar-inner"},this.props.children))},t}(s.Component);t.Toolbar=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=["ToolbarItemGroup"].concat(this.props.additionalClasses);return s.default.createElement("div",{className:e.join(" ")},s.default.createElement("div",{className:"ToolbarItemGroup-inner"},this.props.children))},t}(s.Component);t.ToolbarItemGroup=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("span",{className:"ToolbarItem"},this.props.children)},t}(s.Component);t.ToolbarItem=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=["mdi","mdi-"+this.props.iconName];return s.default.createElement("span",{className:["ToolbarIcon"].concat(this.props.additionalClasses).join(" ")},s.default.createElement("i",{className:e.join(" "),onClick:this.props.onClick,onMouseDown:this.props.onMouseDown}))},t}(s.Component);t.ToolbarIcon=d},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultListEntry=void 0;var a=o(n(1)),s=n(59);n(339);t.DefaultListEntry=function(e){var t=e.snippetListEntry.metaData.title||a.default.createElement("span",{className:"DefaultListEntry-untitledEntry"},"untitled"),n=s.getPluginByLanguage(e.snippetListEntry.snippet.language),r=a.useState(!1),i=r[0],o=r[1];return a.default.createElement("div",{className:"DefaultListEntry-entryInner "+(null===n||void 0===n?void 0:n.snippetListClass(e.snippetListEntry.snippet)),onTouchMove:function(){return o(!0)},onTouchEnd:function(t){t.preventDefault(),i||e.setSelectedSnippetId(e.snippetListEntry.metaData.id),o(!1)},onMouseDown:function(){return e.setSelectedSnippetId(e.snippetListEntry.metaData.id)}},a.default.createElement("span",{className:"DefaultListEntry-entryInnerIconWrapper"},a.default.createElement("i",{className:"DefaultListEntry-entryInnerSnippetTypeIcon mdi "+(null===n||void 0===n?void 0:n.icon)})),a.default.createElement("div",{className:"DefaultListEntry-entryBodyWrapper CommonUI-delayedIconContainer"},a.default.createElement("div",{className:"DefaultListEntry-entryTitleWrapper"},a.default.createElement("div",{className:"DefaultListEntry-entryTitle"},t),a.default.createElement("span",{className:"CommonUI-delayedIconWrapper"},a.default.createElement("i",{className:"mdi mdi-"+e.listEntryIcon+" DefaultListEntry-entryTitleDeleteIcon",onClick:function(){return e.runItemAction(e.snippetListEntry)},onMouseDown:function(e){return e.stopPropagation()}}))),a.default.createElement("div",{className:"DefaultListEntry-entryContent"},""===e.snippetListEntry.metaData.trimmedBody?a.default.createElement("span",{className:"DefaultListEntry-noContent"},"no content"):e.children)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(13),o=n(4);function a(e,t){if(e instanceof o.Fragment){var n=e.content.map((function(e){return a(e,t)}));return new o.Fragment(n,e.size)}if(e instanceof o.Node){if(e.isText){var r=t.isInSet(e.marks);if(r&&r.attrs.href!==e.textContent){var i=t.removeFromSet(e.marks);return e.mark(i)}return e}var s=a(e.content,t);return e.copy(s)}}var s=/^\s$/,u=/^\s.*$/,c=/^.*\s$/;function l(e,t,n,r){for(var i=t,o=e.charAt(i);!o.match(s)&&n(i);)i+=r,o=e.charAt(i);return i}function d(e,t){var n=function(e,t){return t.marks.link.isInSet(e.marks())}(e,t);if(n&&n.attrs.nolabel)return{$cursor:e,start:function(e){return l(e.parent.textContent,e.parentOffset-1,(function(e){return e>0}),-1)}(e),end:function(e){return l(e.parent.textContent,e.parentOffset,(function(t){return t<e.parent.nodeSize-2}),1)}(e),mark:n}}var p=function(e){this.initializer=e},f={value:{configurable:!0},isDefined:{configurable:!0}};function m(e,t,n,r){return new p((function(){return d(e.resolve(t.pos+r),n)}))}f.value.get=function(){return void 0===this._value&&(this._value=this.initializer()||null),this._value},f.isDefined.get=function(){return null!==this.value},Object.defineProperties(p.prototype,f);var h=function(e,t,n,r,i){var o=this;this.trs=e,this.oldState=t,this.newState=n,this.historyPluginKey=r,this.schema=i,this.linkMarkAtCursor=new p((function(){return d(o.oldState.selection.$cursor,o.schema)})),this.marksPreEdit={left:m(t.doc,t.selection.$cursor,i,-1),right:m(t.doc,t.selection.$cursor,i,1)},this.marksPostEdit={left:m(n.doc,n.selection.$cursor,i,-1),right:m(n.doc,n.selection.$cursor,i,1)}},g={isSteppingThroughHistory:{configurable:!0},docDidntChange:{configurable:!0},wasCursorSelection:{configurable:!0},isCursorSelection:{configurable:!0},hasExactlyOneStep:{configurable:!0},hasInsertedSingleSpace:{configurable:!0},positionDelta:{configurable:!0},hasDeletedBackward:{configurable:!0},hasInserted:{configurable:!0},hasDeletedForward:{configurable:!0},isJoinedByTextOnTheRight:{configurable:!0},isJoinedByTextOnTheLeft:{configurable:!0},joinsLinkWithLink:{configurable:!0},joinsLinkWithText:{configurable:!0},joinsTextWithLink:{configurable:!0},wasAtEdgeOfTextNode:{configurable:!0},hasDeletedBackwardOntoStartOfTextNode:{configurable:!0},hasDeletedBackwardIntoLink:{configurable:!0},hasDeletedForwardIntoLink:{configurable:!0},hasInsertedAtEndOfLink:{configurable:!0},hasInsertedAtStartOfLink:{configurable:!0},hasSplitAtEndOfTextNode:{configurable:!0}};g.isSteppingThroughHistory.get=function(){var e=this;return this.trs.some((function(t){return void 0!==t.getMeta(e.historyPluginKey)}))},g.docDidntChange.get=function(){return!this.trs.some((function(e){return e.docChanged}))},g.wasCursorSelection.get=function(){return this.oldState.selection.$cursor},g.isCursorSelection.get=function(){return this.newState.selection.$cursor},g.hasExactlyOneStep.get=function(){return 1===this.trs.length&&1===this.trs[0].steps.length},g.hasInsertedSingleSpace.get=function(){var e=this.trs[0].steps[0].slice.content;return e.textBetween(0,e.size).match(s)},g.positionDelta.get=function(){return void 0===this._positionDelta&&(this._positionDelta=this.oldState.selection.$cursor.pos-this.newState.selection.$cursor.pos),this._positionDelta},g.hasDeletedBackward.get=function(){return this.positionDelta>0},g.hasInserted.get=function(){return this.positionDelta<0},g.hasDeletedForward.get=function(){return 0===this.positionDelta},h.prototype.hasChildWhichMatches=function(e,t){var n=this.newState.selection.$cursor.parent.maybeChild(this.newState.selection.$cursor.index()+t);return n&&!n.textContent.match(e)},g.isJoinedByTextOnTheRight.get=function(){return this.hasChildWhichMatches(u,0)},g.isJoinedByTextOnTheLeft.get=function(){return this.hasChildWhichMatches(c,-1)},g.joinsLinkWithLink.get=function(){return this.marksPostEdit.left.isDefined&&this.marksPostEdit.right.isDefined},g.joinsLinkWithText.get=function(){return this.marksPostEdit.left.isDefined&&this.isJoinedByTextOnTheRight},g.joinsTextWithLink.get=function(){return this.marksPostEdit.right.isDefined&&this.isJoinedByTextOnTheLeft},g.wasAtEdgeOfTextNode.get=function(){return 0===this.oldState.selection.$cursor.textOffset},g.hasDeletedBackwardOntoStartOfTextNode.get=function(){return this.hasDeletedBackward&&0===this.newState.selection.$cursor.textOffset},g.hasDeletedBackwardIntoLink.get=function(){return this.hasDeletedBackward&&this.marksPreEdit.left.isDefined},g.hasDeletedForwardIntoLink.get=function(){return this.hasDeletedForward&&this.marksPreEdit.right.isDefined},g.hasInsertedAtEndOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.left.isDefined},g.hasInsertedAtStartOfLink.get=function(){return this.hasInserted&&this.marksPreEdit.right.isDefined},g.hasSplitAtEndOfTextNode.get=function(){return this.wasAtEdgeOfTextNode&&0===this.newState.selection.$cursor.parentOffset&&this.oldState.selection.$cursor.index(this.oldState.selection.$cursor.depth)!==this.newState.selection.$cursor.index(this.newState.selection.$cursor.depth)},Object.defineProperties(h.prototype,g);var v=/\./,y=["http://","https://","ftp://","www."];function b(e,t,n){var r=e.$cursor.start()+e.start,o=e.$cursor.start()+e.end,a=function(e){var t=new i.Mapping;return e.forEach((function(e){return t.appendMapping(e.mapping)})),t}(n);return t.removeMark(a.mapResult(r).pos,a.mapResult(o).pos,e.mark)}function O(e,t,n,r){if(e.isDefined&&t.isDefined){var i=b(e.value,n,r);return b(t.value,i,r)}return e.isDefined?b(e.value,n,r):t.isDefined?b(t.value,n,r):void 0}var _={attrs:{href:{},title:{default:null},nolabel:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=e.getAttribute("nolabel");return{href:t,title:e.getAttribute("title"),nolabel:null===n?t===e.textContent:n}}}],toDOM:function(e){return["a",e.attrs,0]}};t.customizeLinkMark=function(e){return e.update("link",_)},t.makeAnchorPlugin=function(e,t){return new r.Plugin({props:{transformPasted:function(t){return new o.Slice(a(t.content,e.marks.link),t.openStart,t.openEnd)}},appendTransaction:function(n,r,i){var o=new h(n,r,i,t,e);if(!o.isSteppingThroughHistory&&!o.docDidntChange)if(o.wasCursorSelection&&o.isCursorSelection){if(o.linkMarkAtCursor.isDefined)return b(o.linkMarkAtCursor.value,i.tr,n);if(!o.hasExactlyOneStep)return;if(o.hasInsertedSingleSpace||o.hasSplitAtEndOfTextNode)return o.marksPreEdit.left.isDefined?void 0:function(e,t,n){var r=function(e){for(var t,n=0,r=-1;r<e.parent.content.content.length-1&&n<e.parentOffset;)r++,(t=e.parent.content.content[r]).isText?n+=t.nodeSize:n+=1;return t&&t.isText?{textNode:t,positionInTextNode:t.text.length-(n-e.parentOffset)-1}:{}}(e),i=r.textNode,o=r.positionInTextNode;if(i){var a=i.text,u=o-1,c=a.charAt(u);if(!c.match(s)&&!c.match(v)){for(;!c.match(s)&&u>0;)c=a.charAt(--u);c.match(s)&&(u+=1);var l=a.substring(u,o);if(y.some((function(e){return l.length>e.length&&l.startsWith(e)}))){var d=e.parentOffset-o-1;return t.addMark(e.start()+d+u,e.start()+d+o,n.marks.link.create({href:l,nolabel:!0}))}}}}(i.selection.$cursor,i.tr,e);if(!o.wasAtEdgeOfTextNode&&!o.hasDeletedBackwardOntoStartOfTextNode)return;if(o.hasDeletedBackwardIntoLink)return b(o.marksPreEdit.left.value,i.tr,n);if(o.hasDeletedForwardIntoLink)return b(o.marksPreEdit.right.value,i.tr,n);if(o.hasInsertedAtEndOfLink)return b(o.marksPreEdit.left.value,i.tr,n);if(o.hasInsertedAtStartOfLink)return b(o.marksPreEdit.right.value,i.tr,n);if(o.hasDeletedBackward||o.hasDeletedForward){if(o.joinsLinkWithLink){var a=b(o.marksPostEdit.left.value,i.tr,[]);return b(o.marksPostEdit.right.value,a,[])}if(o.joinsLinkWithText)return b(o.marksPostEdit.left.value,i.tr,[]);if(o.joinsTextWithLink)return b(o.marksPostEdit.right.value,i.tr,[])}}else{var u,c=r.selection,l=c.$from,d=c.$to;if(u=O(m(r.doc,l,e,0),m(r.doc,d,e,0),i.tr,n))return u;if(0===l.pos)return;if(u=O(m(r.doc,l,e,-1),m(r.doc,d,e,1),i.tr,n))return u}}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHighlightPluginTransaction=t.highlightOccurences=t.findOccurences=t.HighlightPlugin=void 0;var i=n(6),o=n(50),a={occurences:[]};t.HighlightPlugin=new i.Plugin({state:{init:function(e,t){return a},apply:function(e,t){var n=e.getMeta(this);return n&&n.occurences&&(t=r(r({},t),{occurences:n.occurences})),t}},props:{decorations:function(e){var t=this.getState(e);if(t.occurences.length>0)return o.DecorationSet.create(e.doc,t.occurences.map((function(e){return o.Decoration.inline(e.start,e.end,{class:e.class})})))}}}),t.findOccurences=function(e,t){t=t.filter((function(e){return e})).map((function(e){return e.toUpperCase()}));var n=[];if(t.length>0){var r=new RegExp(t.join("|"),"g");e.descendants((function(e,t){if(e.isText)for(var i=0,o=void 0;(o=r.exec(e.text.toUpperCase()))&&i++<1e3;)n.push({start:t+o.index,end:t+o.index+o[0].length})}))}return n},t.highlightOccurences=function(e,n){var r=e.state.tr;r.setMeta(t.HighlightPlugin,{occurences:n}),e.dispatch(r)},t.isHighlightPluginTransaction=function(e){return void 0!==e.getMeta(t.HighlightPlugin)}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function i(e,t){return 1===t?e:e+"s"}function o(e,t){return"in "+t+" "+i(e,t)}function a(e,t){return t+" "+i(e,t)+" ago"}Object.defineProperty(t,"__esModule",{value:!0}),t.approximate=t.numberPostfixes=t.wordToNumber=t.ordinals=t.timeUnits=t.weekdays=t.months=t.amPm=t.noonMidnight=t.timeOfDay=void 0,t.timeOfDay=["morning","afternoon","evening"],t.noonMidnight=["noon","midnight"],t.amPm=["AM","PM"],t.months=["january","february","march","april","may","june","july","august","september","october","november","december"],t.weekdays=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],t.timeUnits=[["seconds","second"],["second","second"],["minutes","minute"],["minute","minute"],["hours","hour"],["hour","hour"],["days","day"],["day","day"],["weeks","week"],["week","week"],["months","month"],["month","month"],["years","year"],["year","year"]],t.ordinals=["first","second","third","fourth"],t.wordToNumber={a:1,an:1,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},t.numberPostfixes=["st","nd","rd","th","\\."];var s=r([{timeUnit:"second",renderFuture:function(){return"Shortly"},renderPast:function(){return"Now"}}],[["minute","minute"],["hour","hour"],["day","day"],["week","week"],["month","month"],["year","year"]].map((function(e){var t=e[0],n=e[1];return{timeUnit:t,renderFuture:o.bind(null,n),renderPast:a.bind(null,n)}})));t.approximate=function(e,t){var n=s.find((function(e){return e.timeUnit===t}));return e<=0?n.renderPast(-e):n.renderFuture(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELETEABLE=void 0,t.DELETEABLE="<deleteable>"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recompile=void 0;var r=n(3),i=n(148),o=n(93),a=n(217);t.recompile=function(){return function(e){return r.pipe(e,a.initSnippetMetaDataStore(),i.compileSnippetList(),o.compileTagList())}}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OriginReadynessContext=t.originConfigs=void 0;n(221);var o=n(224),a=i(n(1)),s=n(236),u=n(29),c=n(432),l=n(64);t.originConfigs=r(r(r([],u.isElectron()?[s.fileOriginConfig]:[]),l.isInMockedMode?[c.mockOriginConfig]:[o.cloudOriginConfig]),[]),t.OriginReadynessContext=a.default.createContext({ready:"pending"})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Rest=void 0;var o=n(225),a=function(){function e(e){this.resourceName=e}return e.prototype.compileParams=function(e){return e?"?"+Object.entries(e).map((function(e){return e[0]+"="+e[1]})).join("&"):""},e.prototype.index=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.get("/"+this.resourceName+this.compileParams(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.create=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.post("/"+this.resourceName,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.update=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o.patch("/"+this.resourceName+"/"+e.id,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.delete=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,o.del("/"+this.resourceName+"/"+e+this.compileParams(t))];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteAll=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.del("/"+this.resourceName)];case 1:return[2,e.sent()]}}))}))},e}();t.Rest=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsForm=void 0;var l=s(n(1)),d=n(98),p=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=n.onSubmit.bind(n),n.state=i(i({},t.fields.reduce((function(e,t){var n,r=t.name;return i(i({},e),((n={})[d.getFieldName(r)]="",n))}),{})),{validationErrors:[],hasSubmitted:!1,isLoading:!1,serverError:null}),n.onChange=n.onChange.bind(n),n}return r(t,e),t.prototype.onChange=function(e){var t,n=e.target,r=n.value,i=n.name;this.setState(((t={})[d.getFieldName(i)]=r,t.hasSubmitted=!1,t.serverError=null,t))},t.prototype.onSubmit=function(e){var t=this;e.preventDefault(),this.setState({hasSubmitted:!0,serverError:null});var n=this.props.fields.reduce((function(e,n){var r,o=n.name;return i(i({},e),((r={})[o]=t.state[d.getFieldName(o)],r))}),{}),r=this.props.fields.map((function(e){var t=e.name;return(0,e.validator)(t,n)})).filter((function(e){return!0!==e}));0===r.length&&(this.indicateLoading(!0),this.props.onSubmit(n).then((function(e){return e&&t.showMessage(e)})).catch((function(e){return t.extractErrorFromResponse(e)})).finally((function(){return t.indicateLoading(!1)}))),this.setState({validationErrors:r})},t.prototype.extractErrorFromResponse=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return 429!==e.status?[3,1]:(this.showMessage(d.TOO_MANY_REQUESTS),[3,4]);case 1:return 401!==e.status?[3,2]:(this.showMessage(d.UNAUTHORIZED),[3,4]);case 2:return[4,e.json()];case 3:(t=n.sent())&&t.errors?this.showMessage(t.errors.join(" ")):this.showMessage(d.UNEXPECTED_ERROR+" ("+e.status+")"),n.label=4;case 4:return[2]}}))}))},t.prototype.indicateLoading=function(e){this.setState({isLoading:e})},t.prototype.showMessage=function(e){this.setState({serverError:e})},t.prototype.render=function(){var e=this,t=this.props.fields.map((function(t){var n=t.name,r=t.placeholder,i=t.autocomplete,o=t.type;return l.default.createElement("input",{className:"CommonUI-input CommonUI-input-centered CommonUI-input-with-border",disabled:e.props.disabled,key:n,autoComplete:i,type:o,value:e.state[d.getFieldName(n)],onChange:e.onChange,placeholder:r,name:n})})),n=this.state.validationErrors.map((function(e,t){return l.default.createElement("div",{key:t},e)})),r=this.state.serverError&&l.default.createElement("p",null,this.state.serverError);return l.default.createElement("form",null,l.default.createElement("h2",null,this.props.title),t,l.default.createElement("button",{className:"CommonUI-button CredentialsForm-submit-button",disabled:this.state.isLoading||this.props.disabled,onClick:this.onSubmit},this.props.submitLabel),l.default.createElement("div",{className:"CredentialsForm-error-section"},n,r,this.state.isLoading&&l.default.createElement("span",null,"Loading...")))},t}(l.Component);t.CredentialsForm=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsFormWrapper=void 0;var s=a(n(1)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"CredentialsForm-outer"},s.default.createElement("div",{className:"CredentialsForm-inner"},this.props.children))},t}(s.Component);t.CredentialsFormWrapper=u},function(e,t,n){},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.originErrorRenderer=t.compileNoOriginConfiguredErrorDetails=t.compileOriginNotConfiguredErrorDetails=void 0;var i=r(n(1)),o=n(73);t.compileOriginNotConfiguredErrorDetails=function(e){return{layer:"origin",type:"not-configured",origin:e}},t.compileNoOriginConfiguredErrorDetails=function(){return{layer:"origin",type:"none-configured"}};t.originErrorRenderer=function(e){if(!function(e){return!!e&&"origin"===e.layer}(e))return null;switch(e.type){case"not-configured":return i.default.createElement(o.SimpleErrorView,{title:"Origin not configured",description:i.default.createElement("span",null,"Origin ",i.default.createElement("em",null,e.origin)," appears not to be configured. Did you enable it?")});case"none-configured":return i.default.createElement(o.SimpleErrorView,{title:"No origin configured",description:"Please configure at least one origin."})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,o){if(n===t.path.length)return e;var a=t.path[n],s=e.content.find((function(e){return e.name===a})),u=t.path.length-1!==n;return s?u||(s=r(r({},s),{data:r(r({},t.data),{derived:!1})})):(s={name:a,content:new Array,root:!1,data:r(r({},u?o:t.data),{derived:u})},e=r(r({},e),{content:e.content.concat([s]).sort((function(e,t){return e.name.localeCompare(t.name)}))})),r(r({},e),{content:e.content.map((function(e){return e.name===a?i(e,t,n+1,o):e}))})}function o(e,t,n){return n===e.length||e[n]===t[n]&&o(e,t,n+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.isExactPath=t.isSubPath=t.compileTree=void 0,t.compileTree=function(e,t,n){return e.reduce((function(e,t){return i(e,t,0,n)}),{name:"root",root:!0,content:[],data:r(r({},t),{derived:!0})})},t.isSubPath=function(e,t){return!(e.length>t.length)&&o(e,t,0)},t.isExactPath=function(e,t){return e.length===t.length&&o(e,t,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStateChangesToNull=t.useStateStaysDefined=t.useStateChangesToDefined=t.useStateChangeEffect=void 0;var r=n(166),i=n(1);function o(e,t){var n=r.usePrevious(e);i.useEffect((function(){if(void 0!==n)if(t instanceof Array)t.forEach((function(t){var r=t.test,i=t.run;return r(n,e)&&i(n,e)}));else{var r=t.extract||function(e){return e};switch(t.trigger){case"change":return void t.run(n,e);case"on":return void(!r(n)&&r(e)&&t.run(n,e));case"off":return void(r(n)&&!r(e)&&t.run(n,e))}}}),[e])}t.useStateChangeEffect=o,t.useStateChangesToDefined=function(e,t){o(e,i.useMemo((function(){return{trigger:"on",extract:function(e){return e},run:function(e,n){if(!n)throw"unexpected state";t(n)}}}),[t]))},t.useStateStaysDefined=function(e,t){i.useEffect((function(){e&&t(e)}),[e])},t.useStateChangesToNull=function(e,t){o(e,i.useMemo((function(){return{trigger:"off",extract:function(e){return e},run:function(e){if(!e)throw"unexpected state";t(e)}}}),[t]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t,n,r){void 0===t&&(t=100),void 0===n&&(n=window.setTimeout),void 0===r&&(r=window.clearTimeout);var i=void 0;return[function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new Promise((function(a,s){i&&(r(i.timeout),i.reject("Debounced function called before expiration time of "+t+"ms"));var u=function(){a({result:e.apply(null,o)}),i&&(i.done=!0)},c=n((function(){return u()}),t);i={timeout:c,reject:s,execute:u,done:!1}}))},function(){i&&(r(i.timeout),i.reject("Debounced function call got cancelled"))},function(){i&&!i.done&&(r(i.timeout),i.execute())}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSubGroup=void 0,t.isSubGroup=function(e,t,n){return e.groups.find((function(e){return e.identifier===n})).parents.includes(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGroup=void 0,t.isGroup=function(e){return void 0!==e.axis}},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomParagraphView=t.appendCustomParagraphNode=t.extractClasses=t.ATTRIBUTE_DEFINITIONS=t.CLASS_PREFIX=void 0,t.CLASS_PREFIX="CustomParagraph-",t.ATTRIBUTE_DEFINITIONS={TYPE:{name:"type",knownValues:["sticky","quote","box"]},TEXT_ALIGNMENT:{name:"textAlignment",knownValues:["center","right"]},ITEM_ALIGNMENT:{name:"itemAlignment",knownValues:["center"]},BACKGROUND_COLOR:{name:"backgroundColor",knownValues:["blue","red","yellow"]}};var i=Object.values(t.ATTRIBUTE_DEFINITIONS),o=i.map((function(e){var n=e.name;return e.knownValues.map((function(e){return{class:""+t.CLASS_PREFIX+n+"-"+e,value:e,name:n}}))})).flat().reduce((function(e,t){var n,i=t.class,o=t.value,a=t.name;return r(r({},e),((n={})[i]={value:o,name:a},n))}),{});function a(e){return i.reduce((function(n,r){var i=r.name,o=r.knownValues;return e.attrs[i]&&o.includes(e.attrs[i])?n.concat(""+t.CLASS_PREFIX+i+"-"+e.attrs[i]):n}),new Array)}t.extractClasses=a,t.appendCustomParagraphNode=function(e){var t={content:"inline*",group:"block",attrs:i.reduce((function(e,t){var n,i=t.name;return r(r({},e),((n={})[i]={default:void 0},n))}),{}),parseDOM:[{tag:"p",getAttrs:function(e){var t=new Array;return e.classList.forEach((function(e){return t.push(e)})),t.map((function(e){return o[e]})).filter((function(e){return e})).reduce((function(e,t){var n,i=t.value,o=t.name;return r(r({},e),((n={})[o]=i,n))}),{})}}],toDOM:function(e){var t=a(e);return["p",t.length>0?{class:t.join(" ")}:{},0]}};return e.update("paragraph",t)};var s=function(e,t,n){throw"CustomParagraphView was not migrated!"};t.CustomParagraphView=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=void 0;var r=n(43);function i(e,t,n){return new r.InputRule(e,(function(e,r,i,o){var a=n instanceof Function?n(r):n,s=e.tr;if(r[1]){var u=i+r[0].indexOf(r[1]),c=u+r[1].length;c<o&&s.delete(c,o),u>i&&s.delete(i,u),o=i+r[1].length}return s.addMark(i,o,t.create(a)).removeStoredMark(t).insertText(" ")}))}t.buildCustomInputRules=function(e){return r.inputRules({rules:[r.wrappingInputRule(/^\s*([+])\s$/,e.nodes.todo_list),i(/\*\*(\S(?:|.*?\S))\*\*\s$/,e.marks.strong),i(/\*(\S(?:|.*?\S))\*\s$/,e.marks.em),i(/`(\S(?:|.*?\S))`\s$/,e.marks.code)]})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorToolSet=void 0;var s=a(n(1));n(367);var u=n(109),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={menuItemStates:null},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscriptions=[];var t=this.props.toolbarEvents.subscribeForMenuItemStateChanges((function(t){e.setState({menuItemStates:t.content})}));t&&this.subscriptions.push(t)},t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.onClick=function(e,t){this.props.toolbarEvents.publishMenuItemRun(e)},t.prototype.avoidLosingFocus=function(e){e.preventDefault()},t.prototype.render=function(){var e=this;return this.state.menuItemStates?s.default.createElement(s.default.Fragment,null,this.props.iconConfigs.map((function(t,n){return s.default.createElement(u.ToolbarItemGroup,{key:n},t.map((function(t){return function(t,n,r){var i=e.state.menuItemStates[t];if(i){var o=["ProseMirrorToolSet-action-button"];i.isActive&&i.isEnabled&&o.push("ProseMirrorToolSet-action-button-active"),!1!==i.isEnabled&&!1!==i.isSelectable||o.push("ProseMirrorToolSet-action-button-disabled");var a=e.onClick.bind(e,t),c=e.avoidLosingFocus.bind(e);return s.default.createElement(u.ToolbarItem,{key:t},s.default.createElement(u.ToolbarIcon,{iconName:n,additionalClasses:o.concat(r),onClick:a,onMouseDown:c}))}}(t.itemIdentifier,t.itemIconName,t.additionalClasses)})))}))):s.default.createElement("span",{className:"Toolbar-item-spacer"},"n/a")},t}(s.Component);t.ProseMirrorToolSet=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.produceFileMetaData=void 0;var r=n(187),i=n(49);function o(e){var t=[];return e.descendants((function(e,n,r){return"reminder"===e.type.name&&t.push({id:""+e.attrs.createdAt,createdAt:e.attrs.createdAt,date:e.attrs.date,text:r.textContent,repeatDescription:e.attrs.repeatDescription}),!0})),t}t.produceFileMetaData=function(e,t,n,a,s){var u;void 0===s&&(s=!1),t=t.trim();var c=i.getTextFromDoc(n),l=""!==t.trim(),d=null===(u=c.match(/^(.*)$/m))||void 0===u?void 0:u[1],p=l?t:d||"",f=r.getBodyFromTextContent(c,s),m=r.getBodyFromTextContent(c,s||!l).substring(0,150).trim();return{id:e,normalizedLanguage:a,textContent:c,upperCaseTextContent:c.toUpperCase(),title:p,upperCaseTitle:p.toUpperCase(),body:f,trimmedBody:m,searchableString:[c,p].join(" ").toUpperCase(),reminders:o(n)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.compileSnippetList=void 0;var i=n(95);t.compileSnippetList=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{snippetList:i.compileSnippetList(e.store,e.derivedState.snippetMetaDataStore,(function(){return!0}))})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withEffects=void 0;t.withEffects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return[t,e]}}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeDistinctElectronSend=t.makeElectronSend=void 0;var i=n(29),o=n(74);function a(e){if(!i.isElectron())return function(){};var t=o.getElectron().ipcRenderer;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.send.apply(t,r([e],n))}}t.makeElectronSend=a,t.makeDistinctElectronSend=function(e){var t=a(e),n=[];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.some((function(e,t){return n[t]!==e}));i&&t.apply(void 0,e),n=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldCreate=void 0;var r=n(63);t.shouldCreate=function(e){return e.id.startsWith(r.LOCAL_ID_PREFIX)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDelete=void 0,t.shouldDelete=function(e){return!0===e.permanent.obsolete.state}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserService=void 0;var o=n(117),a=function(){function e(){}return e.prototype.signup=function(e){var t=e.username,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/register").create({email:t,password:n})];case 1:return e.sent(),[2]}}))}))},e.prototype.sendPasswordReset=function(e){var t=e.username;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/send_password_reset").create({email:t})];case 1:return e.sent(),[2]}}))}))},e.prototype.resetPassword=function(e){var t=e.token,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/change_password").create({token:t,password:n})];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e){var t=e.currentPassword,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,new o.Rest("users/change_password").create({current_password:t,password:n})];case 1:return e.sent(),[2]}}))}))},e}();t.UserService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventListenerManager=t.makeAdapterFactory=t.preventDefault=t.stopPropagation=void 0,t.stopPropagation=function(e){e.stopPropagation()},t.preventDefault=function(e){e.preventDefault()},t.makeAdapterFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(n){return e.forEach((function(e){return e(n)})),t(n)}}},t.makeEventListenerManager=function(e){var t=new Map;return[function(n,r,i){var o=e(r);t.set(r,o),document.addEventListener(n,o,i)},function(e,n){var r=t.get(n);document.removeEventListener(e,r)}]}},,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginErrorRenderer=t.compileParseErrorDetails=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var i=r(n(1)),o=n(73);t.compilePushErrorDetails=function(e,t){return{layer:"cloud-origin",type:"push-error",code:e.status,documentId:t.id}},t.compilePullErrorDetails=function(e){return{layer:"cloud-origin",type:"pull-error",code:e.status}},t.compileParseErrorDetails=function(e,t){return{layer:"cloud-origin",type:"parse-error",documentId:e,documentType:t}};var a="Unauthorized. Please Log In.";t.cloudOriginErrorRenderer=function(e){if(!function(e){return!!e&&"cloud-origin"===e.layer}(e))return null;if("parse-error"===e.type)return i.default.createElement(o.SimpleErrorView,{title:"Parsing document failed",description:"Document with id "+e.documentId+" and type "+e.documentType+" might be corrupted."});if(401!==e.code)return null;switch(e.type){case"push-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during upload of document "+e.documentId,description:a});case"pull-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during download",description:a})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginErrorRenderer=t.compilePullErrorDetails=t.compilePushErrorDetails=void 0;var i=r(n(1)),o=n(73),a=n(72);t.compilePushErrorDetails=function(e,t){return{layer:"file-origin",type:"push-error",action:e,documentId:t.id}},t.compilePullErrorDetails=function(){return{layer:"file-origin",type:"pull-error"}};t.fileOriginErrorRenderer=function(e,t){if(!function(e){return!!e&&"file-origin"===e.layer}(e))return null;var n=t.find((function(e){return a.isFileStorageError(e)})),r=a.extractFileStorageErrorTitleAndDescription(n);switch(e.type){case"push-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during "+e.action+" of document "+e.documentId,description:r?r.description:"Unknown error."});case"pull-error":return i.default.createElement(o.SimpleErrorView,{title:"Error during download",description:r?r.description:"Unknown error."})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollIntoView=void 0;var r=n(1);t.useScrollIntoView=function(e){var t=e.dependency,n=e.condition,i=e.index,o=e.refs,a=e.useTimeout,s=void 0!==a&&a;return r.useEffect((function(){if(n){var e=function(){var e,t;return null===(t=null===(e=o.current)||void 0===e?void 0:e[i])||void 0===t?void 0:t.scrollIntoView({block:"nearest"})};s?setTimeout(e,0):e()}}),[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileEntries=t.updateCollapsedPaths=void 0;var r=n(138);function i(e,t,n,o,a,s,u){return e.content.reduce((function(e,t){var a=e[0],c=e[1],l=n.concat([t.name]),d=function(e,t){return e.some((function(e){return r.isExactPath(t,e)}))}(u,l);return i(t,a=a.concat([{name:t.name,depth:o,hasChildren:t.content.length>0,index:c,isInsideCollapsed:s,isCollapsed:d,path:l,data:t.data}]),l,o+1,c+1,s||d,u)}),[t,a])}t.updateCollapsedPaths=function(e,t,n){return n?e.concat([t]):e.filter((function(e){return!r.isExactPath(t,e)}))},t.compileEntries=function(e,t){return i(e,[],[],0,0,!1,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCollapseToggler=t.makeRightNavigationHandler=t.makeLeftNavigationHandler=t.makeVerticalNavigationHandler=t.findNextSelectable=t.findNextCollapsible=void 0;var r=n(90);function i(e,t,n,i){for(var o=0,a=t;o<n.length&&(o++,!i(a=r.normalizeCounter(t+o*e,n.length))););return a}function o(e,t,n){return n[i(e,t,n,(function(e){return!0===n[e].hasChildren&&!n[e].isInsideCollapsed}))]}function a(e,t,n){return n[i(e,t,n,(function(e){return!1===n[e].isInsideCollapsed}))]}t.findNextCollapsible=o,t.findNextSelectable=a,t.makeVerticalNavigationHandler=function(e,t,n,r){return function(i){return t(a(e,n,r)),i}},t.makeLeftNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&!a.isCollapsed?t(n,!0):e(o(-1,n,r)),i}},t.makeRightNavigationHandler=function(e,t,n,r){return function(i){var a=r[n];return a.hasChildren&&a.isCollapsed?t(n,!1):e(o(1,n,r)),i}},t.makeCollapseToggler=function(e,t,n){return function(r){var i=n[t];return i.hasChildren&&e(t,!i.isCollapsed),r}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewWrapperBindings=t.makeDefaultTreeViewKeyHandlerChain=t.useTreeView=t.findIndex=void 0;var i=n(1),o=n(138),a=n(90),s=n(160),u=n(161);function c(e,t){switch(t.type){case"setCollapsed":return function(){var n=s.updateCollapsedPaths(e.collapsedPaths,e.entries[t.index].path,t.collapsed),i=s.compileEntries(e.tree,n)[0];return r(r({},e),{collapsedPaths:n,entries:i})}();case"set":return function(){var n=s.compileEntries(t.tree,e.collapsedPaths)[0];return r(r({},e),{tree:t.tree,entries:n})}()}}t.findIndex=function(e,t){return Math.max(0,t.findIndex((function(t){return o.isExactPath(t.path,e)})))},t.useTreeView=function(e){var t=e.tree,n=e.collapsedPaths,r=i.useMemo((function(){return function(e,t){return void 0===t&&(t=[]),{tree:e,collapsedPaths:t,entries:s.compileEntries(e,t)[0]}}(t,n)}),[]),o=i.useReducer(c,r),a=o[0],u=o[1];return i.useEffect((function(){u({type:"set",tree:t})}),[t]),[a,u]},t.makeDefaultTreeViewKeyHandlerChain=function(e,t,n,r){return[a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.UP_ARROW,u.makeVerticalNavigationHandler(-1,n,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.DOWN_ARROW,u.makeVerticalNavigationHandler(1,n,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.ENTER,u.makeCollapseToggler(r,t,e.entries)),a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.SPACE,u.makeCollapseToggler(r,t,e.entries))]},t.makeTreeViewWrapperBindings=function(e){return{onKeyDown:a.buildHandler(e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useEditableLabel=t.makeEditableLabelLabelBindings=t.makeEditableLabelInputFieldBindings=void 0;var i=n(164);t.makeEditableLabelInputFieldBindings=function(e){return{onBlur:function(){return e.setToggled(!1)},onKeyPress:function(t){return"Enter"===t.key&&e.setToggled(!1)}}},t.makeEditableLabelLabelBindings=function(e){return r(r({},e.useDoubleClick?{onDoubleClick:function(){return e.setToggled(!0)}}:{onClick:function(){return e.setToggled(!0)}}),e.useMouseDown?{onMouseDown:function(){return e.setToggled(!0)}}:{})},t.useEditableLabel=function(e){return i.useToggle(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToggle=t.parseOffOrOn=void 0;var r=n(165),i=n(139),o=n(1);t.parseOffOrOn=function(e){return parseInt(e)},t.useToggle=function(e){var t=r.useCyclicCounter(2,0),n=t[0],a=t[2],s=a.inc,u=a.min,c=a.max;return i.useStateChangeEffect(n,o.useMemo((function(){return[{test:function(e,t){return void 0!==e&&e!==t},run:function(t,n){var r;return null===(r=null===e||void 0===e?void 0:e.onToggle)||void 0===r?void 0:r.call(e,1===n)}}]}),[null===e||void 0===e?void 0:e.onToggle])),[1===n,s,o.useCallback((function(e){return e?c():u()}),[])]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useCyclicCounter=void 0;var i=n(1),o=n(90),a=n(75);function s(e,t){switch(t.type){case"step":return r(r({},e),{counter:o.normalizeCounter(e.counter+t.amount,e.length)});case"set":return r(r({},e),{counter:o.normalizeCounter(t.value,e.length)})}}function u(e,t){return e({type:"step",amount:t})}function c(e,t){return e({type:"set",value:t})}function l(e,t){var n=e[0],r=t[0];return{inc:function(){return u(r,1)},dec:function(){return u(r,-1)},min:function(){return c(r,0)},max:function(){return c(r,n-1)},set:function(e){return c(r,e)}}}t.useCyclicCounter=function(e,t){var n=i.useMemo((function(){return{counter:o.normalizeCounter(t,e),length:e}}),[]),r=i.useReducer(s,n),u=r[0],c=r[1],d=a.useFactory(l,[e],[c]);return[u.counter,c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;var r=n(1);t.usePrevious=function(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSimpleDrag=void 0;var i=n(75),o=n(102);function a(e,t){return e-t}function s(e,t){switch(t.type){case"start":return[{startCoordinates:{x:t.event.clientX,y:t.event.clientY},currentCoordinates:{x:t.event.clientX,y:t.event.clientY},currentDelta:{x:0,y:0},metaData:t.metaData},[{type:"start"}]];case"drag":if(!e)throw"unexpected state";return[r(r({},e),{currentCoordinates:{x:t.event.clientX,y:t.event.clientY},currentDelta:{x:a(t.event.clientX,e.startCoordinates.x),y:a(t.event.clientY,e.startCoordinates.y)}}),[]];case"stop":return[null,[]]}}function u(e,t){e({type:"drag",event:t})}function c(e,t,n,r){n("mousemove",t),e({type:"stop"})}function l(e){var t=e[0],n=e[1];return function(e,r,i){switch(r.type){case"start":var o=u.bind({},i),a=c.bind({},i,o,n);return t("mousemove",o),t("mouseup",a,{once:!0}),Promise.resolve()}}}t.useSimpleDrag=function(e,t){var n=i.useFactory(l,[e,t],[]),r=o.useReducerWithEffects(s,n,null);return[r[0],r[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupDimensions=void 0,t.calculateGroupDimensions=function(e,t,n){return e.map((function(e){var r=e.identifier;return{identifier:r,dimensions:t.current[r].getBoundingClientRect(),padding:parseInt(getComputedStyle(t.current[r]).padding.replace("px","")),entryDimensions:n.current[r].filter((function(e){return e})).map((function(e){return e.getBoundingClientRect()}))}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.patchListDragStateHandlePosition=void 0;var i=n(66);t.patchListDragStateHandlePosition=function(e,t){return r(r({},e),{listDragState:r(r({},e.listDragState),{initialHandlePosition:t,handleOffsetRelativeToEndPosition:i.calculateHandleOffsetRelativeToEndPosition(e.listDragState.entryEndPositions[e.listDragState.originalIndex],t,e.listDragState.offset)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutRecalculation=void 0,t.getLayoutRecalculation=function(e,t){var n,r,i,o;return{oldTarget:null!==(r=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==r?r:e.source.index,newTarget:null!==(o=null===(i=t.target)||void 0===i?void 0:i.index)&&void 0!==o?o:t.source.index}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupDragStateForTarget=void 0;var o=n(66),a=n(172),s=n(103),u=n(47),c=n(169);var l={X:function(e,t){return s.calculateItemSizesForLimitedGroup(e,t)},Y:function(e,t){var n=e.groups[t].axis,r=e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex],o=e.groupDimensions[t].entryDimensions;return i(i([],o),[r]).map(u.dex.size[n])}};t.initGroupDragStateForTarget=function(e,t,n,i){var s=t.groups[n].axis,d=l[s](t,n),p=u.dex.pos[s](t.groupDimensions[n].dimensions)+t.groupDimensions[n].padding,f=t.groups[n].items.length,m=f+1,h=o.onStartListDrag(f,d,0,p),g={index:n,listDragState:h},v=r(r({},t),{target:g}),y=a.calculateHandleOffset(v,s),b=p+h.entryEndPositions[m-2]+y;return g=c.patchListDragStateHandlePosition(g,b),r(r({},g),{listDragState:o.onListDrag(i,g.listDragState)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateHandleOffset=void 0;var r=n(103),i=n(47);function o(e,t,n){var o=function(e,t){var n,o,a=null!==(o=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==o?o:e.source.index,s=e.groups[a].axis,u=i.dex.size[t](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);return"X"===s?"X"===t?r.getSizeBasedOnCurrentTarget(e,a):u:"X"===t?i.dex.size[t](e.groupDimensions[a].dimensions):u}(e,n);return o<t?o/2:t}t.calculateHandleOffset=function(e,t){var n=i.dex.pos[t](e.simpleDragState.startCoordinates)-i.dex.pos[t](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);return n=o(e,n,t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setListDragStateOnDrag=void 0;var i=n(66);t.setListDragStateOnDrag=function(e,t){return r(r({},t),{listDragState:i.onListDrag(e,t.listDragState)})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupSize=void 0;var i=n(47),o=n(76),a=n(175),s=n(77),u=n(283),c=n(141);function l(e,t){var n=t.dimensions,i=t.sizeChange;return r({dimensions:r(r({},n),n.height?{height:n.height+e.y}:{})},n.height?{sizeChange:{quantity:(i?i.quantity:0)+e.y,axis:"Y"}}:{sizeChange:null})}t.calculateGroupSize=function(e,t,n,r,d){if(s.isDraggedItem(e,t,r))throw"unexpected state";var p=e.groups[n].axis,f=a.getOppositeAxis(p),m=i.dex.size[p](e.groupDimensions[n].dimensions),h=i.dex.size[p](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]),g=i.dex.size[f](e.groupDimensions[n].dimensions),v=i.dex.size[f](e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]);if(!e.layoutRecalculation||e.layoutRecalculation.oldTarget===e.layoutRecalculation.newTarget||n!==e.layoutRecalculation.oldTarget&&n!==e.layoutRecalculation.newTarget){if(e.groups[t].isRootGroup){var y=i.dex.size[p](e.groupDimensions[t].dimensions);if(m<y)return{dimensions:o.dre.size[p](y),sizeChange:null}}return l(d,"X"===p?{dimensions:o.dre.size[f](g),sizeChange:null}:{dimensions:o.dre.size[p](m),sizeChange:null})}var b,O,_,S=n===e.layoutRecalculation.oldTarget?-1:1,x=u.calculateGroupSizeChange(p,f,h,v,m,g,e,n,S);return(b=e,O=e.layoutRecalculation.oldTarget,_=e.layoutRecalculation.newTarget,c.isSubGroup(b,O,_)||c.isSubGroup(b,_,O))?l(d,x):x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOppositeAxis=void 0,t.getOppositeAxis=function(e){return"X"===e?"Y":"X"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemPosition=void 0;var i=n(66),o=n(177),a=n(47),s=n(76),u=n(77);t.calculateItemPosition=function(e,t,n){var c,l=e.groups[t].axis;if(u.isDraggedItem(e,t,n))return o.calculateDraggedItemPosition(e);if(e.source.index===t&&void 0===e.target){var d=function(e,t){return e<t.source.listDragState.originalIndex?0:a.dex.size[t.groups[t.source.index].axis](t.groupDimensions[t.source.index].entryDimensions[t.source.listDragState.originalIndex])}(n,e);return r({},s.dre.start[l](d+i.getListDragOffset(n,e.source.listDragState)))}return(null===(c=e.target)||void 0===c?void 0:c.index)===t?r({},s.dre.start[l](i.getListDragOffset(n,e.target.listDragState))):r({},s.dre.start[l](0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDraggedItemPosition=void 0;var r=n(172);t.calculateDraggedItemPosition=function(e){var t=r.calculateHandleOffset(e,"X"),n=e.simpleDragState.currentCoordinates.x-t,i=r.calculateHandleOffset(e,"Y");return{left:n,top:e.simpleDragState.currentCoordinates.y-i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateItemSize=void 0;var r=n(76),i=n(77),o=n(103),a={};t.calculateItemSize=function(e,t,n){var s;if(i.isDraggedItem(e,t,n))throw"unexpected state";var u=e.groups[t].axis;if("Y"===u)return a;var c=o.calculateItemSizesForLimitedGroup(e,t);if(e.layoutRecalculation&&e.layoutRecalculation.oldTarget!==e.layoutRecalculation.newTarget){if(t===e.layoutRecalculation.oldTarget)return r.dre.size[u](c[n]);if(t===e.layoutRecalculation.newTarget)return r.dre.size[u](c[n])}else if(t===e.source.index&&!e.target||t===(null===(s=e.target)||void 0===s?void 0:s.index))return r.dre.size[u](c[n]);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSubject=void 0;var r=n(1),i=n(155);t.useSubject=function(){return r.useMemo((function(){return new i.Subject}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventBusSubscription=void 0;var r=n(104);t.useEventBusSubscription=function(e,t){r.useObservable(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startAnimation=void 0,t.startAnimation=function(e,t,n,r){var i=!1,o=t-e,a=performance.now();return window.requestAnimationFrame((function t(s){var u=(s-a)/n;r(e+Math.round(o*function(e){return(1-Math.cos(Math.PI*e))/2}(u))),!i&&u<1?window.requestAnimationFrame(t):r(e+o)})),function(){return i=!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActionByOrigin=t.makeOriginToActionMapping=void 0;var r=n(137),i=n(58);t.makeOriginToActionMapping=function(e,t){return{origin:e,action:t}},t.getActionByOrigin=function(e,t){var n=e.find((function(e){return e.origin===t}));if(!n)throw i.errorWithDetails(null,r.compileOriginNotConfiguredErrorDetails(t));return n.action}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getId=void 0,t.getId=function(e){return e.id}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getPermanent=void 0;t.getPermanent=function(e,t){return r(r({},t||{obsolete:{state:!1}}),{documentType:e.documentType,version:e.version,origin:t?t.origin:e.origin})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdatedAt=void 0,t.getUpdatedAt=function(e){return e.updatedAt}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDiff=void 0,t.calculateDiff=function(e,t,n,r){var i=function e(t){var i=t.listA,o=t.listB,a=t.unchanged,s=t.missingInA,u=t.missingInB,c=t.changed,l=t.previousA,d=t.previousB;if(0===i.length)return{listA:[],listB:[],unchanged:a,missingInA:s.concat(o),missingInB:u,changed:c,previousA:l,previousB:d};if(0===o.length)return{listA:[],listB:[],unchanged:a,missingInA:s,missingInB:u.concat(i),changed:c,previousA:l,previousB:d};var p=i[0],f=i.slice(1),m=o[0],h=o.slice(1);if(l&&n(p,l)<0)throw"listA appears to be unsorted!";if(d&&n(m,d)<0)throw"listB appears to be unsorted!";var g=n(p,m);return 0===g?r(p,m)?e({listA:f,listB:h,unchanged:a.concat(m),missingInA:s,missingInB:u,changed:c,previousA:p,previousB:m}):e({listA:f,listB:h,unchanged:a,missingInA:s,missingInB:u,changed:c.concat({a:p,b:m}),previousA:p,previousB:m}):e(g>0?{listA:i,listB:h,unchanged:a,missingInA:s.concat(m),missingInB:u,changed:c,previousA:p,previousB:m}:{listA:f,listB:o,unchanged:a,missingInA:s,missingInB:u.concat(p),changed:c,previousA:p,previousB:m})}({listA:e,listB:t,unchanged:[],missingInA:[],missingInB:[],changed:[],previousA:null,previousB:null}),o=i.unchanged,a=i.missingInB;return{unchanged:o,missingInA:i.missingInA,missingInB:a,changed:i.changed}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.produceSnippetMetaData=t.getBodyFromTextContent=void 0;var i=n(35),o=n(59);t.getBodyFromTextContent=function(e,t){return void 0===t&&(t=!1),e.split("\n").filter((function(e,n){return(!t||0!==n)&&" "!==e})).join(" ")},t.produceSnippetMetaData=function(e,t,n){var a=t.store.filter((function(t){var n=t.item;return i.isTag(n)&&!n.document.archived&&i.hasAnyItems(n.document,[e.id])})).map((function(e){var t=e.item;return{path:t.document.path,text:i.turnPathIntoTag(t.document.path),id:t.id}}));return r(r({},function(e){var t=o.getPluginByLanguage(e.document.language);return t?t.produceFileMetaData(e):{id:"n/a",normalizedLanguage:"n/a",textContent:"n/a",upperCaseTextContent:"n/a",title:"n/a",upperCaseTitle:"n/a",body:"n/a",trimmedBody:"n/a",searchableString:"n/a",reminders:[]}}(e)),{resolvedTags:a,dirty:e.dirty,origin:e.permanent.origin,updatedAt:e.updatedAt,syncErrors:n.filter((function(t){return t.documentId&&t.documentId===e.id})).map((function(e){return e.message}))})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCodeMirrorThemeByName=t.getThemeBaseClassByName=void 0;var r={dark:{base:"Theme-dark",code:"one-dark"},light:{base:"Theme-light",code:"one-dark"},solarizedLight:{base:"Theme-solarized-light",code:"solarized light"},solarizedDark:{base:"Theme-solarized-dark",code:"solarized dark"},classicBlue:{base:"Theme-classic-blue",code:"classic-blue"}};t.getThemeBaseClassByName=function(e){return r[e].base},t.getCodeMirrorThemeByName=function(e){return r[e].code}},,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildChangeImageTypeMenuItem=t.ImageView=t.resizableImage=void 0;var i=n(21);t.resizableImage={inline:!0,attrs:{src:{},width:{default:"10em"},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{priority:51,tag:"img[src][width]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t={style:"width: "+e.attrs.width};return["span",r(r({},e.attrs),t)]}};var o=function(e,t,n){throw"ImageView was not migrated!"};t.ImageView=o,t.buildChangeImageTypeMenuItem=function(e,t,n){var r=function(n,r){if((n.selection&&n.selection.node&&n.selection.node.type)===e){if(r)r(n.tr.replaceSelectionWith(t.create({src:n.selection.node.attrs.src})));return!0}return!1},o={run:r,enable:function(e,t){return r(e,t)},select:function(t){return(t.selection&&t.selection.node&&t.selection.node.type)===e}};for(var a in n)o[a]=n[a];return new i.MenuItem(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildTodoListKeyMap=t.handleMouseDown=t.todoListNodes=void 0;var r=n(39),i=n(341),o="ProseMirror-todo-list-item-checkbox",a={attrs:{done:{default:!1}},content:"paragraph block*",toDOM:function(e){return["li",{"data-type":"todo_item","data-done":e.attrs.done.toString()},["span",{class:"mdi mdi-checkbox-marked-circle "+o,contenteditable:"false"}],["span",{class:"mdi mdi-circle-outline "+o,contenteditable:"false"}],["div",{class:"ProseMirror-todo-list-item-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="todo_item"]',getAttrs:function(e){return{done:"true"===e.getAttribute("data-done")}}}]};function s(e,t,n,r,i){return!("todo_item"!==n.type.name||!i.target.classList.contains(o))&&(e.dispatch(function(e,t,n){return e.tr.setNodeMarkup(t,null,{done:!n.attrs.done})}(e.state,r,n)),!0)}t.todoListNodes={todo_item:a,todo_list:{group:"block",content:"todo_item+ | list_item+",toDOM:function(e){return["ul",{"data-type":"todo_list"},0]},parseDOM:[{priority:51,tag:'[data-type="todo_list"]'}]}},t.handleMouseDown=function(e,t){return function(e,t,n){var r=e.posAtCoords(function(e){return{left:e.clientX,top:e.clientY}}(t));return function(e,t,n,r,i){if(-1==r)return!1;for(var o=e.state.doc.resolve(r),a=o.depth+1;a>0;a--)if(a>o.depth?t(e,n,o.nodeAfter,o.before(a),i,!0):t(e,n,o.node(a),o.before(a),i,!1))return!0;return!1}(e,n,r.pos,r.inside,t)}(e,t,s)},t.buildTodoListKeyMap=function(e){return r.keymap({Enter:i.splitTodoListItem(e.nodes.todo_item)})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.appendCustomMarks=t.KNOWN_FONT_SIZES=t.KNOWN_COLORS=void 0;var i=n(12);function o(e,t){return""+e+i.capitalize(t)}t.KNOWN_COLORS=["blue","red","yellow"],t.KNOWN_FONT_SIZES=["small","big"];var a=[{prefix:"color",tagPrefix:"color",knownValues:t.KNOWN_COLORS},{prefix:"backgroundColor",tagPrefix:"background-color",knownValues:t.KNOWN_COLORS},{prefix:"fontSize",tagPrefix:"font-size",knownValues:t.KNOWN_FONT_SIZES}].map((function(e){var t=e.prefix,n=e.tagPrefix,r=e.knownValues;return{prefix:t,tagPrefix:n,knownValues:r,excludes:r.map((function(e){return o(t,e)})).join(" ")}})).reduce((function(e,t){var n=t.prefix,i=t.tagPrefix,a=t.knownValues,s=t.excludes;return r(r({},e),a.reduce((function(e,t){var a;return r(r({},e),((a={})[o(n,t)]=function(e,t){return{excludes:t,parseDOM:[{tag:e}],toDOM:function(t){return[e,0]}}}(function(e,t){return e+"-"+t}(i,t),s),a))}),{}))}),{});t.appendCustomMarks=function(e){return e.append(a)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorReader=void 0;var s=a(n(1)),u=n(50),c=n(67),l=n(197),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shouldComponentUpdate=function(e){return c.shouldComponentUpdateForSnippet(this.props,e)},t.prototype.render=function(){if(!0===this.props.trim)return s.default.createElement("div",null,this.props.fileMeta.trimmedBody);var e=l.initState({schema:this.props.schema,docJson:this.props.content,onEscape:void 0,onLeaveUpwards:void 0}),t=new u.EditorView(document.createElement("div"),{state:e}),n=t.dom.innerHTML;return t.destroy(),s.default.createElement("div",{className:"ProseMirrorReader"},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))},t}(s.Component);t.ProseMirrorReader=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEditorView=t.initState=void 0;var r=n(507),i=n(6),o=n(50),a=n(42),s=n(39),u=n(16);n(344),n(345),n(346);var c=n(198),l=n(347),d=n(348),p=n(111),f=n(74),m=n(349),h=n(351),g=n(112),v=n(352);n(354);var y=n(29),b=n(194),O=n(49),_=n(145),S=n(199),x=n(361),E=n(362),j=n(364);var w=[function(e,t,n,r,i){if("A"===i.target.tagName){var o=i.target.getAttribute("href");return y.isElectron()?f.getElectron().shell.openExternal(o):window.open(o,"_blank"),!0}return!1}],P=[b.handleMouseDown],D=function(e,t,n,r,i){return!!w.find((function(o){return!0===o(e,t,n,r,i)}))},T=function(e,t){return!!P.find((function(n){return!0===n(e,t)}))};function C(e){var t=e.docJson,n=e.schema,o=e.onEscape,l=e.onLeaveUpwards,f=[n.nodes.list_item,n.nodes.todo_item],m=[n.nodes.bullet_list,n.nodes.ordered_list,n.nodes.todo_list],v=O.initDoc(n,t),y=r.exampleSetup({schema:n,menuBar:!1,history:!1}),E=a.history(),w=[_.buildCustomInputRules(n),d.buildKeyMap(f,m),j.makeReminderPluginKeymap(),s.keymap({"Mod-Enter":u.splitBlock}),b.buildTodoListKeyMap(n),O.buildListItemKeyMap(n),c.placeholderPlugin,h.ScrollPastEndPlugin,g.HighlightPlugin,x.TooltipPlugin,E];return n.marks.link&&n.marks.link.attrs.nolabel&&w.push(p.makeAnchorPlugin(n,E.key)),i.EditorState.create({doc:v,plugins:w.concat(y).concat([O.buildEscapeKeyMap(o)]).concat([O.buildUpArrowKeyMap((function(e){e.selection.$cursor&&1===e.selection.$cursor.pos&&l&&l()}))]).concat(S.makeReminderPlugin())})}t.initState=C,t.initEditorView=function(e){var t=e.docJson,n=e.schema,r=e.editorElement,i=e.onDocChange,a=e.onStateChange,s=e.onKeyDown,u=e.onBlur,c=e.onFocus,d=e.onCursor,p=(e.uploadFile,C({docJson:t,schema:n,onEscape:e.onEscape,onLeaveUpwards:e.onLeaveUpwards}));a&&a(p);var f=new o.EditorView(r,{state:p,dispatchTransaction:function(e){var t=f.state.apply(e);if(f.updateState(t),a&&a(t),e.docChanged){var n=O.docToJson(t.doc);i&&i({docJson:n})}var r=t.selection.from,o=f.coordsAtPos(r);d&&d(o.bottom)},handleClickOn:D,handleDOMEvents:{blur:function(e,t){var n=O.docToJson(e.state.doc);u&&u({docJson:n})},focus:function(e,t){var n=e.state.selection.from,r=f.coordsAtPos(n);d&&d(r.bottom);var i=O.docToJson(e.state.doc);c&&c({docJson:i},e.state)},mousedown:T},handleKeyDown:function(e,t){s&&s(t)},nodeViews:{resizableImage:function(e,t,n){return new l.ImageView(e,t,n)},code_block:function(e,t,n){return new m.CodeBlockView(e,t,n)},paragraph:function(e,t,n){return new v.CustomParagraphView(e,t,n)},reminder:function(e,t,n){return new E.ReminderNodeView(e,t,n)}}});return f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildImageUploadMenuItem=t.placeholderPlugin=void 0;var r=n(21),i=n(6),o=n(50);function a(e,n,r,i){var o=function(e,n){var r=t.placeholderPlugin.getState(e).find(null,null,(function(e){return e.id===n}));return r.length?r[0].from:null}(e.state,i);null!=o&&e.dispatch(e.state.tr.replaceWith(o,o,n.create({src:r})).setMeta(t.placeholderPlugin,{remove:{id:i}}))}t.placeholderPlugin=new i.Plugin({state:{init:function(){return o.DecorationSet.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(n&&n.add){var r=document.createElement("span");r.classList.add("ProseMirrorWriter-image-upload-placeholder");var i=o.Decoration.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[i])}else n&&n.remove&&(t=t.remove(t.find(null,null,(function(e){return e.id===n.remove.id}))));return t}},props:{decorations:function(e){return this.getState(e)}}}),t.buildImageUploadMenuItem=function(e,n,i){return new r.MenuItem({icon:e,run:function(e,r,o){var s=document.createElement("input");s.setAttribute("type","file"),s.onchange=function(e){var r=function(e){var n={},r=e.state.tr;return r.selection.empty||r.deleteSelection(),r.setMeta(t.placeholderPlugin,{add:{id:n,pos:r.selection.from}}),e.dispatch(r),n}(o);new i(e.target.files[0]).then((function(e){var t=document.createElement("img");t.onload=function(){a(o,n,e,r)},t.src=e}))},s.click()}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPlugin=t.reminderPluginKey=t.tree=void 0;var i=n(6),o=n(50),a=n(355),s=n(356),u=n(359);function c(e,t,n,r){return o.DecorationSet.create(r,e.map((function(e){var r=t+e.start,i=t+e.end;return!e.complete||n<r||i<n?null:o.Decoration.inline(r,i,{class:"Reminders-sequence"},{sequence:e})})).filter((function(e){return e})))}n(360),t.tree=a.compileTree(s.grammarEn),t.reminderPluginKey=new i.PluginKey("reminderPlugin"),t.makeReminderPlugin=function(){return new i.Plugin({key:t.reminderPluginKey,state:{init:function(){return{currentNodeStart:null,decorations:null}},apply:function(e,n,i,o){if(!o.selection.$cursor)return{currentNodeStart:null,decorations:null};var a=[];return o.selection.$cursor.parent.descendants((function(e,n){e.isText&&a.push.apply(a,u.parse(t.tree,e.textContent).map((function(e){return r(r({},e),{start:e.start+n,end:e.end+n})})))})),r(r({},n),{decorations:c(a,o.selection.$cursor.start(),o.selection.$cursor.pos,e.doc)})}},props:{decorations:function(e){return this.getState(e).decorations}}})}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0,t.expand=function(e,t){return e.map((function(e){return t.map((function(t){return r(r([],e),t)}))})).flat()}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ORDINALS_REGEX=t.TIME_UNIT_FOR_REPEAT_REGEX=t.TIME_UNIT_REGEX=t.AM_OR_PM_REGEX=t.TIME_DIGITS_AM_OR_PM_REGEX=t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=t.ARBITRARY_DIGITS_REGEX=t.SPELLED_MONTH_REGEX=t.REPEATABLE_WEEKDAY_REGEX=t.WEEKDAY_REGEX=t.DAY_AND_MONTH_DIGITS_REGEX=t.SPELLED_NUMBERS_REGEX=t.DATE_DIGITS_REGEX=t.TIME_DIGITS_REGEX=t.NOON_MIDNIGHT_REGEX=t.SPELLED_TIME_OF_DAY_REGEX=t.MONTH_REGEX=t.OTHER_REGEX=t.EVERY_REGEX=t.THE_REGEX=t.TOMORROW_REGEX=t.WEEK_REGEX=t.OF_REGEX=t.NEXT_REGEX=t.ON_REGEX=t.IN_REGEX=t.AT_REGEX=void 0;var i=n(113);function o(e){return new RegExp("^"+e+"$","i")}function a(e){return e.map((function(e){return"^"+e+"$"})).join("|")}var s=i.numberPostfixes.join("|");t.AT_REGEX=o("at"),t.IN_REGEX=o("in"),t.ON_REGEX=o("on"),t.NEXT_REGEX=o("next"),t.OF_REGEX=o("of"),t.WEEK_REGEX=o("week"),t.TOMORROW_REGEX=o("tomorrow"),t.THE_REGEX=o("the"),t.EVERY_REGEX=o("every"),t.OTHER_REGEX=o("other"),t.MONTH_REGEX=o("month"),t.SPELLED_TIME_OF_DAY_REGEX=o(a(i.timeOfDay)),t.NOON_MIDNIGHT_REGEX=o(a(i.noonMidnight)),t.TIME_DIGITS_REGEX=o("([0-9]{1,2})(:([0-9]{2}))?(:([0-9]{2}))?"),t.DATE_DIGITS_REGEX=o("([0-9]{1,2})("+s+")?"),t.SPELLED_NUMBERS_REGEX=o(a(Object.keys(i.wordToNumber))),t.DAY_AND_MONTH_DIGITS_REGEX=o("([0-9]{1,2})\\.([0-9]{1,2})\\.?"),t.WEEKDAY_REGEX=o(a(i.weekdays)),t.REPEATABLE_WEEKDAY_REGEX=o(a(r(r([],i.weekdays.map((function(e){return e+",?"}))),["and"]))),t.SPELLED_MONTH_REGEX=o(a(i.months)),t.ARBITRARY_DIGITS_REGEX=o("[0-9]+"),t.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX=o("([0-9]+)("+s+")?"),t.TIME_DIGITS_AM_OR_PM_REGEX=o("([0-9]{1,2})("+i.amPm.join("|")+")"),t.AM_OR_PM_REGEX=o(i.amPm.map((function(e){return"^"+e+"$"})).join("|")),t.TIME_UNIT_REGEX=o(a(i.timeUnits.map((function(e){return e[0]})))),t.TIME_UNIT_FOR_REPEAT_REGEX=o(a(i.timeUnits.filter((function(e){var t=e[0];return!["second","minute","hour"].find((function(e){return t.startsWith(e)}))})).map((function(e){return e[0]})))),t.ORDINALS_REGEX=o(a(i.ordinals))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustByTimezoneOffset=void 0,t.adjustByTimezoneOffset=function(e){return e+60*new Date(e).getTimezoneOffset()*1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDate=t.renderTime=void 0;var r=n(78),i=n(363),o=n(113),a=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric"}),s=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",second:"numeric"}),u=new Intl.DateTimeFormat([],{weekday:"long",month:"long",day:"numeric"}),c=new Intl.DateTimeFormat([],{year:"numeric",weekday:"long",month:"long",day:"numeric"});function l(e){return 0===e.getSeconds()?a.format(e):s.format(e)}function d(e){var t=i.getTimeUnitForDiff(e);return o.approximate(Math.round(e/r.timeUnitToMilliseconds[t]),t)}t.renderTime=l,t.renderDate=function(e){var t=new Date(e),n=Date.now(),i=new Date;if(t<i)return d(t.getTime()-n);if(function(e,t,n){return e.getTime()-t.getTime()<n}(t,i,3*r.timeUnitToMilliseconds.hour))return(o=d(t.getTime()-n))+" ("+l(t)+")";if(p=i,(s=t).getDate()===p.getDate()&&s.getMonth()===p.getMonth()&&s.getFullYear()===p.getFullYear())return"Today at "+l(t);if(function(e,t){return e.getDate()===t.getDate()+1&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(t,i))return"Tomorrow at "+l(t);var o=d(t.getTime()-n);if(function(e,t){return e.getFullYear()===t.getFullYear()}(t,i)){var a=u.format(t);return o+" at "+l(t)+" ("+a+")"}var s,p,f=c.format(t);return o+" at "+l(t)+" ("+f+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nowWithLocaleHours=void 0,t.nowWithLocaleHours=function(){var e=new Date;return e.setUTCHours(e.getHours()),e.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertReminder=void 0;var r=n(6),i=n(78),o=n(199),a=n(204);t.insertReminder=function(e,t){var n=o.reminderPluginKey.getState(e);if(!n.decorations)return!1;var s=e.selection,u=s.from,c=s.to,l=n.decorations.find(u,c)[0];if(!l)return!1;var d=e.doc.resolve(l.from),p=e.doc.resolve(l.to);if(t){var f=l.spec.sequence.description,m=a.nowWithLocaleHours(),h=i.compileSingle(m,f),g={expression:e.doc.textBetween(l.from,l.to),date:h,createdAt:m,repeatDescription:f.repeatDescription};t(e.tr.setSelection(new r.Selection(d,p)).replaceSelectionWith(e.schema.nodes.reminder.create(g)).deleteSelection())}return!0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorWriter=void 0;var u=s(n(1)),c=n(197),l=n(207),d=n(112),p=n(49),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=function(e){return function(t){var n=t.docJson;return e&&e(n)}},n=l.buildMenuItemSpecs(this.props.schema,void 0),r=p.prepareMenuItemIterator((function(t){return e.props.toolbarEvents&&e.props.toolbarEvents.publishMenuItemStateChange(t)}),n),i=t(this.props.onFocus),o=c.initEditorView({docJson:this.props.content,schema:this.props.schema,editorElement:this.editor,onDocChange:t(this.props.onChange),onBlur:t(this.props.onBlur),onFocus:function(e,t){i(e),r(t,!0)},onStateChange:function(e){return r(e)},uploadFile:function(t){return e.props.uploadFile(t)},onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards,onKeyDown:void 0,onCursor:void 0});this.subscriptions=[];var a=this.props.toolbarEvents&&this.props.toolbarEvents.subscribeForMenuItemRun((function(t){var r;if(null===(r=e.editorView)||void 0===r?void 0:r.hasFocus()){var i=n.find((function(e){return e.spec.class===t}));null===i||void 0===i||i.spec.run(o.state,o.dispatch)}}));a&&this.subscriptions.push(a),this.editorView=o},t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()})),this.editorView.destroy()},t.prototype.focus=function(){this.editorView.focus()},t.prototype.findOccurences=function(e){var t=this;return d.findOccurences(this.editorView.state.doc,e).map((function(e){return i(i({},e),{coordinates:t.editorView.coordsAtPos(e.start)})}))},t.prototype.onChangeQuery=function(e,t){var n=d.findOccurences(this.editorView.state.doc,e),r=t%n.length;n=n.map((function(e,n){return i(i({},e),{class:0<=t&&n===r?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"})})),d.highlightOccurences(this.editorView,n);var o=n[r];return o&&{coordinates:this.editorView.coordsAtPos(o.start),numberOfOccurences:n.length}},t.prototype.render=function(){var e=this,t=i({},this.props.availableEditorWidth?{width:Math.min(550,this.props.availableEditorWidth)}:{});return u.default.createElement("div",{style:t,className:"ProseMirrorWriter-editor-container",ref:function(t){return e.editor=t}})},t}(u.Component);t.ProseMirrorWriter=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildMenuItemSpecs=void 0;var i=n(16),o=n(46),a=n(96),s=n(198),u=n(144),c=n(12),l=n(195),d=n(49),p=n(193),f=n(205);function m(e,t){var n={label:t.title,run:e};for(var r in t)n[r]=t[r];return n.enable=function(t){return e(t)},{spec:n}}function h(e,t,n){e=e.map((function(e){return void 0===e.strong?r(r({},e),{strong:!0}):e}));var o={run:function(n,o){var a=function(n){var o=r({},n.attrs),a=e.findIndex((function(e){var t=e.name,n=e.value;return e.strong&&o[t]!==n}))>=0;return e.forEach((function(e){var t=e.name,n=e.value;a?o[t]=n:delete o[t]})),i.setBlockType(t,o)}(n.selection.$from.parent);if(a(n))return a(n,o)},enable:function(e){return!0},active:function(t){return-1===e.findIndex((function(e){var n=e.name,r=e.value;return e.strong&&t.selection.$from.parent.attrs[n]!==r}))}};for(var a in n)o[a]=n[a];return{spec:o}}function g(e,t,n){var r=i.setBlockType(e,t.attrs),o=i.setBlockType(n.nodes.paragraph),a={run:function(e,t){return r(e)?r(e,t):o(e,t)},enable:function(t){var n=t.selection,i=n.$from,o=n.$to;return i.parent===o.parent&&i.parent.type===e||r(t)},active:function(n){var r=n.selection,i=r.$from,o=r.to,a=r.node;return a?a.hasMarkup(e,t.attrs):o<=i.end()&&i.parent.hasMarkup(e,t.attrs)}};for(var s in t)a[s]=t[s];return{spec:a}}function v(e,t){var n={active:function(t){return function(e,t){var n=e.selection,r=n.from,i=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||i.marks()):e.doc.rangeHasMark(r,o,t)}(t,e)},enable:!0};for(var r in t)n[r]=t[r];return m(i.toggleMark(e),n)}function y(e,t){return m(o.wrapInList(e,t.attrs),t)}function b(e){return{title:a.itemTitles[e],class:a.itemIdentifiers[e]}}var O=[].concat(l.KNOWN_COLORS.map((function(e){return"color"+c.capitalize(e)}))).concat(l.KNOWN_COLORS.map((function(e){return"backgroundColor"+c.capitalize(e)}))).concat(l.KNOWN_FONT_SIZES.map((function(e){return"fontSize"+c.capitalize(e)}))),_=function(e){return[].concat(O.map((function(t){return e.marks[t]&&{name:"toggle"+c.capitalize(t),command:v(e.marks[t],{title:a.itemTitles[t],class:a.itemIdentifiers[t]})}}))).filter((function(e){return e}))};t.buildMenuItemSpecs=function(e,t){var n,r={};(n=e.marks.strong)&&(r.toggleStrong=v(n,{title:a.itemTitles.bold,class:a.itemIdentifiers.bold})),(n=e.marks.em)&&(r.toggleEm=v(n,{title:a.itemTitles.italic,class:a.itemIdentifiers.italic})),(n=e.marks.code)&&(r.toggleCode=v(n,{title:a.itemTitles.code,class:a.itemIdentifiers.code})),(n=e.nodes.bullet_list)&&(r.wrapBulletList=y(n,{title:a.itemTitles.bulletList,class:a.itemIdentifiers.bulletList})),(n=e.nodes.ordered_list)&&(r.wrapOrderedList=y(n,{title:a.itemTitles.orderedList,class:a.itemIdentifiers.orderedList})),(n=e.nodes.todo_list)&&(r.wrapTodoList=y(n,{title:a.itemTitles.todoList,class:a.itemIdentifiers.todoList,attrs:{"data-type":"todo_list"}}));var o=d.getListItemTypes(e),l=d.makeUniversalLiftAndSinkCommand(o),O=l.universalLift,S=l.universalSink;if(o.length>0&&(r.liftItemMenu=m(O,{title:a.itemTitles.liftItem,class:a.itemIdentifiers.liftItem}),r.sinkItemMenu=m(S,{title:a.itemTitles.sinkItem,class:a.itemIdentifiers.sinkItem})),(n=e.nodes.code_block)&&(r.makeCodeBlock=g(n,{title:a.itemTitles.codeBlock,class:a.itemIdentifiers.codeBlock},e)),n=e.nodes.heading)for(var x=1;x<=10;x++)r["makeHead"+x]=g(n,{title:a.itemTitles["heading"+x],class:a.itemIdentifiers["heading"+x],attrs:{level:x}},e);(n=e.nodes.reminder)&&(r.makeReminder=m(f.insertReminder,{title:a.itemTitles.reminder,class:a.itemIdentifiers.reminder})),r.joinUpItem=m(i.joinUp,{title:a.itemTitles.joinItem,class:a.itemIdentifiers.joinItem}),(n=e.nodes.resizableImage)&&(r.uploadImage=s.buildImageUploadMenuItem(null,n,t));var E=e.nodes.image,j=e.nodes.resizableImage;E&&j&&(r.changeToDefaultImage=p.buildChangeImageTypeMenuItem(j,E,{title:a.itemTitles.imageDefault,class:a.itemIdentifiers.imageDefault}),r.changeToResizableImage=p.buildChangeImageTypeMenuItem(E,j,{title:a.itemTitles.imageResizable,class:a.itemIdentifiers.imageResizable}));var w=function(e){return e.nodes.paragraph?[].concat(u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(t){var n="sticky"+c.capitalize(t);return{name:n,command:h([{name:"type",value:"sticky"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:t},{name:"itemAlignment",value:"center",strong:!1}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.knownValues.map((function(t){var n="box"+c.capitalize(t);return{name:n,command:h([{name:"type",value:"box"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:t}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.knownValues.map((function(t){var n=""+u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name+c.capitalize(t);return{name:n,command:h([{name:u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:t}],e.nodes.paragraph,b(n))}}))).concat(u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.knownValues.map((function(t){var n=""+u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name+c.capitalize(t);return{name:n,command:h([{name:u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:t}],e.nodes.paragraph,b(n))}}))).concat([{name:"quote",command:h([{name:u.ATTRIBUTE_DEFINITIONS.TYPE.name,value:"quote"},{name:u.ATTRIBUTE_DEFINITIONS.BACKGROUND_COLOR.name,value:null},{name:u.ATTRIBUTE_DEFINITIONS.TEXT_ALIGNMENT.name,value:null},{name:u.ATTRIBUTE_DEFINITIONS.ITEM_ALIGNMENT.name,value:null}],e.nodes.paragraph,b("quote"))}]):[]}(e);w.forEach((function(e){var t=e.name,n=e.command;return r[t]=n}));var P=_(e);return P.forEach((function(e){var t=e.name,n=e.command;return r[t]=n})),[r.toggleStrong,r.toggleEm,r.toggleCode,r.makeCodeBlock,r.makeHead1,r.makeHead2,r.makeHead3,r.wrapBulletList,r.wrapOrderedList,r.wrapTodoList,r.liftItemMenu,r.sinkItemMenu,r.joinUpItem,r.uploadImage,r.changeToDefaultImage,r.changeToResizableImage,r.makeReminder].concat(w.map((function(e){var t=e.name;return r[t]}))).concat(P.map((function(e){var t=e.name;return r[t]}))).filter((function(e){return e}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoList=void 0;var u=s(n(1));n(370);var c=n(371),l=n(372),d=n(374),p=n(376),f=n(209),m=n(112),h=n(378),g=n(49),v=n(210);var y=["done"],b=function(e){return y.includes(e)};function O(e){return e.proseMirrorState.doc.toJSON()}var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement("span",{className:"TodoList-clear-button",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown},u.default.createElement("i",{className:"mdi mdi-close"}))},t}(u.Component),S=function(e){function t(t){var n=e.call(this,t)||this,r=Array.isArray(t.content)?h.makeProseMirrorStateFromTodos(t.content):h.makeProseMirrorStateFromSerializedDocJson(t.content),i=r.proseMirrorState;n.historyPluginKey=r.historyPluginKey,n.state={proseMirrorState:i,currentlyEditedTodo:n.props.currentlyEditedTodo,cursorPosition:n.props.cursorPosition||0,timestamp:Date.now(),hiddenStates:{pinned:!1,open:!1,done:!1}},n.onBlur=n.onBlur.bind(n),n.onDrag=n.onDrag.bind(n),n.onSpacerClick=n.onSpacerClick.bind(n),n.onInsertEmpty=n.onInsertEmpty.bind(n),n.inputRefs=[],n.historyPlugin=h.buildCustomHistoryPlugin(n),n.dispatch=n.dispatch.bind(n);var o=f.buildMenuItemSpecs();n.subscriptions=[];var a=n.props.toolbarEvents&&n.props.toolbarEvents.subscribeForMenuItemRun((function(e){if(n.state.currentlyEditedTodo){var t=o.find((function(t){return t.spec.class===e}));null===t||void 0===t||t.spec.run(n.state.proseMirrorState,n.dispatch)}}));return a&&n.subscriptions.push(a),n.menuItemIterator=g.prepareMenuItemIterator((function(e){return n.props.toolbarEvents&&n.props.toolbarEvents.publishMenuItemStateChange(e)}),o),n.menuItemIterator(i),n}return r(t,e),t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.componentDidUpdate=function(e){this.props.isEditing&&!e.isEditing&&this.getInput(0).focus()},t.prototype.cursor=function(){var e=this.getInput(this.state.currentlyEditedTodo);if(e){var t=e.getDimensions(),n=t.y+t.height;this.props.onCursor&&this.props.onCursor(n)}},t.prototype.change=function(){this.props.onChange(O(this.state))},t.prototype.blur=function(){this.props.onBlur(O(this.state)),this.setState({currentlyEditedTodo:null})},t.prototype.suggestPersist=function(){this.props.onSuggestPersist&&this.props.onSuggestPersist(O(this.state))},t.prototype.focus=function(){this.props.onFocus(O(this.state)),this.cursor()},t.prototype.setFocus=function(){this.inputRefs[0].focus(0)},t.prototype.getInput=function(e){return this.inputRefs[e]},t.prototype.onCheck=function(e){var t=this;if(!this.props.isEditing)return!1;this.setState((function(t){var n=v.handleCheck(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newStatus,a=n.newIndex;return{currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:a,listName:o}},proseMirrorState:r}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))},t.prototype.onDrag=function(e){var t=this,n=e.from,r=e.to,i=e.newList;this.setState((function(e){return{proseMirrorState:v.handleDrag(n,r,i,t.state.proseMirrorState).proseMirrorState,resetDragState:!0}}),(function(){t.suggestPersist(),t.setState({resetDragState:void 0})}))},t.prototype.onDelete=function(e){var t=this;this.setState((function(t){var n=v.handleDelete(e,t.proseMirrorState),r=n.proseMirrorState,i=n.oldStatus,o=n.newLength;return{proseMirrorState:r,currentlyEditedTodo:null,doAnimation:{from:{index:e,listName:i},to:{index:o,listName:"done"}}}}),(function(){t.suggestPersist(),t.setState({doAnimation:void 0})}))},t.prototype.onFocus=function(e,t,n){var r=this,i=this.state.proseMirrorState,o=v.buildOffsetMap(this.state.proseMirrorState,e),a=n.map(this.state.proseMirrorState.doc,o);if(!a.eq(this.state.proseMirrorState.selection)){var s=this.state.proseMirrorState.tr.setSelection(a);i=this.state.proseMirrorState.apply(s),this.menuItemIterator(i)}this.setState({proseMirrorState:i,currentlyEditedTodo:e,cursorPosition:null},(function(){return r.focus()}))},t.prototype.onBlur=function(e){(function(e,t){return!!(e.target&&e.relatedTarget&&e.target.id&&e.relatedTarget.id&&e.target.id.startsWith(t)&&e.relatedTarget.id.startsWith(t))})({target:e.target&&e.target.parentNode,relatedTarget:e.relatedTarget&&e.relatedTarget.parentNode},"todoListEntry")||this.blur()},t.prototype.onSpacerClick=function(e){y.includes(e)&&this.setState((function(t){var n;return{hiddenStates:i(i({},t.hiddenStates),(n={},n[e]=!t.hiddenStates[e],n))}}))},t.prototype.onInsertEmpty=function(){this.apply(v.insertEmpty(this.state.proseMirrorState))},t.prototype.onEnter=function(){v.handleEnter(this.state.proseMirrorState,this.dispatch)},t.prototype.onBackspace=function(){v.handleBackspace(this.state.proseMirrorState,this.dispatch)},t.prototype.onToggleBold=function(){v.handleToggleBold(this.state.proseMirrorState,this.dispatch)},t.prototype.onToggleItalic=function(){v.handleToggleItalic(this.state.proseMirrorState,this.dispatch)},t.prototype.onInsertHardBreak=function(){v.handleInsertHardBreak(this.state.proseMirrorState,this.dispatch)},t.prototype.onArrow=function(e,t){"up"===t&&e>0?this.inputRefs[e-1].focus(this.state.proseMirrorState.doc.content.content[e-1].nodeSize-2):"up"===t&&0===e?this.props.onLeaveUpwards&&this.props.onLeaveUpwards():"down"===t&&e<this.state.proseMirrorState.doc.content.content.length-1&&this.inputRefs[e+1].focus(0)},t.prototype.apply=function(e){var t=this;this.setState((function(n){var r=n.proseMirrorState.apply(e);t.menuItemIterator(r);var i,o,a=r.selection.$cursor;if(a&&(i=a.index(-1),o=a.parentOffset,!e.getMeta(t.historyPluginKey)&&!e.getMeta("insertEmpty"))){var s=v.maybeHandleItemInsertion(n.proseMirrorState,r,i);s&&(r=r.apply(s))}return{proseMirrorState:r,currentlyEditedTodo:i,cursorPosition:o}}),(function(){e.docChanged&&t.change(),t.cursor()}))},t.prototype.onInnerTransaction=function(e,t,n){if(1!==t.length||!m.isHighlightPluginTransaction(t[0])){var r=v.buildOffsetMap(this.state.proseMirrorState,e),i=v.mapTransactions(t,r,this.state.proseMirrorState.tr),o=n.map(i.doc,r);o.eq(this.state.proseMirrorState.selection)||(i=i.setSelection(o)),this.apply(i)}},t.prototype.dispatch=function(e){this.apply(e)},t.prototype.onChangeQuery=function(e,t){var n=[];if(this.inputRefs){for(var r=function(t){var r=o.inputRefs[t].findOccurences(e);n=n.concat(r.map((function(e,n){return{occurence:e,index:t}})))},o=this,a=0;a<this.inputRefs.length;a++)r(a);var s=t%n.length,u=n.reduce((function(e,t,n){return e[t.index]||(e[t.index]=[]),e[t.index].push(i(i({},t.occurence),{class:n===s?"HighlightPlugin-highlighted-active":"HighlightPlugin-highlighted"})),e}),{});for(a=0;a<this.inputRefs.length;a++)this.inputRefs[a].highlightOccurences(u[a]||[]);var c=n[s],l=c&&this.inputRefs[c.index]&&this.inputRefs[c.index].coordsAtPos(c.occurence.start);return l&&{coordinates:l,numberOfOccurences:n.length}}},t.prototype.render=function(){var e=this,t=this.state.proseMirrorState.doc.content.content,n=v.getPinnedEntries(t),r=v.getOpenEntries(t),i=v.getDoneEntries(t),o=[{name:"pinned",items:n,collapsible:b("pinned"),hidden:this.state.hiddenStates.pinned},{name:"open",items:r,collapsible:b("open"),hidden:this.state.hiddenStates.open},{name:"done",items:i,collapsible:b("done"),hidden:this.state.hiddenStates.done}],a=["TodoList"];a.push(this.props.isEditing?"TodoList-editing":"TodoList-read-only");var s=n.length+r.length===0&&u.default.createElement(p.AllDoneHeader,{onClick:this.onInsertEmpty});return u.default.createElement("div",{className:a.join(" "),onClick:this.props.onClick},s,u.default.createElement(d.InteractiveList,{subLists:o,renderItem:function(t,n,r,i){var o=["TodoList-entry"];o.push("TodoList-entry-"+r),n===(null===i||void 0===i?void 0:i.originalIndex)&&o.push("TodoList-currently-dragged-todo");var a=function(t){return u.default.createElement(c.CheckBox,{index:t,onClick:e.onCheck.bind(e,t),disabled:!e.props.isEditing})}(n),s=function(t,n){var r=e.state.currentlyEditedTodo===n;return u.default.createElement(l.ProseMirrorField,{index:n,todo:t,onFocus:e.onFocus.bind(e,n),onEnter:e.onEnter.bind(e,n),onEscape:e.props.onEscape,onBackspace:e.onBackspace.bind(e,n),onToggleBold:e.onToggleBold.bind(e,n),onToggleItalic:e.onToggleItalic.bind(e,n),onInsertHardBreak:e.onInsertHardBreak.bind(e,n),onArrow:e.onArrow.bind(e,n),shouldFocus:r,onBlur:e.onBlur,cursorPosition:e.state.cursorPosition,ref:function(t){return e.inputRefs[n]=t},readonly:!e.props.isEditing,onInnerTransaction:e.onInnerTransaction.bind(e,n),historyPlugin:e.historyPlugin})}(t,n),d=function(t){return u.default.createElement("span",{className:"TodoList-entry-delete-button"},u.default.createElement(_,{onClick:e.onDelete.bind(e,t)}))}(n),p=function(e,t){return u.default.createElement("span",{className:t},e)};return u.default.createElement("span",{className:o.join(" ")},p(a,"TodoList-checkbox-left"),s,p(a,"TodoList-checkbox-right"),p(d,"TodoList-delete-button"))},doAnimation:this.state.doAnimation,resetDragState:this.state.resetDragState,onDrag:this.onDrag,onDragStart:this.props.onDragStart,onDragStop:this.props.onDragStop,onSpacerClick:this.onSpacerClick}),!1)},t}(u.Component);t.TodoList=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCustomInputRules=t.buildMenuItemSpecs=void 0;var r=n(207),i=n(97),o=n(145);t.buildMenuItemSpecs=function(){return r.buildMenuItemSpecs(i.schema,void 0)},t.buildCustomInputRules=function(){return o.buildCustomInputRules(i.schema)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.insertEmpty=t.buildCustomInputRules=t.buildDiffTr=t.maybeHandleItemInsertion=t.handleDelete=t.handleDrag=t.handleCheck=t.handleInsertHardBreak=t.handleToggleItalic=t.handleToggleBold=t.handleBackspace=t.handleEnter=t.mapTransactions=t.buildOffsetMap=t.calculateParagraphPositions=t.getDoneEntries=t.getOpenEntries=t.getPinnedEntries=t.isDone=t.isOpen=t.isPinned=void 0;var i=n(6),o=n(16),a=n(13),s=n(145),u=n(97),c=n(373);t.isPinned=function(e){return"pinned"===e.attrs.status};t.isOpen=function(e){return"open"===e.attrs.status};t.isDone=function(e){return"done"===e.attrs.status};t.getPinnedEntries=function(e){return e.filter(t.isPinned)};t.getOpenEntries=function(e){return e.filter(t.isOpen)};function l(e){return e.reduce((function(e,t){return t&&t.attrs.index>e?t.attrs.index:e}),0)}function d(e){return e.doc.content.content.reduce((function(t,n){var r=t[t.length-1];return t.length<e.doc.content.content.length&&t.push(r+n.nodeSize),t}),[0])}function p(e,t,n,i){var o,a,s=d(e),u=s[t],c=s[n],l=e.doc.nodeAt(u),p=e.doc.nodeAt(c);if(t<n?(a=e.tr.insert(c+p.nodeSize,l).delete(u,u+l.nodeSize),o=c-l.nodeSize+p.nodeSize):t>n?(a=e.tr.delete(u,u+l.nodeSize).insert(c,l),o=c):(a=e.tr,o=c),i){var f=r(r({},l.attrs),i(l,p));a=a.setNodeMarkup(o,null,f)}return a}t.getDoneEntries=function(e){return e.filter(t.isDone)},t.calculateParagraphPositions=d,t.buildOffsetMap=function(e,t){var n=d(e);return a.StepMap.offset(n[t]+1)},t.mapTransactions=function(e,t,n){for(var r=n,i=0;i<e.length;i++)for(var o=e[i].steps,a=0;a<o.length;a++)r.step(o[a].map(t));return r},t.handleEnter=function(e,t){o.splitBlock(e,t)},t.handleBackspace=function(e,t){o.joinBackward(e,t)},t.handleToggleBold=function(e,t){c.toggleBold(e,t)},t.handleToggleItalic=function(e,t){c.toggleItalic(e,t)},t.handleInsertHardBreak=function(e,t){c.insertHardBreak(e,t)},t.handleCheck=function(e,n){var r=n.doc.content.content,i=!t.isDone(r[e]),o=i?-1:0,a=r.findIndex((function(e){return"done"===e.attrs.status}));-1===a&&(a=r.length);var s=i?"done":"open",u=p(n,e,a+=o,(function(e,t){return{status:s}}));return{proseMirrorState:n.apply(u),oldStatus:r[e].attrs.status,newStatus:s,newIndex:a}},t.handleDrag=function(e,t,n,r){var i=p(r,e,t,(function(e,t){return n?{status:n}:{status:t.attrs.status}}));return{proseMirrorState:r.apply(i)}},t.handleDelete=function(e,t){var n=function(e,t){var n=d(e)[t],r=e.doc.nodeAt(n);return e.tr.delete(n,n+r.nodeSize)}(t,e);return{proseMirrorState:t.apply(n),oldStatus:t.doc.content.content[e].attrs.status,newLength:t.doc.content.content.length-1}},t.maybeHandleItemInsertion=function(e,t,n){if(t.doc.content.content.length-e.doc.content.content.length===1){var r=l(t.doc.content.content),i=d(t);return t.tr.setNodeMarkup(i[n],null,{index:r+1,status:t.doc.content.content[n-1].attrs.status})}},t.buildDiffTr=function(e,t,n){var r=e.content.findDiffStart(t.doc.content);if(null!==r){var i=e.content.findDiffEnd(t.doc.content),o=i.a,a=i.b,s=r-Math.min(o,a);return s>0&&(o+=s,a+=s),n.replace(r,a,e.slice(r,o)).setMeta("fromOutside",!0)}},t.buildCustomInputRules=function(){return s.buildCustomInputRules(u.schema)},t.insertEmpty=function(e){var t=l(e.doc.content.content);return e.tr.insert(0,u.schema.nodes.paragraph.create({index:t+1})).setSelection(i.Selection.near(e.doc.resolve(0))).setMeta("insertEmpty",!0)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeItem=t.makeDocJsonFromTodos=void 0,t.makeDocJsonFromTodos=function(e){return{type:"doc",content:e=function(e){return e.map((function(e){return"string"===typeof e.text?{type:"paragraph",attrs:{index:e.index,status:e.status||"open"},content:e.text&&[{type:"text",text:e.text}]}:e}))}(e=function(e){var t=function(e){return e.reduce((function(e,t){return t&&t.index>e?t.index:e}),0)}(e);return e.map((function(e){return e.index?e:r(r({},e),{index:++t})}))}(e))}},t.makeItem=function(e,t){return{text:e,status:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postItSchema=t.POSTIT_COLORS=void 0;var r=n(143),i=n(4);t.POSTIT_COLORS=["blue","red","yellow"];var o={doc:r.nodes.doc,paragraph:r.nodes.paragraph,text:r.nodes.text},a={strong:r.marks.strong,em:r.marks.em};t.postItSchema=new i.Schema({nodes:o,marks:a})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.removeSnippetFromTag=void 0;var i=n(30),o=n(48),a=n(35);t.removeSnippetFromTag=function(e,t){return function(n){var s=n.derivedState.tagList.find((function(e){return e.metaData.id===t}));return s?r(r({},n),{store:o.save(n.store,t,a.dropItem(s.tag,e),i.isValid)}):n}}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=void 0,t.mergeStores=function(e,t,n,i){return t.reduce((function(e,t){var o=e.mergedStore,a=e.changedIds;if(!i(o,t.item))return{mergedStore:o,changedIds:a};var s=o.findIndex((function(e){return e.id===t.id}));return-1===s?{mergedStore:r(r([],o),[t]),changedIds:r(r([],a),[t.id])}:n(o[s].item,t.item)?{mergedStore:o.map((function(e,n){return s===n?t:e})),changedIds:r(r([],a),[t.id])}:{mergedStore:o,changedIds:a}}),{mergedStore:e,changedIds:new Array})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setUpIdMapping=void 0,t.setUpIdMapping=function(e,t,n){var i,o;return r(r({},e),{oldToNew:r(r({},e.oldToNew),(i={},i[t]=n,i)),newToOld:r(r({},e.newToOld),(o={},o[n]=t,o))})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.maybeRewriteTagItems=void 0;var i=n(35);t.maybeRewriteTagItems=function(){return function(e){var t=e;return r(r({},t),{store:i.rewriteItems(t.store)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initSnippetMetaDataStore=void 0;var i=n(95);t.initSnippetMetaDataStore=function(){return function(e){return r(r({},e),{derivedState:r(r({},e.derivedState),{snippetMetaDataStore:i.initSnippetMetaDataStore(e.store,e.syncErrors)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withoutEffects=void 0;t.withoutEffects=function(){return function(e){return[e,[]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdsOfDeletableItems=void 0;var r=n(67),i=n(38);t.getIdsOfDeletableItems=function(e,t){void 0===t&&(t=r.ONE_WEEK);var n=new Date(Date.now()-t);return i.getAll(e).filter((function(e){return!1===e.permanent.obsolete.state&&e.document.archived&&e.updatedAt<=n})).map((function(e){return e.id}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useScheduledReminders=t.getEarliestPossibleReminderDate=t.getScheduledReminders=t.ONE_HOUR_IN_MILLISECONDS=void 0;var o=n(1),a=n(3),s=n(186),u=n(78),c=n(411),l=function(e,t){return e.date===t.date&&e.text===t.text};t.ONE_HOUR_IN_MILLISECONDS=36e5;var d=24*t.ONE_HOUR_IN_MILLISECONDS*7;function p(e,t,n){return n.reduce((function(n,r){return r.repeatDescription?i(i([],n),u.compileRepeatDatesBetween(Math.max(r.createdAt,e),t,r.date,r.repeatDescription).map((function(e){return{reminder:r,date:e}}))):r.date<e||t<r.date||r.date<r.createdAt?n:i(i([],n),[{reminder:r,date:r.date}])}),[])}function f(e){return e-d}function m(e){var t=Date.now();return p(f(t),t+d,e)}function h(e,t){switch(t.type){case"updateAll":var n=s.calculateDiff(t.allReminders,e.reminders,c.compareReminderIds,l),o=n.unchanged,a=n.missingInA,u=n.missingInB,d=n.changed;if(0===u.length&&0===d.length&&0===a.length)return e;var p=i(i(i([],o),u),d.map((function(e){return e.a}))).sort(c.compareReminderIds);return{reminders:p,scheduledReminders:f=m(p)};case"refresh":var f=m(e.reminders);return r(r({},e),{scheduledReminders:f})}}t.getScheduledReminders=p,t.getEarliestPossibleReminderDate=f,t.useScheduledReminders=function(e,t){void 0===t&&(t=a.debounce);var n=o.useReducer(h,{reminders:[],scheduledReminders:[]}),r=n[0],s=n[1],u=o.useCallback((function(){return s({type:"refresh"})}),[]);return a.useDebouncedEffect((function(){var t=e.reduce((function(e,t){return i(i([],e),t.metaData.reminders)}),[]).sort(c.compareReminderIds);s({type:"updateAll",allReminders:t})}),1e3,[e],t),[r.scheduledReminders,u]}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gistOriginConfig=t.statusCodeToText=t.checkReadyness=void 0;var a=o(n(1)),s=n(222),u=n(419);function c(e){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=e,[2,s.getMasterGist(s.makeGistHttp(n.token),n.masterGistId).then((function(){return{ready:!0}})).catch((function(e){return 401===e.status||404===e.status?{ready:!1,reason:t.statusCodeToText[e.status]}:{ready:!1,reason:"Unexpected Error"}}))]}))}))}t.checkReadyness=c,t.statusCodeToText={401:"401 Unauthorized",404:"404 Master Gist Not Found"},t.gistOriginConfig={origin:"gist",backendFactory:function(e,t){return s.makeGistBackend(t)},defaultConfig:{displayName:"Gist",enabled:!1,masterGistId:"",token:""},icon:"github",settingsPage:a.default.createElement(u.GistOriginSettingsPage,null),checkReadyness:c}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeGistBackend=t.makeGistHttp=t.getMasterGist=t.createMasterGist=void 0;var s=n(223),u=n(416),c=n(12),l=n(114),d=n(151),p=n(152),f=n(417),m={documents:[]};function h(e){var t={resource:e.document,documentType:e.permanent.documentType};return{files:{"1.json":{content:JSON.stringify(t)}}}}function g(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,e.get("/"+t)];case 1:n=o.sent(),r=Object.entries(n.files);try{return i=JSON.parse(r[0][1].content),Array.isArray(i.documents)?[2,i]:[2,m]}catch(a){return[2,m]}return[2]}}))}))}function v(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return[4,g(e,t)];case 1:return r=o.sent(),i=n(r),a={files:(s={},s["1-snip-master-gist"]={content:JSON.stringify(i)},s)},[4,e.patch("/"+t,a)];case 2:return o.sent(),[2]}}))}))}function y(e,t,n){return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return i=h(t),[4,e.post("",i)];case 1:return s=o.sent(),[4,v(e,n,(function(e){return r(r({},e),{documents:a(a([],e.documents),[s.id])})}))];case 2:return o.sent(),[2,s]}}))}))}function b(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){return n=h(t),[2,e.patch("/"+t.id,n)]}))}))}function O(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,e.del("/"+t.id)];case 1:return i.sent(),[4,v(e,n,(function(e){return r(r({},e),{documents:e.documents.filter((function(e){return e!==t.id}))})}))];case 2:return i.sent(),[2]}}))}))}function _(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,{id:e,resource:{id:e},documentType:n.permanent.documentType,version:0,updatedAt:t}]}))}))}function S(e){var t={"Content-Type":"application/json",Authorization:"token "+e,Accept:"application/vnd.github.v3+json"};return u.makeHttp("https://api.github.com/gists",t)}t.createMasterGist=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(i){switch(i.label){case 0:return t=S(e),n={files:(r={},r["1-snip-master-gist"]={content:JSON.stringify(m)},r)},[4,t.post("",n)];case 1:return[2,i.sent()]}}))}))},t.getMasterGist=g,t.makeGistHttp=S;t.makeGistBackend=function(e){var t=e.masterGistId,n=e.token,a={},u=new s.Mutex,m=S(n);return{fetchAll:function(){return i(void 0,void 0,void 0,(function(){var e,n,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,g(m,t)];case 1:return e=o.sent(),[4,c.allSettled(e.documents.map((function(e){return m.get("/"+e).catch((function(t){throw 404===t.status?{status:404,documentId:e,originalError:t}:t}))})))];case 2:return n=o.sent(),(i=c.getRejected(n).filter((function(e){return 404===e.status})).map((function(e){return e.documentId}))).length>0?[4,v(m,t,(function(e){return r(r({},e),{documents:e.documents.filter((function(e){return!i.includes(e)}))})}))]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2,{results:c.getFulfilled(n).map((function(e){return{id:e.id,updatedAt:e.updated_at,documentJson:Object.entries(e.files)[0][1]}})).map((function(e){var t=e.id,n=e.updatedAt,i=e.documentJson,o=JSON.parse(i.content);return r(r({id:t},o),{document:r({},o.resource),version:0,updatedAt:new Date(n)})})),errors:[]}];case 5:throw a=o.sent(),f.handleError(a);case 6:return[2]}}))}))},update:function(e){return i(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,9,10]),[4,u.getLockOn(a)];case 1:return i.sent(),d.shouldCreate(e)?[4,y(m,e,t)]:[3,3];case 2:return[2,_((n=i.sent()).id,new Date(n.updated_at),e)];case 3:return p.shouldDelete(e)?[4,O(m,e,t)]:[3,5];case 4:return i.sent(),[2,_(l.DELETEABLE,new Date,e)];case 5:return[4,b(m,e)];case 6:return[2,_((n=i.sent()).id,new Date(n.updated_at),e)];case 7:return[3,10];case 8:throw r=i.sent(),f.handleError(r,e);case 9:return u.releaseLockOn(a),[7];case 10:return[2]}}))}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BypassMutex=t.Mutex=void 0;var r=function(){var e;return[new Promise((function(t){return e=t})),e]},i=function(){function e(){this.locks={}}return e.prototype.hasLockOn=function(e){return void 0!==this.locks[e]&&this.locks[e].length>0},e.prototype.getLockOn=function(e){return this.locks[e]=this.locks[e]||[],0===this.locks[e].length?(this.locks[e].push(r()),Promise.resolve(!0)):(this.locks[e].push(r()),this.locks[e][this.locks[e].length-2][0])},e.prototype.releaseLockOn=function(e){this.locks[e][0][1](),this.locks[e].shift()},e}();t.Mutex=i;var o=function(){function e(){}return e.prototype.hasLockOn=function(e){return!1},e.prototype.getLockOn=function(e){return Promise.resolve(!0)},e.prototype.releaseLockOn=function(e){},e}();t.BypassMutex=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cloudOriginConfig=t.bumpCloudOriginToken=void 0;var s=a(n(1)),u=n(421),c=n(424),l=n(425),d=n(235),p=n(29);t.bumpCloudOriginToken=function(e){return r(r({},e),{reloadToken:Date.now()})};var f=!p.isElectron()||"true"===localStorage.getItem("enableSnipCloud");t.cloudOriginConfig=r({origin:"cloud",backendFactory:function(e){return u.makeCloudBackend(e)},defaultConfig:{displayName:"Snip Cloud",enabled:d.maybeEnableCloudOriginByDefault(),reloadToken:0},icon:"cloud-outline",settingsPage:s.default.createElement(l.CloudOriginSettingsPage,null),checkReadyness:function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,c.checkLoginState().then((function(e){var t=e[0];return e[1]?t?{ready:!0}:{ready:!1,reason:"Not Logged In"}:{ready:!1,reason:"Unable To Reach Backend"}}))]}))}))}},f?{}:{comingSoon:!0})},function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function a(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return t=n.sent(),[2,new Promise((function(e,n){t.ok?e(t.json()):n(t)}))]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.patch=t.post=t.get=t.baseUrl=void 0,r="http://localhost:5000"===window.location.origin?"http://localhost:4000/api":"http://192.168.1.107:5000"===window.location.origin?"http://192.168.1.107:4000/api":"http://172.20.10.2:5000"===window.location.origin?"http://172.20.10.2:4000/api":"https://api.getsnip.io",t.baseUrl=r,t.get=function(e){var n={headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,n))},t.post=function(e,n){var r={method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,r))},t.patch=function(e,n){var r={method:"PATCH",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"}),credentials:"include"};return a(fetch(""+t.baseUrl+e,r))},t.del=function(e){return a(fetch(""+t.baseUrl+e,{method:"DELETE",credentials:"include"}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFetcherAndPusherMappings=t.defaultMakeCacheFunctions=t.makeErrorBackend=t.noopCacheDeleter=t.noopCachePusher=t.noopCacheFetcher=t.isWrapperOfType=void 0;var s=n(12),u=n(182),c=n(227),l=n(228),d=n(229),p=n(230);t.isWrapperOfType=function(e,t){return e.permanent.documentType===t};t.noopCacheFetcher=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))};t.noopCachePusher=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,{resource:void 0}]}))}))};t.noopCacheDeleter=function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,void 0]}))}))};var f=function(e,t){return function(){return i(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,e.fetchAll()];case 1:return(n=r.sent()).results.forEach((function(e){return t(e)})),[2,n]}}))}))}},m=function(e,t){return function(n){return i(void 0,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return[4,e.update(n)];case 1:return r=i.sent(),t(r),[2,r]}}))}))}};function h(e,t){return{message:e,documentId:t}}t.makeErrorBackend=function(e){return{update:function(t){return new Promise((function(n,r){return setTimeout((function(){return r(h(e,t.id))}),1e3)}))},fetchAll:function(){return new Promise((function(t,n){return setTimeout((function(){return n(h(e))}),1e3)}))}}};t.defaultMakeCacheFunctions=function(e,t){var n=c.makeFileStoragePusher(e,t,(function(e){return e.id})),r=l.makeFileStorageFetcher(e,t);return{pushToCache:n,fetchFromCache:function(){return r().then((function(e){return e.results}))},deleteFromCache:d.makeFileStorageDeleter(e,t,(function(e){return e}))}},t.makeFetcherAndPusherMappings=function(e){return function(e){var t=e.resourceConfigs,n=e.originConfigs,i=e.settings;return t.reduce((function(e,t){var o,a,c=n.map((function(e){var n=s.getOriginSettings(i,e.origin,e.defaultConfig);if(!1===n.enabled)return null;var o=e.backendFactory(t.resourceName,n);return r(r({},e),{pusher:m(o,t.schemaEnforcer),fetcher:f(o,t.schemaEnforcer)})})).filter(s.isNotNull);return r(r({},e),{fetcherMappings:r(r({},e.fetcherMappings),(o={},o[t.resourceName]=c.map((function(e){return u.makeOriginToActionMapping(e.origin,e.fetcher)})),o)),pusherMappings:r(r({},e.pusherMappings),(a={},a[t.resourceName]=c.map((function(e){return u.makeOriginToActionMapping(e.origin,e.pusher)})),a))})}),{fetcherMappings:{},pusherMappings:{}})}(r(r({},e),{originConfigs:a(a([],e.originConfigs),[p.noopOriginConfig])}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStoragePusher=void 0;var o=n(29),a=n(58),s=n(72);t.makeFileStoragePusher=function(e,t,n){var u=this;if(!o.isElectron())throw a.errorWithDetails(null,s.compileFileStorageNotSupportedErrorDetails());var c=window.require("fs").promises;return function(o){return r(u,void 0,void 0,(function(){var r,u;return i(this,(function(i){switch(i.label){case 0:if(!t)throw a.errorWithDetails(null,s.compileDirectoryNotAccessibleErrorDetails(t));r=t+"/"+e+"-"+n(o),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.writeFile(r,JSON.stringify(o))];case 2:return i.sent(),[2,o];case 3:throw u=i.sent(),a.errorWithDetails(u,s.compileFileNotAccessibleErrorDetails("write",r));case 4:return[2]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageFetcher=void 0;var s=n(12),u=n(29),c=n(58),l=n(72);t.makeFileStorageFetcher=function(e,t){var n=this;if(!u.isElectron())throw c.errorWithDetails(null,l.compileFileStorageNotSupportedErrorDetails());var d=window.require("fs").promises;return function(){return i(n,void 0,void 0,(function(){var n,u,p,f,m=this;return o(this,(function(h){switch(h.label){case 0:if(!t)throw c.errorWithDetails(null,l.compileDirectoryNotAccessibleErrorDetails(t));return[4,d.readdir(t)];case 1:return n=h.sent(),u=n.filter((function(t){return t.startsWith(e)})).map((function(e){return i(m,void 0,void 0,(function(){return o(this,(function(n){return[2,d.readFile(t+"/"+e).then((function(t){return{filename:e,content:t.toString()}})).catch((function(t){throw c.errorWithDetails(t,l.compileFileNotAccessibleErrorDetails("read",e))}))]}))}))})),[4,s.allSettled(u)];case 2:return p=h.sent(),f=s.getFulfilled(p),[2,f.reduce((function(e,t){try{return r(r({},e),{results:a(a([],e.results),[JSON.parse(t.content)])})}catch(h){return r(r({},e),{errors:a(a([],e.errors),[c.errorWithDetails(null,l.compileNotParsableErrorDetails(t.filename))])})}}),{results:[],errors:[]})]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileStorageDeleter=void 0;var o=n(29),a=n(58),s=n(72);t.makeFileStorageDeleter=function(e,t,n){var u=this;if(!o.isElectron())throw a.errorWithDetails(null,s.compileFileStorageNotSupportedErrorDetails());var c=window.require("fs").promises;return function(o){return r(u,void 0,void 0,(function(){var r,u;return i(this,(function(i){switch(i.label){case 0:if(!t)throw a.errorWithDetails(null,s.compileDirectoryNotAccessibleErrorDetails(t));r=t+"/"+e+"-"+n(o),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.unlink(r)];case 2:return i.sent(),[2,o];case 3:throw u=i.sent(),a.errorWithDetails(u,s.compileFileNotAccessibleErrorDetails("delete",r));case 4:return[2]}}))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.noopOriginConfig=void 0;var o=n(58),a=n(137);t.noopOriginConfig={origin:"noop",backendFactory:function(){return function(){var e=o.errorWithDetails(null,a.compileNoOriginConfiguredErrorDetails());return{update:function(){return new Promise((function(t,n){return n(e)}))},fetchAll:function(){return new Promise((function(e){return e({results:[],errors:[]})}))}}}()},defaultConfig:{displayName:"Noop",enabled:!0},icon:"",settingsPage:null,checkReadyness:function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,{ready:!1,reason:"Not ready."}]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ChangePasswordForm=void 0;var s=a(n(1)),u=n(98),c=n(153),l=n(118),d=n(119),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(d.CredentialsFormWrapper,null,s.default.createElement(l.CredentialsForm,{title:"Change Password",fields:[u.currentPasswordField(u.PLACEHOLDER_OLD_PASSWORD),u.newPasswordField(u.PLACEHOLDER_NEW_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_CHANGE_PASSWORD,onSubmit:function(e){return(new c.UserService).changePassword({currentPassword:e.currentPassword,password:e.password}).then((function(){return u.PASSWORD_HAS_BEEN_CHANGED}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK)))},t}(s.Component);t.ChangePasswordForm=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ForgotPasswordForm=void 0;var s=a(n(1)),u=n(98),c=n(153),l=n(118),d=n(119),p="REQUEST_TOKEN",f="HAS_REQUESTED_TOKEN",m="FORGOT_PASSWORD_DONE",h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showSendPasswordResetForm:!1,showContinueToPasswordResetForm:!1,step:p},n}return r(t,e),t.prototype.isOnRequestTokenForm=function(){return this.state.step===p||this.state.step===f},t.prototype.hasRequestedToken=function(){return this.state.step===f},t.prototype.isDone=function(){return this.state.step===m},t.prototype.render=function(){var e=this,t=s.default.createElement(s.default.Fragment,null,s.default.createElement(l.CredentialsForm,{title:"Reset Password",key:"requestTokenForm",fields:[u.emailField(u.validateEmailLength)],submitLabel:u.LABEL_REQUEST_RESET,disabled:this.hasRequestedToken(),onSubmit:function(t){return(new c.UserService).sendPasswordReset({username:t.email}).then((function(){return e.setState({step:f}),u.RESET_MAIL_SENT}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{disabled:this.hasRequestedToken(),className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK),s.default.createElement("button",{disabled:!this.hasRequestedToken(),className:"CommonUI-button-without-border",onClick:function(){return e.setState({step:"ENTER_TOKEN"})}},u.LABEL_NEXT))),n=s.default.createElement(s.default.Fragment,null,s.default.createElement(l.CredentialsForm,{title:"Reset Password",key:"enterTokenForm",fields:[u.passwordResetTokenField(),u.newPasswordField(u.PLACEHOLDER_NEW_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_RESET_PASSWORD,disabled:this.isDone(),onSubmit:function(t){return(new c.UserService).resetPassword({token:t.token.trim(),password:t.password}).then((function(){return e.setState({step:m}),u.PASSWORD_HAS_BEEN_CHANGED}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickBack},u.LABEL_BACK)));return s.default.createElement(d.CredentialsFormWrapper,null,this.isOnRequestTokenForm()?t:n)},t}(s.Component);t.ForgotPasswordForm=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInForm=void 0;var s=a(n(1)),u=n(29),c=n(74),l=n(98),d=n(225),p=n(427),f=n(118),m=n(119),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this;s.default.createElement("div",{className:"CredentialsForm-button-column"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickForgotPassword},l.LABEL_FORGOT_PASSWORD),s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickChangePassword},l.LABEL_CHANGE_PASSWORD),s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignUp},l.LABEL_SIGN_UP));return s.default.createElement(m.CredentialsFormWrapper,null,s.default.createElement(f.CredentialsForm,{title:"Sign In",fields:[l.emailField(),l.currentPasswordField(l.PLACEHOLDER_PASSWORD)],submitLabel:l.LABEL_SIGN_IN,onSubmit:function(t){return(new p.SessionService).login({username:t.email,password:t.currentPassword}).then((function(){return e.props.onSuccess&&e.props.onSuccess(),e.props.onSubmit&&e.props.onSubmit(),l.SIGNIN_SUCCESSFUL}))}}),!1,s.default.createElement("div",{className:"CredentialsForm-button-column"},s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:function(){return u.isElectron()?c.getElectron().shell.openExternal(d.baseUrl):window.open("https://users.getsnip.io/register","_blank")}},l.LABEL_SIGN_UP)))},t}(s.Component);t.SignInForm=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignUpForm=void 0;var s=a(n(1)),u=n(98),c=n(153),l=n(118),d=n(119),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={signUpSuccessful:!1},n}return r(t,e),t.prototype.render=function(){var e=this;return s.default.createElement(d.CredentialsFormWrapper,null,s.default.createElement(l.CredentialsForm,{title:"Sign Up",fields:[u.emailField(u.validateEmailLength),u.newPasswordField(u.PLACEHOLDER_PASSWORD),u.passwordRepeatField()],submitLabel:u.LABEL_SIGN_UP,disabled:this.state.signUpSuccessful,onSubmit:function(t){return(new c.UserService).signup({username:t.email,password:t.password}).then((function(){return e.setState({signUpSuccessful:!0}),u.VERIFICATION_MAIL_SENT}))}}),s.default.createElement("div",{className:"CredentialsForm-button-row"},!this.state.signUpSuccessful&&s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignIn},u.LABEL_BACK),this.state.signUpSuccessful&&s.default.createElement("button",{className:"CommonUI-button-without-border",onClick:this.props.onClickSignIn},u.LABEL_GO_TO_SIGN_IN)))},t}(s.Component);t.SignUpForm=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeEnableCloudOriginByDefault=t.getDefaultOrigin=void 0;var r=n(29),i=n(64);t.getDefaultOrigin=function(){return i.isInMockedMode?"mock":r.isElectron()?"file":"cloud"},t.maybeEnableCloudOriginByDefault=function(){return!r.isElectron()}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileOriginConfig=t.makeFileBackend=t.DIRECTORY_NOT_SPECIFIED=t.DIRECTORY_NOT_ACCESSIBLE=void 0;var a=o(n(1)),s=n(428),u=n(429),c=n(431);function l(e,t){return new c.FileBackend(e,t.fileLocation)}t.DIRECTORY_NOT_ACCESSIBLE="Unable To Access Directory",t.DIRECTORY_NOT_SPECIFIED="No Directory Specified",t.makeFileBackend=l,t.fileOriginConfig={origin:"file",backendFactory:function(e,t){return l(e,t)},defaultConfig:{displayName:"File",enabled:!1,fileLocation:""},icon:"file-outline",settingsPage:a.default.createElement(u.FileOriginSettingsPage,null),checkReadyness:function(e){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return""===(n=e).fileLocation.trim()?[2,{ready:!1,reason:t.DIRECTORY_NOT_SPECIFIED}]:[2,s.testDirectoryAccess(n.fileLocation).then((function(){return{ready:!0}})).catch((function(){return{ready:!1,reason:t.DIRECTORY_NOT_ACCESSIBLE}}))]}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.code=void 0,t.code={id:"LOCAL-1609270036900",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:30:58.208Z"),document:{name:"Snippet: Code",content:'function myCoolFunction() {\n  console.log("bla);\n}\n',language:"JavaScript",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applicationPaths=void 0;var r=n(29),i=n(74);function o(e){var t=function(e){return i.getElectron().remote.app.getPath("userData")+"/"+e}(e),n=window.require("fs");return n.existsSync(t)||n.mkdirSync(t),t}var a,s="localhost"===document.location.hostname;t.applicationPaths=(a=s,r.isElectron()?{cacheLocation:o(a?"snip-storage-dev":"snip-storage"),logsLocation:o(a?"snip-logs-dev":"snip-logs")}:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInMobileMode=void 0;var r=n(64),i=window.matchMedia("(hover: hover)").matches;t.isInMobileMode=r.forceMobile||!i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRequestFocus=void 0;var r=n(1),i=n(3);t.useRequestFocus=function(e){var t=r.useRef(null);return i.useEventBusSubscription(e,r.useCallback((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}),[])),t}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoFocusingInputField=void 0;var s=a(n(1)),u=n(3);n(120);t.AutoFocusingInputField=function(e){var t=s.useRef(null);return u.useAutoFocusingInputField(t),s.default.createElement("input",r({ref:t},e))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Blurable=void 0;var s=a(n(1)),u=n(3);function c(e,t){var n=e[0],i=e[1],o=e[2],a=t[0];return r(r({},i?{onBlur:function(e){return a.current&&!a.current.contains(e.relatedTarget)&&n()}}:{}),o?{onKeyDown:function(e){return e.keyCode===u.KEY_CODES.ESCAPE&&n()}}:{})}n(460);t.Blurable=function(e){var t=e.onBlur,n=e.children,i=e.useBlur,o=void 0===i||i,a=e.useEscape,l=void 0===a||a,d=s.useRef(null),p=u.useFactory(c,[t,o,l],[d]);return s.default.createElement("div",r({ref:d,className:"Blurable-outer1",tabIndex:0},p),n)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var s=o(n(1)),u=a(n(156)),c=n(242);n(461);t.Modal=function(e){var t=s.useMemo((function(){return document.getElementById("modal-root")}),[]);return u.default.createPortal(s.default.createElement(c.Blurable,{onBlur:e.onClose,useBlur:!1,useEscape:!0},s.default.createElement("div",{className:"Modal-main",onMouseDown:function(){return e.onClose()}},s.default.createElement("div",{className:"Modal-inner",onMouseDown:function(e){return e.stopPropagation()}},e.children))),t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanel=void 0;var a=o(n(1)),s=n(12);n(463);var u={vertical:"height",horizontal:"width"};t.SidePanel=function(e){var t,n,o=e.children,c=e.state,l=e.size,d=e.direction,p=e.useTransition,f=void 0===p||p,m=["0px",l+"px"],h=r(((t={})[u[d]]=m[c],t),f?{transition:u[d]+" 0.15s"}:{}),g=((n={})["min"+s.capitalize(u[d])]=m[1],n),v=i(["SidePanel-wrapper"],0===c?["SidePanel-isCollapsed"]:[]).join(" ");return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"SidePanel-outer1",style:h},a.default.createElement("div",{className:v,style:g},1===c?o:null)))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollShadows=void 0;var o=i(n(1)),a=n(3);n(465);t.ScrollShadows=function(e){var t,n,i=a.useScrollTop(),s=i[0],u=i[1],c=a.useDimensions(),l=c[0],d=c[1],p=a.useDimensions(),f=p[0],m=p[1],h=s<=0,g=s>=Math.floor((null!==(t=null===m||void 0===m?void 0:m.height)&&void 0!==t?t:0)-(null!==(n=null===d||void 0===d?void 0:d.height)&&void 0!==n?n:0));return o.default.createElement("div",{className:"ScrollShadows-main",ref:l},o.default.createElement("div",{className:"ScrollShadows-shadow "+(h?"":"ScrollShadows-shadowActive")}),o.default.createElement("div",r({},u,{className:"ScrollShadows-inner"}),o.default.createElement("div",{ref:f},e.children)),o.default.createElement("div",{className:"ScrollShadows-shadowBottom "+(g?"":"ScrollShadows-shadowActive")}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchedEditableLabel=void 0;var o=i(n(1)),a=n(3),s=n(241);n(120);t.SwitchedEditableLabel=function(e){var t=e.initialValue,n=e.onChange,i=e.onToggle,u=e.placeholderWhenReadonly,c=e.doubleClick,l=e.className,d=a.useInputField(t),p=d[0],f=d[1],m=a.useEditableLabel({onToggle:function(e){return null===i||void 0===i?void 0:i(e,p)}}),h=m[0],g=m[2];return h?o.default.createElement(s.AutoFocusingInputField,r({className:l},a.makeInputFieldBindings({value:p,setValue:f,onChange:n}),a.makeEditableLabelInputFieldBindings({setToggled:g}),{onKeyDown:function(e){return e.stopPropagation()}})):o.default.createElement("span",r({},a.makeEditableLabelLabelBindings({setToggled:g,useDoubleClick:c})),p||u)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.buildGroupInfo=void 0;var o=n(3);function a(e,t){var n=e.map((function(e){return a(e.items.filter(o.isGroup).map((function(e){return r({},e)})),i(i([],t),[e.identifier]))})).flat();return i(i([],e.map((function(e){return r(r({},e),{parents:t})}))),n)}t.buildGroupInfo=function(e){return a([e],[]).sort((function(e,t){return e.identifier-t.identifier}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.renderItemStylesMaybeWithSizeOverride=void 0;var i=n(3);t.renderItemStylesMaybeWithSizeOverride=function(e,t,n,o,a,s){return e&&o&&null===e.itemIndex&&e.groupIdentifier===o.identifier||e&&null===o&&e.groupIdentifier===n.identifier&&e.itemIndex===a?r(r({},i.renderItemStyles(t,n,a,s)),{flex:"none",width:e.initialSize+e.currentDelta}):i.renderItemStyles(t,n,a,s)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderResizer=void 0;var i=r(n(1));t.renderResizer=function(e,t,n,r,o){return e.enableInteraction&&e.enableResizing&&"X"===n&&i.default.createElement("div",{className:"InterGroupDrag-resizer",onMouseDown:function(e){return t(e,r,o)}})}},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMegaSyncedAppState=void 0;var r=n(260),i=n(1),o=n(3),a=n(414),s=n(415),u=n(116),c=n(226),l=n(442),d=n(238);function p(e,t){var n=e[0];return n?c.defaultMakeCacheFunctions(l.DOCUMENTS_RESOURCE,n):null}t.useMegaSyncedAppState=function(e,t,n){var f=o.useDebouncedMemo((function(){return c.makeFetcherAndPusherMappings({settings:e,resourceConfigs:l.resourceConfigs,originConfigs:u.originConfigs})}),500,[e.originSettings]),m=o.useFactory(p,[null===d.applicationPaths||void 0===d.applicationPaths?void 0:d.applicationPaths.cacheLocation],[]),h=r.useAutoSyncedAppState(e,t,n,e.defaultOrigin,f,m,null===d.applicationPaths||void 0===d.applicationPaths?void 0:d.applicationPaths.logsLocation),g=h[0],v=h[1],y=h[2],b=h[3];return i.useEffect((function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&y({type:"requestDownload"})}))}),[]),a.useArchiveManager(g.store.store,v),[g,v,b,s.useDirtyState(g.store)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoSyncedAppState=t.isSynced=void 0;var r=n(261),i=n(3),o=n(1),a=n(294),s=n(3),u=n(295),c=n(296),l=n(301),d=n(64),p=n(302),f=n(306),m=n(309),h=n(310),g=n(38),v=n(91),y=n(311),b=n(312),O=n(407),_=n(408),S=n(409);t.isSynced=function(e){return 0===v.getAllDirties(e.store.store,(function(){return!0})).length};var x=d.isInMockedMode?0:1500,E=d.isInMockedMode?0:1e3;t.useAutoSyncedAppState=function(e,t,n,d,v,j,w,P){void 0===P&&(P=s.debounce);var D=o.useCallback((function(e,t){return n.emit({state:e,effect:t}),Promise.resolve()}),[]);i.useEventBusSubscription(n,o.useCallback((function(e){var n=e.effect;switch(n.type){case"renameTag":var r=n.path.filter((function(e,t){return t!==n.path.length-1})).concat([n.newLabelValue]);return void t({type:"selectTagPath",path:r})}}),[]));var T=i.useReducerWithEffects(b.reducer,D,y.initialState),C=T[0],I=T[1];_.useUpdateSettings(I,e);var M=o.useMemo((function(){return u.makeMultiOriginPusher(v.pusherMappings.documents)}),[v.pusherMappings.documents]),k=o.useMemo((function(){return c.makeMultiOriginFetcher(v.fetcherMappings.documents)}),[v.fetcherMappings.documents]),L=p.useDoUpload(I,M,P,x),A=f.useDoDownload(I,k,P,E),R=r.useSyncManager(L,A),N=R[0],F=R[1];return O.useSyncStateMessage(N),a.useUploadRequest(C,v,d,F),l.useDownloadRequest(v,d,F),h.useDocumentChangeEvents(C.store,(function(e){!function(e,t,n){if(null!==e){var r=g.get(t.store.store,n);r&&e.pushToCache(r)}}(j,C,e)}),(function(e){!function(e,t){null!==e&&e.deleteFromCache(t)}(j,e)})),m.useInitialLoadFromCache(I,j),S.useReminders(C,w),[C,I,F,N]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncManager=t.reducer=void 0;var a=n(3),s=n(1);function u(e){return!1!==e.doPostUpload?[]:!1!==e.doPostDownload?[{type:"doDownload"}]:[]}function c(e){return!1!==e.doPostUpload?{doPostUpload:!1}:!1!==e.doPostDownload?{doPostDownload:!1}:{}}function l(e,t){switch(t.type){case"notifyUploadRequested":return[r(r({},e),{state:{name:"uploadRequested"}}),[]];case"notifyUploadStart":return[r(r({},e),{state:{name:"uploadOngoing"}}),[]];case"notifyUploadDone":return[r(r(r(r({},e),{state:{name:"idle"}}),c(e)),{pushErrors:t.errors}),u(e)];case"notifyDownloadRequested":return[r(r({},e),{state:{name:"downloadRequested"}}),[]];case"notifyDownloadStart":return[r(r({},e),{state:{name:"downloadOngoing"}}),[]];case"notifyDownloadDone":return[r(r(r(r({},e),{state:{name:"idle"}}),c(e)),{pullErrors:t.errors}),u(e)];case"requestUpload":switch(e.state.name){case"downloadRequested":case"uploadOngoing":case"downloadOngoing":return[r({},e),[]];case"uploadRequested":case"idle":return[r(r({},e),{state:{name:"uploadRequested"}}),[{type:"doUpload",wrappedState:t.wrappedState}]]}case"requestDownload":switch(e.state.name){case"uploadOngoing":case"downloadOngoing":case"uploadRequested":return[r(r({},e),{doPostDownload:!0}),[]];case"downloadRequested":case"idle":return[e,[{type:"doDownload",immediate:t.immediate}]]}}}function d(e,t){var n=this,r=e[0],a=e[1];return function(e,t,s){return i(n,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:switch(t.type){case"doUpload":return[3,1];case"doDownload":return[3,5]}return[3,9];case 1:return n.trys.push([1,4,,5]),s({type:"notifyUploadRequested"}),[4,r(t.wrappedState,t.immediate)];case 2:return e=n.sent().serviceCall,s({type:"notifyUploadStart"}),[4,e];case 3:return[2,[{type:"notifyUploadDone",errors:n.sent().errors}]];case 4:return n.sent(),[2,void 0];case 5:return n.trys.push([5,8,,9]),s({type:"notifyDownloadRequested"}),[4,a(t.immediate)];case 6:return e=n.sent().serviceCall,s({type:"notifyDownloadStart"}),[4,e];case 7:return[2,[{type:"notifyDownloadDone",errors:n.sent().errors}]];case 8:return n.sent(),[2,void 0];case 9:return[2]}}))}))}}t.reducer=l,t.useSyncManager=function(e,t){var n=a.useFactory(d,[e,t],[]),r=a.useReducerWithEffects(l,n,s.useMemo((function(){return{state:{name:"idle"},doPostUpload:!1,doPostDownload:!1,pushErrors:[],pullErrors:[]}}),[]));return[r[0],r[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRefsCallback=void 0;var r=n(1);t.useRefsCallback=function(){var e=r.useRef([]),t=r.useCallback((function(t,n){return e.current&&(e.current[n]=t)}),[]);return{refs:e,callback:t}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildTransitionMap=t.useStateMachine=t.makeStateMachineReducer=void 0;var i=n(1);function o(e){var t=e.transitions,n=e.extract,r=void 0===n?function(e){return e}:n,i=e.write,o=void 0===i?function(e,t){return t}:i;return function(e,n){var i=t[r(e)][n]||r(e);return o(e,i)}}t.makeStateMachineReducer=o,t.useStateMachine=function(e,t){return i.useReducer(o({transitions:t}),e)},t.buildTransitionMap=function(e){var t=e[0].slice(1),n=t.reduce((function(e,t){var n;return r(r({},e),((n={})[t]={},n))}),{});return e.reduce((function(e,n,i){if(0===i)return e;var o=n[0],a=n.slice(1);return t.reduce((function(e,t,n){var i,s;return r(r({},e),((i={})[t]=r(r({},e[t]),((s={})[o]=a[n],s)),i))}),e)}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInputField=t.makeInputFieldBindings=void 0;var r=n(1);t.makeInputFieldBindings=function(e){return{value:e.value,onChange:function(t){var n;e.setValue(t.target.value),null===(n=e.onChange)||void 0===n||n.call(e,t.target.value)}}},t.useInputField=function(e){return r.useState(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeTreeViewEntryBindings=t.makeExpandedIconBindings=void 0,t.makeExpandedIconBindings=function(e){return e.width=e.width||"1em",r({style:{width:e.width}},e.entry.hasChildren?{onClick:function(){var t;return null===(t=e.setCollapsed)||void 0===t?void 0:t.call(e,e.entry.index,!e.entry.isCollapsed)}}:{})},t.makeTreeViewEntryBindings=function(e){return e.height=e.height||"1.5em",{onMouseDown:function(){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,e.entry)},key:e.entry.index+"-"+e.entry.depth+"-"+e.entry.name,style:{zIndex:1e4-e.entry.index,height:e.height,marginTop:e.entry.isInsideCollapsed?"-"+e.height:void 0,transition:e.entry.isInsideCollapsed?"margin-top 0.15s, opacity 0.1s":"margin-top 0.15s, opacity 0.15s ease-in",opacity:e.entry.isInsideCollapsed?0:1,display:"flex",position:"relative"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAutoFocusingInputField=void 0;var r=n(1);t.useAutoFocusingInputField=function(e){r.useEffect((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultSelectionKeyHandlerChain=t.useScrollIntoViewForSelection=t.useSelection=void 0;var a=n(1),s=n(90),u=n(159),c=n(75),l=n(102),d=function(e){return function(t){return r(r({},t),{mode:e})}},p=function(e){return function(t){return r(r({},t),{value:e})}},f=function(e){return function(t){return r(r({},t),{currentIndex:e})}},m=function(){return function(e){return r(r({},e),{derivedStates:{active:"focused"===e.mode||"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode,navigating:"navigatingByKey"===e.mode||"navigatingByMouse"===e.mode}})}},h=function(e,t){return function(n){return r(r({},n),{filteredEntries:t(e,n.value)})}};function g(e,t){var n=e[0],i=e[1];return function(e,t){switch(t.type){case"focus":case"click":return s.pipe(e,d("focused"),m(),(function(e){return[e,[]]}));case"confirm":return s.pipe(e,t.close?d("closed"):d("focused"),s.doUnless(!1===t.reset,p("")),s.doUnless(!1===t.reset,f(0)),s.doUnless(!1===t.reset,h(n,i)),m(),(u=[{type:"confirm",oldState:e}],function(e){return[e,u]}));case"change":return s.pipe(e,d("focused"),p(t.value),f(0),h(n,i),m(),(function(e){return[e,[]]}));case"escape":return s.pipe(e,d("closed"),m(),f(0),(function(e){return[e,[]]}));case"up":return s.pipe(e,(function(e){return r(r({},e),{currentIndex:s.normalizeCounter(e.currentIndex-1,e.filteredEntries.length)})}),d("navigatingByKey"),m(),(function(e){return[e,[]]}));case"down":return s.pipe(e,(a=t.considerFocused,function(e){return r(r({},e),{currentIndex:a&&"focused"===e.mode?e.currentIndex:s.normalizeCounter(e.currentIndex+1,e.filteredEntries.length)})}),d("navigatingByKey"),m(),(function(e){return[e,[]]}));case"mouseMove":return s.pipe(e,(o=t.currentIndex,function(e){return"navigatingByMouse"===e.mode&&e.currentIndex===o?e:s.pipe(e,d("navigatingByMouse"),f(o))}),m(),(function(e){return[e,[]]}));case"blur":return s.pipe(e,d("closed"),p(""),f(0),m(),(function(e){return[e,[]]}));case"updateFilteredEntries":return s.pipe(e,h(n,i),(function(e){return[e,[]]}))}var o,a,u}}function v(e,t){var n=this,r=e[0];return function(e,t,a){return i(n,void 0,void 0,(function(){return o(this,(function(e){switch(t.type){case"confirm":null===r||void 0===r||r(t.oldState)}return[2]}))}))}}t.useSelection=function(e){var t=e.entries,n=e.filter,r=e.initialValue,i=e.onConfirm,o=void 0===i?function(){}:i,s=c.useFactory(g,[t,n],[]),u=c.useFactory(v,[o],[]),d=a.useMemo((function(){return function(e,t,n){return m()({value:e,filteredEntries:n(t,e),currentIndex:0,mode:"closed",derivedStates:{active:!1,navigating:!1}})}(r,t,n)}),[]),p=l.useReducerWithEffects(s,u,d),f=p[0],h=p[1];return a.useEffect((function(){return h({type:"updateFilteredEntries"})}),[t,h]),[f,h]},t.useScrollIntoViewForSelection=function(e){var t=e.state,n=e.entryRefs;return u.useScrollIntoView({dependency:t.currentIndex,condition:t.derivedStates.active,index:t.currentIndex,refs:n,useTimeout:!0})},t.makeDefaultSelectionKeyHandlerChain=function(e,t){return void 0===t&&(t=!0),[s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.ENTER,(function(){return e({type:"confirm",reset:!0,close:!1})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.ESCAPE,(function(){return e({type:"escape"})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.DOWN_ARROW,(function(n){return s.preventDefault(n),e({type:"down",considerFocused:t})})),s.buildKeyboardEventHandlerChainItem(s.KEY_CODES.UP_ARROW,(function(t){return s.preventDefault(t),e({type:"up"})}))]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollTop=void 0;var r=n(1);t.useScrollTop=function(){var e=r.useState(0),t=e[0],n=e[1];return[t,r.useMemo((function(){return{onScroll:function(e){return n(e.currentTarget.scrollTop)}}}),[])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDimensions=void 0;var r=n(1);t.useDimensions=function(){var e=r.useRef(null),t=r.useState(null),n=t[0],i=t[1],o=new ResizeObserver((function(e){var t=e[0];return i(t.contentRect)}));return r.useEffect((function(){var t=e.current;if(t)return o.observe(t),function(){return o.unobserve(t)}}),[e.current]),[e,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOnce=void 0;var r=n(1);t.useOnce=function(e,t){var n=r.useState(!1),i=n[0],o=n[1];r.useEffect((function(){if(t&&!i)return o(!0),e()}),[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedMemo=void 0;var r=n(1),i=n(140);t.useDebouncedMemo=function(e,t,n){var o=r.useMemo((function(){return i.debounce((function(e,t){return t((function(){return e()}))}),t)}),[]),a=o[0],s=o[1],u=r.useMemo((function(){return e()}),[]),c=r.useState((function(){return u})),l=c[0],d=c[1];return r.useEffect((function(){return a(e,d).catch((function(){return null})),function(){return s()}}),n),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebouncedEffect=void 0;var r=n(1),i=n(140);function o(e){e()}t.useDebouncedEffect=function(e,t,n,a){void 0===a&&(a=i.debounce);var s=r.useMemo((function(){return a(o,t)}),[]),u=s[0],c=s[1];r.useEffect((function(){return u(e).catch((function(){return null})),function(){return c()}}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePreviousDefined=void 0;var r=n(1);t.usePreviousDefined=function(e){var t=r.useRef();return r.useEffect((function(){e&&(t.current=e)})),t.current}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterGroupDrag=void 0;var r=n(1),i=n(167),o=n(139),a=n(102),s=n(75),u=n(168),c=n(275),l=n(276);t.useInterGroupDrag=function(e,t,n){var d=r.useRef([]),p=r.useRef([]),f=s.useFactory(c.interGroupDragWorkerFactory,[d,p],[n]),m=a.useReducerWithEffects(l.interGroupDragReducer,f,null),h=m[0],g=m[1],v=r.useCallback((function(){g({type:"stop"})}),[]),y=i.useSimpleDrag(e,t),b=y[0],O=y[1],_=r.useCallback((function(e,t){O({type:"start",event:e,metaData:t})}),[]);o.useStateChangesToDefined(b,(function(e){var t=e.metaData,n=u.calculateGroupDimensions(t.groups,d,p);g({type:"start",groupDimensions:n,simpleDragState:e,startData:t})})),o.useStateStaysDefined(b,(function(e){return g({type:"drag",simpleDragState:e})})),o.useStateChangesToNull(b,v);var S=r.useCallback((function(e,t,n){p.current[e]||(p.current[e]=[]),p.current[e][t]=n}),[]);return[h,_,r.useCallback((function(e,t){d.current[e]=t,p.current[e]||(p.current[e]=[])}),[]),S,d,p]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.interGroupDragWorkerFactory=void 0;var i=n(168);t.interGroupDragWorkerFactory=function(e,t){var n=e[0],o=e[1],a=t[0];return function(e,t,s){switch(t.type){case"scheduleUnblock":return new Promise((function(t){return setTimeout((function(){if(!e)throw"unexpected state";var a=e.simpleDragState.metaData,s=i.calculateGroupDimensions(a.groups,n,o).map((function(t){return t.identifier===e.source.index?r(r({},t),{entryDimensions:t.entryDimensions.map((function(t,n){return n===e.source.listDragState.originalIndex?e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex]:t}))}):t}));t([{type:"unblock",groupDimensions:s}])}),1e3*a+25)}))}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.interGroupDragReducer=void 0;var i=n(277),o=n(278),a=n(280),s=n(281),u=n(282),c=n(285),l=n(177);function d(e,t){var n,i;if(!t)return t;var o=((null===(n=null===e||void 0===e?void 0:e.target)||void 0===n?void 0:n.index)||(null===e||void 0===e?void 0:e.source.index))!==((null===(i=t.target)||void 0===i?void 0:i.index)||t.source.index),a=(null===e||void 0===e?void 0:e.layoutRecalculation)!==t.layoutRecalculation;return function(e){var t=c.calculateDraggedItemSize(e),n=l.calculateDraggedItemPosition(e),i=e.layoutTransforms.map((function(i,o){return o!==e.source.index?i:i.map((function(i,o){return o!==e.source.listDragState.originalIndex?i:r(r({},t),n)}))}));return r(r({},e),{layoutTransforms:i})}(t=o||a?r(r({},t),{layoutTransforms:u.calculateLayoutTransforms(t)}):t)}t.interGroupDragReducer=function(e,t){switch(t.type){case"start":var n=i.handleStart(t),u=n[0],c=n[1];return[d(e,u),c];case"drag":if(!e)throw"unexpected state";var l=o.handleDrag(e,r(r({},t),{simpleDragState:r(r({},t.simpleDragState),{startCoordinates:e.simpleDragState.startCoordinates})}));u=l[0],c=l[1];return[d(e,u),c];case"unblock":if(!e)return[null,[]];var p=a.handleUnblock(e,t);u=p[0],c=p[1];return[d(e,u),c];case"stop":return s.handleStop()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleStart=void 0;var r=n(66),i=n(47);t.handleStart=function(e){var t=e.startData.groups[e.startData.groupIndex].axis,n=e.groupDimensions[e.startData.groupIndex];return[{source:{index:e.startData.groupIndex,listDragState:r.onStartListDrag(e.startData.itemIndex,n.entryDimensions.map(i.dex.size[t]),i.dex.pos[t](e.simpleDragState.startCoordinates),i.dex.pos[t](n.dimensions)+n.padding)},groupDimensions:e.groupDimensions,simpleDragState:e.simpleDragState,groups:e.startData.groups,layoutRecalculation:null,layoutTransforms:[]},[]]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.handleDrag=void 0;var o=n(66),a=n(279),s=n(47),u=n(170),c=n(171),l=n(142),d=n(141),p=n(173);function f(e,t){var n=e.groups[t.index].items.length-1,i=t.listDragState.entrySizes;i=o.moveEntryInList(i,t.listDragState.targetIndex,n);var a=o.calculatePositions(i);return r(r({},t),{listDragState:r(r(r({},t.listDragState),{targetIndex:n,currentHandlePosition:t.listDragState.entryEndPositions[n],entrySizes:i}),a)})}function m(e){return{index:e,listDragState:{originalIndex:0,targetIndex:0,initialHandlePosition:0,currentHandlePosition:0,entrySizes:[],entryEndPositions:[],entryMiddlePositions:[],originalEndPosition:0,handleOffsetRelativeToEndPosition:0,crossedItemIndex:null,offset:0}}}function h(e){var t=e.items.filter(l.isGroup).map(h).flat();return i([e.identifier],t)}function g(e,t){var n=function(e){var t,n,r,i,o,a;if(null===(null!==(n=null===(t=e.target)||void 0===t?void 0:t.listDragState.crossedItemIndex)&&void 0!==n?n:e.source.listDragState.crossedItemIndex))return[];var s=null!==(i=null===(r=e.target)||void 0===r?void 0:r.index)&&void 0!==i?i:e.source.index,u=null!==(a=null===(o=e.target)||void 0===o?void 0:o.listDragState.targetIndex)&&void 0!==a?a:e.source.listDragState.targetIndex,c=e.groups[s].items[u];return c&&l.isGroup(c)?h(c):[]}(e),r=e.groups[e.source.index].items[e.source.listDragState.originalIndex],i=e.groups.concat().filter((function(e){return!n.includes(e.identifier)})).sort((function(e,t){return t.parents.length-e.parents.length})).map((function(n){var r=n.identifier;return{match:e.groupDimensions[r].dimensions.x<t.x&&e.groupDimensions[r].dimensions.y<t.y&&t.x<e.groupDimensions[r].dimensions.x+e.groupDimensions[r].dimensions.width&&t.y<e.groupDimensions[r].dimensions.y+e.groupDimensions[r].dimensions.height,identifier:r}})).filter((function(t){var n=t.identifier;return!l.isGroup(r)||n!==r.identifier&&!d.isSubGroup(e,r.identifier,n)})).filter((function(e){return e.match}));return i.length>0?i[0].identifier:-1}t.handleDrag=function(e,t){var n,i;if(e.layoutRecalculation)return[r(r({},e),{simpleDragState:t.simpleDragState}),[]];var o=g(e,t.simpleDragState.currentCoordinates);if(o>=0&&o!==e.source.index){var l=r(r({},e),{simpleDragState:t.simpleDragState}),d=(l=r(r({},l),{source:l.target?l.source:f(l,l.source)})).target&&l.target.index===o,h=s.dex.pos[l.groups[o].axis](l.simpleDragState.currentCoordinates);l=r(r({},l),{target:d?p.setListDragStateOnDrag(h,l.target):m(o)});var v=(null===(n=e.target)||void 0===n?void 0:n.index)!==(null===(i=l.target)||void 0===i?void 0:i.index)||e.target.listDragState.targetIndex!==l.target.listDragState.targetIndex;return l=r(r({},l),{layoutRecalculation:v?u.getLayoutRecalculation(e,l):null}),l=a.calculateCoordinateCorrectionVertical(e,l),[l=d?l:r(r({},l),{target:c.initGroupDragStateForTarget(e,l,o,h)}),v?[{type:"scheduleUnblock"}]:[]]}return l=r(r({},e),{target:void 0,simpleDragState:t.simpleDragState}),l=a.calculateCoordinateCorrectionVertical(e,l),l=r(r({},l),{source:p.setListDragStateOnDrag(s.dex.pos[e.groups[e.source.index].axis](l.simpleDragState.currentCoordinates),l.source)}),v=void 0!==e.target||e.source.listDragState.targetIndex!==l.source.listDragState.targetIndex,[l=r(r({},l),{layoutRecalculation:v?u.getLayoutRecalculation(e,l):null}),v?[{type:"scheduleUnblock"}]:[]]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateCoordinateCorrectionVertical=void 0;var i=n(47),o=n(76),a=n(141),s=n(169);t.calculateCoordinateCorrectionVertical=function(e,t){var n,u,c,l,d=null!==(u=null===(n=e.target)||void 0===n?void 0:n.index)&&void 0!==u?u:e.source.index,p=null!==(l=null===(c=t.target)||void 0===c?void 0:c.index)&&void 0!==l?l:t.source.index;if("X"!==e.groups[d].axis)return t;if(!(d!==p))return t;if(!a.isSubGroup(e,p,d))return t;var f=i.dex.pos.Y(t.simpleDragState.currentCoordinates)-i.dex.pos.Y(t.simpleDragState.startCoordinates);if(!(0<f))return t;var m=i.dex.size.Y(e.groupDimensions[d].dimensions)/2-f;if(!(0<m))return t;var h=i.dex.pos.Y(t.simpleDragState.startCoordinates),g=h-m;return r(r({},t),{simpleDragState:r(r({},t.simpleDragState),{startCoordinates:r(r({},t.simpleDragState.startCoordinates),o.dre.pos.Y(h-m))}),source:t.target?t.source:s.patchListDragStateHandlePosition(t.source,g),target:t.target?s.patchListDragStateHandlePosition(t.target,g):void 0})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.handleUnblock=void 0;var i=n(47),o=n(170),a=n(171),s=n(173);t.handleUnblock=function(e,t){var n,u,c=r(r({},e),{layoutRecalculation:null,groupDimensions:t.groupDimensions});c=r(r({},c),{target:c.target?a.initGroupDragStateForTarget(e,c,c.target.index,i.dex.pos[c.groups[c.target.index].axis](c.simpleDragState.currentCoordinates)):void 0}),c=r(r({},c),{source:c.target?c.source:s.setListDragStateOnDrag(i.dex.pos[c.groups[c.source.index].axis](c.simpleDragState.currentCoordinates),c.source)});var l=(null===(n=e.target)||void 0===n?void 0:n.listDragState.targetIndex)!==(null===(u=c.target)||void 0===u?void 0:u.listDragState.targetIndex);return[c=r(r({},c),{layoutRecalculation:l?o.getLayoutRecalculation(e,c):null}),l?[{type:"scheduleUnblock"}]:[]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleStop=void 0,t.handleStop=function(){return[null,[]]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLayoutTransforms=void 0;var o=n(174),a=n(176),s=n(178),u=n(77),c=n(142);function l(e,t,n){return n.items.map((function(d,p){if(c.isGroup(d)){var f=l(e,t,d);return function(e,t,n,c,l){var d,p,f=u.isDraggedItem(e,n.identifier,l)?{dimensions:{},sizeChange:null}:o.calculateGroupSize(e,n.identifier,c.identifier,l,t.accumulatedSizeChange),m=u.isDraggedItem(e,n.identifier,l)?{}:s.calculateItemSize(e,n.identifier,l),h=a.calculateItemPosition(e,n.identifier,l),g=r(r(r({},f.dimensions),m),h),v=i([],t.layoutTransforms);return v[n.identifier]||(v[n.identifier]=[]),v[n.identifier][l]=g,v[c.identifier]||(v[c.identifier]=[]),{layoutTransforms:v,accumulatedSizeChange:{x:"X"===(null===(d=f.sizeChange)||void 0===d?void 0:d.axis)?f.sizeChange.quantity:0,y:"Y"===(null===(p=f.sizeChange)||void 0===p?void 0:p.axis)?f.sizeChange.quantity:0}}}(e,f,n,d,p)}return function(e,t,n,o){var c=a.calculateItemPosition(e,n.identifier,o),l=u.isDraggedItem(e,n.identifier,o)?{}:s.calculateItemSize(e,n.identifier,o),d=r(r({},c),l),p=i([],t.layoutTransforms);return p[n.identifier]||(p[n.identifier]=[]),p[n.identifier][o]=d,{layoutTransforms:p,accumulatedSizeChange:t.accumulatedSizeChange}}(e,t,n,p)})).reduce((function(e,t){var n,r,o,a,s=t.layoutTransforms,u=t.accumulatedSizeChange,c=i([],e.layoutTransforms);s.forEach((function(t,n){t&&(c[n]=i([],e.layoutTransforms[n]?e.layoutTransforms[n]:[]),t.forEach((function(e,t){e&&(c[n][t]=e)})))}));var l={x:(null!==(n=e.accumulatedSizeChange.x)&&void 0!==n?n:0)+(null!==(r=u.x)&&void 0!==r?r:0),y:(null!==(o=e.accumulatedSizeChange.y)&&void 0!==o?o:0)+(null!==(a=u.y)&&void 0!==a?a:0)};return{layoutTransforms:c,accumulatedSizeChange:l}}),t)}t.calculateLayoutTransforms=function(e,t){if(!(t=t||e.groups.find((function(e){return e.isRootGroup}))))throw"no root group found";return l(e,{layoutTransforms:[],accumulatedSizeChange:{x:0,y:0}},t).layoutTransforms}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateGroupSizeChange=void 0;var r=n(284),i=n(47),o=n(76);t.calculateGroupSizeChange=function(e,t,n,a,s,u,c,l,d){if("X"===e){var p=function(e,t,n){return e.groupDimensions[t].entryDimensions.concat().filter((function(n,r){return t!==e.source.index||r!==e.source.listDragState.originalIndex})).sort((function(e,t){return i.dex.size[n](t)-i.dex.size[n](e)}))[0]}(c,l,"Y");return p?i.dex.size.Y(p)<a?r.calculateDimensionsWithSizeChange(t,u,(a-i.dex.size.Y(p))*d):{dimensions:o.dre.size[t](u),sizeChange:null}:r.calculateDimensionsWithSizeChange(t,u,a*d)}return r.calculateDimensionsWithSizeChange(e,s,n*d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDimensionsWithSizeChange=void 0;var r=n(76);t.calculateDimensionsWithSizeChange=function(e,t,n){return{dimensions:r.dre.size[e](t+n),sizeChange:{quantity:n,axis:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDraggedItemSize=void 0;var r=n(103);t.calculateDraggedItemSize=function(e){var t,n,i=null!==(n=null===(t=e.target)||void 0===t?void 0:t.index)&&void 0!==n?n:e.source.index,o=e.groups[i].axis,a=e.groupDimensions[i],s=a.padding,u=a.dimensions.width,c=e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex].height,l=u-2*s;return"X"===o?{width:r.getSizeBasedOnCurrentTarget(e,i),height:c}:{width:l,height:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePlaceholderItemPosition=void 0,t.calculatePlaceholderItemPosition=function(e){var t=e.target?e.target:e.source,n=e.groupDimensions[e.source.index].entryDimensions[e.source.listDragState.originalIndex],r=e.groupDimensions[t.index],i=r.dimensions.top,o=r.dimensions.left;return{top:0===t.listDragState.targetIndex?i:i+t.listDragState.entryEndPositions[t.listDragState.targetIndex-1],left:o,width:r.dimensions.width,height:n.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroupFlex=void 0,t.renderGroupFlex=function(e){return{display:"flex",flexDirection:"X"===e?"row":"column"}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.renderItemStyles=void 0;var i=n(77);function o(e,t,n){return"Y"===e?t:r(r(r({},t),{alignSelf:"start"}),t.width?{}:n.size?{width:n.size}:{flex:1})}t.renderItemStyles=function(e,t,n,a){if(e){var s=e.layoutTransforms[t.identifier][n];return i.isDraggedItem(e,t.identifier,n)?r({transition:"width "+a+"s, height "+a+"s",position:"fixed",zIndex:100},s):r({position:"relative",transition:"width "+a+"s, height "+a+"s, left "+a+"s, top "+a+"s"},o(t.axis,s,t.items[n]))}return o(t.axis,{},t.items[n])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventBus=void 0;var r=n(1),i=n(155);t.useEventBus=function(e){return void 0===e&&(e={}),r.useMemo((function(){var t=function(e){var t,n;switch(e.lateSubscribers){case void 0:return new i.Subject;default:switch(e.lateSubscribers){case!0:return new i.ReplaySubject(1,500);default:return new i.ReplaySubject(null!==(t=e.lateSubscribers.bufferSize)&&void 0!==t?t:1,null!==(n=e.lateSubscribers.windowTime)&&void 0!==n?n:500)}}}(e);return new Proxy(t,{get:function(e,t){return"emit"===t?function(t){return e.next(t)}:e[t]}})}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStateFromEventBus=void 0;var r=n(1),i=n(180);t.useStateFromEventBus=function(e){var t=r.useState(null),n=t[0],o=t[1];return i.useEventBusSubscription(e,r.useCallback((function(e){o(e)}),[])),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTimeout=void 0;var r=n(505),i=n(1),o=n(104),a=n(179);t.useTimeout=function(e,t){var n=a.useSubject(),s=i.useMemo((function(){return n.pipe(r.delay(t))}),[]);return o.useObservable(e,s),i.useCallback((function(e){return n.next(e)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var r=n(1),i=n(155),o=n(104);t.useInterval=function(e,t){o.useObservable(e,r.useMemo((function(){return i.interval(t)}),[]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStartAnimation=void 0;var r=n(1),i=n(181);t.useStartAnimation=function(){var e=r.useRef(null);return r.useCallback((function(t,n,r,o){var a;null===(a=e.current)||void 0===a||a.call(e),e.current=i.startAnimation(t,n,r,o)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUploadRequest=void 0;var r=n(1),i=n(91);function o(e){return i.getAllDirties(e.store.store,(function(){return!0})).length>0}t.useUploadRequest=function(e,t,n,i){r.useEffect((function(){!1===e.blockNextSync&&o(e)&&i({type:"requestUpload",wrappedState:e})}),[e.store]),r.useEffect((function(){o(e)&&i({type:"requestUpload",wrappedState:e})}),[t,n])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginPusher=void 0;var a=n(182);t.makeMultiOriginPusher=function(e){return function(t){return i(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,a.getActionByOrigin(e,t.permanent.origin)(t).then((function(e){var n=e.backup?{backup:r(r({},e.backup),{origin:t.permanent.origin})}:{};return r(r(r({},e),{origin:t.permanent.origin}),n)}))]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeMultiOriginFetcher=void 0;var s=n(12);t.makeMultiOriginFetcher=function(e){return function(){return i(void 0,void 0,void 0,(function(){var t,n,u,c,l,d;return o(this,(function(p){switch(p.label){case 0:return t=e.map((function(e){return i(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e.action()];case 1:return[2,{results:(t=n.sent()).results.map((function(t){return r(r({},t),{origin:e.origin})})),errors:t.errors}]}}))}))})),[4,s.allSettled(t)];case 1:return n=p.sent(),u=s.getFulfilled(n),c=s.getRejected(n),l=u.reduce((function(e,t){return a(a([],e),t.results)}),new Array),d=a(a([],c),u.map((function(e){return e.errors})).flat()),[2,{results:l,errors:d}]}}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginSettings=void 0,t.getOriginSettings=function(e,t,n){var r;return(null===(r=e.originSettings.find((function(e){return e.origin===t})))||void 0===r?void 0:r.settings)||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDashboardGroupDefinition=void 0,t.isDashboardGroupDefinition=function(e){return void 0!==e.axis}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isNotNull=t.getRejected=t.getFulfilled=t.allSettled=t.capitalize=t.copyToClipboard=t.ThemeContext=void 0;var a=o(n(1));function s(e){return"fulfilled"===e.status}function u(e){return"rejected"===e.status}t.ThemeContext=a.default.createContext(""),t.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.allSettled=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,Promise.all(e.map((function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e];case 1:return[2,{status:"fulfilled",value:t.sent()}];case 2:return[2,{status:"rejected",reason:t.sent()}];case 3:return[2]}}))}))})))]}))}))},t.getFulfilled=function(e){return e.filter(s).map((function(e){return e.value}))},t.getRejected=function(e){return e.filter(u).map((function(e){return e.reason}))},t.isNotNull=function(e){return null!==e}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useObject=t.getObject=t.AppContext=void 0;var a=o(n(1));function s(e,t){var n=e.find((function(e){return e.name===t}));if(!n)throw"AppContext: object '"+t+"' not found!";return n.object}t.AppContext=a.default.createContext([]),t.getObject=s,t.useObject=function(e){return s(a.useContext(t.AppContext),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDownloadRequest=void 0;var r=n(1);t.useDownloadRequest=function(e,t,n){r.useEffect((function(){n({type:"requestDownload"})}),[e,t])}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDoUpload=t.doUploadFactory=void 0;var o=n(1),a=n(12),s=n(3),u=n(303),c=n(91),l=n(304),d=n(35),p=n(183);function f(e,t,n){return r(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return c.getAllDirties(e.store.store,u.isDocumentType("snippet")).length>0?[4,l.syncSomeAndAwaitAll(e.store,t,p.getId,u.isDocumentType("snippet"))]:[3,2];case 1:return r=i.sent(),o=a.getFulfilled(r),s=a.getRejected(r),n({type:"updateAfterSync",results:o,syncErrors:s}),[2,{actions:[],errors:s}];case 2:return c.getAllDirties(e.store.store,u.isDocumentType("tag")).filter(d.isTag).length>0?[4,l.syncSomeAndAwaitAll(e.store,t,p.getId,u.isDocumentType("tag"))]:[3,4];case 3:return r=i.sent(),o=a.getFulfilled(r),s=a.getRejected(r),n({type:"updateAfterSync",results:o,syncErrors:s}),[2,{actions:[],errors:s}];case 4:return[2,{actions:[],errors:[]}]}}))}))}function m(e,t){var n=this,o=e[0],a=e[1],s=e[2];return function(e){return r(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,s(e,a,o)];case 1:return[2,{serviceCall:t.sent().result}];case 2:throw t.sent();case 3:return[2]}}))}))}}t.doUploadFactory=m,t.useDoUpload=function(e,t,n,r){var i=o.useMemo((function(){return n(f,r)}),[n])[0];return s.useFactory(m,[e,t,i],[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDocumentType=void 0;t.isDocumentType=function(e){return function(t){return t.permanent.documentType===e}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.syncSomeAndAwaitAll=void 0;var o=n(12),a=n(305);function s(e,t,n,r,i,o,u){var c=a.syncNext(e,t,n,r,o);return u>9999||void 0===c.promise?i:s(e,t,n,r,i.concat(c.promise),c.queuedForSync,u+1)}t.syncSomeAndAwaitAll=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=s(e,t,n,a,[],[],1),[4,o.allSettled(r)];case 1:return[2,i.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.syncNext=void 0;var i=n(29),o=n(38),a=n(91);t.syncNext=function(e,t,n,s,u){var c=function(e,t,n){var r=a.getAllDirties(e,t).sort((function(e,t){return i.sortByUpdatedAt(e,t)})).map((function(e){return e.id})).find((function(e){return!n.includes(e)}));return r&&o.get(e,r)||void 0}(e.store,s,u);return c?{queuedForSync:r(r([],u),[c.id]),promise:t(c).then((function(e){return{originalId:c.id,returnedId:n(e),internalVersionBeforeUpdate:c.internalVersion,payload:e}}))}:{queuedForSync:u,promise:void 0}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDoDownload=void 0;var o=n(1),a=n(3),s=n(307),u=n(183),c=n(184),l=n(185),d=n(30);function p(e){return e.document}function f(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,s.initSyncer(e,u.getId,p,c.getPermanent,l.getUpdatedAt,d.isValid)];case 1:return n=r.sent(),t({type:"mergeDocumentStore",store:n.store}),[2,{actions:[],errors:n.errors}]}}))}))}function m(e,t){var n=this,o=e[0],a=e[1],s=e[2];return function(){return r(n,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,s(a,o)];case 1:return[2,{serviceCall:e.sent().result}];case 2:throw e.sent();case 3:return[2]}}))}))}}t.useDoDownload=function(e,t,n,r){var i=o.useMemo((function(){return n(f,r)}),[n])[0];return a.useFactory(m,[e,t,i],[])}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initSyncer=void 0;var o=n(308);t.initSyncer=function(e,t,n,a,s,u){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return c=new Array,r={store:c,oldToNew:{},newToOld:{}},[4,o.download(r,e,t,n,a,s,u)];case 1:return[2,i.sent()]}var c}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.download=void 0;var a=n(106);t.download=function(e,t,n,s,u,c,l){return i(this,void 0,void 0,(function(){var i,d;return o(this,(function(o){switch(o.label){case 0:return[4,t()];case 1:return i=o.sent(),d=i.results.reduce((function(e,t){return a.saveSynced(e,n(t),s(t),l,{updatedAt:c(t),config:(r=u(t),{permanent:r})});var r}),e.store),[2,{store:r(r({},e),{store:d}),errors:i.errors}]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialLoadFromCache=void 0;var r=n(3),i=n(30),o=n(106);t.useInitialLoadFromCache=function(e,t){r.useOnce((function(){t.fetchFromCache().then((function(t){e({type:"mergeDocumentStore",store:{store:t.reduce((function(e,t){return t.dirty?o.saveDirty(e,t.id,t.document,i.isValid,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)}):o.saveSynced(e,t.id,t.document,i.isValid,{config:{permanent:t.permanent},updatedAt:new Date(t.updatedAt)})}),[]),oldToNew:{},newToOld:{}}})}))}),null!==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDocumentChangeEvents=void 0;var r=n(1),i=n(186);t.useDocumentChangeEvents=function(e,t,n){var o=r.useState([]),a=o[0],s=o[1];r.useEffect((function(){var r=function(e){return e.store.map((function(e){return{id:e.id,version:e.item.permanent.version,internalVersion:e.item.internalVersion}})).sort((function(e,t){return e.id.localeCompare(t.id)}))}(e),o=i.calculateDiff(r,a,(function(e,t){return e.id.localeCompare(t.id)}),(function(e,t){return e.version===t.version&&e.internalVersion===t.internalVersion})),u=o.missingInA,c=o.missingInB,l=o.changed;u.forEach((function(e){n(e.id)})),c.forEach((function(e){t(e.id)})),l.forEach((function(e){var n=e.a;return t(n.id)})),s(r)}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0,t.initialState={store:{store:new Array,oldToNew:{},newToOld:{}},derivedState:{snippetMetaDataStore:[],snippetList:[],tagList:[]},blockNextSync:!1,settings:{selectedTagPath:[],showOnlyDeleted:!1,defaultOrigin:"cloud"},syncErrors:[]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var i=n(35),o=n(3),a=n(63),s=n(93),u=n(94),c=n(313),l=n(385),d=n(386),p=n(387),f=n(388),m=n(389),h=n(390),g=n(213),v=n(391),y=n(393),b=n(394),O=n(216),_=n(115),S=n(397),x=n(149),E=n(398),j=n(399),w=n(400),P=n(218),D=n(401),T=n(403),C=n(404),I=n(405),M=n(406);t.reducer=function(e,t){switch(t.type){case"createSnippet":var n=a.generateLocalId();return o.pipe(e,l.createSnippet(n,t.snippet,e.settings.defaultOrigin),h.addTagToSnippet(e.settings.selectedTagPath,n),c.updateAfterSnippetAction(n),x.withEffects({type:"createSnippet",id:n}));case"updateSnippet":return o.pipe(e,d.updateSnippet(t.id,t.snippet),c.updateAfterSnippetAction(t.id),P.withoutEffects());case"updateSnippetContent":return o.pipe(e,p.updateSnippetContent(t.id,t.content),c.updateAfterSnippetAction(t.id),P.withoutEffects());case"deleteSnippet":return o.pipe(e,d.updateSnippet(t.id,r(r({},t.snippet),{archived:!0})),M.cleanUpTagsAfterSnippetDeletion(t.id),_.recompile(),x.withEffects({type:"deleteSnippet",id:t.id}));case"restoreSnippet":return o.pipe(e,d.updateSnippet(t.id,r(r({},t.snippet),{archived:!1})),c.updateAfterSnippetAction(t.id),P.withoutEffects());case"renameTag":return o.pipe(e,f.renameTag(t.newLabelValue,t.path),S.updateAfterTagAction(),x.withEffects({type:"renameTag",path:t.path,newLabelValue:t.newLabelValue}));case"addTag":return o.pipe(e,m.addTag(t.path,e.settings.defaultOrigin),S.updateAfterTagAction(),P.withoutEffects());case"addTagToSnippet":return o.pipe(e,m.addTag(i.turnTagIntoPath(t.tag),function(e,t,n){var r=t.derivedState.snippetList.find((function(t){return t.metaData.id===e}));return r?r.metaData.origin:n}(t.id,e,e.settings.defaultOrigin)),s.compileTagList(),h.addTagToSnippet(i.turnTagIntoPath(t.tag),t.id),S.updateAfterTagAction(),P.withoutEffects());case"removeSnippetFromTag":return o.pipe(e,g.removeSnippetFromTag(t.snippetId,t.tagId),c.updateAfterSnippetAction(t.snippetId),P.withoutEffects());case"setSnippetName":return o.pipe(e,v.setSnippetName(t.snippetId,t.name),c.updateAfterSnippetAction(t.snippetId),x.withEffects({type:"renameSnippet",id:t.snippetId}));case"deleteTag":return o.pipe(e,y.deleteTag(t.path),S.updateAfterTagAction(),P.withoutEffects());case"mergeDocumentStore":return o.pipe(e,E.mergeDocumentStore(t.store));case"updateAfterSync":return o.pipe(e,b.updateAfterSync(t.results),O.maybeRewriteTagItems(),I.putSyncErrors(t.syncErrors),_.recompile(),u.setBlockNextSync(0<t.syncErrors.length),P.withoutEffects());case"setSettings":return o.pipe(e,j.setSettings(t.settings),w.maybeOverrideNoopOrigins(e.settings.defaultOrigin,t.settings.defaultOrigin),u.setBlockNextSync(!1),P.withoutEffects());case"changeOrigin":return o.pipe(e,D.changeOrigin(t.id,t.origin));case"updateDisplayMode":return o.pipe(e,T.updateDisplayMode(t.tagId,t.displayMode),P.withoutEffects());case"markArchivedObsolete":return o.pipe(e,C.markArchivedObsolete(t.timespanInMs),_.recompile(),P.withoutEffects())}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSnippetAction=void 0;var i=n(3),o=n(95),a=n(148),s=n(93),u=n(94);t.updateAfterSnippetAction=function(e){return function(t){return i.pipe(t,function(e){return function(t){return r(r({},t),{derivedState:r(r({},t.derivedState),{snippetMetaDataStore:o.updateSnippetMetaDataStore(t.store,t.derivedState.snippetMetaDataStore,e,t.syncErrors)})})}}(e),a.compileSnippetList(),s.compileTagList(),u.setBlockNextSync(!1))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorPlugin=t.LANGUAGE=void 0;var o=i(n(1)),a=n(315),s=n(318),u=n(336),c=n(110),l=n(108),d="CodeMirrorPlugin";function p(e,t){return e.split("\n").splice(0,t).join("\n")}t.LANGUAGE="code";t.CodeMirrorPlugin={name:d,language:t.LANGUAGE,icon:"mdi-code-tags",editorClass:function(){return"SnippetEditor-code-mode"},snippetListClass:function(){return null},testExtension:function(e){return l.supportedCodeLanguages.includes(l.fileExtensionToLanguage[e])?l.fileExtensionToLanguage[e]:null},testLanguage:function(e){return e===t.LANGUAGE||l.supportedCodeLanguages.includes(e)},toPlaintext:function(e){return e},fromPlaintext:function(e){return e},bootstrap:function(e){return e},produceFileMetaData:function(e){return{id:e.id,normalizedLanguage:t.LANGUAGE,textContent:e.document.content,upperCaseTextContent:e.document.content.toUpperCase(),title:e.document.name,upperCaseTitle:e.document.name.toUpperCase(),body:e.document.content,trimmedBody:e.document.content.split("\n").splice(0,2).join("\n"),searchableString:[e.document.content,e.document.name].join(" ").toUpperCase(),reminders:[]}},extractSubSnippets:function(e){return[{pluginName:d,type:"",content:e.snippet.content,textContent:e.snippet.content,searchableString:e.snippet.content.toUpperCase(),original:e}]},renderSubSnippet:function(e){return o.default.createElement(a.CodeMirrorReader,{content:p(e.original.snippet.content,6),language:e.original.snippet.language})},serialize:function(e){return e},deserialize:function(e){return e},init:function(e){return e},reader:a.CodeMirrorReader,writer:s.CodeMirrorWriter,toolbar:u.Toolbar,listEntry:function(e){return o.default.createElement(c.DefaultListEntry,r({},e),o.default.createElement(a.CodeMirrorReader,{content:p(e.snippetListEntry.snippet.content,2),language:e.snippetListEntry.snippet.language}))},createSnippetConfig:{viaInput:{placeholder:"Paste Code ...",bootstrap:function(e){return e}},viaButton:{label:"Code",bootstrap:function(){return""}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorReader=void 0;var s=a(n(1));n(188),n(316);var u=a(n(31)),c=n(67),l=n(189),d=n(12),p=n(108),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.highlight=function(){var e;if(null===(e=this.refs)||void 0===e?void 0:e.codeBlock){var t=this.refs.codeBlock;setTimeout((function(){u.colorize([t])}),10)}},t.prototype.componentDidMount=function(){this.highlight()},t.prototype.componentDidUpdate=function(){this.highlight()},t.prototype.shouldComponentUpdate=function(e){return c.shouldComponentUpdateForSnippet(this.props,e)},t.prototype.render=function(){var e=p.getMimeTypeForLanguage(this.props.language);return s.default.createElement("div",{className:"cm-s-"+l.getCodeMirrorThemeByName(this.context)},s.default.createElement("pre",{ref:"codeBlock","data-lang":e},this.props.content))},t.contextType=d.ThemeContext,t}(s.Component);t.CodeMirrorReader=f},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modeInfo=void 0;for(var r=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}],i=0;i<r.length;i++){var o=r[i];o.mimes&&(o.mime=o.mimes[0])}t.modeInfo=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorWriter=void 0;var s=a(n(1));n(319),n(320),n(321),n(322),n(329);var u=n(330),c=n(189),l=n(108),d=function(e){function t(t){var n=e.call(this,t)||this;return n.language=n.props.language,t.toolbarEvents.publishCurrentLanguage(n.language),n}return r(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){e.language!==this.props.language&&this.setLanguage(this.props.language)},t.prototype.componentWillUnmount=function(){this.cm.toTextArea()},t.prototype.initialize=function(){var e=this,t=l.getMimeTypeForLanguage(this.language),n=function(e){return function(t){return e&&e(t.getValue())}},r=n(this.props.onChange),i=n(this.props.onBlur),o=n(this.props.onFocus);this.cm=u.initEditorView({element:this.refs.textarea,content:this.props.content,mode:t,onChange:r,onBlur:i,onFocus:o,onCursor:function(t){return e.props.onCursor&&e.props.onCursor(t)},theme:c.getCodeMirrorThemeByName(this.props.settings.themeName),onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards})},t.prototype.getValue=function(){return this.cm.getValue()},t.prototype.setValue=function(e){this.cm.setValue(e)},t.prototype.setLanguage=function(e){this.language=e,this.cm.toTextArea(),this.initialize()},t.prototype.focusEnd=function(){this.cm.focus(),this.cm.execCommand("goDocEnd")},t.prototype.focusStart=function(){this.cm.focus(),this.cm.execCommand("goDocStart")},t.prototype.focus=function(){this.focusStart()},t.prototype.render=function(){return s.default.createElement("div",{className:"CodeMirrorWriter-editor-container"},s.default.createElement("textarea",{ref:"textarea"}))},t}(s.Component);t.CodeMirrorWriter=d},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(323),n(190),n(324),n(192),n(325),n(327),n(328)},,,,,,,function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.initEditorView=void 0;var a=o(n(31));n(331),n(332),n(333),n(334);var s=n(3);n(335),t.initEditorView=function(e){var t=e.element,n=e.content,r=e.mode,i=e.onChange,o=e.onBlur,u=e.onFocus,c=e.onCursor,l=e.theme,d=e.onEscape,p=e.onLeaveUpwards,f=a.fromTextArea(t,{lineNumbers:!0,lineWrapping:!0,scrollbarStyle:"native",mode:r,theme:l,scrollPastEnd:!0});return f.setValue(n),f.on("change",i),f.on("blur",o),f.on("focus",u),f.on("cursorActivity",c),f.addKeyMap({Esc:function(e){return d&&d()}}),f.on("keydown",(function(e,t){t.keyCode===s.KEY_CODES.UP_ARROW&&1===e.doc.sel.ranges.length&&e.doc.sel.ranges[0].anchor===e.doc.sel.ranges[0].head&&0===e.doc.sel.ranges[0].anchor.line&&0===e.doc.sel.ranges[0].anchor.ch&&p&&p()})),f}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1));n(337);var u=n(109),c=n(108),l=[s.default.createElement("option",{key:"empty",value:""})].concat(c.supportedCodeLanguages.map((function(e){return s.default.createElement("option",{key:e,value:e},e)}))),d=function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=n.handleChange.bind(n),n.state={selectedLanguage:void 0},n.subscriptions=[];var r=n.props.toolbarEvents.subscribeForCurrentLanguage((function(e){return n.setState({selectedLanguage:e})}));return r&&n.subscriptions.push(r),n}return r(t,e),t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){return e()}))},t.prototype.handleChange=function(e){var t=e.target.value;this.setState({selectedLanguage:t}),this.props.toolbarEvents.publishCurrentLanguageChange(t)},t.prototype.render=function(){return s.default.createElement(u.ToolbarItemGroup,null,s.default.createElement(u.ToolbarItem,null,s.default.createElement(u.ToolbarIcon,{iconName:"format-bold"})),s.default.createElement(u.ToolbarItem,null,s.default.createElement("div",{className:"Autocomplete-shadow-panel"}),s.default.createElement("select",{className:"CodeMirror-toolbar-language-select",value:this.state.selectedLanguage,onChange:this.handleChange},l)))},t}(s.Component);t.Toolbar=d},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextPlugin=t.LANGUAGE=void 0;var o=i(n(1)),a=n(49),s=n(343),u=n(366),c=n(110),l=n(147),d=n(67),p="RichText Plugin";function f(e){var t=new Array;return a.initDoc(a.completeSchema,e.snippet.content).descendants((function(n){t=(t=t.concat(function(e,t){return e.type===a.completeSchema.nodes.code_block?[{pluginName:p,type:"code block",content:e.textContent,textContent:e.textContent,searchableString:e.textContent.toUpperCase(),original:t}]:[]}(n,e))).concat(function(e,t){var n=e.isText&&e.marks&&e.marks.find((function(e){return e.type===a.completeSchema.marks.link}));return n?[{pluginName:p,type:"link",content:{label:n.attrs.label||n.attrs.href,href:n.attrs.href},textContent:n.attrs.href,searchableString:(n.attrs.label+" "+n.attrs.href).toUpperCase(),original:t}]:[]}(n,e))})),t}t.LANGUAGE="richtext";t.RichTextPlugin={name:p,language:t.LANGUAGE,icon:"mdi-text",editorClass:function(){return"SnippetEditor-richtext-mode"},snippetListClass:function(){return"SnippetList-entry-type-richtext"},testExtension:function(e){return"rt"===e?t.LANGUAGE:null},testLanguage:function(e){return e===t.LANGUAGE},toPlaintext:function(e){return a.getTextFromDoc(a.initDoc(a.completeSchema,e))},fromPlaintext:function(e){return a.docJsonFromString(a.completeSchema,e)},bootstrap:function(e){return a.docJsonFromString(a.completeSchema,e)},produceFileMetaData:function(e){return l.produceFileMetaData(e.id,e.document.name,a.initDoc(a.completeSchema,e.document.content),t.LANGUAGE)},extractSubSnippets:function(e){return f(e)},renderSubSnippet:function(e){switch(e.type){case"code block":return o.default.createElement("pre",null,o.default.createElement("code",null,e.content));case"link":return o.default.createElement("a",{href:e.content.href},e.content.label)}},serialize:function(e){return d.serializeJson(e)},deserialize:function(e){return d.deserializeJson(e)},init:function(e){return a.initDoc(a.completeSchema,e)},reader:s.RichTextReader,writer:s.RichTextWriter,toolbar:u.Toolbar,listEntry:function(e){return o.default.createElement(c.DefaultListEntry,r({},e),o.default.createElement(s.RichTextReader,{content:e.snippetListEntry.snippet.content,name:e.snippetListEntry.snippet.name,language:e.snippetListEntry.snippet.language,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:{placeholder:"Paste Text ...",bootstrap:function(e){return a.docJsonFromString(a.completeSchema,e)}},viaButton:{label:"Note",bootstrap:function(){return a.docJsonFromString(a.completeSchema,"")}}},hasTooltip:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liftListItem=t.splitTodoListItem=void 0;var r=n(4),i=n(13);i.Transform.prototype.splitTodoListItem=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),a=r.Fragment.empty,s=r.Fragment.empty,u=o.depth,c=o.depth-t,l=t-1;u>c;u--,l--){a=r.Fragment.from(o.node(u).copy(a));var d=n&&n[l],p=d&&d.type||o.node(u).type;s=r.Fragment.from(d?p.create(d.attrs,s):o.node(u).copy(s))}return this.step(new i.ReplaceStep(e,e,new r.Slice(a.append(s),t,t,!0)))},t.splitTodoListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,u=o.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(s))return!1;var c=a.node(-1);if(c.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var l=r.Fragment.empty,d=a.index(-1)>0,p=a.depth-(d?1:2);p>=a.depth-3;p--)l=r.Fragment.from(a.node(p).copy(l));l=l.append(r.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(d?null:-1),a.after(-3),new r.Slice(l,d?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(d?3:2)))),n(f.scrollIntoView())}return!0}var m=s.pos==a.end()?c.contentMatchAt(a.indexAfter(-1)).defaultType:null,h=t.tr.delete(a.pos,s.pos),g=m&&[null,{type:m}];return!!i.canSplit(h.doc,a.pos,2,g)&&(0!==a.parentOffset&&(g=g||[]).push({attrs:{done:!1}}),n&&n(h.splitTodoListItem(a.pos,2,g).scrollIntoView()),!0)}},t.liftListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,u=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!u&&(!n||(a.node(u.depth-1).type==e?function(e,t,n,o){var a=e.tr,s=o.end,u=o.$to.end(o.depth);s<u&&(a.step(new i.ReplaceAroundStep(s-1,u,s,u,new r.Slice(r.Fragment.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new r.NodeRange(a.doc.resolve(o.$from.pos),a.doc.resolve(u),o.depth));return t(a.lift(o,i.liftTarget(o)).scrollIntoView()),!0}(t,n,e,u):function(e,t,n){for(var o=e.tr,a=n.parent,s=n.end,u=n.endIndex-1,c=n.startIndex;u>c;u--)s-=a.child(u).nodeSize,o.delete(s-1,s+1);var l=o.doc.resolve(n.start),d=l.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,m=l.node(-1),h=l.index(-1);if(!m.canReplace(h+(p?0:1),h+1,d.content.append(f?r.Fragment.empty:r.Fragment.from(a))))return!1;var g=l.pos,v=g+d.nodeSize;return o.step(new i.ReplaceAroundStep(g-(p?1:0),v+(f?1:0),g+1,v-1,new r.Slice((p?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))).append(f?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(o.scrollIntoView()),!0}(t,n,u)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendReminderNode=void 0,t.appendReminderNode=function(e){var t={inline:!0,attrs:{expression:{},date:{},repeatDescription:{default:void 0},createdAt:{}},group:"inline",draggable:!0,parseDOM:[{tag:"reminder",getAttrs:function(e){var t=e.getAttribute("repeatDescription");return{expression:e.getAttribute("expression"),date:parseInt(e.getAttribute("date")),repeatDescription:t?JSON.parse(t):void 0,createdAt:parseInt(e.getAttribute("createdAt"))}}}],toDOM:function(e){return["reminder",{expression:e.attrs.expression,date:e.attrs.date,repeatDescription:e.attrs.repeatDescription?JSON.stringify(e.attrs.repeatDescription):void 0,createdAt:e.attrs.createdAt}]}};return e.append({reminder:t})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextWriter=t.RichTextReader=void 0;var u=s(n(1)),c=n(196),l=n(206),d=n(49),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement(c.ProseMirrorReader,i({schema:d.completeSchema},this.props))},t}(u.Component);t.RichTextReader=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.focus=function(){this.refs.editor.focus()},t.prototype.findOccurences=function(e){return this.refs.editor.findOccurences(e)},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.render=function(){return u.default.createElement(l.ProseMirrorWriter,i({schema:d.completeSchema,uploadFile:this.props.uploadFile},this.props,{ref:"editor"}))},t}(u.Component);t.RichTextWriter=f},,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageView=void 0;var r=function(){function e(e,t,n){var r=document.createElement("span");r.style.position="relative",r.style.width=e.attrs.width,r.style.display="inline-block",r.style.lineHeight="0";var i=document.createElement("img");i.setAttribute("src",e.attrs.src),i.style.width="100%";var o=document.createElement("span");o.style.position="absolute",o.style.bottom="-5px",o.style.right="-5px",o.style.width="10px",o.style.height="10px",o.style.border="3px solid black",o.style.borderTop="none",o.style.borderLeft="none",o.style.display="none",o.style.cursor="nwse-resize",o.onmousedown=function(i){i.preventDefault();var o=i.pageX,a=parseFloat(getComputedStyle(r).fontSize),s=parseFloat(e.attrs.width.match(/(.+)em/)[1]),u=function(e){var t=(e.pageX-o)/a;r.style.width=s+t+"em"};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function i(o){o.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",i);var a=t.state.tr.setNodeMarkup(n(),null,{src:e.attrs.src,width:r.style.width}).setSelection(t.state.selection);t.dispatch(a)}))},r.appendChild(o),r.appendChild(i),this.dom=r,this.img=i,this.handle=o}return e.prototype.selectNode=function(){this.img.classList.add("ProseMirror-selectednode"),this.handle.style.display=""},e.prototype.deselectNode=function(){this.img.classList.remove("ProseMirror-selectednode"),this.handle.style.display="none"},e}();t.ImageView=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(4),o=n(46),a=n(39),s=n(13),u=function(e,t){return void 0===e&&(e=[]),e.some((function(e){return e===t}))},c=function(e,t,n,r,a,c){var l=r.index(r.depth-2),d=r.node(r.depth-2);if(t){if(0===l){var p=r,f=r.blockRange(p,(function(e){return e.childCount&&u(a,e.firstChild.type)})),m=f.end,h=f.$to.end(f.depth);m<h&&(n.step(new s.ReplaceAroundStep(m-1,h,m,h,new i.Slice(i.Fragment.from(a[0].create(null,f.parent.copy())),1,0),1,!0)),f=new i.NodeRange(n.doc.resolve(f.$from.pos),n.doc.resolve(h),f.depth));var g=s.liftTarget(f);return!!g&&(t(n=(n=(n=(n=n.lift(f,g)).join(n.mapping.map(r.pos-2))).join(n.mapping.map(r.pos-2))).scrollIntoView()),!0)}var v=d.child(l-1);return u(c,v.lastChild.type)?(o.sinkListItem(d.child(l).type)(e,t),!0):(t(n=(n=n.join(r.pos-2)).join(n.mapping.map(r.pos-2))),!0)}return!1};function l(e,t){return function(n,r){var i=n.selection.$cursor;if(!i)return!1;var o=0===i.parentOffset,a=u(e,i.node(-1).type),s=0===i.index(-1);if(!o||!a||!s)return!1;var l=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}(i);return(!u(t,l.nodeBefore.type)||l.parent===i.node(-1))&&c(n,r,n.tr,i,e,t)}}function d(e,t){return function(n,i){var o=n.selection.$cursor;if(!o)return!1;var a=o.parentOffset===o.parent.nodeSize-2,s=u(e,o.node(-1).type);if(!a||!s)return!1;var l=function(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}(o);if(!l)return!1;var d=u(e,l.nodeAfter.type),p=u(t,l.nodeAfter.type);if(!d&&(!p||l.parent!==o.node(-1)))return!1;var f=p?3:2,m=n.doc.resolve(l.pos+f),h=n.tr;return h=h.setSelection(r.Selection.near(m)),n=n.apply(h),c(n,i,h,m,e,t)}}t.buildKeyMap=function(e,t){var n=l(e,t),r=d(e,t);return a.keymap({Backspace:n,Delete:r})},t.eagerJoinBackward=l,t.eagerJoinForward=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeBlockView=void 0,n(350);var r=n(12),i=function(){function e(e,t,n){var i=document.createElement("pre");i.classList.add("CommonUI-delayedIconContainer");var o=document.createElement("code"),a=document.createElement("div");a.classList.add("CodeBlockView-handle"),a.classList.add("CommonUI-delayedIconWrapper"),a.setAttribute("contenteditable","false"),a.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),r.copyToClipboard(t.state.doc.nodeAt(n()).textContent),a.innerHTML="<i class='mdi mdi-check'></i>",setTimeout((function(){a.innerHTML="<i class='mdi mdi-clipboard-text-outline'></i>"}),1e3)})),a.innerHTML="<i class='mdi mdi-clipboard-text-outline'></i>",i.append(a),i.append(o),this.dom=i,this.contentDOM=o,this.handle=a}return e.prototype.ignoreMutation=function(e){return e.target===this.handle},e}();t.CodeBlockView=i},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollPastEndPlugin=void 0;var r=n(6),i=n(50);t.ScrollPastEndPlugin=new r.Plugin({state:{init:function(e,t){var n=document.createElement("div");n.style.height="100%",n.style.width="100%",n.style.cursor="text";var r=t.doc.nodeSize-2,o=i.Decoration.widget(r,n,{});return i.DecorationSet.empty.add(t.doc,[o])},apply:function(e,t){return t.map(e.mapping,e.doc)}},props:{decorations:function(e){return this.getState(e)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomParagraphView=void 0,n(353);var r=n(96),i=n(12),o=n(144),a=function(e,t,n){if("box"===e.attrs.type){var a=document.createElement("div");a.classList.add("CustomParagraph-box-outer");var s=document.createElement("p"),u=document.createElement("i");u.classList.add("mdi"),u.classList.add("mdi-"+r.itemIconNames["box"+i.capitalize(e.attrs.backgroundColor)]),u.classList.add("CustomParagraph-box-icon"),o.extractClasses(e).forEach((function(e){return a.classList.add(e)})),a.append(u),a.append(s),this.dom=a,this.contentDOM=s}};t.CustomParagraphView=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function o(e,t){if(0===t.length)return r(r({},e),{terminal:!0});var n=t[0],a=t.slice(1),s=e.children.find((function(e){return e.token.regexp===n.regexp}));return r(r({},e),s?{children:e.children.map((function(e){return e.token.regexp===n.regexp?o(s,a):e}))}:{children:i(i([],e.children),[o({token:n,children:[],terminal:!1},a)])})}Object.defineProperty(t,"__esModule",{value:!0}),t.compileTree=void 0,t.compileTree=function(e){return e.reduce((function(e,t){return o(e,t)}),{children:[],token:{regexp:new RegExp(""),interpret:function(e){return e}},terminal:!1})}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.grammarEn=void 0;var i=n(200),o=n(357),a=n(358);t.grammarEn=r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r([],a.atPatterns),a.inPatterns),i.expand(a.atPatterns,a.inPatterns)),i.expand(a.inPatterns,a.atPatterns)),a.onPatterns),i.expand(a.onPatterns,a.atPatterns)),i.expand(a.atPatterns,a.onPatterns)),i.expand(a.onPatterns,a.inPatterns)),i.expand(a.onPatterns,a.nextWeekPatterns)),i.expand(a.onPatterns,i.expand(a.nextWeekPatterns,a.atPatterns))),a.nextWeekPatterns),i.expand(a.nextWeekPatterns,a.atPatterns)),i.expand(a.atPatterns,a.nextWeekPatterns)),i.expand(a.nextWeekPatterns,i.expand(a.onPatterns,a.atPatterns))),i.expand(a.onPatterns,i.expand(a.inPatterns,a.atPatterns))),i.expand(a.atPatterns,i.expand(a.onPatterns,a.inPatterns))),i.expand(a.inPatterns,a.onPatterns)),a.nextPatterns),i.expand(a.nextPatterns,a.atPatterns)),i.expand(a.atPatterns,a.nextPatterns)),i.expand(a.tomorrowPatterns,a.atPatterns)),i.expand(a.tomorrowPatterns,a.inPatterns)),i.expand(a.tomorrowPatterns,i.expand(a.inPatterns,a.atPatterns))),o.everyPatterns),i.expand(o.everyPatterns,a.atPatterns)),i.expand(a.atPatterns,o.everyPatterns)),i.expand(o.everyPatterns,a.onPatterns)),i.expand(o.everyPatterns,i.expand(a.onPatterns,a.atPatterns)))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.everyPatterns=t.OF=t.THE=t.IN=t.AT=void 0;var o=n(200),a=n(113),s=n(201),u=function(e){return e};t.AT={regexp:s.AT_REGEX,interpret:u},t.IN={regexp:s.IN_REGEX,interpret:u},t.THE={regexp:s.THE_REGEX,interpret:u},t.OF={regexp:s.OF_REGEX,interpret:u};var c={regexp:s.TIME_UNIT_FOR_REPEAT_REGEX,interpret:function(e,t){var n;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,timeUnit:a.timeUnits.find((function(e){return e[0]===t.toLowerCase()}))[1]})})}},l={regexp:s.ARBITRARY_DIGITS_WITH_POSTFIXES_REGEX,interpret:function(e,t){var n=t[0];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:parseInt(n)})})}},d={regexp:s.ORDINALS_REGEX,interpret:function(e,t){return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:a.ordinals.findIndex((function(e){return e===t.toLowerCase()}))+1})})}},p={regexp:s.OTHER_REGEX,interpret:function(e){return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:2})})}},f={regexp:s.REPEATABLE_WEEKDAY_REGEX,interpret:function(e,t){var n;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{timeUnit:"week",frequency:(null===(n=e.repeatDescription)||void 0===n?void 0:n.frequency)||1,target:"and"===t.toLowerCase()?[]:[a.weekdays.indexOf(t.replace(",","").toLowerCase())]})})},canRepeat:!0},m={regexp:s.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:{type:"date-and-month",date:parseInt(n),month:parseInt(i)-1}})})}},h={regexp:s.DATE_DIGITS_REGEX,interpret:function(e,t){var n,i,o=t[0];return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:r(r({month:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(i=e.repeatDescription)||void 0===i?void 0:i.target:{}),{type:"date-and-month",date:parseInt(o)})})})}},g={regexp:s.SPELLED_MONTH_REGEX,interpret:function(e,t){var n,i;return r(r({},e),{repeatDescription:r(r({},e.repeatDescription),{frequency:1,timeUnit:"year",target:r(r({date:-1},"year"===(null===(n=e.repeatDescription)||void 0===n?void 0:n.timeUnit)?null===(i=e.repeatDescription)||void 0===i?void 0:i.target:{}),{type:"date-and-month",month:a.months.indexOf(t.toLowerCase())})})})}},v={regexp:s.EVERY_REGEX,interpret:u},y={regexp:s.MONTH_REGEX,interpret:function(e){return r(r({},e),{repeatDescription:{timeUnit:"month",frequency:1,target:{type:"nth-weekday",weekday:-1,n:-1}}})}},b=[[v,f],[v,l,f],[v,d,f],[v,p,f]],O=[[t.OF,t.THE,y]];t.everyPatterns=i(i(i([[v,c],[v,l,c],[v,d,c],[v,p,c]],b),o.expand(b,O)),[[v,m],[v,h,g],[v,h,t.OF,g],[v,g,h]])},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.tomorrowPatterns=t.nextWeekPatterns=t.nextPatterns=t.onPatterns=t.inPatterns=t.atPatterns=void 0;var i=n(113),o=n(201),a=function(e){return e},s={regexp:o.AT_REGEX,interpret:a},u={regexp:o.IN_REGEX,interpret:a},c={regexp:o.ON_REGEX,interpret:a},l={regexp:o.NEXT_REGEX,interpret:a},d={regexp:o.OF_REGEX,interpret:a},p={regexp:o.WEEK_REGEX,interpret:function(e){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{nextWeek:!0})})}},f={regexp:o.THE_REGEX,interpret:a},m={regexp:o.AM_OR_PM_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{timeOfDay:t.toUpperCase()})})}},h={regexp:o.TIME_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[2],o=t[4];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:parseInt(n),minutes:i?parseInt(i):0,seconds:o?parseInt(o):0})})}},g={regexp:o.TIME_DIGITS_AM_OR_PM_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:parseInt(n),minutes:0,seconds:0,timeOfDay:i.toUpperCase()})})}},v={regexp:o.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:i.wordToNumber[t.toLowerCase()],minutes:0,seconds:0})})}},y={regexp:o.NOON_MIDNIGHT_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{hours:"noon"===t.toLowerCase()?12:0,minutes:0,seconds:0})})}},b={regexp:o.SPELLED_TIME_OF_DAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{timeOfDay:"morning"===t.toLowerCase()?"AM":"PM"})})}},O={regexp:o.WEEKDAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{weekday:i.weekdays.indexOf(t.toLowerCase())})})}},_={regexp:o.WEEKDAY_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{weekday:i.weekdays.indexOf(t.toLowerCase()),nextWeekday:!0})})}},S={regexp:o.DAY_AND_MONTH_DIGITS_REGEX,interpret:function(e,t){var n=t[0],i=t[1];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{date:parseInt(n),month:parseInt(i)-1})})}},x={regexp:o.SPELLED_MONTH_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{month:i.months.indexOf(t.toLowerCase())})})}},E={regexp:o.DATE_DIGITS_REGEX,interpret:function(e,t){var n=t[0];return r(r({},e),{dateDescription:r(r({},e.dateDescription),{date:parseInt(n)})})}},j={regexp:o.TIME_UNIT_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shiftTimeUnit:i.timeUnits.find((function(e){return e[0]===t}))[1]})})}},w={regexp:o.TOMORROW_REGEX,interpret:function(e){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{tomorrow:!0})})}},P={regexp:o.ARBITRARY_DIGITS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shift:parseInt(t)})})}},D={regexp:o.SPELLED_NUMBERS_REGEX,interpret:function(e,t){return r(r({},e),{dateDescription:r(r({},e.dateDescription),{shift:i.wordToNumber[t.toLowerCase()]})})}};t.atPatterns=[[s,h],[s,v],[s,h,m],[s,g],[s,v,m],[s,h,u,f,b],[s,v,u,f,b],[s,y]],t.inPatterns=[[u,P,j],[u,D,j]],t.onPatterns=[[c,O],[c,S],[c,E,x],[c,E,d,x],[c,x,E]],t.nextPatterns=[[l,_]],t.nextWeekPatterns=[[l,p]],t.tomorrowPatterns=[[w]]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var o=n(78);function a(e){return{description:o.initDescription(),start:e,end:0,complete:!1}}function s(e){return{sequences:[],currentSequence:a(e)}}function u(e){return{currentNode:e,results:[],currentResult:s(-1)}}function c(e,t,n){var o=r(r({},e.currentResult),{sequences:i(i([],e.currentResult.sequences),-1===e.currentResult.currentSequence.start?[]:[e.currentResult.currentSequence])});return{acc:r(r({},e),{currentNode:n,results:i(i([],e.results),o.sequences.length>0?[o]:[]),currentResult:s(-1)}),currentTokenIndex:t}}function l(e,t,n,o){if(n>=t.length)return{acc:e,currentTokenIndex:n};var s=t[n].text,u=e.currentNode.children.filter((function(e){return e.token.regexp.test(s)}));if(e.currentNode.token.canRepeat&&e.currentNode.token.regexp.test(s)&&(u=i(i([],u),[e.currentNode])),0===u.length&&e.currentNode!==o){u=o.children.filter((function(e){return e.token.regexp.test(s)}));var d=c(e,n,o);e=d.acc}var p=u.map((function(s){return function(e,t,n,o){var s=t[n],u=s.start,c=s.end,d=s.text.match(e.currentNode.token.regexp),p=d[0],f=d.slice(1),m=r(r({},e.currentResult.currentSequence),{start:-1===e.currentResult.currentSequence.start?u:e.currentResult.currentSequence.start,end:c,description:e.currentNode.token.interpret(e.currentResult.currentSequence.description,0===f.length?p:f)});return e.currentNode.terminal?(m=r(r({},m),{complete:!0}),l(r(r({},e),{currentNode:e.currentNode,currentResult:r(r({},e.currentResult),{sequences:i(i([],e.currentResult.sequences),[m]),currentSequence:a(-1)})}),t,n+1,o)):l(r(r({},e),{currentNode:e.currentNode,currentResult:r(r({},e.currentResult),{currentSequence:m})}),t,n+1,o)}(r(r({},e),{currentNode:s}),t,n,o)})).map((function(e){return{result:e,completeSequences:e.acc.results.reduce((function(e,t){return e+t.sequences.filter((function(e){return e.complete})).length}),0),totalSequenceLength:e.acc.results.reduce((function(e,t){return e+t.sequences.reduce((function(e,t){return e+(t.end-t.start)}),0)}),0)}})).filter((function(e){return e.completeSequences>0})).sort((function(e,t){return t.totalSequenceLength-e.totalSequenceLength}));return p.length>0?p[0].result:c(e,n,o)}t.parse=function(e,t){var n="",r="",a=0,s=0;t+=" <stop> ";for(var c=[];a<t.length;)" "===(n=t.charAt(a))?""!==r&&(c.push({start:s,end:a,text:r}),r=""):(""===r&&(s=a),r=""+r+n),a++;for(var d=[],p=0;p<c.length;){var f=l(u(e),c,p,e),m=f.acc,h=f.currentTokenIndex;d=i(i([],d),m.results),p=h+1}return d.map((function(e){return e.sequences.reduce((function(e,t){if(t.complete){var n=e[0],r=e.slice(1);if(!n)return[t];if(!n.complete)return i([t],e);var a={description:o.mergeDescriptions(n.description,t.description),start:n.start,end:t.end,complete:!0};return i([a],r)}return i([t],e)}),[])})).flat()}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPlugin=t.tooltipPluginKey=void 0;var i=n(6);t.tooltipPluginKey=new i.PluginKey("tooltipPlugin");var o=function(){function e(e){this.tooltipOuter=document.querySelector(".TooltipPlugin-container"),this.update(e,null)}return e.prototype.update=function(e,n){if(this.tooltipOuter){var r=e.state;if(n){var i=t.tooltipPluginKey.getState(n),o=t.tooltipPluginKey.getState(r);i.mode!==o.mode&&("mouse"===o.mode?(this.tooltipOuter.classList.add("TooltipPlugin-container-mouse-active"),this.tooltipOuter.classList.remove("TooltipPlugin-container-keyboard-active")):(this.tooltipOuter.classList.add("TooltipPlugin-container-keyboard-active"),this.tooltipOuter.classList.remove("TooltipPlugin-container-mouse-active")))}if(!(n&&n.doc.eq(r.doc)&&n.selection.eq(r.selection))){var a=r.selection,s=a.from,u=a.to,c=e.coordsAtPos(s),l=e.coordsAtPos(u),d=this.tooltipOuter.offsetParent.getBoundingClientRect(),p=Math.max((c.left+l.left)/2,c.left);this.tooltipOuter.style.left=p-d.left+"px",this.tooltipOuter.style.bottom=d.bottom-c.top+"px"}}},e}();t.TooltipPlugin=new i.Plugin({key:t.tooltipPluginKey,state:{init:function(){return{mode:"keyboard"}},apply:function(e,n){var i=e.getMeta(t.tooltipPluginKey);return i?r(r({},n),{mode:i}):n}},view:function(e){return new o(e)},props:{handleDOMEvents:{keydown:function(e,n){"keyboard"!==t.tooltipPluginKey.getState(e.state).mode&&e.dispatch(e.state.tr.setMeta(t.tooltipPluginKey,"keyboard"))},mousemove:function(e,n){"mouse"!==t.tooltipPluginKey.getState(e.state).mode&&e.dispatch(e.state.tr.setMeta(t.tooltipPluginKey,"mouse"))}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReminderNodeView=void 0;var r=n(78),i=n(202),o=n(203),a=n(204),s=function(){function e(e,t,n){var r=this;this.timeout=0,this.interval=0,this.previousTimestamp=null,this.node=e;var i=document.createElement("reminder");i.setAttribute("date",""+e.attrs.date),i.setAttribute("createdAt",""+e.attrs.createdAt),i.setAttribute("expression",""+e.attrs.expression),e.attrs.repeatDescription&&i.setAttribute("repeatDescription",JSON.stringify(e.attrs.repeatDescription)),i.classList.add("Reminders-node"),this.dom=i,this.renderReminder(),this.interval=setInterval((function(){var e=Date.now();null!==r.previousTimestamp&&5500<e-r.previousTimestamp&&r.renderReminder(),r.previousTimestamp=e}),5e3)}return e.prototype.renderReminder=function(){this.node.attrs.repeatDescription?this.renderRepeatedReminder(this.node.attrs.repeatDescription):this.renderSingleReminder()},e.prototype.renderDate=function(e){var t=this.node.attrs.repeatDescription?'<i class="mdi mdi-repeat"></i> ':"";this.dom.innerHTML=""+t+o.renderDate(e)},e.prototype.renderRepeatedReminder=function(e){var t=a.nowWithLocaleHours(),n=r.compileNextRepeatDate(this.node.attrs.date,t,e),o=i.adjustByTimezoneOffset(n);this.renderDate(o),this.setTimeoutToRefreshView(o)},e.prototype.renderSingleReminder=function(){var e=i.adjustByTimezoneOffset(this.node.attrs.date);this.renderDate(e),this.setTimeoutToRefreshView(e)},e.prototype.setTimeoutToRefreshView=function(e){var t=this,n=Math.abs(e-Date.now()),i=n<r.timeUnitToMilliseconds.minute?Math.min(n,5*r.timeUnitToMilliseconds.second):n<2*r.timeUnitToMilliseconds.minute?30*r.timeUnitToMilliseconds.second:r.timeUnitToMilliseconds.minute;this.setSafeTimeout((function(){return t.renderReminder()}),i)},e.prototype.setSafeTimeout=function(e,t){clearTimeout(this.timeout),this.timeout=setTimeout(e,Math.min(t,2147483647))},e.prototype.destroy=function(){clearTimeout(this.timeout),clearInterval(this.interval)},e}();t.ReminderNodeView=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeUnitForDiff=void 0;var r=n(78),i=["second","minute","hour","day","week","month","year"];t.getTimeUnitForDiff=function(e){var t=i.findIndex((function(t){return Math.abs(e)<r.timeUnitToMilliseconds[t]}));return 0===t?i[0]:-1===t?i[i.length-1]:i[t-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReminderPluginKeymap=void 0;var r=n(39),i=n(205),o=n(365);t.makeReminderPluginKeymap=function(){return r.keymap({"Mod-Enter":i.insertReminder,Backspace:o.removeReminder})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeReminder=void 0,t.removeReminder=function(e,t){return!!e.selection.$cursor&&(!(!e.selection.$cursor.nodeBefore||"reminder"!==e.selection.$cursor.nodeBefore.type.name)&&(t&&t(e.tr.insertText(e.selection.$cursor.nodeBefore.attrs.expression,e.selection.$cursor.pos-1,e.selection.$cursor.pos)),!0))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(96),c=n(146),l={heading2:"ProseMirrorToolSet-action-button-heading-2",heading3:"ProseMirrorToolSet-action-button-heading-3",stickyBlue:"ProseMirrorToolSet-action-button-color-blue",stickyRed:"ProseMirrorToolSet-action-button-color-red",stickyYellow:"ProseMirrorToolSet-action-button-color-yellow",boxBlue:"ProseMirrorToolSet-action-button-color-blue",boxRed:"ProseMirrorToolSet-action-button-color-red",boxYellow:"ProseMirrorToolSet-action-button-color-yellow",colorBlue:"ProseMirrorToolSet-action-button-color-blue",colorRed:"ProseMirrorToolSet-action-button-color-red",colorYellow:"ProseMirrorToolSet-action-button-color-yellow",backgroundColorBlue:"ProseMirrorToolSet-action-button-color-blue",backgroundColorRed:"ProseMirrorToolSet-action-button-color-red",backgroundColorYellow:"ProseMirrorToolSet-action-button-color-yellow"},d=[["bold","italic","code","codeBlock"],["heading1","heading2","heading3","fontSizeSmall","fontSizeBig"],["bulletList","orderedList","todoList","liftItem","sinkItem","joinItem"],["colorBlue","colorRed","colorYellow","backgroundColorBlue","backgroundColorRed","backgroundColorYellow"],["quote","stickyBlue","stickyRed","stickyYellow","boxBlue","boxRed","boxYellow"],["textAlignmentCenter","textAlignmentRight","itemAlignmentCenter"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e],additionalClasses:l[e]}}))})),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:d,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=p},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListPlugin=void 0;var o=i(n(1)),a=n(49),s=n(97),u=n(369),c=n(379),l=n(380),d=n(110),p=n(147),f=n(211),m=n(67),h="todo";t.TodoListPlugin={name:"TodoList Plugin",language:h,icon:"mdi-checkbox-marked-circle-outline",editorClass:function(){return"SnippetEditor-todo-mode"},snippetListClass:function(){return"SnippetList-entry-type-todo"},testExtension:function(e){return"todo"===e?h:null},testLanguage:function(e){return e===h},toPlaintext:function(e){return a.getTextFromDoc(a.initDoc(s.schema,e))},fromPlaintext:function(e){return a.docJsonFromString(s.schema,e)},bootstrap:function(e){return a.docJsonFromString(s.schema,e)},produceFileMetaData:function(e){return p.produceFileMetaData(e.id,e.document.name,a.initDoc(s.schema,e.document.content),h)},extractSubSnippets:function(){return[]},renderSubSnippet:function(){return o.default.createElement("span",null,"n/a")},serialize:function(e){return m.serializeJson(e)},deserialize:function(e){return m.deserializeJson(e)},init:function(e){return a.initDoc(s.schema,e)},reader:c.TodoListReader,writer:u.TodoListWriter,toolbar:l.Toolbar,listEntry:function(e){return o.default.createElement(d.DefaultListEntry,r({},e),o.default.createElement(c.TodoListReader,{content:e.snippetListEntry.snippet.content,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:null,viaButton:{label:"Todos",bootstrap:function(){return f.makeDocJsonFromTodos([{text:""}])}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListWriter=void 0;var s=a(n(1)),u=n(208),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onSuggestPersist=function(e){this.props.onSuggestPersist&&this.props.onSuggestPersist(e)},t.prototype.focus=function(){this.refs.editor.setFocus()},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.render=function(){return s.default.createElement("div",{className:"TodoList-wrapper"},s.default.createElement(u.TodoList,{content:this.props.content,language:this.props.language,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),onSuggestPersist:this.onSuggestPersist.bind(this),isEditing:!0,onClick:this.props.onClick,toolbarEvents:this.props.toolbarEvents,onDragStart:this.props.onDragStart,onDragStop:this.props.onDragStop,ref:"editor",onEscape:this.props.onEscape,onLeaveUpwards:this.props.onLeaveUpwards}))},t}(s.Component);t.TodoListWriter=c},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBox=void 0;var s=a(n(1)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement("button",{className:"TodoList-checkbox",onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},s.default.createElement("i",{className:"mdi mdi-crop-square TodoList-checkbox-open-indicator"}),s.default.createElement("i",{className:"mdi mdi-check TodoList-checkbox-done-indicator"}))},t}(s.Component);t.CheckBox=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorField=void 0;var s=a(n(1)),u=n(50),c=n(6),l=n(39),d=n(209),p=n(112),f=n(210),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidUpdate=function(e){if(e.todo!==this.props.todo){var t=f.buildDiffTr(this.props.todo,this.editorView.state,this.editorView.state.tr);t&&this.editorView.dispatch(t)}},t.prototype.componentDidMount=function(){var e=this,t=function(t){return e.editorView.state.selection.$cursor&&e.editorView.state.selection.$cursor.pos===t},n=this.props.todo,r=c.EditorState.create({doc:n,plugins:[d.buildCustomInputRules(),this.props.historyPlugin,l.keymap({Enter:function(){return e.props.onEnter&&e.props.onEnter()},Escape:function(){return e.props.onEscape&&e.props.onEscape()},Backspace:function(){return e.props.onBackspace&&e.props.onBackspace()},ArrowDown:function(){t(e.editorView.state.doc.nodeSize-2)&&e.props.onArrow&&e.props.onArrow("down")},ArrowUp:function(){t(0)&&e.props.onArrow&&e.props.onArrow("up")},"Mod-b":function(){return e.props.onToggleBold&&e.props.onToggleBold()},"Mod-i":function(){return e.props.onToggleItalic&&e.props.onToggleItalic()},"Mod-Enter":function(){return e.props.onInsertHardBreak&&e.props.onInsertHardBreak()}}),p.HighlightPlugin]});this.editorView=new u.EditorView(this.input,{state:r,dispatchTransaction:function(t){var n=e.editorView.state.applyTransaction(t),r=n.state,i=n.transactions;e.editorView.updateState(r),t.getMeta("fromOutside")||e.props.onInnerTransaction(i,r.selection)},handleDOMEvents:{blur:function(t,n){e.props.onBlur&&e.props.onBlur(n)},focus:function(t,n){e.props.onFocus&&e.props.onFocus(n,t.state.selection)}},handleKeyDown:function(e,t){if("Backspace"===t.key){var n=e.state.selection.$cursor;n&&0===n.parentOffset&&t.preventDefault()}}}),!this.props.readonly&&this.props.shouldFocus&&this.focus(this.props.cursorPosition)},t.prototype.componentWillUnmount=function(){this.editorView.destroy()},t.prototype.focus=function(e){var t=this;this.editorView.dispatch(this.editorView.state.tr.setSelection(c.Selection.near(this.editorView.state.doc.resolve(e)))),setTimeout((function(){t.editorView.focus()}))},t.prototype.findOccurences=function(e){return p.findOccurences(this.editorView.state.doc,e)},t.prototype.highlightOccurences=function(e){p.highlightOccurences(this.editorView,e)},t.prototype.getDimensions=function(){return this.input.getBoundingClientRect()},t.prototype.coordsAtPos=function(e){return this.editorView.coordsAtPos(e)},t.prototype.render=function(){var e=this;return this.props.readonly?s.default.createElement("div",{className:"TodoList-entry-input-field",ref:function(t){return e.input=t},spellCheck:!1}):s.default.createElement("div",{id:"todoListEntry-"+this.props.index,className:"TodoList-entry-input-field",ref:function(t){return e.input=t}})},t}(s.Component);t.ProseMirrorField=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertHardBreak=t.toggleItalic=t.toggleBold=void 0;var r=n(16),i=n(97);t.toggleBold=r.toggleMark(i.schema.marks.strong),t.toggleItalic=r.toggleMark(i.schema.marks.em);t.insertHardBreak=function(e,t){return t(e.tr.replaceSelectionWith(i.schema.nodes.hard_break.create()).scrollIntoView()),!0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveList=void 0;var u=s(n(1)),c=n(3);function l(e){return e.filter((function(e){return null!==e})).map((function(e){return e.getBoundingClientRect().height}))}function d(e){return e.collapsible}function p(e){return e.hidden}function f(e){return e.reduce((function(e,t){return e+t.items.length}),0)+e.length}function m(e,t){return function(t){for(var n=0,r=0,i=0,o=0;o<e.length;o++){if(p(e[o])||(n+=e[o].items.length),d(e[o])&&(i+=1),t<n+i)return t-i+r;p(e[o])&&(r+=e[o].items.length)}}}n(375);var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragState:null,subLists:t.subLists},n.entryRefs=[],n.onDragHandleMouseUp=n.onDragHandleMouseUp.bind(n),n.onDragHandleTouchEnd=n.onDragHandleTouchEnd.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDragStop=n.onDragStop.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t,n=this;if(!e.doAnimation&&this.props.doAnimation){var r=f(this.props.subLists)-f(e.subLists)===-1,i=(t=r?e.subLists:this.props.subLists,this.state,function(e){for(var n=e.index,r=e.listName,i=0,o=0,a=0,s=0;s<t.length;s++){if(p(t[s])||(i+=t[s].items.length),d(t[s])&&(a+=1),n<=i&&r===t[s].name)return n+a-o;p(t[s])&&(o+=t[s].items.length)}return i+t.length}),o=i(this.props.doAnimation.from),a=i(this.props.doAnimation.to),s=c.prepareListDragStateForAnimation(l(this.entryRefs),o,a);this.setState({dragState:s,subLists:this.props.subLists})}else e.doAnimation&&!this.props.doAnimation?setTimeout((function(){n.setState({dragState:null,subLists:n.props.subLists})}),50):e.resetDragState||!0!==this.props.resetDragState?e.subLists!==this.props.subLists&&this.setState({subLists:this.props.subLists}):this.setState({dragState:null,subLists:this.props.subLists})},t.prototype.onDragStop=function(){var e,t,n=m(this.state.subLists,this.state),r=this.state.dragState.originalIndex-this.state.dragState.targetIndex,i=function(e,t,n,r){for(var i=0,o=e-t,a=o>0,s=o<0,u=0;u<n.length;u++)if(d(n[u])&&(i+=1),p(n[u])||(i+=n[u].items.length),t===i){if(a&&d(n[u+1]))return n[u].name;if(s)return n[u+1].name}return!1}(this.state.dragState.originalIndex,this.state.dragState.targetIndex,this.state.subLists,this.state),o=r>0&&i?1:0,a=n(this.state.dragState.originalIndex),s=(null!==(e=n(this.state.dragState.targetIndex))&&void 0!==e?e:0)+o;t=i?{from:a,to:s,newList:i}:{from:a,to:s},this.props.onDrag&&this.props.onDrag(t),this.props.onDragStop&&this.props.onDragStop()},t.prototype.onDragHandleMouseUp=function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp),document.removeEventListener("mousemove",this.onMouseMove),this.onDragStop()},t.prototype.onDragHandleTouchEnd=function(){document.removeEventListener("touchend",this.onDragHandleTouchEnd),document.removeEventListener("touchmove",this.onTouchMove),this.onDragStop()},t.prototype.onDrag=function(e){var t=c.onListDrag(e,this.state.dragState);this.setState({dragState:t})},t.prototype.onMouseMove=function(e){e.preventDefault(),this.onDrag(e.clientY)},t.prototype.onTouchMove=function(e){var t=e.touches[0].clientY;this.onDrag(t)},t.prototype.onDragStart=function(e,t){var n=l(this.entryRefs);this.setState({dragState:i(i({},this.state.dragState),c.onStartListDrag(e,n,t,0))}),this.props.onDragStart&&this.props.onDragStart()},t.prototype.onDragHandleMouseDown=function(e,t){this.onDragStart(e,t.clientY),document.addEventListener("mouseup",this.onDragHandleMouseUp),document.addEventListener("mousemove",this.onMouseMove)},t.prototype.onDragHandleTouchStart=function(e,t){var n=t.touches[0].clientY;this.onDragStart(e,n),document.addEventListener("touchend",this.onDragHandleTouchEnd),document.addEventListener("touchmove",this.onTouchMove)},t.prototype.renderDragHandle=function(e){return u.default.createElement("i",{className:"TodoList-drag-handle mdi mdi-drag",onMouseDown:this.onDragHandleMouseDown.bind(this,e),onTouchStart:this.onDragHandleTouchStart.bind(this,e)})},t.prototype.maybeRenderDragPosition=function(e){return this.state.dragState?{top:c.getListDragOffset(e,this.state.dragState)}:{top:0}},t.prototype.renderSubList=function(e,t,n,r,i,o){var a=this;return t.map((function(s,c){var l,d=c+n,p=s.attrs.index,f=d+"-"+p+"-"+t.length+"-"+r,m=["InteractiveList-item"];return o&&m.push("InteractiveList-item-hidden"),(null===(l=a.state.dragState)||void 0===l?void 0:l.originalIndex)===d&&m.push("InteractiveList-dragged-item"),u.default.createElement("div",{key:f,className:m.join(" "),style:a.maybeRenderDragPosition(d),ref:function(e){return!o&&(a.entryRefs[d]=e)}},a.renderDragHandle(d),a.props.renderItem(s,i(d),e,a.state.dragState))}))},t.prototype.onSpacerClick=function(e){this.props.onSpacerClick&&this.props.onSpacerClick(e)},t.prototype.renderSpacer=function(e,t,n){var r=this,i=["InteractiveList-spacer"];return n&&i.push("InteractiveList-spacer-hidden"),u.default.createElement("div",{onClick:this.onSpacerClick.bind(this,t),key:"spacer-"+e+"-"+t,style:this.maybeRenderDragPosition(e),className:i.join(" "),ref:function(t){return r.entryRefs[e]=t}},t,u.default.createElement("i",{className:"mdi mdi-chevron-down"}))},t.prototype.render=function(){var e,t=this,n=f(this.state.subLists),r=m(this.state.subLists,this.state),i=0,o=[];this.state.subLists.forEach((function(e){var a=e.name,s=e.items,u=e.hidden;e.collapsible&&(o=o.concat([t.renderSpacer(0+i,a,u)]),i+=1),o=o.concat(t.renderSubList(a,s,i,n,r,u)),u||(i+=s.length)}));var a=[];return(null===(e=this.state.dragState)||void 0===e?void 0:e.isDragging)&&a.push("InteractiveList-dragging"),u.default.createElement("div",{className:a.join(" ")},o)},t}(u.Component);t.InteractiveList=h},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AllDoneHeader=void 0;var s=a(n(1));n(377);var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasExpanded:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout((function(){return e.setState({hasExpanded:!0})}))},t.prototype.render=function(){var e=["AllDoneHeader"];return this.state.hasExpanded&&e.push("AllDoneHeader-expanded"),s.default.createElement("div",{className:e.join(" ")},s.default.createElement("div",{className:"InteractiveList-item"},s.default.createElement("i",{className:"TodoList-drag-handle mdi mdi-drag"}),s.default.createElement("span",{className:"TodoList-entry TodoList-entry-open"},s.default.createElement("button",{className:"TodoList-checkbox"},s.default.createElement("i",{className:"mdi mdi-crop-square TodoList-checkbox-open-indicator"})),s.default.createElement("div",{className:"TodoList-entry-input-field",onClick:this.props.onClick},"Add todo ..."),s.default.createElement("span",{className:"TodoList-entry-delete-button"},s.default.createElement("span",{className:"Buttons-basic-button"},s.default.createElement("i",{className:"mdi mdi-close Buttons-15"}))))))},t}(s.Component);t.AllDoneHeader=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeProseMirrorStateFromSerializedDocJson=t.makeProseMirrorStateFromTodos=t.makeProseMirrorStateFromDoc=t.buildCustomHistoryPlugin=void 0;var r=n(42),i=n(39),o=n(6),a=n(111),s=n(97),u=n(49),c=n(211);function l(e){var t=r.history();return{proseMirrorState:o.EditorState.create({doc:e,plugins:[t,a.makeAnchorPlugin(s.schema,t)]}),historyPluginKey:t.key}}t.buildCustomHistoryPlugin=function(e){return i.keymap({"Mod-z":function(){return r.undo(e.state.proseMirrorState,e.dispatch)},"Mod-y":function(){return r.redo(e.state.proseMirrorState,e.dispatch)}})},t.makeProseMirrorStateFromDoc=l,t.makeProseMirrorStateFromTodos=function(e){return l(u.initDoc(s.schema,c.makeDocJsonFromTodos(e)))},t.makeProseMirrorStateFromSerializedDocJson=function(e){return l(u.initDoc(s.schema,e))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TodoListReader=void 0;var u=s(n(1)),c=n(208),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return this.props.trim?u.default.createElement("div",null,this.props.fileMeta.trimmedBody):u.default.createElement("div",{className:"TodoList-wrapper"},u.default.createElement(c.TodoList,i({todos:this.props.content.todos,isEditing:!1},this.props)))},t}(u.Component);t.TodoListReader=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(96),c=n(146),l=[["bold","italic","code"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e]}}))})),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:l,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostItPlugin=void 0;var o=i(n(1)),a=n(382),s=n(384),u=n(110),c=n(212),l=n(49),d=n(147),p=n(67),f="sticky";function m(e){return{color:"blue",doc:l.docJsonFromString(c.postItSchema,e)}}t.PostItPlugin={name:"PostIt Plugin",language:f,icon:"mdi-square",editorClass:function(e){return"SnippetEditor-postit-mode PostIt-color-"+e.content.color},snippetListClass:function(e){return"SnippetList-entry-type-postit PostIt-color-"+e.content.color},testExtension:function(e){return"sticky"===e?f:null},testLanguage:function(e){return e===f},toPlaintext:function(e){return l.getTextFromDoc(l.initDoc(c.postItSchema,e.doc))},fromPlaintext:function(e){return m(e)},bootstrap:m,produceFileMetaData:function(e){return d.produceFileMetaData(e.id,e.document.name,l.initDoc(c.postItSchema,e.document.content.doc),f)},extractSubSnippets:function(){return[]},renderSubSnippet:function(){return o.default.createElement("span",null,"n/a")},serialize:function(e){return p.serializeJson(e)},deserialize:function(e){return p.deserializeJson(e)},init:function(e){return r(r({},e),{doc:l.initDoc(c.postItSchema,e.doc)})},reader:a.PostItReader,writer:a.PostItWriter,toolbar:s.Toolbar,listEntry:function(e){return o.default.createElement(u.DefaultListEntry,r({},e),o.default.createElement(a.PostItReader,{content:e.snippetListEntry.snippet.content,fileMeta:e.snippetListEntry.metaData,trim:!0}))},createSnippetConfig:{viaInput:null,viaButton:{label:"Sticky",bootstrap:function(){return m("")}}},hasTooltip:!1}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PostItWriter=t.PostItReader=void 0;var u=s(n(1)),c=n(206),l=n(196);n(383);var d=n(212),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return u.default.createElement(l.ProseMirrorReader,i({schema:d.postItSchema},this.props,{content:this.props.content.doc}))},t}(u.Component);t.PostItReader=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setColor=function(e){this.props.onSuggestPersist({color:e})},t.prototype.focus=function(){this.refs.editor.focus()},t.prototype.findOccurences=function(e){return this.refs.editor.findOccurences(e)},t.prototype.onChangeQuery=function(e,t){return this.refs.editor.onChangeQuery(e,t)},t.prototype.onBlur=function(e){this.props.onBlur({doc:e})},t.prototype.onChange=function(e){this.props.onChange({doc:e})},t.prototype.onSuggestPersist=function(e){this.props.onSuggestPersist({doc:e})},t.prototype.render=function(){var e=this,t=d.POSTIT_COLORS.map((function(t){return u.default.createElement("span",{className:"PostIt-color-button PostIt-color-"+t+" "+(e.props.content.color===t?"PostIt-color-button-selected":"")+" ",key:t,onClick:e.setColor.bind(e,t)})}));return u.default.createElement(u.Fragment,null,u.default.createElement("div",{id:"ProseMirrorWriter-toolbar-container"}),u.default.createElement("div",{className:"PostIt-editor-wrapper"},u.default.createElement(c.ProseMirrorWriter,i({ref:"editor",schema:d.postItSchema},this.props,{content:this.props.content.doc,onBlur:this.onBlur.bind(this),onChange:this.onChange.bind(this),onSuggestPersist:this.onSuggestPersist.bind(this)}))),u.default.createElement("div",null,t))},t}(u.Component);t.PostItWriter=f},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=a(n(1)),u=n(96),c=n(146),l=[["bold","italic"]].map((function(e){return e.map((function(e){return{itemIdentifier:u.itemIdentifiers[e],itemIconName:u.itemIconNames[e]}}))})),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.default.createElement(c.ProseMirrorToolSet,{iconConfigs:l,toolbarEvents:this.props.toolbarEvents})},t}(s.Component);t.Toolbar=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSnippet=void 0;var i=n(95);t.createSnippet=function(e,t,n){return function(o){return r(r({},o),{store:i.createSnippet(o.store,e,t,n)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSnippet=void 0;var i=n(30),o=n(48);t.updateSnippet=function(e,t){return function(n){return r(r({},n),{store:o.save(n.store,e,t,i.isValid)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSnippetContent=void 0;var i=n(92),o=n(48),a=n(30);t.updateSnippetContent=function(e,t){return function(n){var s=i.get(n.store,e);if(!s)return n;var u="string"===typeof t?t:r(r({},s.document.content),t),c=r(r({},s.document),{content:u});return r(r({},n),{store:o.save(n.store,e,c,a.isValid)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.renameTag=void 0;var i=n(35);t.renameTag=function(e,t){return function(n){return r(r({},n),{store:i.renamePaths(n.store,e,t)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.addTag=void 0;var i=n(35);t.addTag=function(e,t){return function(n){return r(r({},n),{store:i.addTag(n.store,e,t)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.addTagToSnippet=void 0;var i=n(3),o=n(30),a=n(48),s=n(35);t.addTagToSnippet=function(e,t){return function(n){var u=n.derivedState.tagList.find((function(t){return i.isExactPath(t.tag.path,e)}));return u?r(r({},n),{store:a.save(n.store,u.metaData.id,s.addItem(u.tag,t),o.isValid)}):n}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setSnippetName=void 0;var i=n(30),o=n(48),a=n(392);t.setSnippetName=function(e,t){return function(n){var s,u=null===(s=n.derivedState.snippetList.find((function(t){return t.metaData.id===e})))||void 0===s?void 0:s.snippet;if(!u)return n;var c=a.changeFileName(u,t);return r(r({},n),{store:o.save(n.store,e,c,i.isValid)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.changeFileName=void 0;var i=n(59);t.changeFileName=function(e,t){var n=i.getPluginByLanguage(e.language);if(!n)throw"no plugin found!";var o,a,s,u=n.language,c=function(e,t,n){var r=e.split(".").pop();if(!r)return[t,t,n];var o=i.getPluginByExtension(r);return o?[o.testExtension(r),o.language,o]:[t,t,n]}(t,e.language,n),l=c[0],d=c[1],p=c[2];if(o=t,s=l,d===u)a=e.content;else{var f=n.toPlaintext(e.content);a=null===p||void 0===p?void 0:p.fromPlaintext(f)}return r(r({},e),{name:o,language:s,content:a})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTag=void 0;var i=n(35);t.deleteTag=function(e){return function(t){return r(r({},t),{store:i.deleteByPath(t.store,e)})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSync=void 0;var i=n(30),o=n(214),a=n(106),s=n(395),u=n(184),c=n(185);function l(e,t){return o.mergeStores(t.store.store,e.filter((function(e){return void 0!==e.payload.backup})).reduce((function(e,t){return a.saveSynced(e,t.payload.backup.id,t.payload.backup.document,i.isValid,{config:{permanent:u.getPermanent(t.payload.backup)},updatedAt:t.payload.backup.updatedAt})}),[]),(function(){return!0}),i.isValid).mergedStore}t.updateAfterSync=function(e){return function(t){var n=t;return n=r(r({},n),{store:s.updateAfterSyncSome(n.store,e,u.getPermanent,c.getUpdatedAt)}),n=r(r({},n),{store:r(r({},n.store),{store:l(e,n)})})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterSyncSome=void 0;var i=n(114),o=n(38),a=n(396),s=n(215);t.updateAfterSyncSome=function(e,t,n,u){return t.reduce((function(e,t){if(t.returnedId===i.DELETEABLE)return function(e,t){var n=o.del(e.store,t.originalId);return r(r({},e),{store:n})}(e,t);var c=o.get(e.store,t.originalId);if(!c)return e;var l=function(e,t,n){if(t.originalId===t.returnedId)return e;var i=r(r({},n),{id:t.returnedId}),a=r(r({},e),{store:o.save(e.store,i.id,i)});return a=r(r({},a),{store:o.del(a.store,t.originalId)}),s.setUpIdMapping(a,t.originalId,t.returnedId)}(e,t,c),d=a.saveAfterSync(l.store,t.returnedId,t.internalVersionBeforeUpdate,u(t.payload),n(t.payload,c.permanent));return r(r({},l),{store:d})}),e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.saveAfterSync=void 0;var i=n(38);t.saveAfterSync=function(e,t,n,o,a){var s=i.get(e,t);if(!s)return e;var u=s.internalVersion,c=n<u;return s=r(r({},s),{internalVersion:u+1,permanent:a||s.permanent,updatedAt:o}),s=r(r({},s),{dirty:c}),i.save(e,t,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAfterTagAction=void 0;var r=n(3),i=n(148),o=n(93),a=n(217),s=n(94);t.updateAfterTagAction=function(){return function(e){return r.pipe(e,a.initSnippetMetaDataStore(),i.compileSnippetList(),o.compileTagList(),s.setBlockNextSync(!1))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDocumentStore=void 0;var i=n(3),o=n(30),a=n(214),s=n(115),u=n(149);t.mergeDocumentStore=function(e){return function(t){var n=a.mergeStores(t.store.store,e.store,(function(e,t){return t.dirty||!1===e.dirty&&e.permanent.version<t.permanent.version}),o.isValid),c=n.mergedStore,l=n.changedIds,d=r(r({},t.store),{store:c}),p=r(r({},t),{store:d});return i.pipe(p,s.recompile(),u.withEffects({type:"snippetChanges",ids:l}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=void 0;t.setSettings=function(e){return function(t){var n=t;return n=r(r({},n),{settings:e})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.maybeOverrideNoopOrigins=void 0;var i=n(3),o=n(30),a=n(48),s=n(115);t.maybeOverrideNoopOrigins=function(e,t){return function(n){if("noop"===e&&"noop"!==t){var u=n;return u=r(r({},u),{store:u.store.store.reduce((function(e,n){return"noop"===n.item.permanent.origin?a.save(e,n.id,n.item.document,o.isValid,{updatedAt:new Date,config:{permanent:r(r({},n.item.permanent),{origin:t})}}):e}),u.store)}),i.pipe(u,s.recompile())}return n}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrigin=void 0;var i=n(63),o=n(402),a=n(3),s=n(216),u=n(115),c=n(94),l=n(149),d=n(218);t.changeOrigin=function(e,t){return function(n){var p=i.generateLocalId(),f=o.changeOrigin(n.store,e,p,t);if(!f)return a.pipe(n,d.withoutEffects());var m=f[0],h=f[1],g=f[2],v=r(r({},n),{store:m});switch(h.permanent.documentType){case"snippet":return a.pipe(v,s.maybeRewriteTagItems(),u.recompile(),c.setBlockNextSync(!1),l.withEffects({type:"changeSnippetOrigin",id:g}));case"tag":return a.pipe(v,u.recompile(),c.setBlockNextSync(!1),d.withoutEffects())}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrigin=void 0;var i=n(92),o=n(63),a=n(30),s=n(48),u=n(215);t.changeOrigin=function(e,t,n,c){var l=i.get(e,t);if(!l)return null;if(l.permanent.origin===c)return null;if(l.id===n)return null;if(l.id.startsWith(o.LOCAL_ID_PREFIX))return[d=s.save(e,l.id,l.document,a.isValid,{updatedAt:new Date,config:{permanent:r(r({},l.permanent),{origin:c})}}),l,l.id];var d=e;return d=s.save(d,l.id,l.document,a.isValid,{updatedAt:new Date,config:{permanent:r(r({},l.permanent),{obsolete:{state:!0,reason:"originSwitch",replacedBy:n}})}}),d=s.save(d,n,l.document,a.isValid,{updatedAt:new Date,config:{permanent:r(r({},l.permanent),{origin:c})}}),[d=u.setUpIdMapping(d,l.id,n),l,n]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDisplayMode=void 0;var i=n(35),o=n(3),a=n(93),s=n(94);t.updateDisplayMode=function(e,t){return function(n){var u=n;return u=r(r({},u),{store:i.updateDisplayMode(u.store,e,t)}),o.pipe(u,a.compileTagList(),s.setBlockNextSync(!1))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.markArchivedObsolete=void 0;var i=n(219),o=n(92),a=n(48),s=n(30);t.markArchivedObsolete=function(e){return function(t){var n=i.getIdsOfDeletableItems(t.store.store,e).reduce((function(e,t){var n=o.get(e,t);return n?a.save(e,t,n.document,s.isValid,{updatedAt:new Date,config:{permanent:r(r({},n.permanent),{obsolete:{state:!0,reason:"archived"}})}}):e}),t.store),u=t;return u=r(r({},u),{store:n})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.putSyncErrors=void 0;t.putSyncErrors=function(e){return function(t){var n=t;return n=r(r({},n),{syncErrors:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUpTagsAfterSnippetDeletion=void 0;var r=n(35),i=n(38),o=n(213);t.cleanUpTagsAfterSnippetDeletion=function(e){return function(t){return i.getAll(t.store.store).filter(r.isTag).filter((function(e){return"dashboard"===e.document.displayMode.type})).filter((function(t){return r.hasAnyItems(t.document,[e])})).map((function(t){return o.removeSnippetFromTag(e,t.id)})).reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSyncStateMessage=void 0;var r=n(1),i=n(150).makeDistinctElectronSend("setIsSyncing");t.useSyncStateMessage=function(e){r.useEffect((function(){"idle"===e.state.name?i(!1):i(!0)}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUpdateSettings=void 0;var r=n(1);t.useUpdateSettings=function(e,t){r.useEffect((function(){e({type:"setSettings",settings:{selectedTagPath:t.selectedTagPath,showOnlyDeleted:t.showOnlyDeleted,defaultOrigin:t.defaultOrigin}})}),[t.selectedTagPath,t.showOnlyDeleted,t.defaultOrigin])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useReminders=void 0;var r=n(1),i=n(3),o=n(410),a=n(412),s=n(220);t.useReminders=function(e,t){var n=s.useScheduledReminders(e.derivedState.snippetList),u=n[0],c=n[1],l=o.useReminderExecutionLog(t),d=l[0],p=l[1];a.useReminderNotifications(u,d,p),i.useInterval((function(){return c()}),s.ONE_HOUR_IN_MILLISECONDS),r.useEffect((function(){return c()}),[d])}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.useReminderExecutionLog=void 0;var a=n(1),s=n(3),u=n(220),c=function(){return new Promise((function(e){return e([])}))},l=function(){},d=function(e){var t=window.require("fs").promises;return function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t.readFile(e)];case 1:return[2,n.sent().toString().split(";").filter((function(e){return""!==e})).map((function(e){var t=e.split(","),n=t[0],r=t[1];return{reminderId:n,date:parseInt(r)}}))]}}))}))}},p=function(e){var t=window.require("fs").promises;return function(n,r){void 0===r&&(r=!1),t.writeFile(e,n.map((function(e){return e.reminderId+","+e.date})).join(";")+";",{flag:r?"w":"a"})}};function f(e,t){switch(t.type){case"append":var n=u.getEarliestPossibleReminderDate(t.now);return o(o([],e||[]),t.chunk).filter((function(e){var t=e.date;return n<t}))}}function m(e){var t=e[0];return function(e){return t?e.filter((function(e){return!t.find((function(t){return t.reminderId===e.reminder.id&&t.date===e.date}))})):[]}}t.useReminderExecutionLog=function(e){var t=a.useReducer(f,null),n=t[0],r=t[1],i=a.useMemo((function(){if(!e)return[c,l];var t=e+"/reminder-executions.log";return[d(t),p(t)]}),[e]),o=i[0],u=i[1];return a.useEffect((function(){n&&u(n,!0)}),[n]),s.useOnce((function(){o().then((function(e){return r({type:"append",chunk:e,now:Date.now()})})).catch((function(){r({type:"append",chunk:[],now:Date.now()})}))}),void 0!==e),[s.useFactory(m,[n],[]),a.useCallback((function(e,t){return r({type:"append",chunk:e,now:t})}),[])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareReminderIds=void 0;t.compareReminderIds=function(e,t){var n=e.id,r=t.id;return n.localeCompare(r)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useReminderNotifications=void 0;var i=n(1),o=n(3),a=n(413),s=n(202),u=n(203),c=a.makeShowNotification();function l(e,t){var n=e[0],r=t[0];return function(){var e=Date.now(),t=n.filter((function(t){return t.timezoneAwareDate<e}));t.forEach((function(e){return c({title:"Snip Reminder at "+u.renderTime(new Date(e.timezoneAwareDate)),body:e.reminder.text,silent:!1,actions:[]})})),t.length>0&&r(t.map((function(e){return{reminderId:e.reminder.id,date:e.date}})),e)}}t.useReminderNotifications=function(e,t,n){var a=i.useMemo((function(){return t(e).map((function(e){return r(r({},e),{timezoneAwareDate:s.adjustByTimezoneOffset(e.date)})}))}),[e,t]),u=o.useFactory(l,[a],[n]);o.useInterval(u,1e3)}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeShowNotification=void 0;var i=n(150),o=i.makeElectronSend("showNotification");t.makeShowNotification=function(){var e=new Array;return function(t){var n=Date.now(),i=n-1e4;(e=e.filter((function(e){return i<e}))).length<=3&&(o(t),e=r(r([],e),[n]))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useArchiveManager=void 0;var r=n(1),i=n(219),o=n(67);t.useArchiveManager=function(e,t){var n=o.ONE_WEEK;r.useEffect((function(){i.getIdsOfDeletableItems(e,n).length>0&&t({type:"markArchivedObsolete",timespanInMs:n})}),[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDirtyState=void 0;var r=n(1),i=n(91);t.useDirtyState=function(e){var t=r.useState(!1),n=t[0],o=t[1];return r.useEffect((function(){o(i.getAllDirties(e.store,(function(){return!0})).length>0)}),[e]),n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function a(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return t=n.sent(),[2,new Promise((function(e,n){t.ok?e(t.json()):n(t)}))]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.makeHttp=void 0,t.makeHttp=function(e,t){var n=this;return{get:function(n){var i={headers:new Headers(r({"If-Modified-Since":"Thu, 25 Oct 2012 15:16:27 GMT"},t))};return a(fetch(""+e+n,i))},post:function(n,r){var i={method:"POST",body:JSON.stringify(r),headers:new Headers(t)};return a(fetch(""+e+n,i))},patch:function(n,r){var i={method:"PATCH",body:JSON.stringify(r),headers:new Headers(t)};return a(fetch(""+e+n,i))},del:function(r){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n={method:"DELETE",headers:new Headers(t)},[4,fetch(""+e+r,n)];case 1:return i.sent(),[2,void 0]}}))}))}}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=t.isGistOriginError=void 0;var i=r(n(1)),o=n(418);t.isGistOriginError=function(e){return"gist"===e.origin},t.handleError=function(e,t){return 401===e.status?o.compileError("gist",t?i.default.createElement("strong",null,"gist document ",t.id):i.default.createElement("strong",null,"gist"),"Please provide an Access Token.",{status:401,original:e}):404===e.status?o.compileError("gist",null,"Please provide a Master Gist ID.",{status:404,original:e}):o.compileError("gist",null,"Unknown error.",{status:"unexpected",original:e})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.compileError=t.isOriginError=void 0;var i=r(n(1)),o=n(73);t.isOriginError=function(e){return!!e.isOriginError},t.compileError=function(e,t,n,r){return{isOriginError:!0,origin:e,description:i.default.createElement(o.SimpleErrorView,{title:t,description:n}),details:r}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.GistOriginSettingsPage=void 0;var s=o(n(1)),u=n(12),c=n(116),l=n(222),d=n(221);n(420);t.GistOriginSettingsPage=function(e){var t=s.useContext(c.OriginReadynessContext),n=s.useState(!1),r=n[0],i=n[1],o=u.useObject("dispatchSettings"),p=u.useObject("settings"),f=u.getOriginSettings(p,"gist",d.gistOriginConfig.defaultConfig);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"GistOriginSettingsPage-settings"},s.default.createElement("h2",null,"Token"),s.default.createElement("span",{className:"GistOriginSettingsPage-small-text"},"Create a personal access token in your github developer settings (use the gist scope) and paste it here:"),s.default.createElement("input",{className:a(["CommonUI-input CommonUI-input-with-border CommonUI-input-centered"],!1===t.ready&&t.reason===d.statusCodeToText[401]?["CommonUI-input-red"]:[]).join(" "),type:"password",value:f.token,onChange:function(e){return o({type:"setOriginSettings",origin:"gist",settings:{token:e.target.value}})}}),s.default.createElement("h2",null,"Master Gist Id"),s.default.createElement("span",{className:"GistOriginSettingsPage-small-text"},"Paste existing:"),s.default.createElement("input",{className:a(["CommonUI-input CommonUI-input-with-border CommonUI-input-centered"],!1===t.ready&&t.reason===d.statusCodeToText[404]?["CommonUI-input-red"]:[]).join(" "),value:f.masterGistId,onChange:function(e){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.target.value}})}}),s.default.createElement("button",{disabled:r,className:"CommonUI-button-without-border",onClick:function(){i(!0),l.createMasterGist(f.token).then((function(e){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:e.id}})})).catch((function(){return o({type:"setOriginSettings",origin:"gist",settings:{masterGistId:""}})})).finally((function(){i(!1)}))}},"or create one"),s.default.createElement("div",{className:"GistOriginSettingsPage-readyness"},!0===t.ready?"Success":!1===t.ready?t.reason:"Pending")))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeCloudBackend=void 0;var s=n(117),u=n(223),c=n(422),l=n(423),d=n(114),p=n(226),f=n(151),m=n(152),h=n(3),g=n(58),v=n(157);function y(e,t){return e.documentType===t}var b=function(e){return{id:e.id,version:e.version,updatedAt:new Date(e.updatedAt)}},O=function(e){if("tag"===e.documentType)return c.fromFetchTagDto;if("snippet"===e.documentType)return l.fromFetchSnippetDto;throw"snip-cloud: unable to process after fetch (invalid document type "+e.documentType+")"},_=function(e){return r(r({id:e.id},e.backup?{backup:{id:e.backup.id,document:O(e.backup)(e.backup.document),documentType:e.backup.documentType,version:e.backup.version,updatedAt:new Date(e.backup.updatedAt)}}:{}),{version:e.version,updatedAt:new Date(e.updatedAt)})},S=function(e){return{id:e.id,version:e.version,updatedAt:new Date(e.updatedAt)}},x=function(e){if(p.isWrapperOfType(e,"tag"))return c.toPushTagDto(e.id,e.document,e.permanent.version);if(p.isWrapperOfType(e,"snippet"))return l.toPushSnippetDto(e.id,e.document,e.permanent.version);throw"snip-cloud: unable to process before push (invalid document type "+e.permanent.documentType+")"},E=function(e,t){return{id:e.id,document:t(e.document),documentType:e.documentType,version:e.version,updatedAt:new Date(e.updatedAt)}},j=function(e){if(y(e,"tag"))return E(e,c.fromFetchTagDto);if(y(e,"snippet"))return E(e,l.fromFetchSnippetDto);throw"snip-cloud: unable to process after fetch (invalid document type "+e.documentType+")"},w=function(e){return function(t){return r(r({},t),{documentType:e})}},P=function(){function e(e,t,n){void 0===t&&(t=750),void 0===n&&(n=!0),this.rest=e,this.mutex=n?new u.BypassMutex:new u.Mutex,this.id={},this.lastFetchTimestamp=null,this.throttle=t}return e.prototype.update=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,8,9,11]),[4,this.mutex.getLockOn(this.id)];case 1:return o.sent(),f.shouldCreate(e)?(t=x(e),[4,this.rest.create(t)]):[3,3];case 2:return n=o.sent(),[2,h.pipe(n,b,w(e.permanent.documentType))];case 3:return m.shouldDelete(e)?[4,this.rest.delete(e.id,{document_type:e.permanent.documentType})]:[3,5];case 4:return n=o.sent(),[2,h.pipe(n,(s=d.DELETEABLE,function(e){return r(r({},e),{id:s})}),S,w(e.permanent.documentType))];case 5:return t=x(e),[4,this.rest.update(t)];case 6:return n=o.sent(),[2,h.pipe(n,_,w(e.permanent.documentType))];case 7:return[3,11];case 8:if(404===(i=o.sent()).status&&!0===e.permanent.obsolete.state)return[2,{id:d.DELETEABLE,documentType:e.permanent.documentType,version:e.permanent.version,updatedAt:e.updatedAt}];throw g.errorWithDetails(i,v.compilePushErrorDetails(i,e));case 9:return[4,(a=this.throttle,new Promise((function(e){return setTimeout(e,a)})))];case 10:return o.sent(),this.mutex.releaseLockOn(this.id),[7];case 11:return[2]}var a,s}))}))},e.prototype.processFetchResult=function(e){return this.lastFetchTimestamp=e.timestamp,e.resources.reduce((function(e,t){try{return r(r({},e),{results:a(a([],e.results),[j(t)])})}catch(n){return r(r({},e),{errors:a(a([],e.errors),[g.errorWithDetails(null,v.compileParseErrorDetails(t.id,t.documentType))])})}}),{results:[],errors:[]})},e.prototype.fetchAll=function(){return i(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.lastFetchTimestamp?(e=this.processFetchResult,[4,this.rest.index({timestamp:this.lastFetchTimestamp})]):[3,2];case 1:return[2,e.apply(this,[r.sent()])];case 2:return t=this.processFetchResult,[4,this.rest.index()];case 3:return[2,t.apply(this,[r.sent()])];case 4:return[3,6];case 5:throw n=r.sent(),g.errorWithDetails(n,v.compilePullErrorDetails(n));case 6:return[2]}}))}))},e}();t.makeCloudBackend=function(e){var t=new s.Rest(e);return new P(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toPushTagDto=t.fromFetchTagDto=void 0,t.fromFetchTagDto=function(e){return{path:e.path,archived:e.archived,displayMode:JSON.parse(e.display_mode)}},t.toPushTagDto=function(e,t,n){return{id:e,path:t.path,display_mode:JSON.stringify(t.displayMode),archived:t.archived,version:n,document_type:"tag"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toPushSnippetDto=t.fromFetchSnippetDto=void 0;var r=n(59);t.fromFetchSnippetDto=function(e){var t=r.getPluginByLanguage(e.language);if(!t)throw"no plugin found for language "+e.language;return{archived:e.archived,content:t.deserialize(e.content),language:e.language,name:e.name}},t.toPushSnippetDto=function(e,t,n){var i=r.getPluginByLanguage(t.language);if(!i)throw"no plugin found for language "+t.language;return{id:e,archived:t.archived,name:t.name,language:t.language,content:i.serialize(t.content),version:n,document_type:"snippet"}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkLoginState=void 0;var o=n(117);function a(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e,t){return new o.Rest("sessions").index().then((function(){return e(!0)})).catch((function(n){return 401===n.status?e(!1):t(n)}))}))]}))}))}t.checkLoginState=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a()];case 1:return e=n.sent(),t=!0,[3,3];case 2:return n.sent(),e=!1,t=!1,[3,3];case 3:return[2,[e,t]]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudOriginSettingsPage=void 0;var a=o(n(1)),s=n(12),u=n(231),c=n(232),l=n(233),d=n(234),p=n(224);t.CloudOriginSettingsPage=function(){var e=s.useObject("dispatchSettings"),t=a.useState("signin"),n=t[0],r=t[1],i=s.useObject("settings"),o=s.getOriginSettings(i,"cloud",p.cloudOriginConfig.defaultConfig);switch(n){case"signin":return a.default.createElement(l.SignInForm,{onClickSignUp:function(){return r("signup")},onClickForgotPassword:function(){return r("forgot-password")},onClickChangePassword:function(){return r("change-password")},onSubmit:function(){e({type:"setOriginSettings",origin:"cloud",settings:p.bumpCloudOriginToken(o)})}});case"signup":return a.default.createElement(d.SignUpForm,{onClickSignIn:function(){return r("signin")}});case"forgot-password":return a.default.createElement(c.ForgotPasswordForm,{onClickBack:function(){return r("signin")}});case"change-password":return a.default.createElement(u.ChangePasswordForm,{onClickBack:function(){return r("signin")}})}}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionService=void 0;var o=n(117),a=function(){function e(){this.rest=new o.Rest("sessions")}return e.prototype.login=function(e){var t=e.username,n=e.password;return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.create({email:t,password:n,remember_me:"true"})];case 1:return e.sent(),[2]}}))}))},e.prototype.logout=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.deleteAll()];case 1:return e.sent(),[2]}}))}))},e.prototype.waitForLogin=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.rest.index()];case 1:return[2,e.sent()]}}))}))},e}();t.SessionService=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.testDirectoryAccess=void 0;var o=n(58),a=n(72);t.testDirectoryAccess=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){if(!e)throw o.errorWithDetails(null,a.compileDirectoryNotAccessibleErrorDetails(e));t=window.require("fs").promises;try{return[2,t.writeFile(e+"/probe","probe").then((function(){return!0}))]}catch(r){throw o.errorWithDetails(r,a.compileDirectoryNotAccessibleErrorDetails(e))}return[2]}))}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FileOriginSettingsPage=void 0;var c=o(n(1)),l=n(12),d=n(74),p=n(116),f=n(236);n(430);t.FileOriginSettingsPage=function(){var e=c.useContext(p.OriginReadynessContext),t=l.useObject("dispatchSettings"),n=l.useObject("settings"),r=l.getOriginSettings(n,"file",f.fileOriginConfig.defaultConfig);return c.default.createElement("div",{className:"FileOriginSettingsPage-outer"},c.default.createElement("h2",null,"Location"),c.default.createElement("input",{className:u(["CommonUI-input CommonUI-input-centered CommonUI-input-with-border"],!1!==e.ready||e.reason!==f.DIRECTORY_NOT_ACCESSIBLE&&e.reason!==f.DIRECTORY_NOT_SPECIFIED?[]:["CommonUI-input-red"]).join(" "),value:r.fileLocation,onChange:function(e){return t({type:"setOriginSettings",origin:"file",settings:{fileLocation:e.target.value}})}}),c.default.createElement("button",{className:"CommonUI-button",onClick:function(){return a(void 0,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,d.getElectron().remote.dialog.showOpenDialog({title:"Choose Directory",properties:["openDirectory"]})];case 1:return(e=n.sent().filePaths[0])&&t({type:"setOriginSettings",origin:"file",settings:{fileLocation:e}}),[2]}}))}))}},"Choose Directory"),c.default.createElement("div",{className:"FileOriginSettingsPage-readyness"},!0===e.ready?"Success":!1===e.ready?e.reason:"Pending"))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileBackend=void 0;var o=n(229),a=n(228),s=n(227),u=n(151),c=n(152),l=n(114),d=n(158),p=n(58),f=(new Date).getTime();var m=function(){function e(e,t){var n=a.makeFileStorageFetcher(e,t);this.fetcher=function(){return n().catch((function(e){throw p.errorWithDetails(e,d.compilePullErrorDetails())}))};var r=s.makeFileStoragePusher(e,t,(function(e){return e.id}));this.pusher=function(e){return r({id:u.shouldCreate(e)?"FILE-"+f++:e.id,document:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}).catch((function(t){throw p.errorWithDetails(t,d.compilePushErrorDetails("save",e))}))};var i=o.makeFileStorageDeleter(e,t,(function(e){return e}));this.deleter=function(e){return i(e.id).catch((function(t){throw p.errorWithDetails(t,d.compilePushErrorDetails("delete",e))}))}}return e.prototype.update=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return c.shouldDelete(e)?[4,this.deleter(e).then((function(){return{id:l.DELETEABLE,resource:e.document,documentType:e.permanent.documentType,version:0,updatedAt:new Date}}))]:[3,2];case 1:return[2,t.sent()];case 2:return[4,this.pusher(e)];case 3:return[2,t.sent()]}}))}))},e.prototype.fetchAll=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetcher()]}))}))},e}();t.FileBackend=m},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.mockOriginConfig=void 0;var u=n(12),c=n(64);function l(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:switch(c.dataSetName){case"initial":return[3,1];case"empty":return[3,2];case"samples":return[3,4];case"quickAccess":return[3,6];case"error":return[3,8];case"delay":return[3,9];case null:return[3,10]}return[3,11];case 1:return[2,[]];case 2:return[4,Promise.resolve().then((function(){return o(n(433))}))];case 3:return[2,e.sent().data];case 4:return[4,Promise.resolve().then((function(){return o(n(434))}))];case 5:return[2,e.sent().data];case 6:return[4,Promise.resolve().then((function(){return o(n(441))}))];case 7:return[2,e.sent().data];case 8:throw"ouch!";case 9:return[2,new Promise((function(e){return setTimeout((function(){return e([])}),1e3)}))];case 10:return[2,[]];case 11:return[2]}}))}))}function d(){var e=this;return{update:function(t){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:if(function(e){var t=JSON.stringify({id:e.id,version:e.permanent.version,documentType:e.permanent.documentType,updatedAt:e.updatedAt,resource:e.document},null,2);window.copySnippet=function(){return u.copyToClipboard(t)},console.log("=============================================================="),console.log(e.permanent.documentType),console.log("==="),console.log(t),console.log("==============================================================")}(t),"error"===c.dataSetName)throw"oops!";return"delay"!==c.dataSetName?[3,2]:[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 1:e.sent(),e.label=2;case 2:return[2,{id:t.id,version:t.permanent.version,documentType:t.permanent.documentType,updatedAt:t.updatedAt}]}}))}))},fetchAll:function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e={},[4,l()];case 1:return[2,(e.results=t.sent(),e.errors=[],e)]}}))}))}}}t.mockOriginConfig={origin:"mock",backendFactory:function(){return d()},defaultConfig:{displayName:"Mock",enabled:!0},icon:"",settingsPage:null,checkReadyness:function(){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){return[2,{ready:!0}]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=n(237),o=r(r({},i.code),{document:r(r({},i.code.document),{archived:!0})}),a={id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),document:{path:["code"],displayMode:{type:"list",items:[]},archived:!0}};t.data=[o,a]},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=n(237),o=n(435),a=n(436),s=n(437),u=n(438),c=n(439),l=n(440);t.data=r([u.titles,a.paragraphs,o.lists,i.code,s.sticky,c.todo],l.tags)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lists=void 0,t.lists={id:"LOCAL-1609269681359",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:25:28.472Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Lists"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"one"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"two"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"three"}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"four"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"five"}]}]}]}]},{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"six"}]}]}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"mixed"}]},{type:"ordered_list",attrs:{order:1},content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]},{type:"todo_list",content:[{type:"todo_item",attrs:{done:!1},content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"with"}]},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"paragrah"}]},{type:"paragraph",attrs:{}},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"and"}]}]},{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"other"}]},{type:"bullet_list",content:[{type:"list_item",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"list"}]}]}]}]}]}]}]}]}]}]}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paragraphs=void 0,t.paragraphs={id:"LOCAL-1609102500129",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:10:25.695Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Paragraphs"}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"}]},{type:"paragraph",attrs:{}},{type:"code_block",content:[{type:"text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"quote",textAlignment:null,itemAlignment:null,backgroundColor:null},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"yellow"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"red"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]},{type:"paragraph",attrs:{}},{type:"paragraph",attrs:{type:"box",backgroundColor:"blue"},content:[{type:"text",text:"Lorem ipsum "},{type:"text",marks:[{type:"strong"}],text:"dolor sit amet"},{type:"text",text:", consectetur adipiscing elit, "},{type:"text",marks:[{type:"em"}],text:"sed do eiusmod"},{type:"text",text:" tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore magna aliqua"},{type:"text",text:". Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\xa0"},{type:"hard_break"},{type:"text",text:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sticky=void 0,t.sticky={id:"LOCAL-1609270318935",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:33:00.277Z"),document:{name:"Snippet: Sticky",content:{color:"blue",doc:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"Just a "},{type:"text",marks:[{type:"strong"}],text:"sticky note"},{type:"text",text:" with "},{type:"text",marks:[{type:"em"}],text:"formatting"},{type:"text",text:" in it."}]},{type:"paragraph"}]}},language:"sticky",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.titles=void 0,t.titles={id:"LOCAL-1609102182959",version:0,documentType:"snippet",updatedAt:new Date("2020-12-27T21:11:08.246Z"),document:{name:"",content:{type:"doc",content:[{type:"paragraph",attrs:{},content:[{type:"text",text:"Snippet: Titles"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Short title"}]},{type:"heading",attrs:{level:1},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Sub title"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]},{type:"paragraph",attrs:{}},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Sub sub title"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Really really really realy realy really really really really loooooooooooooooooooooong title"}]}]},language:"richtext",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.todo=void 0,t.todo={id:"LOCAL-1609270431703",version:0,documentType:"snippet",updatedAt:new Date("2020-12-29T19:35:08.944Z"),document:{name:"Snippet: Todo",content:{type:"doc",content:[{type:"paragraph",attrs:{index:1,status:"open"},content:[{type:"text",text:"one"}]},{type:"paragraph",attrs:{index:2,status:"open"},content:[{type:"text",text:"Lorem ipsum dolor sit amet, "},{type:"text",marks:[{type:"em"}],text:"consectetur"},{type:"text",text:" adipiscing elit, "},{type:"text",marks:[{type:"strong"}],text:"sed"},{type:"text",text:" do eiusmod tempor incididunt ut labore et "},{type:"text",marks:[{type:"code"}],text:"dolore"},{type:"text",text:" magna aliqua."}]},{type:"paragraph",attrs:{index:5,status:"open"},content:[{type:"text",text:"two"}]},{type:"paragraph",attrs:{index:4,status:"done"},content:[{type:"text",text:"four"}]},{type:"paragraph",attrs:{index:3,status:"done"},content:[{type:"text",text:"three"}]}]},language:"todo",archived:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tags=void 0,t.tags=[{id:"LOCAL-1609320427202",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:53.013Z"),document:{path:["code"],displayMode:{type:"list",items:[]},archived:!1}},{id:"LOCAL-1609320427201",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:27:51.957Z"),document:{path:["private"],displayMode:{type:"list",items:[]},archived:!1}},{id:"LOCAL-1609320427203",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:01.517Z"),document:{path:["code","web","javascript"],displayMode:{type:"list",items:[]},archived:!1}},{id:"LOCAL-1609320427204",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:05.613Z"),document:{path:["private","lists"],displayMode:{type:"list",items:[]},archived:!1}},{id:"LOCAL-1609320427206",version:0,documentType:"tag",updatedAt:new Date("2020-12-30T09:28:23.851Z"),document:{path:["code","web","ruby"],displayMode:{type:"list",items:[]},archived:!1}}]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0;var i=new Date,o=function(e){return{id:e,version:0,documentType:"snippet",updatedAt:i,document:{name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"code "+e+" code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code"}]}]},language:"richtext",archived:!1}}},a={id:"LOCAL-1609970873967",version:0,documentType:"snippet",updatedAt:i,document:{name:"",content:{type:"doc",content:[{type:"code_block",content:[{type:"text",text:"xyz"}]}]},language:"richtext",archived:!1}};t.data=[1,2,3,4,5].map((function(e){return[r({},(t=e+"-1",{id:t,version:0,documentType:"snippet",updatedAt:i,document:{name:"",content:"code "+t+" code code codeeeeee codeeeeeeee code code code code code codeeeeee codeeeeeeee code code codemore code more code\nmore code",language:"code",archived:!1}})),r({},o(e+"-2"))];var t})).flat().concat(a)},function(e,t,n){"use strict";function r(e){if("string"!==typeof e.id)throw"id must be of type string";if("tag"!==e.documentType&&"snippet"!==e.documentType)throw"documentType must be one of 'tag' | 'string' - received "+e.documentType}Object.defineProperty(t,"__esModule",{value:!0}),t.resourceConfigs=t.DOCUMENTS_RESOURCE=void 0,t.DOCUMENTS_RESOURCE="documents",t.resourceConfigs=[{resourceName:t.DOCUMENTS_RESOURCE,schemaEnforcer:function(e){r(e),e.backup&&r(e.backup)}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarEvents=void 0;var r=n(444),i=function(){function e(){this.eventBus=new r.EventBus(["runMenuItem","menuItemStateChange","toggleMarkdownWYSIWYG","tellCurrentLanguage","changeCurrentLanguage"],{replayMessages:!0})}return e.prototype.subscribeForMenuItemStateChanges=function(e){return this.eventBus.subscribe("menuItemStateChange",e)},e.prototype.publishMenuItemStateChange=function(e){this.eventBus.publish("menuItemStateChange",e)},e.prototype.subscribeForMenuItemRun=function(e){return this.eventBus.subscribe("runMenuItem",e)},e.prototype.publishMenuItemRun=function(e){this.eventBus.publish("runMenuItem",e)},e.prototype.subscribeForMarkdownWYSIWYGToggle=function(e){return this.eventBus.subscribe("toggleMarkdownWYSIWYG",e)},e.prototype.publishToggleMarkdownWYSIWYG=function(e){this.eventBus.publish("toggleMarkdownWYSIWYG",e)},e.prototype.subscribeForCurrentLanguage=function(e){return this.eventBus.subscribe("tellCurrentLanguage",e)},e.prototype.publishCurrentLanguage=function(e){this.eventBus.publish("tellCurrentLanguage",e)},e.prototype.subscribeForCurrentLanguageChange=function(e){return this.eventBus.subscribe("changeCurrentLanguage",e)},e.prototype.publishCurrentLanguageChange=function(e){this.eventBus.publish("changeCurrentLanguage",e)},e}();t.ToolbarEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=function(){function e(e,t){var n=this,r=(void 0===t?{replayMessages:!1}:t).replayMessages;this.subscriptions={},this.unpublishedMessages={},this.replayMessages=r,e.forEach((function(e){n.subscriptions[e]=[],n.unpublishedMessages[e]=[]}))}return e.prototype.subscribe=function(e,t){var n=this;return this.subscriptions[e].push(t),this.replayMessages&&this.unpublishedMessages[e].length>0&&(this.unpublishedMessages[e].forEach(t),this.unpublishedMessages[e]=[]),function(){n.subscriptions[e]=n.subscriptions[e].filter((function(e){return e!==t}))}},e.prototype.publish=function(e,t){this.subscriptions[e].length>0?this.subscriptions[e].forEach((function(e){return e(t)})):this.unpublishedMessages[e].push(t)},e}();t.EventBus=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetEditor=void 0;var s=a(n(1)),u=n(3),c=n(239),l=n(59),d=n(109);n(446),t.SnippetEditor=s.forwardRef((function(e,t){var n=s.useRef(),i=s.useRef(null),o=u.useScrollTop(),a=o[0],p=o[1];s.useEffect((function(){e.scrollTopEventBus.emit(a)}),[a]),s.useImperativeHandle(t,(function(){return{get editor(){return n.current},get scrollContainer(){return i.current}}})),u.useEventBusSubscription(e.requestEditorFocus,s.useCallback((function(t){var r;null!==t&&t!==e.snippetListEntry.metaData.id||(c.isInMobileMode?setTimeout((function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()}),500):null===(r=n.current)||void 0===r||r.focus())}),[]));var f=e.snippetListEntry.snippet,m=l.getPluginByLanguage(f.language),h=s.useState(!1),g=h[0],v=h[1];if(s.useEffect((function(){e.focusChange.emit({hasFocus:g,snippetListEntry:e.snippetListEntry})}),[g]),!m)return s.default.createElement("span",null,"no plugin found for language ",f.language);var y=e.readonly?m.reader:m.writer,b=m.toolbar,O=m.editorClass(f)||"",_=s.useCallback((function(t){return e.dispatch({type:"updateSnippetContent",id:e.snippetListEntry.metaData.id,content:t})}),[]),S=s.useMemo((function(){return u.debounce(_,333)}),[]),x=S[0],E=S[2];s.useEffect((function(){return function(){return E()}}),[]);var j=u.useStateFromEventBus(e.isDraggingEventBus),w=s.default.createElement(y,{key:""+f.language,content:f.content,language:f.language,onBlur:function(){return v(!1)},onChange:function(e){return x(e).catch((function(){return null}))},onSuggestPersist:function(e){return _(e)},onFocus:function(){return v(!0)},allowReadMode:e.allowReadMode,onChangeHasFocus:function(e){return v(e)},uploadFile:null,toolbarEvents:e.toolbarEvents,settings:e.settings,onEscape:e.onEscape,onDragStart:function(){return e.isDraggingEventBus.emit(!0)},onDragStop:function(){return e.isDraggingEventBus.emit(!1)},availableEditorWidth:e.availableEditorWidth,ref:n});return s.default.createElement("div",{className:["SnippetEditor",j?"SnippetEditor-is-dragging":"",O,g?"SnippetEditor-focused":"SnippetEditor-not-focused"].join(" ")},s.default.createElement("div",r({className:"SnippetEditor-file-view",tabIndex:0,ref:i},p),m.hasTooltip&&s.default.createElement("div",{className:"TooltipPlugin-container"},s.default.createElement(d.Toolbar,null,s.default.createElement(b,{toolbarEvents:e.toolbarEvents}))),w))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToNewestId=void 0;var r=n(107);t.resolveToNewestId=function(e,t){var n=e;return r.resolveToNewestId(n.store,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToOldestId=void 0;var r=n(449);t.resolveToOldestId=function(e,t){var n=e;return r.resolveToOldestId(n.store,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToOldestId=void 0,t.resolveToOldestId=function e(t,n){var r=t.newToOld[n];return r?e(t,r):n}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.extractSubSnippets=void 0;var i=n(59);t.extractSubSnippets=function(e,t){return e[0].filter((function(e){return!e.snippet.archived})).reduce((function(e,t){var n=i.getPluginByLanguage(t.snippet.language),o=n?n.extractSubSnippets(t):[];return r(r([],e),o)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterSubSnippets=void 0;var r=n(63),i=n(452);t.filterSubSnippets=function(e,t){return""===t.trim()?[]:e.map((n=t.toUpperCase().split(" "),function(e){var t=r.findOccurences(e.searchableString,n);return t.length>0?{relevance:r.calculateSearchRelevance(t,n),updatedAt:e.original.metaData.updatedAt,subSnippet:e}:null})).filter(i.filterNull).sort((function(e,t){var n=e.relevance,r=e.updatedAt,i=t.relevance,o=t.updatedAt;return i-n||o.getTime()-r.getTime()})).slice(0,20).map((function(e){return e.subSnippet}));var n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterNull=void 0,t.filterNull=function(e){return null!==e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderSubSnippet=void 0;var i=r(n(1)),o=n(59);t.renderSubSnippet=function(e){var t=o.getPluginByLanguage(e.original.snippet.language);return t?t.renderSubSnippet(e):i.default.createElement("span",null,"n/a")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderSnippet=void 0;var o=i(n(1)),a=n(59);t.renderSnippet=function(e){var t=a.getPluginByLanguage(e.snippetListEntry.snippet.language),n=(null===t||void 0===t?void 0:t.listEntry)||function(){return o.default.createElement("span",null,"n/a")};return o.default.createElement(n,r({},e))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=t.defaultSettings=void 0;var i=n(1),o=n(3),a=n(235),s=n(29),u=o.treeView.updateCollapsedPaths;function c(e,t){var n,i,a,s;switch(t.type){case"selectTagPath":return r(r({},e),{selectedTagPath:t.path,showOnlyDeleted:!1});case"setCollapsedTagPath":return r(r({},e),{collapsedPaths:u(e.collapsedPaths,t.path,t.collapsed)});case"selectArchive":return r(r({},e),{selectedTagPath:[],showOnlyDeleted:!0});case"toggleSidebar":return r(r({},e),{sidebarToggles:r(r({},e.sidebarToggles),(n={},n[t.sidebar]=null!==(a=t.value)&&void 0!==a?a:o.normalizeCounter(e.sidebarToggles[t.sidebar]+1,2),n))});case"setSidebarWidth":return r(r({},e),{sidebarWidths:r(r({},e.sidebarWidths),(i={},i[t.sidebar]=t.value,i))});case"setThemeName":return r(r({},e),{themeName:t.value});case"toggleScrollbarStyling":return r(r({},e),{scrollbarStylingToggle:null!==(s=t.value)&&void 0!==s?s:o.normalizeCounter(e.scrollbarStylingToggle+1,2)});case"setOriginSettings":return r(r({},e),{originSettings:e.originSettings.filter((function(e){return e.origin!==t.origin})).concat({origin:t.origin,settings:r(r({},(e.originSettings.find((function(e){return e.origin===t.origin}))||{}).settings||{}),t.settings)})});case"setDefaultOrigin":return r(r({},e),{defaultOrigin:t.origin});case"toggleShrinkInFullScreen":return r(r({},e),{shrinkInFullScreen:!e.shrinkInFullScreen})}}t.defaultSettings={selectedTagPath:[],showOnlyDeleted:!1,sidebarWidths:{tags:200,snippetList:200,create:200},sidebarToggles:{tags:1,snippetList:1,create:0},collapsedPaths:[],themeName:"light",scrollbarStylingToggle:s.isMac()?0:1,originSettings:[],defaultOrigin:a.getDefaultOrigin(),shrinkInFullScreen:!0};t.useSettings=function(e){return i.useReducer(c,i.useMemo((function(){return e||t.defaultSettings}),[]))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderError=void 0;var i=r(n(1)),o=n(58),a=n(73);t.renderError=function(e,t){if(o.isKnownError(e)){var n=t.map((function(t){return t(e.stack[e.stack.length-1],e.stack)})).reverse().find((function(e){return e}));if(n)return n}return i.default.createElement(a.SimpleErrorView,{title:"Unknown Error",description:"Unknown Error."})}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var o=i(n(1)),a=n(3);n(459),n(120);var s=n(240),u={style:{position:"relative"}},c={style:{position:"absolute"}},l=function(e,t){return e.filter((function(e){return e.includes(t)}))};t.Autocomplete=function(e){var t=e.entries,n=e.onLeftArrowKeyDownAtEdge,i=e.requestFocus,d=e.placeholder,p=e.onConfirm,f=e.className,m=a.useSelection({entries:t,filter:l,initialValue:"",onConfirm:function(e){return null===p||void 0===p?void 0:p("focused"===e.mode?e.value:e.filteredEntries[e.currentIndex])}}),h=m[0],g=m[1],v=a.useRefsCallback(),y=v.refs,b=v.callback;a.useScrollIntoViewForSelection({state:h,entryRefs:y});var O=a.makeDefaultSelectionKeyHandlerChain(g);O=O.concat(a.buildKeyboardEventHandlerChainItem(a.KEY_CODES.LEFT_ARROW,(function(e){return 0===e.target.selectionStart&&n(e)})));var _=a.buildHandler(O),S=s.useRequestFocus(i);return o.default.createElement("div",r({},u),o.default.createElement("input",{ref:S,onKeyDown:_,onFocus:function(){return g({type:"focus"})},onBlur:function(){return g({type:"blur"})},value:h.value,onChange:function(e){return g({type:"change",value:e.target.value})},className:f||"CommonUI-input",placeholder:d}),h.derivedStates.active&&h.filteredEntries.length>0&&o.default.createElement("div",r({className:"Autocomplete-panel"},c),h.filteredEntries.map((function(e,t){return o.default.createElement("div",{onMouseMove:function(){return g({type:"mouseMove",currentIndex:t})},onClick:function(){return g({type:"confirm"})},onMouseDown:function(e){return e.preventDefault()},key:t,className:"Autocomplete-entry "+(h.derivedStates.navigating&&t===h.currentIndex?"Autocomplete-selectedEntry":""),ref:function(e){return e&&b(e,t)}},e)}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ResizableSidePanel=void 0;var u=a(n(1)),c=n(244),l=n(3),d=n(154);n(464);var p=d.makeEventListenerManager(d.makeAdapterFactory(d.stopPropagation,d.preventDefault)),f=p[0],m=p[1];function h(e,t){switch(t.type){case"change":return r(r({},e),{size:Math.max(e.minSize,e.size+t.amount)})}}t.ResizableSidePanel=function(e){var t=e.children,n=e.state,r=e.initialSize,i=e.onStopResize,o=e.direction,a=e.minSize,d=void 0===a?100:a,p=u.useReducer(h,{size:r,minSize:d}),g=p[0],v=p[1];l.useStateChangeEffect(g.size,{trigger:"change",run:function(){return null===i||void 0===i?void 0:i(g.size)}});var y=l.useSimpleDrag(f,m),b=y[0],O=y[1];l.useStateChangesToNull(b,u.useCallback((function(e){return v({type:"change",amount:e.currentDelta.x})}),[]));var _=s(["ResizableSidePanel-resizer"],b?["ResizableSidePanel-isResizing"]:[]).join(" ");return u.default.createElement(u.default.Fragment,null,u.default.createElement(c.SidePanel,{state:n,direction:o,size:Math.max(d,g.size+(b?b.currentDelta.x:0)),useTransition:!b},t),1===n&&u.default.createElement("span",{onMouseDown:function(e){return O({type:"start",event:e})},className:_}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var a=o(n(1)),s=n(3),u=n(243),c=n(245);n(467);t.Selection=function(e){var t=a.useRef(null);a.useEffect((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[]);var n=s.useSelection({entries:e.entries,filter:e.filter,initialValue:"",onConfirm:e.onConfirm}),r=n[0],i=n[1],o=s.useRefsCallback(),l=o.refs,d=o.callback;s.useScrollIntoViewForSelection({state:r,entryRefs:l});var p=a.useCallback((function(e){i({type:"change",value:e.target.value})}),[]),f=a.useMemo((function(){var e=s.makeDefaultSelectionKeyHandlerChain(i,!1);return s.buildHandler(e)}),[]),m=""!==r.value&&r.filteredEntries.map((function(t,n){return a.default.createElement(a.default.Fragment,{key:n},a.default.createElement("div",{className:"Selection-itemOuter",onMouseMove:function(){return i({type:"mouseMove",currentIndex:n})},onMouseDown:function(e){e.stopPropagation(),i({type:"confirm"})},ref:function(e){return e&&d(e,n)}},a.default.createElement("div",{className:r.currentIndex===n?"Selection-item Selection-selectedItem":"Selection-item"},e.renderEntry(t))))}));return a.default.createElement(u.Modal,{onClose:e.onClose},a.default.createElement("div",{className:"Selection-main"},a.default.createElement("div",{className:"Selection-header"},a.default.createElement("input",{value:r.value,onChange:p,onKeyDown:f,className:"CommonUI-input CommonUI-input-centered CommonUI-input-with-border",ref:t})),a.default.createElement(c.ScrollShadows,null,a.default.createElement("div",{className:"Selection-results"},m))))}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=t.ENTRY_HEIGHT=void 0;var c=a(n(1)),l=n(3),d=n(246);n(469),n(120);var p=l.treeView.useTreeView,f=l.treeView.makeExpandedIconBindings,m=l.treeView.makeTreeViewEntryBindings;t.ENTRY_HEIGHT="1.75em",t.TreeView=c.default.forwardRef((function(e,n){var i=p({tree:e.tree,collapsedPaths:e.collapsedPaths}),o=i[0],a=i[1],h=c.useState(0),g=h[0],v=h[1];c.useEffect((function(){v(l.findIndex(e.currentPath,o.entries))}),[o.entries,e.currentPath]);var y=g+e.indexOffset,b=function(t,n){a({type:"setCollapsed",index:t,collapsed:n}),e.onSetCollapsedPath(o.entries[t],n)},O=function(n){var i,o,a,l,p,h=m({entry:n,onSelect:e.onSelect,height:t.ENTRY_HEIGHT}),g=h.key,v=s(h,["key"]),O=u(u(u(["TreeView-entry"],n.isInsideCollapsed?["TreeView-entryInsideCollapsed"]:[]),y===n.index?["TreeView-entrySelected"]:[]),["CommonUI-delayedIconContainer"]),_=n.data.id&&(null===(o=null===(i=e.extraElements)||void 0===i?void 0:i[n.data.id])||void 0===o?void 0:o.before),S=n.data.id&&(null===(l=null===(a=e.extraElements)||void 0===a?void 0:a[n.data.id])||void 0===l?void 0:l.after);return c.default.createElement(c.default.Fragment,{key:g},_,c.default.createElement("span",r({},v,{className:O.join(" ")}),(p=n.depth,Array.from(Array(p).keys()).map((function(e){return c.default.createElement("span",{key:e,className:"TreeView-spacing"})}))),function(e){var t=f({entry:e,setCollapsed:b});return e.hasChildren&&e.isCollapsed?c.default.createElement("i",r({},t,{className:"mdi mdi-chevron-right TreeView-spacing"})):e.hasChildren&&!e.isCollapsed?c.default.createElement("i",r({},t,{className:"mdi mdi-chevron-down TreeView-spacing"})):c.default.createElement("i",{className:"TreeView-spacing"})}(n),c.default.createElement("i",{className:"mdi mdi-tag-outline CommonUI-spacing"}),function(t){return c.default.createElement("span",{className:"TreeView-entryLabel"},t.data.readonly?c.default.createElement("span",null,t.name):c.default.createElement(d.SwitchedEditableLabel,{className:"CommonUI-input CommonUI-input-hidden",doubleClick:!0,initialValue:t.name,onToggle:function(n,r){return!1===n&&r!==t.name&&e.onRename(r,t.path)}}))}(n),e.renderActionIcon(n)),S)};return c.default.createElement("div",r({className:"TreeView-outer1"},l.makeTreeViewWrapperBindings(u(u(u([],l.makeDefaultTreeViewKeyHandlerChain(o,y,e.onSelect,b)),e.navigateRight?[l.buildKeyboardEventHandlerChainItem(l.KEY_CODES.RIGHT_ARROW,(function(){var t;return null===(t=e.navigateRight)||void 0===t?void 0:t.call(e)}))]:[]),e.navigateLeft?[l.buildKeyboardEventHandlerChainItem(l.KEY_CODES.LEFT_ARROW,(function(){var t;return null===(t=e.navigateLeft)||void 0===t?void 0:t.call(e)}))]:[])),{style:{backgroundColor:"inherit"},tabIndex:0,ref:n}),o.entries.map((function(e){return O(e)})))}))},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultVerticalTabNode=void 0;var o=i(n(1));n(471);t.DefaultVerticalTabNode=function(e){return o.default.createElement("div",{className:r(["VerticalTabs-default-node"],e.isSelected?["VerticalTabs-default-node-selected"]:[]).join(" "),onMouseDown:e.onSelect},o.default.createElement("i",{className:"mdi mdi-"+e.iconName}),e.children)}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsLayout=void 0;var i=r(n(1));t.DefaultSettingsLayout=function(e){return i.default.createElement("div",{className:"VerticalTabs-outer "+e.className},i.default.createElement("div",{className:"VerticalTabs-list"},e.tabList),i.default.createElement("div",{className:"VerticalTabs-body"},e.title&&i.default.createElement("div",{className:"Settings-body-title"},e.title),e.currentPage))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSettingsPage=void 0;var i=r(n(1));t.DefaultSettingsPage=function(e){return i.default.createElement("div",{className:"Settings-body-outer"},e.children)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InterGroupDrag=void 0;var s=a(n(1)),u=n(3),c=n(154),l=n(475),d=n(477);n(478);var p=n(479),f=n(481),m=n(482),h=c.makeEventListenerManager(c.makeAdapterFactory(c.stopPropagation,c.preventDefault)),g=h[0],v=h[1];t.InterGroupDrag=function(e){var t,n,i=u.useInterGroupDrag(g,v,e.animationDuration),o=i[0],a=i[1],c=i[2],h=i[3],y=i[4],b=i[5],O=u.usePreviousDefined(o),_=void 0!==O&&null!==O&&(0!==O.simpleDragState.currentDelta.x||0!==O.simpleDragState.currentDelta.y);u.useStateChangesToNull(o,(function(t){(t.target||t.source.listDragState.originalIndex!==t.source.listDragState.targetIndex)&&e.onDragEnd(l.adjustGroupAfterDrag(t,e.rootGroup,e.rootGroup))}));var S=s.useState(null),x=S[0],E=S[1],j=u.useSimpleDrag(g,v),w=j[0],P=j[1];u.useStateStaysDefined(w,(function(e){if(!x)throw"unexpected state";E(r(r({},x),{currentDelta:e.currentDelta.x}))})),u.useStateChangesToNull(w,(function(){if(!x)throw"unexpected state";e.onResizeEnd(d.adjustGroupAfterResize(e.rootGroup,x.groupIdentifier,x.itemIndex,x.initialSize+x.currentDelta)),E(null)}));var D=s.useCallback((function(e,t,n){e.stopPropagation(),e.preventDefault();var r=(null===n?y.current[t]:b.current[t][n]).getBoundingClientRect().width;E({groupIdentifier:t,itemIndex:n,currentDelta:0,initialSize:r}),P({type:"start",event:e})}),[]);return s.default.createElement("div",{className:["InterGroupDrag-outer",w?"InterGroupDrag-is-resizing":"",o?"InterGroupDrag-is-dragging":""].join(" ")},o&&!o.layoutRecalculation&&s.default.createElement("div",{className:"InterGroupDrag-item-placeholder-outer",style:u.calculatePlaceholderItemPosition(o)},s.default.createElement("div",{className:"InterGroupDrag-item-placeholder-inner"})),o&&(null===(t=e.debug)||void 0===t?void 0:t.renderGroupDimensions)&&f.renderGroupDimensions(o),o&&(null===(n=e.debug)||void 0===n?void 0:n.renderMouseCoordinates)&&m.renderMouseCoordinates(o),p.renderGroup(e,o,e.rootGroup,null,-1,D,x,a,c,h,_))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.adjustGroupAfterDrag=void 0;var o=n(3),a=n(476);t.adjustGroupAfterDrag=function e(t,n,s){var u=s.items.map((function(r){return o.isGroup(r)?e(t,n,r):r}));return s.identifier===t.source.index&&t.target?r(r({},s),{items:u.filter((function(e,n){return n!==t.source.listDragState.originalIndex}))}):s.identifier===t.source.index?r(r({},s),{items:o.moveEntryInList(u,t.source.listDragState.originalIndex,t.source.listDragState.targetIndex)}):t.target&&s.identifier===t.target.index?r(r({},s),{items:o.moveEntryInList(i(i([],u),[a.findGroupByIdentifier(n,t.source.index).items[t.source.listDragState.originalIndex]]),u.length,t.target.listDragState.targetIndex)}):r(r({},s),{items:u})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findGroupByIdentifier=void 0;var r=n(3);t.findGroupByIdentifier=function e(t,n){if(t.identifier===n)return t;var i=t.items.find((function(e){return r.isGroup(e)&&e.identifier===n}));if(i)return i;for(var o=0,a=t.items;o<a.length;o++){var s=a[o];if(r.isGroup(s)){var u=e(s,n);if(u)return u}}return null}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.adjustGroupAfterResize=void 0;var i=n(3);t.adjustGroupAfterResize=function e(t,n,o,a){return t.identifier===n?r(r({},t),null===o?{size:a}:{items:t.items.map((function(e,t){return t===o?r(r({},e),{size:a}):e}))}):r(r({},t),{items:t.items.map((function(t){return i.isGroup(t)?e(t,n,o,a):t}))})}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroup=void 0;var o=i(n(1)),a=n(3),s=n(247),u=n(480),c=n(248),l=n(249);t.renderGroup=function e(t,n,i,d,p,f,m,h,g,v,y){var b,O,_=["InterGroupDrag-group","InterGroupDrag-item-outer",d&&n&&a.isDraggedItem(n,d.identifier,p)?"InterGroupDrag-dragged-item":"",i.parents.length>0?"InterGroupDrag-nested-group":"",0===i.items.length?"InterGroupDrag-empty-group":""];return o.default.createElement("div",r({className:_.join(" "),ref:function(e){g(i.identifier,e),d&&v(d.identifier,p,e)},key:"group-"+(d?d.identifier:-1)+"-"+i.identifier},d&&t.enableInteraction?{onClick:function(e){var n;null===(n=t.onGroupClick)||void 0===n||n.call(t,e,i,p,y)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),h(e,{groups:s.buildGroupInfo(t.rootGroup),groupIndex:d.identifier,itemIndex:p})}}:{},{style:r(r({},d?c.renderItemStylesMaybeWithSizeOverride(m,n,d,i,p,t.animationDuration):{}),a.renderGroupFlex(i.axis))},(null===(b=t.debug)||void 0===b?void 0:b.renderInfoAttributes)?{groupidentifier:i.identifier}:{}),(null===(O=t.debug)||void 0===O?void 0:O.renderVisibleGroupInfo)&&o.default.createElement("div",{className:"InterGroupDrag-debug-group-info"},"("+i.identifier+" | "+i.axis+")"),d&&l.renderResizer(t,f,d.axis,i.identifier,null),i.items.map((function(r,o){return a.isGroup(r)?e(t,n,r,i,o,f,m,h,g,v,y):u.renderItem(t,n,i,o,r,f,m,h,v)})))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=void 0;var o=i(n(1)),a=n(3),s=n(247),u=n(248),c=n(249);t.renderItem=function(e,t,n,i,l,d,p,f,m){var h,g=e.renderItemOuterKey?e.renderItemOuterKey(l):"item-"+i,v={onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),f(t,{groups:s.buildGroupInfo(e.rootGroup),groupIndex:n.identifier,itemIndex:i})}};return o.default.createElement("div",r({className:t&&a.isDraggedItem(t,n.identifier,i)?"InterGroupDrag-item-outer InterGroupDrag-dragged-item":"InterGroupDrag-item-outer"},e.enableInteraction?v:{},{ref:function(e){return m(n.identifier,i,e)},key:g,style:u.renderItemStylesMaybeWithSizeOverride(p,t,n,null,i,e.animationDuration)},(null===(h=e.debug)||void 0===h?void 0:h.renderInfoAttributes)?{itemidentifier:l.item.identifier}:{}),c.renderResizer(e,d,n.axis,n.identifier,i),o.default.createElement("div",{className:"InterGroupDrag-item-inner"},e.renderItem(g,l,v)))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderGroupDimensions=void 0;var o=i(n(1)),a=n(3),s=["red","blue","green","purple","orange"];t.renderGroupDimensions=function(e){return e&&e.groupDimensions.reduce((function(e,t){return r(r([],e),[t.dimensions])}),new Array).map((function(e,t){return o.default.createElement("div",{key:t,className:"InterGroupDrag-debug-dimensions-indicator",style:{top:e.top,left:e.left,width:e.width,height:e.height,borderColor:s[a.normalizeCounter(t,s.length)]}})}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderMouseCoordinates=void 0;var i=r(n(1));t.renderMouseCoordinates=function(e){return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"InterGroupDrag-debug-mouse-coordinate-indicator",style:{top:e.simpleDragState.startCoordinates.y-3,left:e.simpleDragState.startCoordinates.x-3}}),i.default.createElement("div",{className:"InterGroupDrag-debug-mouse-coordinate-indicator",style:{top:e.simpleDragState.currentCoordinates.y-3,left:e.simpleDragState.currentCoordinates.x-3}}),i.default.createElement("svg",{className:"InterGroupDrag-debug-mouse-coordinate-indicator-line"},i.default.createElement("line",{x1:e.simpleDragState.startCoordinates.x,y1:e.simpleDragState.startCoordinates.y,x2:e.simpleDragState.currentCoordinates.x,y2:e.simpleDragState.currentCoordinates.y,style:{stroke:"rgb(0,0,0)",strokeWidth:1,strokeDasharray:"1,1"}})))}},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(20),i=n(8),o=n(1),a=n.n(o),s=n(156),u=n.n(s),c=(n(255),n(256),n(257),n(7)),l=n(3),d=n(15),p=n(12),f=n(0),m=function(e){var t=Object(l.useFactory)(c.extractSubSnippets,[e.snippetList],[]);return Object(f.jsx)(d.Selection,{onClose:e.onClose,entries:t,filter:c.filterSubSnippets,onConfirm:function(t){t.filteredEntries[t.currentIndex]&&Object(p.copyToClipboard)(t.filteredEntries[t.currentIndex].textContent),e.onClose()},renderEntry:c.renderSubSnippet})},h=(n(484),function(e,t){return Object(c.findOccurencesAndCompileSearchResults)(e,t.split(" "))});function g(e){var t=e.chunks;return Object(f.jsx)(a.a.Fragment,{children:t.slice(0,30).map((function(e,t){return e.highlight?Object(f.jsx)("span",{className:"SearchModal-occurence",children:e.text},t):Object(f.jsx)("span",{children:e.text},t)}))})}var v=function(e){var t=Object(o.useCallback)((function(t){var n;e.select(null===(n=t.filteredEntries[t.currentIndex])||void 0===n?void 0:n.id),e.onClose()}),[]);return Object(f.jsx)(d.Selection,{onClose:e.onClose,entries:e.snippetList,filter:e.filter||h,onConfirm:t,renderEntry:g})},y=n(11),b=(n(485),"createSnippetSidebarFocusable"),O=function(e){return Object(f.jsxs)("button",{id:"".concat(b,"-").concat(e.label),className:"CreateSnippetSidebar-button",onClick:e.action,onKeyDown:function(t){t.keyCode===l.KEY_CODES.ENTER&&(t.preventDefault(),e.action(t))},tabIndex:0,children:[Object(f.jsx)("i",{className:"mdi ".concat(e.iconClass)}),e.label]})},_=function(e){var t=Object(o.useRef)(null);Object(o.useEffect)((function(){setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),250)}),[]);var n=Object(c.getConfigsForInputs)(),r=Object(c.getConfigsForButtons)();return Object(f.jsxs)("div",{className:"CreateSnippetSidebar-main",children:[n.map((function(n,r){var o=Object(i.a)(n,2),a=o[0],s=o[1];return Object(f.jsx)("textarea",Object(y.a)({id:"".concat(b,"-").concat(r),placeholder:s.placeholder,className:"CommonUI-input",onChange:function(t){return e.onAdd({content:s.bootstrap(t.target.value),language:a})},value:"",tabIndex:0},0===r?{ref:t}:{}),r)})),r.map((function(t,n){var r=Object(i.a)(t,3),o=r[0],a=r[1],s=r[2];return Object(f.jsx)(O,{label:s.label,iconClass:a,action:function(){return e.onAdd({content:s.bootstrap(),language:o})}},n)}))]})},S=(n(486),n(250)),x=function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(l.useTimeout)(Object(o.useCallback)((function(){return a(!1)}),[]),2e3),u=r?e.successLabel:e.label,c=(e.successLabel,e.label,Object(S.a)(e,["successLabel","label"]));return Object(f.jsx)("button",Object(y.a)(Object(y.a)({},c),{},{onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),a(!0),s()},children:u}))},E=(n(487),["list","dashboard"]);function j(e){switch(e){case"list":return{type:"list",items:[]};case"dashboard":return{type:"dashboard",rootDefinition:{axis:"X",items:[]}}}}var w=function(e){var t=Object(p.useObject)("dispatch"),n=Object(o.useState)(e.currentDisplayMode.type),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(f.jsxs)("div",{className:"OriginSelector-outer",children:[Object(f.jsx)("select",{className:"CommonUI-button",value:a,onChange:function(e){return s(e.target.value)},children:E.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))}),Object(f.jsx)(x,{disabled:a===e.currentDisplayMode.type,className:"CommonUI-button-without-border",successLabel:"Set!",label:"Set",onClick:function(){return t({type:"updateDisplayMode",tagId:e.tagId,displayMode:j(a)})}})]})};n(488);var P=function(e){var t=Object(p.useObject)("dispatch"),n=Object(o.useState)(e.currentOrigin),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(f.jsxs)("div",{className:"OriginSelector-outer",children:[Object(f.jsx)("select",{className:"CommonUI-button",value:a,onChange:function(e){return s(e.target.value)},children:c.originConfigs.map((function(e){return Object(f.jsx)("option",{value:e.origin,children:e.defaultConfig.displayName},e.origin)}))}),Object(f.jsx)(x,{disabled:a===e.currentOrigin,className:"CommonUI-button-without-border",successLabel:"Switched!",label:"Switch",onClick:function(){return t({type:"changeOrigin",id:e.id,origin:a})}})]})},D=function(e){var t=Object(p.useObject)("dispatch");return Object(f.jsxs)("div",{className:"Settings-single-page",children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Document Id"}),Object(f.jsx)("span",{children:e.entry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Last updated"}),e.entry.metaData.updatedAt.toLocaleString()]})]}),Object(f.jsxs)("div",{className:"Settings-row",children:[Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Origin"}),Object(f.jsx)(P,{currentOrigin:e.entry.metaData.origin,id:e.entry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Display Mode"}),Object(f.jsx)(w,{tagId:e.entry.metaData.id,currentDisplayMode:e.entry.tag.displayMode})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Archive"}),!e.entry.tag.archived&&Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"deleteTag",path:e.entry.tag.path})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-down"})," Remove Tag"]})]})]})]})},T="archive",C="everything";function I(e){var t=Object(d.useRequestFocus)(e.requestFocus),n=Object(o.useMemo)((function(){var t=Object(l.compileTree)(e.tagList.filter((function(e){return!e.tag.archived})).map((function(e){return{path:e.tag.path,data:{id:e.metaData.id,origin:e.metaData.origin}}})),{id:"derived",origin:"cloud"},{id:"root",origin:"cloud"}),n=[{name:"Everything",content:[],root:!1,data:{readonly:!0,id:C,origin:"cloud"}},{name:"Archive",content:[],root:!1,data:{readonly:!0,id:T,origin:"cloud"}}];return Object(y.a)(Object(y.a)({},t),{},{content:n.concat(t.content)})}),[e.tagList]),r=Object(o.useState)(null),s=Object(i.a)(r,2),u=s[0],c=s[1],p=u&&e.resolveToNewestId(u),m=p&&e.tagList.find((function(e){return e.metaData.id===p})),h=m&&Object(f.jsx)(d.Modal,{onClose:function(){return c(null)},children:Object(f.jsx)(D,{entry:m})});return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("div",{className:"TagList-outer1",children:Object(f.jsx)(d.TreeView,{ref:t,tree:n,currentPath:e.selectedPath,onSelect:function(t){t.data.id===C?e.onSelectPath([]):t.data.id===T?e.onSelectArchive():e.onSelectPath(t.path)},onRename:e.onRenamePath,extraElements:{archive:{after:Object(f.jsx)("span",{className:"TagList-divider"})}},onSetCollapsedPath:function(t,n){return e.onToggleCollapsed(t.path,n)},collapsedPaths:e.collapsedPaths,indexOffset:e.selectedPath.length>0?0:e.showOnlyDeleted?1:0,renderActionIcon:function(e){return e.data.readonly||e.data.derived?void 0:Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)("span",{className:"CommonUI-delayedIconWrapper",children:Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal TreeView-deleteIcon",onMouseDown:function(){return c(e.data.id)}})})})},navigateRight:e.navigateRight})}),h]})}n(489);function M(e){switch(e.state.name){case"uploadRequested":case"uploadOngoing":return["mdi-upload","SyncStateIndicator-load"];case"downloadRequested":case"downloadOngoing":return["mdi-download","SyncStateIndicator-load"];case"idle":return e.pushErrors.length>0||e.pullErrors.length>0?["mdi-alert"]:["mdi-check","SyncStateIndicator-success"]}}function k(e){switch(e.state.name){case"uploadRequested":case"uploadOngoing":return Object(f.jsx)("div",{className:"SyncStateIndicator-details-panel",children:"uploading..."});case"downloadRequested":case"downloadOngoing":return Object(f.jsx)("div",{className:"SyncStateIndicator-details-panel",children:"downloading..."});case"idle":var t=e.pullErrors.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Errors during download:"}),e.pullErrors.map((function(e,t){return Object(f.jsx)("div",{children:Object(c.renderError)(e,c.errorRenderers)},t)}))]}):null,n=e.pushErrors.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Errors during upload:"}),e.pushErrors.map((function(e,t){return Object(f.jsx)("div",{children:Object(c.renderError)(e,c.errorRenderers)},t)}))]}):null;return t||n?Object(f.jsxs)("div",{className:"SyncStateIndicator-details-panel",children:[t,n]}):null}}var L=function(e){return Object(f.jsxs)("span",{className:"SyncStateIndicator-main",children:[k(e.syncState),(t=e.syncState,Object(f.jsx)("i",{className:["mdi"].concat(Object(r.a)(M(t))).join(" ")}))]});var t},A={dark:{base:"Theme-dark",code:"one-dark"},light:{base:"Theme-light",code:"one-dark"},solarizedLight:{base:"Theme-solarized-light",code:"solarized light"},solarizedDark:{base:"Theme-solarized-dark",code:"solarized dark"},classicBlue:{base:"Theme-classic-blue",code:"classic-blue"}};function R(e){return A[e].base}n(490);function N(e,t,n,r,i){return Object(f.jsx)(d.DefaultVerticalTabNode,{iconName:t,onSelect:function(){return r(e)},isSelected:i===e,children:n},n)}var F="0.1.10",B=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&fetch("https://getsnip.io/client/version.txt",{}).then((function(e){return e.text().then((function(e){e!==F&&r(!0)}))}))}))}),[]),n?Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("h2",{children:"New version available!"}),Object(f.jsx)("button",{onClick:function(){return location.reload()},children:"reload"})]}):null},U=(n(491),[{label:"Dark",value:"dark"},{label:"Light",value:"light"},{label:"Solarized Dark",value:"solarizedDark"},{label:"Solarized Light",value:"solarizedLight"}]),G=function(e){var t=Object(p.useObject)("settings"),n=Object(p.useObject)("dispatchSettings"),r=Object(o.useState)(t.scrollbarStylingToggle),s=Object(i.a)(r,2);s[0],s[1];return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)("div",{children:[c.isInMobileMode&&Object(f.jsx)("h1",{children:"Settings"}),Object(f.jsx)("h2",{children:"Theme"}),Object(f.jsx)("select",{className:"CommonUI-button",value:t.themeName,onChange:function(e){return n({type:"setThemeName",value:e.target.value})},children:U.map((function(e){var t=e.label,n=e.value;return Object(f.jsx)("option",{value:n,children:t},n)}))})]}),!1,Object(f.jsxs)("div",{className:"GeneralPage-version",children:[Object(f.jsx)("h2",{children:"Version"}),Object(f.jsx)("span",{children:F})]}),c.applicationPaths&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Cache Location"}),Object(f.jsx)("pre",{children:Object(f.jsx)("code",{children:c.applicationPaths.cacheLocation})})]}),c.isInMobileMode&&Object(f.jsx)("div",{children:Object(f.jsx)(B,{})}),c.isInMobileMode&&Object(f.jsxs)("div",{className:"GeneralPage-go-to-app",onClick:function(){return e.scrollRightEventBus.emit()},children:[Object(f.jsx)("i",{className:"mdi mdi-arrow-right-bold"}),Object(f.jsx)("span",{children:"Go to app"})]})]})};n(492);function z(e,t){return e.origin===t.currentOrigin?"Already set":t.selectButtonTitle}function W(e,t){var n=Object(o.useState)({ready:"pending"}),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(o.useEffect)((function(){t.comingSoon||s({ready:"pending"})}),[e,t]),Object(l.useDebouncedEffect)((function(){t.comingSoon||t.checkReadyness(e).then((function(e){return s(e)}))}),1e3,[e,t]),a}var H=function(e){var t=Object(o.useState)(c.originConfigs[0]),n=Object(i.a)(t,2),r=n[0],s=n[1],u=function(e,t){var n=Object(p.useObject)("settings");return"noop"===e?t:Object(p.getOriginSettings)(n,e,t)}(r.origin,r.defaultConfig),l=Object(p.useObject)("dispatchSettings"),m=W(u,r),h=c.originConfigs.map((function(e){return N(e,e.icon,e.defaultConfig.displayName,s,r)})),g=r.origin,v=r.comingSoon?Object(f.jsx)("div",{className:"OriginConfigurator-coming-soon",children:"Coming soon"}):Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[u.enabled&&Object(f.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(f.jsx)(x,{label:z(r,e),successLabel:"Set!",disabled:r.origin===e.currentOrigin,className:"CommonUI-button-without-border",onClick:function(){return e.onSelect(r)}},g)}),Object(f.jsx)("div",{className:"OriginConfigurator-general-settings-button",children:Object(f.jsx)(x,{label:u.enabled?"Disable":"Enable",successLabel:u.enabled?"Enabled!":"Disabled!",className:"CommonUI-button-without-border",onClick:function(){return l({type:"setOriginSettings",origin:r.origin,settings:Object(y.a)(Object(y.a)({},u),{},{enabled:!u.enabled})})},children:u.enabled?"Disable":"Enable"},g)})]}),u.enabled&&Object(f.jsx)("div",{className:"OriginConfigurator-settings-page",children:r.settingsPage})]});return Object(f.jsx)(c.OriginReadynessContext.Provider,{value:m,children:Object(f.jsx)(d.DefaultSettingsLayout,{className:"OriginConfigurator-outer",tabList:h,currentPage:v})})};function V(e,t,n,r){switch(t){case"general":return Object(f.jsx)(d.DefaultSettingsPage,{children:Object(f.jsx)(G,{scrollRightEventBus:e.scrollRightEventBus})});case"origin":return Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)(H,{currentOrigin:r.defaultOrigin,selectButtonTitle:"Set as default",onSelect:function(e){return n({type:"setDefaultOrigin",origin:e.origin})}})})}}var q=function(e){var t=Object(p.useObject)("dispatchSettings"),n=Object(p.useObject)("settings"),r=Object(o.useState)("general"),a=Object(i.a)(r,2),s=a[0],u=a[1],c=[N("general","cog-outline","General",u,s),N("origin","arrow-top-right-thick","Origins",u,s)];return Object(f.jsx)(d.DefaultSettingsLayout,{className:"Settings-outer",tabList:c,currentPage:V(e,s,t,n)})},K=(n(493),function(e){return Object(f.jsxs)("div",{className:"TagList-outer1 EmptyTagList",children:[Object(f.jsx)("div",{children:"No tags yet."}),e.noSnippetsYet?null:Object(f.jsxs)("div",{children:["To add a tag, go to a snippet and click the '",Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal"}),"' symbol."]})]})});var X=function(e){var t=Object(c.getConfigsForButtons)().filter((function(e){return"richtext"===Object(i.a)(e,1)[0]})),n=Object(i.a)(t,1),s=Object(i.a)(n[0],3)[2],u=Object(o.useRef)(null);return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("input",{className:"App-mobile-ios-input-focus-fix",ref:u}),Object(f.jsx)("div",{className:["App-mobile-add-button"].concat(Object(r.a)(2===e.currentSection?["App-mobile-add-button-visible"]:[])).join(" "),onClick:function(){var t;null===(t=u.current)||void 0===t||t.focus(),e.onAdd({language:"richtext",content:s.bootstrap()})},children:Object(f.jsx)("i",{className:"mdi mdi-plus-circle"})})]})};n(494),n(495);function Y(e,t){return e?Array.isArray(t)?t:[t]:[]}var J=Object(c.isMac)()?Object(c.makeElectronSend)("setMenu"):function(){};function $(e,t){Object(o.useEffect)((function(){J(function(e){return[].concat(Object(r.a)(Y(Object(c.isMac)(),[{label:"Snip",submenu:[{role:"about"},{type:"separator"},{label:"Preferences...",accelerator:"CommandOrControl+,",menuEvent:{type:"cmd+,"}},{type:"separator"},{role:"services"},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{role:"quit"}]}])),[{label:"File",submenu:[Object(c.isMac)()?{role:"close"}:{role:"quit"},{label:"New",accelerator:"CommandOrControl+N",menuEvent:{type:"cmd+n"}},{label:"New...",accelerator:"CommandOrControl+Shift+N",menuEvent:{type:"cmd+shift+n"}}].concat(Object(r.a)(Y("dashboard"===e.currentDisplayModeType,{label:"Add Existing...",accelerator:"CommandOrControl+Shift+A",menuEvent:{type:"cmd+shift+a"}})),[{type:"separator"},{label:"Quick Access...",accelerator:"CommandOrControl+K",menuEvent:{type:"cmd+k"}},{label:"Search All...",accelerator:"CommandOrControl+Shift+F",menuEvent:{type:"cmd+shift+f"}},{label:"Search...",accelerator:"CommandOrControl+F",menuEvent:{type:"cmd+f"}}])},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"toggleSpellChecker"}].concat(Object(r.a)(Object(c.isMac)()?[{role:"pasteAndMatchStyle"},{role:"delete"},{role:"selectAll"},{type:"separator"},{label:"Speech",submenu:[{role:"startspeaking"},{role:"stopspeaking"}]}]:[{role:"delete"},{type:"separator"},{role:"selectAll"}]))},{label:"View",submenu:[{label:"Toggle Tags",accelerator:"CommandOrControl+T",menuEvent:{type:"cmd+t"}}].concat(Object(r.a)(Y("list"===e.currentDisplayModeType,{label:"Toggle Snippet List",accelerator:"CommandOrControl+L",menuEvent:{type:"cmd+l"}})),Object(r.a)(Y("dashboard"===e.currentDisplayModeType,{label:"Edit Layout",accelerator:"CommandOrControl+L",menuEvent:{type:"cmd+l"}})),[{type:"separator"},{role:"reload"},{role:"forcereload"},{role:"toggledevtools"},{type:"separator"},{role:"resetzoom"},{role:"zoomin"},{role:"zoomout"},{type:"separator"},{role:"togglefullscreen"}])},{label:"Window",submenu:[{role:"minimize"},{role:"zoom"}].concat(Object(r.a)(Object(c.isMac)()?[{type:"separator"},{role:"front"},{type:"separator"},{role:"window"}]:[{role:"close"}]))},{role:"help",submenu:[{label:"Learn More",click:""}]}])}(t))}),[t]),Object(o.useEffect)((function(){if(Object(c.isMac)()){var t=Object(c.getElectron)().ipcRenderer,n=function(t,n){e.emit(n)};return t.on("runElectronMenuItem",n),function(){return t.removeListener("runElectronMenuItem",n)}}}),[])}var Q=new Proxy({},{get:function(){return function(){return"<mocked>"}}});n(496);var Z=function(){var e=Object(o.useMemo)((function(){return c.isMockedWindows?Q:Object(c.getElectron)().remote.getCurrentWindow()}),[]),t=Object(l.useCyclicCounter)(2,e.isMaximized()?1:0),n=Object(i.a)(t,3),r=n[0],a=n[2].inc;return Object(o.useEffect)((function(){e.on("maximize",(function(){return a()})),e.on("unmaximize",(function(){return a()}))}),[]),Object(f.jsxs)("div",{className:"WindowsIcons",children:[Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.minimize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-minimize"})}),r?Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.unmaximize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-restore"})}):Object(f.jsx)("div",{className:"WindowsIcons-button",onClick:function(){return e.maximize()},children:Object(f.jsx)("i",{className:"mdi mdi-window-maximize"})}),Object(f.jsx)("div",{className:"WindowsIcons-button WindowsIcons-close-button",onClick:function(){return e.close()},children:Object(f.jsx)("i",{className:"mdi mdi-window-close"})})]})},ee=(n(497),function(){return{check:function(e){return e.ctrlKey},explain:"Ctrl"}}),te=function(){return{check:function(e){return e.altKey},explain:"Alt"}},ne={",":"Comma"},re=function(e){return{check:function(t){return t.code===(ne[e]?ne[e]:"Key".concat(e.toUpperCase()))},explain:e}},ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{check:function(e){return t.every((function(t){return t.check(e)}))},explain:t.map((function(e){return e.explain}))}};function oe(e,t){return Object(o.useMemo)((function(){var n=Object(c.isElectron)()?ee:te;return[{name:"Toggle Tags",checker:ie(n(),re("t")),action:function(){return e.emit({type:"cmd+t"})}},{name:"dashboard"===t.currentDisplayModeType?"Edit Layout":"Toggle Snippet List",checker:ie(n(),re("l")),action:function(){return e.emit({type:"cmd+l"})}}].concat(Object(r.a)("dashboard"===t.currentDisplayModeType?[{name:"Add Existing...",checker:ie(n(),{check:function(e){return e.shiftKey},explain:"Shift"},re("a")),action:function(){return e.emit({type:"cmd+shift+a"})}}]:[]),[{name:"New ...",checker:ie(n(),{check:function(e){return e.shiftKey},explain:"Shift"},re("n")),action:function(){return e.emit({type:"cmd+shift+n"})}},{name:"New",checker:ie(n(),re("n")),action:function(){return e.emit({type:"cmd+n"})}},{name:"Quick Access...",checker:ie(n(),re("k")),action:function(){return e.emit({type:"cmd+k"})}},{name:"Search All...",checker:ie(n(),{check:function(e){return e.shiftKey},explain:"Shift"},re("f")),action:function(){return e.emit({type:"cmd+shift+f"})}},{name:"Search...",checker:ie(n(),re("f")),action:function(){return e.emit({type:"cmd+f"})}},{name:"Preferences",checker:ie(n(),re(",")),action:function(){return e.emit({type:"cmd+,"})}}])}),[t])}function ae(e){return Object(f.jsx)("div",{className:"BrowserMenu-panel",children:e.map((function(e,t){return Object(f.jsxs)("div",{className:"BrowserMenu-entry",onClick:e.action,children:[Object(f.jsx)("span",{children:e.name}),Object(f.jsx)("span",{children:e.checker.explain.map((function(e,t){return Object(f.jsxs)(a.a.Fragment,{children:[0!==t&&" + ",Object(f.jsx)("kbd",{children:e})]},t)}))})]},t)}))})}var se=function(e){var t=oe(e.menuEvents,e.menuState);return Object(f.jsxs)("span",{className:"BrowserMenu-main",children:[ae(t),Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal"})]})};function ue(e,t){var n=oe(e,t),r=Object(o.useRef)();Object(o.useEffect)((function(){r.current=n}),[n]),Object(o.useEffect)((function(){Object(c.isElectron)()&&!Object(c.isWindows)()||window.addEventListener("keydown",(function(e){var t,n=null===(t=r.current)||void 0===t?void 0:t.find((function(t){return t.checker.check(e)}));n&&(e.preventDefault(),n.action())}))}),[])}n(498);var ce=function(){return Object(f.jsxs)("div",{className:"TagList-outer1 EmptySnippetList",children:[Object(f.jsx)("div",{children:"No snippets yet."}),Object(f.jsxs)("div",{children:["To create one, use",Object(f.jsxs)("span",{children:[Object(c.isMac)()?Object(f.jsx)("kbd",{children:"Cmd"}):Object(f.jsx)("kbd",{children:"Ctrl"}),"+",Object(f.jsx)("kbd",{children:"N"})]}),"or",Object(f.jsx)("span",{children:Object(f.jsxs)("em",{children:["File ",Object(f.jsx)("i",{className:"mdi mdi-arrow-right"})," New"]})})]})]})},le=(n(499),n(500),function(e){var t=Object(p.useObject)("dispatch"),n=Object(l.useEventBus)();return Object(f.jsxs)("div",{className:"TagsSection-main",children:[Object(f.jsx)("div",{className:"TagsSection-tags",children:e.tags.length>0?e.tags.map((function(n){return Object(f.jsxs)("span",{className:"TagsSection-tag",children:[n.text,Object(f.jsx)("i",{className:"mdi mdi-close",onClick:function(){return t({type:"removeSnippetFromTag",snippetId:e.snippetId,tagId:n.id})}})]},n.text)})):Object(f.jsx)("span",{className:"TagsSection-tag TagsSection-tag-placeholder",children:"No tags yet"})}),Object(f.jsx)("div",{className:"TagsSection-autocomplete-container",children:Object(f.jsx)(d.Autocomplete,{className:"CommonUI-input CommonUI-input-hidden CommonUI-input-centered",onLeftArrowKeyDownAtEdge:function(){},entries:e.tagList.filter((function(e){return!1===e.tag.archived})).filter((function(t){return!e.tags.find((function(e){return e.id===t.metaData.id}))})).map((function(e){return e.metaData.text})),requestFocus:n,closeOnConfirm:!1,resetOnConfirm:!0,onConfirm:function(n){return t({type:"addTagToSnippet",id:e.snippetId,tag:n})},placeholder:"Add tag..."})})]})}),de=function(e){var t=Object(p.useObject)("dispatch");return Object(f.jsxs)("div",{className:"Settings-single-page",children:[Object(f.jsxs)("div",{className:"Settings-top-section",children:[Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Document Id"}),Object(f.jsx)("span",{children:e.snippetListEntry.metaData.id})]}),Object(f.jsxs)("div",{className:"Settings-top-section-key-value-pair",children:[Object(f.jsx)("span",{children:"Last updated"}),e.snippetListEntry.metaData.updatedAt.toLocaleString()]})]}),Object(f.jsxs)("div",{className:"Settings-row",children:[Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Name"}),Object(f.jsx)(d.SwitchedEditableLabel,{initialValue:e.snippetListEntry.snippet.name,placeholderWhenReadonly:"untitled",onToggle:function(n,r){return!1===n&&t({type:"setSnippetName",snippetId:e.snippetListEntry.metaData.id,name:r})},className:"CommonUI-input CommonUI-input-hidden CommonUI-input-centered"})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Origin"}),Object(f.jsx)(P,{currentOrigin:e.snippetListEntry.metaData.origin,id:e.snippetListEntry.metaData.id})]})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Tags"}),Object(f.jsx)(le,{snippetId:e.snippetListEntry.metaData.id,tags:e.snippetListEntry.metaData.resolvedTags,tagList:e.tagList})]}),Object(f.jsxs)("div",{className:"Settings-row-tile",children:[Object(f.jsx)("h2",{children:"Archive"}),e.snippetListEntry.snippet.archived?Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"restoreSnippet",id:e.snippetListEntry.metaData.id,snippet:e.snippetListEntry.snippet})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-up"})," Restore From Archive"]}):Object(f.jsxs)("button",{className:"CommonUI-button",onClick:function(){return t({type:"deleteSnippet",id:e.snippetListEntry.metaData.id,snippet:e.snippetListEntry.snippet})},children:[Object(f.jsx)("i",{className:"mdi mdi-package-down"})," Move To Archive"]})]})]})};function pe(e,t,n){return t?function(e){return!0===e.snippet.archived}:0===e.length?function(e){return!1===e.snippet.archived}:function(t){return!1===t.snippet.archived&&t.metaData.resolvedTags.some((function(t){var r=n.find((function(e){return e.metaData.id===t.id})),i=r&&r.tag.path;return i&&Object(l.isExactPath)(e,i)}))}}function fe(e){var t=Object(i.a)(e,3),n=t[0],r=t[1],o=t[2];return n.derivedState.snippetList.filter(pe(r,o,n.derivedState.tagList))}function me(e,t){var n=Object(i.a)(e,3),r=n[0],o=n[1],a=n[2],s=Object(i.a)(t,1)[0];return function(e){var t=e.effect;switch(t.type){case"createSnippet":return void s.emit({id:t.id,through:"programmatic"});case"deleteSnippet":if(r!==t.id)return;if(!a)return;var n=a.findIndex((function(e){return e.metaData.id===t.id})),i=o[Math.max(0,n)];return void(i&&s.emit({id:i.metaData.id,through:"programmatic"}));case"changeSnippetOrigin":return void s.emit({id:t.id,through:"programmatic"})}}}function he(e,t){return Math.max(0,t.findIndex((function(t){return t.metaData.id===e.selectedSnippetId})))}function ge(e,t,n){t[n]&&e.selectedSnippetIdEventBus.emit({id:t[n].metaData.id,through:"selection"})}function ve(e,t,n){var r=he(e,t);n<0?ge(e,t,0===r?t.length-1:r-1):n>0&&(r===t.length-1?ge(e,t,0):ge(e,t,r+1))}function ye(e){var t=Object(d.useRequestFocus)(e.requestFocus),n=Object(l.useFactory)(fe,[e.appState,e.settings.selectedTagPath,e.settings.showOnlyDeleted],[]),r=Object(o.useMemo)((function(){return Object(l.buildHandler)(function(e,t){return[Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.UP_ARROW,(function(n){Object(l.preventDefault)(n),ve(e,t,-1)})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.DOWN_ARROW,(function(n){Object(l.preventDefault)(n),ve(e,t,1)})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.LEFT_ARROW,(function(t){Object(l.preventDefault)(t),e.navigateLeft()})),Object(l.buildKeyboardEventHandlerChainItem)(l.KEY_CODES.RIGHT_ARROW,(function(t){Object(l.preventDefault)(t),e.navigateRight()}))]}(e,n))}),[e,n]),s=Object(o.useState)(null),u=Object(i.a)(s,2),p=u[0],m=u[1],h=Object(l.useRefsCallback)(),g=h.refs,v=h.callback;Object(l.useScrollIntoView)({dependency:e.selectedSnippetId,condition:e.enableScrollIntoView,index:he(e,n),refs:g});var y=n.map((function(t,n){return Object(f.jsx)("div",{ref:function(e){return e&&v(e,n)},className:"SnippetList-entryOuter ".concat(t.metaData.id===e.selectedSnippetId?"SnippetList-entryOuterSelected":""),children:Object(c.renderSnippet)({snippetListEntry:t,settings:e.settings,setSelectedSnippetId:function(t){return e.selectedSnippetIdEventBus.emit({id:t,through:"selection"})},listEntryIcon:e.listEntryIcon,runItemAction:function(){return m(t.metaData.id)}})},"".concat(e.settings.themeName,"-").concat(n))})),b=Object(l.usePrevious)(n),O=Object(l.useFactory)(me,[e.selectedSnippetId,n,b],[e.selectedSnippetIdEventBus]);Object(l.useEventBusSubscription)(e.appEffectEventBus,O);var _=p&&Object(c.resolveToNewestId)(e.appState,p),S=_&&e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===_})),x=S&&Object(f.jsx)(d.Modal,{onClose:function(){return m(null)},children:Object(f.jsx)(de,{snippetListEntry:S,tagList:e.appState.derivedState.tagList})});return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("div",{className:"SnippetList-listOuter",ref:t,tabIndex:0,onKeyDown:r,children:Object(f.jsx)(d.ScrollShadows,{children:Object(f.jsx)("div",{"keyboard-aware-element":"true",className:"SnippetList-listInner",children:y})})}),x]})}function be(e,t,n){Object(l.useEventBusSubscription)(e,Object(o.useCallback)((function(e){t.type===e.type&&n()}),[n]))}function Oe(e,t){switch(t.type){case"start":return{query:"",currentIndex:0};case"changeQuery":var n;return Object(y.a)(Object(y.a)({},e),{},{query:t.query,currentIndex:null!==(n=null===e||void 0===e?void 0:e.currentIndex)&&void 0!==n?n:0});case"bumpCurrentIndex":if(!e)throw"unexpected state";return Object(y.a)(Object(y.a)({},e),{},{currentIndex:e.currentIndex+1});case"stop":return null}}var _e=100,Se=c.isInMockedMode?0:125;function xe(e,t,n){var r=function(){var e=Object(o.useReducer)(Oe,null),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(o.useCallback)((function(e){r({type:"changeQuery",query:e.target.value})}),[]),s=Object(o.useCallback)((function(e){e.keyCode===l.KEY_CODES.ENTER||e.keyCode===l.KEY_CODES.TAB?(e.preventDefault(),r({type:"bumpCurrentIndex"})):e.keyCode===l.KEY_CODES.ESCAPE&&r({type:"stop"})}),[]),u=Object(o.useCallback)((function(){r({type:"stop"})}),[]);return[n,r,a,s,u]}(),a=Object(i.a)(r,5),s=a[0],u=a[1],c=a[2],d=a[3],p=a[4];be(e,{type:"cmd+f"},Object(o.useCallback)((function(){return u({type:"start"})}),[]));var f=function(e){var t=Object(l.useStartAnimation)();return Object(o.useCallback)((function(n){if(e){var r=e.getBoundingClientRect(),i=function(n,r){return t(n,r,Se,(function(t){e.scrollTop=t}))};n.top-_e<r.y?i(e.scrollTop,e.scrollTop-(r.y-n.top)-_e):n.bottom+_e>r.y+r.height&&i(e.scrollTop,e.scrollTop+(n.bottom-(r.y+r.height))+_e)}}),[e])}(t);return Object(l.useStateStaysDefined)(s,(function(e){var t,r;if(Object.values(n).forEach((function(e){var t,n;return null===(t=e.editor)||void 0===t||null===(n=t.onChangeQuery)||void 0===n?void 0:n.call(t,[],0)})),1!==e.query.length){var o=Object.entries(n).map((function(t){var n,r,o=Object(i.a)(t,2);return[o[0],null===(n=o[1].editor)||void 0===n||null===(r=n.findOccurences)||void 0===r?void 0:r.call(n,[e.query])]})).filter((function(e){var t=Object(i.a)(e,2)[1];return t&&0<t.length})).map((function(e){var t=Object(i.a)(e,2),n=t[0];return[t[1].map((function(e,t){return Object(y.a)(Object(y.a)({},e),{},{index:t,key:n})}))]})).flat().flat().sort((function(e,t){return e.coordinates.top===t.coordinates.top?e.coordinates.left-t.coordinates.left:e.coordinates.top-t.coordinates.top})),a=o[e.currentIndex%o.length];a&&(o.forEach((function(t){var r,i;null===n||void 0===n||null===(r=n[t.key].editor)||void 0===r||null===(i=r.onChangeQuery)||void 0===i||i.call(r,[e.query],-1)})),null===n||void 0===n||null===(t=n[a.key].editor)||void 0===t||null===(r=t.onChangeQuery)||void 0===r||r.call(t,[e.query],a.index),a&&f(a.coordinates))}})),Object(l.useStateChangesToNull)(s,(function(){Object.values(n).forEach((function(e){var t,n;return null===(t=e.editor)||void 0===t||null===(n=t.onChangeQuery)||void 0===n?void 0:n.call(t,[""],0)}))})),[s,c,d,p]}n(501);function Ee(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var n,r;e.active?null===(n=t.current)||void 0===n||n.focus():null===(r=t.current)||void 0===r||r.blur()}),[e.active]),Object(f.jsx)("div",{className:["SearchBar",e.active?"SearchBar-active":""].join(" "),children:Object(f.jsx)("input",Object(y.a)({ref:t},e.inputAttributes))})}function je(){return Date.now()}n(502);function we(e,t){var n=Object(i.a)(e,1)[0],r=Object(i.a)(t,1)[0];return function(e){var t=e.effect;switch(t.type){case"renameSnippet":return void r();case"snippetChanges":return void(n&&t.ids.includes(n.metaData.id)&&r())}}}var Pe="<editor-ref-id>";function De(e){var t,n,r=Object(o.useRef)({}),a=function(){var e=Object(o.useState)(je()),t=Object(i.a)(e,2),n=t[0],r=t[1];return[n,Object(o.useCallback)((function(){return r(je())}),[])]}(),s=Object(i.a)(a,2),u=s[0],p=s[1],m=Object(l.useEventBus)(),h=Object(l.useStateFromEventBus)(m);Object(l.useEventBusSubscription)(m,Object(o.useCallback)((function(t){"selection"===(null===t||void 0===t?void 0:t.through)&&e.scrollRightEventBus.emit()}),[])),Object(l.useOnce)((function(){var t,n=null===(t=e.appState.derivedState.snippetList.filter(pe(e.settings.selectedTagPath,e.settings.showOnlyDeleted,e.appState.derivedState.tagList))[0])||void 0===t?void 0:t.metaData.id;n&&m.emit({id:n,through:"programmatic"})}),e.appState.derivedState.snippetList.length>0&&null===h);var g=h?Object(c.resolveToNewestId)(e.appState,h.id):null,v=h?Object(c.resolveToOldestId)(e.appState,h.id):null,y=null!==g&&e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===g}))||null;Object(l.useEventBusSubscription)(e.searchAllConfirmation,Object(o.useCallback)((function(t){m.emit({id:t,through:"searchConfirmation"}),e.requestSnippetListFocus.emit()}),[]));var b=Object(l.useFactory)(we,[y],[p]);Object(l.useEventBusSubscription)(e.appEffectEventBus,b);var O,_,S,x=(O=e.windowWidth,_=e.isExpanded,S=e.settings.sidebarWidths,Object(o.useMemo)((function(){return O-Object.entries(S).reduce((function(e,t){var n=Object(i.a)(t,2),r=n[0],o=n[1];return e+(_(r)?1:0)*o}),0)}),[O,_,S]));be(e.menuEvents,{type:"cmd+l"},Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"snippetList"})}),[]));var E=e.appState.derivedState.snippetList.length>0?Object(f.jsx)(ye,{appState:e.appState,settings:e.settings,runItemAction:e.settings.showOnlyDeleted?function(t){var n=t.snippet,r=t.metaData;return e.dispatch({type:"restoreSnippet",id:r.id,snippet:n})}:function(t){var n=t.snippet,r=t.metaData;return e.dispatch({type:"deleteSnippet",id:r.id,snippet:n})},listEntryIcon:(e.settings.showOnlyDeleted,"dots-horizontal"),selectedSnippetId:g,selectedSnippetIdEventBus:m,navigateLeft:function(){return e.isExpanded("tags")&&e.requestTagsSidebarFocus.emit()},navigateRight:function(){var e,t,n;return null===(e=r.current)||void 0===e||null===(t=e[Pe])||void 0===t||null===(n=t.editor)||void 0===n?void 0:n.focus()},requestFocus:e.requestSnippetListFocus,enableScrollIntoView:!c.isInMobileMode,appEffectEventBus:e.appEffectEventBus}):Object(f.jsx)(ce,{}),j="".concat(v,"-").concat(u,"-").concat(e.settings.themeName),w=y&&Object(c.getPluginByLanguage)(y.snippet.language),P=w&&w.toolbar,D=Object(o.useMemo)((function(){return new c.ToolbarEvents}),[]),T=Object(l.useStateFromEventBus)(e.focusChange),C=y&&Object(f.jsx)(c.SnippetEditor,{ref:function(e){return r.current&&(r.current[Pe]=e)},dispatch:e.dispatch,snippetListEntry:y,settings:e.settings,allowReadMode:!1,onEscape:e.onEscape,availableEditorWidth:x,toolbarEvents:D,focusChange:e.focusChange,requestEditorFocus:e.requestEditorFocus,isDraggingEventBus:e.isDraggingEventBus,scrollTopEventBus:e.scrollTopEventBus},j),I=xe(e.menuEvents,(null===(t=r.current)||void 0===t||null===(n=t[Pe])||void 0===n?void 0:n.scrollContainer)||null,r.current),M=Object(i.a)(I,4),k=M[0],L=M[1],A=M[2],R=M[3];return Object(f.jsxs)(o.Fragment,{children:[Object(f.jsx)(d.ResizableSidePanel,{state:e.isExpanded("snippetList")?1:0,initialSize:e.settings.sidebarWidths.snippetList,onStopResize:function(t){return e.dispatchSettings({type:"setSidebarWidth",sidebar:"snippetList",value:t})},direction:"horizontal",children:E}),Object(f.jsxs)("div",{className:["ListLayout",(null===T||void 0===T?void 0:T.hasFocus)?"App-layout-has-focus":""].join(" "),children:[P&&Object(f.jsx)("div",{className:"App-toolbar-container",children:Object(f.jsx)(c.Toolbar,{children:Object(f.jsx)(P,{toolbarEvents:D})})}),Object(f.jsx)(Ee,{active:null!==k,inputAttributes:{onChange:L,onKeyDown:A,onBlur:R,value:(null===k||void 0===k?void 0:k.query)||""}}),y&&C]})]})}n(503);function Te(e,t){switch(t.type){case"generate":var n=je();return Object(y.a)(Object(y.a)({},e),t.ids.reduce((function(e,t){return Object(y.a)(Object(y.a)({},e),{},{[t]:n})}),{}))}}function Ce(e){return Object(y.a)(Object(y.a)({},e),{},{isRootGroup:!0})}function Ie(e,t){return Object(y.a)(Object(y.a)({},e),{},{parents:e.identifier===t?e.parents:[].concat(Object(r.a)(e.parents),[t]),items:e.items.map((function(e){return Object(l.isGroup)(e)?Ie(e,t):e}))})}function Me(e,t){var n=e.items.reduce((function(e,t){if(Object(p.isDashboardGroupDefinition)(t)){var n=Me(t,e.currentIndex),o=Object(i.a)(n,2),a=o[0],s=o[1];return{items:[].concat(Object(r.a)(e.items),[a]),currentIndex:s}}return{items:[].concat(Object(r.a)(e.items),[t]),currentIndex:e.currentIndex}}),{items:[],currentIndex:t}),o={identifier:n.currentIndex,parents:[],axis:e.axis,items:n.items,isRootGroup:!1,size:e.size};return[o=Ie(o,o.identifier),n.currentIndex+1]}function ke(e){if("dashboard"!==e.type)throw"unexpected state";var t=Me(e.rootDefinition,0);return Ce(Object(i.a)(t,1)[0])}function Le(e){return{axis:e.axis,items:e.items.map((function(e){return Object(l.isGroup)(e)?Le(e):e})),size:e.size}}function Ae(e){var t=Me(Le(e),0);return Ce(Object(i.a)(t,1)[0])}function Re(e,t){if(e.identifier===t)throw"unexpected state";return Object(y.a)(Object(y.a)({},e),{},{items:e.items.filter((function(e){return!Object(l.isGroup)(e)||e.identifier!==t})).map((function(e){return Object(l.isGroup)(e)?Re(e,t):e}))})}function Ne(e,t){return Ae(Re(e,t))}function Fe(e,t,n,i){return Ae(Object(y.a)(Object(y.a)({},e),{},{items:e.identifier===n?"start"===i?[t].concat(Object(r.a)(e.items)):[].concat(Object(r.a)(e.items),[t]):e.items.map((function(e){return Object(l.isGroup)(e)?Fe(e,t,n,i):e}))}))}function Be(e,t){return Math.max.apply(Math,[e.identifier,t].concat(Object(r.a)(e.items.map((function(e){return Object(l.isGroup)(e)?Be(e,t):-1})))))}function Ue(e,t){var n=Me({axis:t,items:[]},Be(e,-1)+1),r=Object(i.a)(n,1)[0],o=e.items[0];if(!Object(l.isGroup)(o))throw"unexpectedState";return Fe(e,r,o.identifier,"start")}function Ge(e){return e.items.map((function(e){return Object(l.isGroup)(e)?Ge(e):[e]})).flat()}function ze(e,t){var n=Object(i.a)(t,1)[0];return function(e){var t=e.state,r=e.effect;switch(r.type){case"createSnippet":return void n([r.id]);case"renameSnippet":var i=Object(c.resolveToOldestId)(t,r.id);return void n([i]);case"snippetChanges":return void n(r.ids.map((function(e){return Object(c.resolveToOldestId)(t,e)})))}}}function We(e,t){var n=Object(i.a)(e,1)[0],r=Object(i.a)(t,2),o=r[0],a=r[1];return function(e){a(e),o({type:"updateDisplayMode",tagId:n,displayMode:{type:"dashboard",rootDefinition:Le(e)}})}}function He(e){var t=Object(o.useRef)(null),n=Object(o.useRef)({}),r=function(){var e=Object(o.useReducer)(Te,{}),t=Object(i.a)(e,2),n=t[0],r=t[1];return[n,Object(o.useCallback)((function(e){return r({type:"generate",ids:e})}),[])]}(),s=Object(i.a)(r,2),u=s[0],p=s[1],m=Object(l.useFactory)(ze,[],[p]);Object(l.useEventBusSubscription)(e.appEffectEventBus,m);var g=Object(o.useState)(Object(o.useMemo)((function(){return ke(e.tagListEntry.tag.displayMode)}),[])),b=Object(i.a)(g,2),O=b[0],_=b[1],S=Object(l.useFactory)(We,[e.tagListEntry.metaData.id],[e.dispatch,_]);Object(o.useEffect)((function(){_(ke(e.tagListEntry.tag.displayMode))}),[e.tagListEntry.tag.displayMode]);var x=Object(l.useToggle)(),E=Object(i.a)(x,2),j=E[0],w=E[1];be(e.menuEvents,{type:"cmd+l"},(function(){return w()})),be(e.menuEvents,{type:"cmd+shift+a"},(function(){return N(!0)}));var P=Object(o.useState)(null),D=Object(i.a)(P,2),T=D[0],C=D[1],I=T&&Object(c.resolveToNewestId)(e.appState,T),M=I&&e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===I})),k=M&&Object(f.jsx)(d.Modal,{onClose:function(){return C(null)},children:Object(f.jsx)(de,{snippetListEntry:M,tagList:e.appState.derivedState.tagList})}),L=Object(o.useState)(!1),A=Object(i.a)(L,2),R=A[0],N=A[1],F=Object(o.useMemo)((function(){return R?Ge(O).map((function(e){return e.item})):[]}),[R]),B=R&&Object(f.jsx)(v,{onClose:function(){return N(!1)},select:function(e){return S(function(e,t){var n=e.items[0];if(!Object(l.isGroup)(n))throw"unexpectedState";return Fe(e,t,n.identifier,"start")}(O,{item:e}))},snippetList:e.appState.derivedState.snippetList,filter:function(e,t){return h(e.filter((function(e){return!F.includes(e.metaData.id)})),t)}}),U=Object(o.useMemo)((function(){return new c.ToolbarEvents}),[]),G=Object(l.useStateFromEventBus)(e.focusChange),z=(null===G||void 0===G?void 0:G.snippetListEntry)&&Object(c.getPluginByLanguage)(G.snippetListEntry.snippet.language),W=z&&z.toolbar,H=xe(e.menuEvents,t.current,n.current),V=Object(i.a)(H,4),q=V[0],K=V[1],X=V[2],Y=V[3],J=Object(l.useScrollTop)(),$=Object(i.a)(J,2),Q=$[0],Z=$[1];Object(o.useEffect)((function(){e.scrollTopEventBus.emit(Q)}),[Q]);var ee=Object(l.useEventBus)(),te=Object(f.jsxs)("div",{className:"DashboardLayout-top-row",children:[Object(f.jsxs)("span",{className:"DashboardLayout-layout-editor-buttons",children:[Object(f.jsx)("button",{className:"CommonUI-button",onClick:function(){return N(!0)},children:"Add Existing"}),Object(f.jsx)("button",{className:"CommonUI-button",onClick:function(){return w()},children:j?"Stop Editing Layout":"Edit Layout"}),j&&Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("button",{className:"CommonUI-button",onClick:function(){return S(function(e){var t=Me({axis:"Y",items:[]},Be(e,-1)+1);return Fe(e,Object(i.a)(t,1)[0],e.identifier,"end")}(O))},children:"Add Column"}),Object(f.jsx)("button",{className:"CommonUI-button",onClick:function(){return S(Ue(O,"X"))},children:"Add X-Group"}),Object(f.jsx)("button",{className:"CommonUI-button",onClick:function(){return S(Ue(O,"Y"))},children:"Add Y-Group"})]})]}),W&&Object(f.jsx)("div",{className:"App-toolbar-container",children:Object(f.jsx)(c.Toolbar,{children:Object(f.jsx)(W,{toolbarEvents:U})})}),q&&Object(f.jsx)(Ee,{active:!0,inputAttributes:{onChange:K,onKeyDown:X,onBlur:Y,value:(null===q||void 0===q?void 0:q.query)||""}})]});return Object(f.jsxs)("div",{className:["DashboardLayout",j?"DashboardLayout-is-editing-layout":"",(null===G||void 0===G?void 0:G.hasFocus)?"App-layout-has-focus":""].join(" "),children:[Object(f.jsx)("div",Object(y.a)(Object(y.a)({className:"DashboardLayout-scroll-container",ref:t},Z),{},{children:Object(f.jsx)(d.InterGroupDrag,{rootGroup:O,renderItemOuterKey:function(t){var n=Object(c.resolveToOldestId)(e.appState,t.item);return"".concat(n,"-").concat(u[n],"-").concat(e.settings.themeName)},renderItem:function(t,r,i){var o=Object(c.resolveToNewestId)(e.appState,r.item),a=e.appState.derivedState.snippetList.find((function(e){return e.metaData.id===o}));return a&&Object(f.jsxs)("div",{className:"CommonUI-delayedIconContainer",children:[Object(f.jsxs)("div",Object(y.a)(Object(y.a)({className:"DashboardLayout-item-top-bar"},i),{},{children:[Object(f.jsx)("div",{className:"DashboardLayout-item-drag-handle"}),Object(f.jsx)("span",{className:"CommonUI-delayedIconWrapper",children:Object(f.jsx)("i",{className:"mdi mdi-dots-horizontal DashboardLayout-item-settings-icon",onClick:function(){return C(r.item)},onMouseDown:function(e){return e.stopPropagation()}})})]})),Object(f.jsx)(c.SnippetEditor,{ref:function(e){return e&&(n.current[t]=e)},dispatch:e.dispatch,snippetListEntry:a,settings:e.settings,allowReadMode:!1,onEscape:e.onEscape,toolbarEvents:U,focusChange:e.focusChange,requestEditorFocus:e.requestEditorFocus,isDraggingEventBus:e.isDraggingEventBus,scrollTopEventBus:ee}),j&&Object(f.jsx)("div",{className:"DashboardLayout-editor-overlay"})]})},onDragEnd:function(e){return S(e)},onResizeEnd:function(e){return S(e)},animationDuration:.15,enableInteraction:j,onGroupClick:function(e,t,n,r){e.preventDefault(),e.stopPropagation(),r||0!==t.items.length||S(Ne(O,t.identifier))}})})),te,k,B]})}function Ve(e,t){switch(t.type){case"setCurrentDisplayModeType":return Object(y.a)(Object(y.a)({},e),{},{currentDisplayModeType:t.currentDisplayModeType})}}function qe(e,t){var n=Object(o.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1];return be(e,t,Object(o.useCallback)((function(){return s(!0)}),[])),[a,s]}var Ke=c.isInMockedMode?0:333;function Xe(e,t){var n=Object(i.a)(e,1)[0],r=Object(i.a)(t,1)[0];return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(c.isInMobileMode){var i=n,o=(null===(e=r.current)||void 0===e?void 0:e.scrollLeft)||0,a=o+t*i,s=t*Ke;setTimeout((function(){return Object(l.startAnimation)(o,a,s,(function(e){r.current&&(r.current.scrollLeft=e)}))}),100)}}}var Ye=function(e){var t,n=Object(o.useRef)(null),a=Object(l.useEventBus)(),s=Object(c.useAppState)(e.settings,e.dispatchSettings,a),u=Object(i.a)(s,3),h=u[0],g=u[1],y=u[2],b=Object(l.useEventBus)({lateSubscribers:!0}),O=function(){var e=Object(o.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e=function(){return r(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),S=function(e,t,n,i){var a=Object(o.useMemo)((function(){return t.reduce((function(t,i){var o=t.total,a=t.allowedSidebars;return(o+=n[i])<e?{total:o,allowedSidebars:[].concat(Object(r.a)(a),[i])}:{total:o,allowedSidebars:a}}),{total:200,allowedSidebars:[]})}),[e,t,n,i]).allowedSidebars;return Object(o.useCallback)((function(e){return!!c.isInMobileMode||a.includes(e)&&1===i[e]}),[i,a])}(O,(t=e.settings.sidebarToggles,Object(o.useMemo)((function(){return["create"].concat(Object(r.a)(["snippetList","tags"].map((function(e){return 1===t[e]?e:null})).filter((function(e){return e}))))}),[t])),e.settings.sidebarWidths,e.settings.sidebarToggles),x=function(e,t){var n=Object(o.useRef)(10);Object(o.useEffect)((function(){n.current=t}),[t]);var r=Object(o.useState)(null),a=Object(i.a)(r,2),s=a[0],u=a[1],c=Object(o.useCallback)((function(){var t,r=((null===(t=e.current)||void 0===t?void 0:t.scrollLeft)||0)/n.current;u(Number.isInteger(r)?r:null)}),[]);return Object(o.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.addEventListener("scroll",c)}),[e.current]),s}(n,O),E=h.derivedState.tagList.find((function(t){return Object(l.isExactPath)(t.tag.path,e.settings.selectedTagPath)})),j=(null===E||void 0===E?void 0:E.tag.displayMode.type)||"list",w=function(e,t){var n=Object(l.useFactory)(Xe,[t],[e]),r=Object(l.useEventBus)();return Object(l.useEventBusSubscription)(r,Object(o.useCallback)((function(e){void 0!==e?n(e):n()}),[n])),r}(n,O);Object(l.useEventBusSubscription)(a,Object(o.useCallback)((function(e){var t=e.effect;switch(t.type){case"createSnippet":return b.emit(t.id),void w.emit()}}),[]));var P=Object(o.useCallback)((function(e){var t=Object(c.bootstrapSnippet)("",e.content,e.language);g({type:"createSnippet",snippet:t})}),[h.derivedState.tagList,e.settings.selectedTagPath]),D=Object(l.useEventBus)(),T=qe(D,{type:"cmd+,"}),C=Object(i.a)(T,2),M=C[0],k=C[1],A=qe(D,{type:"cmd+k"}),N=Object(i.a)(A,2),F=N[0],B=N[1],U=qe(D,{type:"cmd+shift+f"}),z=Object(i.a)(U,2),W=z[0],H=z[1];be(D,{type:"cmd+t"},Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"tags"})}),[])),be(D,{type:"cmd+shift+n"},Object(o.useCallback)((function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"create",value:1})}),[])),be(D,{type:"cmd+n"},Object(o.useCallback)((function(){return P({content:Object(c.getConfigForNew)()[2].bootstrap(),language:Object(c.getConfigForNew)()[0]})}),[P]));var V=function(e){var t=Object(o.useReducer)(Ve,{currentDisplayModeType:"list"}),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(o.useEffect)((function(){a({type:"setCurrentDisplayModeType",currentDisplayModeType:e})}),[e]),r}(j);$(D,V),ue(D,V);var Y=Object(o.useCallback)((function(t){e.dispatchSettings({type:"selectTagPath",path:t}),w.emit()}),[]),J=Object(o.useCallback)((function(){e.dispatchSettings({type:"selectArchive"}),w.emit()}),[]),Q=Object(l.useEventBus)({lateSubscribers:!0});Object(l.useEventBusSubscription)(Q,Object(o.useCallback)((function(e){var t=function(e,t){var n=e.find((function(e){return e.metaData.id===t}));return n&&n.metaData.resolvedTags[0]&&n.metaData.resolvedTags[0].path}(h.derivedState.snippetList,e)||[];Y(t)}),[]));var ee=Object(o.useRef)(e.settings.sidebarToggles);Object(o.useEffect)((function(){ee.current=e.settings.sidebarToggles}),[e.settings.sidebarToggles]);var te=Object(o.useMemo)((function(){return function(e){var t;return 1===(null===(t=ee.current)||void 0===t?void 0:t[e])}}),[]),ne=Object(l.useEventBus)(),re=Object(l.useEventBus)(),ie=Object(o.useCallback)((function(){return te("snippetList")?ne.emit():te("tags")?re.emit():void 0}),[te,ne,re]),oe=M&&Object(f.jsx)(d.Modal,{onClose:function(){return k(!1)},children:Object(f.jsx)(q,{scrollRightEventBus:w})}),ae=Object(o.useCallback)((function(){return B(!1)}),[]),ce=F&&Object(f.jsx)(m,{onClose:ae,snippetList:h.derivedState.snippetList}),le=Object(o.useCallback)((function(){return H(!1)}),[]),de=W&&Object(f.jsx)(v,{onClose:le,select:function(e){return Q.emit(e)},snippetList:h.derivedState.snippetList}),pe=Object(c.isMac)()?Object(f.jsx)("div",{className:"App-draggable-top-row"}):Object(f.jsx)("div",{className:"App-draggable-top-row App-draggable-top-row-hacked"}),fe=Object(f.jsxs)("div",{className:"App-top-right-control-elements",children:[(Object(c.isWindows)()||c.isMockedWindows)&&Object(f.jsx)(Z,{}),!Object(c.isMac)()&&Object(f.jsx)(se,{menuEvents:D,menuState:V})]}),me=Object(f.jsxs)("div",{className:"App-full-screen-aware-top-row",children:[Object(f.jsx)("div",{className:"App-full-screen-aware-top-row-inner",children:Object(f.jsx)(L,{syncState:y})}),!Object(c.isMac)()&&Object(f.jsx)(se,{menuEvents:D,menuState:V})]}),he=Object(l.useEventBus)(),ge=Object(l.useStateFromEventBus)(he),ve=Object(l.useEventBus)(),ye=Object(l.useStateFromEventBus)(ve),Oe=Object(l.useEventBus)(),_e=Object(l.useStateFromEventBus)(Oe),Se=Object(o.useMemo)((function(){return[{name:"dispatch",object:g},{name:"dispatchSettings",object:e.dispatchSettings},{name:"settings",object:e.settings}]}),[g,e.dispatchSettings,e.settings]),xe="".concat(null===E||void 0===E?void 0:E.metaData.id,"-").concat(e.settings.showOnlyDeleted),Ee=E&&"dashboard"===j?Object(f.jsx)(He,{appState:h,dispatch:g,settings:e.settings,tagListEntry:E,menuEvents:D,appEffectEventBus:a,onEscape:ie,requestEditorFocus:b,isDraggingEventBus:ve,focusChange:he,scrollTopEventBus:Oe},xe):Object(f.jsx)(De,{appState:h,dispatch:g,settings:e.settings,dispatchSettings:e.dispatchSettings,appEffectEventBus:a,searchAllConfirmation:Q,isExpanded:S,requestEditorFocus:b,requestTagsSidebarFocus:re,requestSnippetListFocus:ne,onEscape:ie,windowWidth:O,menuEvents:D,isDraggingEventBus:ve,focusChange:he,scrollTopEventBus:Oe,scrollRightEventBus:w},xe);return Object(f.jsx)(p.AppContext.Provider,{value:Se,children:Object(f.jsxs)("div",{className:["App-full-screen-wrapper",R(e.settings.themeName),e.settings.shrinkInFullScreen?"App-main-shrink":"",c.isInMobileMode?"MobileMode":""].join(" "),children:[Object(f.jsxs)("div",{className:["App","App-main","ClassicSnippetLayout",(null===ge||void 0===ge?void 0:ge.hasFocus)?"App-editorHasFocus":"",ye?"App-isDragging":"",null!==_e&&0<_e?"App-layout-has-scrolled":"",e.settings.scrollbarStylingToggle?"App-scrollbarStyling":""].join(" "),ref:n,children:[Object(f.jsx)("div",{className:"App-full-screen-toggler",onClick:function(){return e.dispatchSettings({type:"toggleShrinkInFullScreen"})},children:Object(f.jsx)("i",{className:e.settings.shrinkInFullScreen?"mdi mdi-arrow-expand":"mdi mdi-arrow-collapse"})}),Object(f.jsx)("div",{className:"App-verticalDivider",children:Object(f.jsxs)("div",{className:"App-horizontalDivider",children:[Object(f.jsx)("div",{className:"App-loadingIndicator"}),c.isInMobileMode&&Object(f.jsx)(d.SidePanel,{state:1,size:220,direction:"horizontal",children:Object(f.jsx)(d.DefaultSettingsPage,{children:Object(f.jsx)(G,{scrollRightEventBus:w})})}),!c.isInMobileMode&&Object(f.jsx)(d.Blurable,{onBlur:function(){return e.dispatchSettings({type:"toggleSidebar",sidebar:"create",value:0})},children:Object(f.jsx)(d.SidePanel,{state:S("create")?1:0,size:220,direction:"horizontal",children:Object(f.jsx)(_,{onAdd:P})})}),Object(f.jsx)(d.ResizableSidePanel,{state:S("tags")?1:0,initialSize:e.settings.sidebarWidths.tags,onStopResize:function(t){return e.dispatchSettings({type:"setSidebarWidth",sidebar:"tags",value:t})},direction:"horizontal",children:h.derivedState.tagList.length>0?Object(f.jsx)(I,{tagList:h.derivedState.tagList,selectedPath:e.settings.selectedTagPath,onSelectPath:Y,onSelectArchive:J,showOnlyDeleted:e.settings.showOnlyDeleted,onRenamePath:function(e,t){return g({type:"renameTag",newLabelValue:e,path:t})},onDelete:function(e){return g({type:"deleteTag",path:e})},onToggleCollapsed:function(t,n){return e.dispatchSettings({type:"setCollapsedTagPath",path:t,collapsed:n})},collapsedPaths:e.settings.collapsedPaths,requestFocus:re,resolveToNewestId:function(e){return Object(c.resolveToNewestId)(h,e)},navigateRight:function(){return S("snippetList")?ne.emit():b.emit(null)}}):Object(f.jsx)(K,{noSnippetsYet:0===h.derivedState.snippetList.length})}),Ee]})}),pe,me,oe,ce,de,Object(f.jsx)("div",{id:"modal-root"})]}),fe,c.isInMobileMode&&Object(f.jsx)(X,{currentSection:x,onAdd:P})]})})},Je="snip-settings";function $e(){var e=Object(c.useSettings)(Object(o.useMemo)((function(){return function(){var e=localStorage.getItem(Je);return e&&JSON.parse(e)}()}),[])),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){return function(e){localStorage.setItem(Je,JSON.stringify(e))}(n)}),[n]),[n,r]}n(504);function Qe(e){return Object(y.a)(Object(y.a)({},e),{},{isRootGroup:!0})}var Ze=function(e,t,n){return{item:{identifier:e,height:t},size:n}},et={"dragging-large-item-out-of-x":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[{axis:"X",items:[Ze("01",60),Ze("02",140)]}]}]},0)[0]),width:600},"dragging-large-item-into-x-and-out-again":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[Ze("02",140),{axis:"X",items:[Ze("01",60)]}]}]},0)[0]),width:600},"dragging-wide-item-into-x":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[{axis:"X",items:[Ze("01",60)]},Ze("02",140)]}]},0)[0]),width:600},"dragging-sibling-over-group":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[Ze("01",100),{axis:"X",items:[{axis:"Y",items:[Ze("03",40)]},{axis:"Y",items:[Ze("05",40)]},{axis:"Y",items:[Ze("04",40)]}]},Ze("02",100)]}]},0)[0]),width:600},"x-and-y-mix":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[Ze("01",60),{axis:"Y",items:[Ze("03",30),{axis:"X",items:[Ze("04",20),Ze("05",30)]}]},Ze("02",40)]}]},0)[0]),width:600},"side-by-side":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[Ze("01",60),{axis:"Y",items:[Ze("03",30),{axis:"X",items:[Ze("04",20),Ze("05",30)]}]},Ze("02",40)]},{axis:"Y",items:[Ze("06",40),Ze("07",30),Ze("08",50)]}]},0)[0]),width:600},"dragging-between-same-level":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[{axis:"Y",items:[Ze("01",20),Ze("02",40)]},Ze("05",40),{axis:"Y",items:[{axis:"X",items:[Ze("03",60),Ze("04",30)]}]}]},{axis:"Y",items:[Ze("06",30),Ze("07",40)]}]},0)[0]),width:600},"resizable-items":{rootGroup:Qe(Me({axis:"X",items:[{axis:"Y",items:[Ze("01",40),Ze("02",40),{axis:"X",items:[Ze("03",30),Ze("04",60,80),Ze("05",30),Ze("06",30,200)]}]}]},0)[0]),width:600}},tt=new URLSearchParams(document.location.search),nt=tt.get("layout")||"parentX",rt=tt.get("animationDuration"),it=rt?parseInt(rt):.15,ot=et[nt];function at(){var e=Object(o.useState)(ot.rootGroup),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsx)("div",{className:"InterGroupDragSandbox",children:Object(f.jsx)("div",{style:{width:ot.width},children:Object(f.jsx)(d.InterGroupDrag,{rootGroup:n,renderItem:function(e,t){return Object(f.jsx)("div",{className:"InterGroupDragSandbox-item",style:{height:t.item.height},children:Object(f.jsx)("span",{children:t.item.identifier})})},onDragEnd:function(e){return r(e)},onResizeEnd:function(e){return r(e)},debug:{renderVisibleGroupInfo:!0,renderInfoAttributes:!0,renderMouseCoordinates:!0},animationDuration:it,enableInteraction:!0})})})}var st=[{name:"InterGroupDrag",sandbox:Object(f.jsx)(at,{})}];function ut(e){u.a.render(e,document.getElementById("root"))}function ct(){var e=$e(),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsx)(p.ThemeContext.Provider,{value:n.themeName,children:Object(f.jsx)(Ye,{settings:n,dispatchSettings:r})})}function lt(e){var t=$e(),n=Object(i.a)(t,2),a=n[0],s=n[1],u=W(Object(p.getOriginSettings)(a,"cloud",e.cloudOriginConfig.defaultConfig),e.cloudOriginConfig),l=Object(o.useMemo)((function(){return[{name:"settings",object:a},{name:"dispatchSettings",object:s}]}),[a,s]);switch(u.ready){case!0:return Object(f.jsx)(ct,{});case"pending":return Object(f.jsx)("span",{children:"Checking login state ..."});case!1:return Object(f.jsx)(p.AppContext.Provider,{value:l,children:Object(f.jsx)("div",{className:Object(r.a)(c.isInMobileMode?["MobileMode"]:[]).join(" "),children:Object(f.jsx)("div",{className:["App","App-main","ClassicSnippetLayout",R(a.themeName)].join(" "),children:e.cloudOriginConfig.settingsPage})})})}}var dt=c.originConfigs.find((function(e){return"cloud"===e.origin}));var pt=function(){var e,t=new URLSearchParams(document.location.search).get("sandbox");return null===t?null:(null===(e=st.find((function(e){return e.name===t})))||void 0===e?void 0:e.sandbox)||null}();pt?ut(pt):function(){if(Object(c.isElectron)()||c.isInMockedMode)return ut(Object(f.jsx)(ct,{}));ut(dt?Object(f.jsx)(lt,{cloudOriginConfig:dt}):"Loading snip client failed ...")}()}],[[506,1,2]]]);